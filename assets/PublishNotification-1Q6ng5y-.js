import{b as u,aV as d,r as i,j as s,aw as x,v as h,x as p,e9 as C,ea as f,cn as l,co as j,aD as c,e8 as m,de as b,u as g,f as k,a8 as _,a9 as v,eH as B}from"./index-z3CvngUh.js";const P=o=>{const t=g(),{api:n}=k(),e=_();return v([o],async()=>await B(t,n,e,o))},E=({signatureBase64:o,onClose:t})=>{const{t:n}=u(),{isFetched:e,isError:a}=P(o),r=h();return i.useEffect(()=>{(a||e)&&setTimeout(()=>{t(),r(p.activity)},2e3)},[a,e]),s.jsx(C,{standalone:!1,fitContent:!0,children:s.jsxs(f,{children:[e&&!a&&s.jsxs(l,{done:!0,children:[s.jsx(j,{}),s.jsx(c,{children:n("send_screen_steps_done_done_label")})]}),e&&a&&s.jsxs(l,{children:[s.jsx(m,{}),s.jsx(c,{children:n("send_publish_tx_error")})]}),!e&&!a&&s.jsx(b,{isLoading:!0,isDisabled:!0,onClick:()=>Promise.resolve(!1),onClose:t})]})})},R=()=>{const{t:o}=u();let[t,n]=d();const e=t.get("boc"),a=i.useCallback(()=>{t.delete("boc"),n(t)},[t,n]),r=i.useCallback(()=>e?s.jsx(E,{signatureBase64:e,onClose:a}):s.jsx(s.Fragment,{}),[e,a]);return s.jsx(x,{isOpen:e!=null,handleClose:a,title:o("publish_message"),children:r})};export{R as default};
