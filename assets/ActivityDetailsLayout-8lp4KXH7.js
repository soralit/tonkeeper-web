var V=Object.defineProperty;var z=(t,e,s)=>e in t?V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var p=(t,e,s)=>(z(t,typeof e!="symbol"?e+"":e,s),s);import{es as J,cN as K,cM as P,a5 as S,b1 as $,d5 as L,c3 as Y,a3 as Q,cL as E,et as D,eu as Z,a4 as X,cK as B,a2 as tt,bR as C,s as x,H as et,aj as b,b as i,j as n,G as c,ao as l,S as I,f as N,ed as nt,ar as y,a8 as j,aZ as st,u as A,B as rt,r as O,ae as at,ak as u,J as f,aq as _,b5 as it,au as F,bS as q,bP as H,at as ot}from"./index-z3CvngUh.js";const R=new J({getLocaleFormat:()=>({decimalSeparator:K(),groupingSeparator:P()})});class v{constructor({weiAmount:e,asset:s,image:r}){p(this,"weiAmount");p(this,"relativeAmount");p(this,"asset");p(this,"image");this.weiAmount=new S(e),this.asset=s,this.image=r,this.relativeAmount=this.weiAmount.div(10**this.asset.decimals)}static fromRelativeAmount({asset:e,amount:s}){return new v({asset:e,weiAmount:new S(s).multipliedBy(10**e.decimals)})}get stringAsset(){return this.asset.symbol}get stringRelativeAmount(){return this.toStringRelativeAmount()}get stringAssetRelativeAmount(){return this.toStringAssetRelativeAmount()}get stringAssetAbsoluteRelativeAmount(){return this.toStringAssetAbsoluteRelativeAmount()}get stringWeiAmount(){return this.weiAmount.toFixed(0)}isEQ(e){return this.checkIfCanCompareCurrencies(e),this.weiAmount.eq(e.weiAmount)}isGT(e){return this.checkIfCanCompareCurrencies(e),this.weiAmount.gt(e.weiAmount)}isGTE(e){return this.checkIfCanCompareCurrencies(e),this.weiAmount.gte(e.weiAmount)}isLT(e){return this.checkIfCanCompareCurrencies(e),this.weiAmount.lt(e.weiAmount)}isLTE(e){return this.checkIfCanCompareCurrencies(e),this.weiAmount.lte(e.weiAmount)}toStringRelativeAmount(e){return e===void 0&&(e=this.asset.decimals),R.format(this.relativeAmount,{decimals:e})}toStringAssetRelativeAmount(e){return`${this.toStringRelativeAmount(e)} ${this.stringAsset}`}toStringAbsoluteRelativeAmount(e){return e===void 0&&(e=this.asset.decimals),R.format(this.relativeAmount.abs(),{decimals:e})}toStringAssetAbsoluteRelativeAmount(e){return`${this.toStringAbsoluteRelativeAmount(e)} ${this.stringAsset}`}checkIfCanCompareCurrencies(e){if(e.asset.id!==this.asset.id)throw new Error(`Can't compare ${this.asset.id} and ${e.asset.id} amounts because they have different currencies types.`)}}function vt(t){var h,m,w,k;const e=$(),s=L(),r=Y();let a,o;if(t.blockchain===Q.TON)t.address==="TON"?(a=r.isLoading,o=((h=r==null?void 0:r.data)==null?void 0:h.balance)||"0"):(a=e.isLoading,o=((w=(m=e.data)==null?void 0:m.balances.find(g=>g.jetton.address===E(t)))==null?void 0:w.balance)||"0"),D(t)&&(o=new v({asset:t,weiAmount:o}));else{a=s.isLoading;const g=(k=s.data)==null?void 0:k.balances.find(W=>W.token.address===t.address);g&&D(t)?o=new v({asset:t,weiAmount:g.weiAmount,image:g.token.image}):o="0"}return{isLoading:a,data:o}}function bt({blockchain:t,address:e}){var o,h;const s=Z(t,e),{data:r}=$(),{data:a}=L();return s===X.id?"https://wallet.tonkeeper.com/img/toncoin.svg":s===B.id?"https://wallet-dev.tonkeeper.com/img/usdt.svg":typeof e=="string"?(o=a==null?void 0:a.balances.find(m=>m.token.address===e))==null?void 0:o.token.image:(h=r==null?void 0:r.balances.find(m=>e.equals(tt.Address.parse(m.jetton.address))))==null?void 0:h.jetton.image}function ct(t){const{data:e,isLoading:s}=C(t.asset.id===B.id?"USDT":E(t.asset,{userFriendly:!0}));return{isLoading:s,data:(e==null?void 0:e.prices)!==void 0?t.relativeAmount.multipliedBy(e.prices):void 0}}const T=x(et)`
    user-select: none;
    color: ${t=>t.secondary?t.theme.textSecondary:t.theme.textPrimary};
`,lt=x(b)`
    user-select: none;
    color: ${t=>t.theme.textSecondary};
`,d=x(b)`
    user-select: none;
    color: ${t=>t.theme.textSecondary};
`,dt=({kind:t,timestamp:e})=>{const{t:s,i18n:r}=i(),a=O.useMemo(()=>new Intl.DateTimeFormat(at(r.language),{month:"short",day:"numeric",year:new Date().getFullYear()-1===new Date(e).getFullYear()?"numeric":void 0,hour:"numeric",minute:"numeric"}).format(e),[e,r.language]);return n.jsx(lt,{children:(()=>{switch(t){case"received":return s("transaction_receive_date");case"call":return s("transaction_call_date");case"send":return s("transaction_sent_date");default:return s("transaction_sent_date")}})().replace("%{date}",a)})},Ct=t=>{switch(t){case"dedust":return"DeDust.io";case"stonfi":return"STON.fi";default:return t}},yt=({children:t,event:e})=>{const{t:s}=i();return n.jsx(jt,{event:e,children:n.jsx(T,{children:t??s("txActions_signRaw_types_unknownTransaction")})})},Tt=({children:t,event:e})=>{const{t:s}=i();return n.jsx(At,{event:e,children:n.jsx(T,{children:t??s("txActions_signRaw_types_unknownTransaction")})})},U=({address:t,name:e,label:s})=>{const{t:r}=i(),a=A();return n.jsx(c,{onClick:()=>a.copyToClipboard(t,r("address_copied")),children:n.jsxs(l,{children:[n.jsx(d,{children:s??r(e?"transaction_recipient_address":"transaction_recipient")}),n.jsx(u,{children:_(t)})]})})},St=({recipient:t,bounced:e})=>{const{t:s}=i(),r=A(),a=j();return n.jsxs(n.Fragment,{children:[t.name&&n.jsx(c,{onClick:()=>r.copyToClipboard(t.name),children:n.jsxs(l,{children:[n.jsx(d,{children:s("transaction_recipient")}),n.jsx(u,{children:t.name})]})}),n.jsx(U,{address:f(t.address,a.network,e),name:t.name})]})},Dt=({pool:t})=>{const{t:e}=i(),s=j();return n.jsxs(n.Fragment,{children:[n.jsx(c,{children:n.jsxs(l,{children:[n.jsx(d,{children:e("transaction_bid_dns")}),n.jsx(u,{children:t.name})]})}),n.jsx(U,{address:f(t.address,s.network,!0),label:e("staking_details_pool_address_label")})]})},ut=({address:t,name:e})=>{const{t:s}=i(),r=A();return n.jsx(c,{onClick:()=>r.copyToClipboard(t,s("address_copied")),children:n.jsxs(l,{children:[n.jsx(d,{children:s(e?"transaction_sender_address":"transaction_sender")}),n.jsx(u,{children:_(t)})]})})},Ft=({sender:t,bounced:e})=>{const{t:s}=i(),r=A(),a=j();return n.jsxs(n.Fragment,{children:[t.name&&n.jsx(c,{onClick:()=>r.copyToClipboard(t.name),children:n.jsxs(l,{children:[n.jsx(d,{children:s("transaction_sender")}),n.jsx(u,{children:t.name})]})}),n.jsx(ut,{address:f(t.address,a.network,e),name:t.name})]})},Rt=({beneficiary:t})=>{const{t:e}=i(),s=A(),r=j(),a=f(t.address,r.network,!0);return n.jsxs(n.Fragment,{children:[t.name&&n.jsx(c,{onClick:()=>s.copyToClipboard(t.name),children:n.jsxs(l,{children:[n.jsx(d,{children:e("transaction_merchant")}),n.jsx(u,{children:t.name})]})}),n.jsx(c,{onClick:()=>s.copyToClipboard(a,e("address_copied")),children:n.jsxs(l,{children:[n.jsx(d,{children:t.name?e("add_edit_favorite_address_label"):e("transaction_merchant")}),n.jsx(u,{children:_(a)})]})})]})},$t=({eventId:t})=>{const{t:e}=i(),s=A();return n.jsx(c,{onClick:()=>s.copyToClipboard(t,e("copied")),children:n.jsxs(l,{children:[n.jsx(d,{children:e("transaction_hash")}),n.jsx(u,{children:_(t,8)})]})})},ht=({address:t})=>{const{t:e}=i(),s=A();return t?n.jsx(c,{onClick:()=>s.copyToClipboard(t,e("address_copied")),children:n.jsxs(l,{children:[n.jsx(d,{children:e("add_edit_favorite_address_label")}),n.jsx(u,{children:_(t)})]})}):n.jsx(n.Fragment,{})},Lt=({deployer:t})=>{const e=j();return n.jsx(ht,{address:f(t,e.network)})},Et=({extra:t})=>{const{t:e}=i(),s=t<0?t*-1:t,r=it(s),{data:a}=C(F.TON),{fiatAmount:o}=q(a,H(s));return n.jsx(c,{hover:!1,children:n.jsxs(l,{children:[n.jsx(d,{children:t>0?e("txActions_refund"):e("transaction_fee")}),n.jsx(y,{right:!0,text:`${r} ${F.TON}`,secondary:o?`≈ ${o}`:void 0})]})})},Bt=({fees:t})=>{const{t:e}=i(),s=O.useMemo(()=>H(t.amount,t.token.decimals),[t]),{data:r}=C(t.token.symbol),{fiatAmount:a}=q(r,s);return n.jsx(c,{hover:!1,children:n.jsxs(l,{children:[n.jsx(d,{children:e("transaction_fee")}),n.jsx(y,{right:!0,text:`${s} ${t.token.symbol}`,secondary:a?`≈ ${a}`:void 0})]})})},It=({fee:t})=>{const{t:e}=i();return n.jsx(c,{hover:!1,children:n.jsxs(l,{children:[n.jsx(d,{children:t!=null&&t.weiAmount.lt(0)?e("txActions_refund"):e("transaction_fee")}),t?n.jsx(mt,{fee:t}):n.jsx(I,{})]})})},mt=({fee:t})=>{const{fiat:e}=N(),{data:s,isLoading:r}=ct(t),a=nt(e,(s==null?void 0:s.abs())||"0");return r?n.jsx(I,{}):n.jsx(y,{right:!0,text:t.stringAssetAbsoluteRelativeAmount,secondary:s?`≈ ${a}`:void 0})},xt=x.div`
    text-align: center;
    display: flex;
    gap: 2rem;
    flex-direction: column;
    align-items: center;
`,At=({event:t,children:e})=>{const{config:s}=N(),r=s.transactionExplorer??"https://tonviewer.com/transaction/%s";return n.jsx(G,{url:r,eventId:t.eventId,children:e})},jt=({event:t,children:e})=>{const r=j().network===st.TESTNET?"https://nile.tronscan.org/#/transaction/%s":"https://tronscan.org/#/transaction/%s";return n.jsx(G,{url:r,eventId:t.txHash,children:e})},G=({children:t,eventId:e,url:s})=>{const{t:r}=i(),a=A();return n.jsxs(xt,{children:[t,n.jsx(rt,{size:"large",fullWidth:!0,onClick:()=>a.openPage(s.replace("%s",e)),children:r("nft_view_in_explorer")})]})},gt=x(b)`
    display: block;
    user-select: none;
    color: ${t=>t.theme.textSecondary};
`,pt=x(u)`
    user-select: none;
    color: ${t=>t.theme.textPrimary};
    background: ${t=>t.theme.accentOrange};
    padding: 4px 8px;
    border-radius: 8px;
    margin-bottom: 12px;
    display: inline-block;
`,Nt=({amount:t,decimals:e,symbol:s,total:r,timestamp:a,isScam:o,kind:h,status:m})=>{const w=ot(),{t:k}=i();return n.jsxs("div",{children:[o&&n.jsx(pt,{children:k("spam_action")}),n.jsxs(T,{children:[h==="received"?"+":"-"," ",w(t,e)," ",s]}),r&&n.jsxs(gt,{children:["≈ ",r]}),n.jsx(dt,{kind:h,timestamp:a}),n.jsx(_t,{status:m})]})},M=x(u)`
    padding-left: 1rem;
    box-sizing: border-box;
    text-align: right;

    word-break: break-all;

    white-space: break-spaces;
    overflow: hidden;
`,Ot=({comment:t})=>{const{t:e}=i();return t?n.jsx(c,{hover:!1,children:n.jsxs(l,{children:[n.jsx(d,{children:e("txActions_signRaw_comment")}),n.jsx(M,{children:t})]})}):null},qt=({operation:t})=>{const{t:e}=i();return n.jsx(c,{hover:!1,children:n.jsxs(l,{children:[n.jsx(d,{children:e("transactionDetails_operation")}),n.jsx(M,{children:t})]})})},ft=x(b)`
    display: block;
    color: ${t=>t.theme.accentOrange};
`,_t=({status:t})=>{const{t:e}=i();return t==="failed"?n.jsx(ft,{children:e("activity_failed_transaction")}):n.jsx(n.Fragment,{})};export{v as A,Tt as E,_t as F,d as L,T,At as a,gt as b,dt as c,Rt as d,$t as e,Et as f,Ft as g,St as h,qt as i,Nt as j,Ot as k,Dt as l,yt as m,jt as n,ht as o,Bt as p,U as q,ut as r,Lt as s,Ct as t,vt as u,bt as v,ct as w,It as x};
