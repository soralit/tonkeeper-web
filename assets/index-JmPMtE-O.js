import{eA as hi,ac as Be,eB as md,eC as BR,eD as Sw,ad as CR}from"./index-z3CvngUh.js";import{r as DR,u as vE,v as r6,s as RR,a as OR}from"./v4-OErdnafK.js";var _E={},ir={},wE={};let Bw,cb,db=0,lb=0;function AR(e,t,r){let n=t&&r||0;const i=t||new Array(16);e=e||{};let o=e.node||Bw,s=e.clockseq!==void 0?e.clockseq:cb;if(o==null||s==null){const h=e.random||(e.rng||DR)();o==null&&(o=Bw=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),s==null&&(s=cb=(h[6]<<8|h[7])&16383)}let f=e.msecs!==void 0?e.msecs:Date.now(),d=e.nsecs!==void 0?e.nsecs:lb+1;const a=f-db+(d-lb)/1e4;if(a<0&&e.clockseq===void 0&&(s=s+1&16383),(a<0||f>db)&&e.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");db=f,lb=d,cb=s,f+=122192928e5;const c=((f&268435455)*1e4+d)%4294967296;i[n++]=c>>>24&255,i[n++]=c>>>16&255,i[n++]=c>>>8&255,i[n++]=c&255;const p=f/4294967296*1e4&268435455;i[n++]=p>>>8&255,i[n++]=p&255,i[n++]=p>>>24&15|16,i[n++]=p>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let h=0;h<6;++h)i[n+h]=o[h];return t||vE(i)}function TE(e){if(!r6(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function PR(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}const NR="6ba7b810-9dad-11d1-80b4-00c04fd430c8",MR="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function IE(e,t,r){function n(i,o,s,f){var d;if(typeof i=="string"&&(i=PR(i)),typeof o=="string"&&(o=TE(o)),((d=o)===null||d===void 0?void 0:d.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+i.length);if(a.set(o),a.set(i,o.length),a=r(a),a[6]=a[6]&15|t,a[8]=a[8]&63|128,s){f=f||0;for(let c=0;c<16;++c)s[f+c]=a[c];return s}return vE(a)}try{n.name=e}catch{}return n.DNS=NR,n.URL=MR,n}function UR(e){if(typeof e=="string"){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return kR($R(FR(e),e.length*8))}function kR(e){const t=[],r=e.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){const o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(s)}return t}function EE(e){return(e+64>>>9<<4)+14+1}function $R(e,t){e[t>>5]|=128<<t%32,e[EE(t)-1]=t;let r=1732584193,n=-271733879,i=-1732584194,o=271733878;for(let s=0;s<e.length;s+=16){const f=r,d=n,a=i,c=o;r=Hr(r,n,i,o,e[s],7,-680876936),o=Hr(o,r,n,i,e[s+1],12,-389564586),i=Hr(i,o,r,n,e[s+2],17,606105819),n=Hr(n,i,o,r,e[s+3],22,-1044525330),r=Hr(r,n,i,o,e[s+4],7,-176418897),o=Hr(o,r,n,i,e[s+5],12,1200080426),i=Hr(i,o,r,n,e[s+6],17,-1473231341),n=Hr(n,i,o,r,e[s+7],22,-45705983),r=Hr(r,n,i,o,e[s+8],7,1770035416),o=Hr(o,r,n,i,e[s+9],12,-1958414417),i=Hr(i,o,r,n,e[s+10],17,-42063),n=Hr(n,i,o,r,e[s+11],22,-1990404162),r=Hr(r,n,i,o,e[s+12],7,1804603682),o=Hr(o,r,n,i,e[s+13],12,-40341101),i=Hr(i,o,r,n,e[s+14],17,-1502002290),n=Hr(n,i,o,r,e[s+15],22,1236535329),r=qr(r,n,i,o,e[s+1],5,-165796510),o=qr(o,r,n,i,e[s+6],9,-1069501632),i=qr(i,o,r,n,e[s+11],14,643717713),n=qr(n,i,o,r,e[s],20,-373897302),r=qr(r,n,i,o,e[s+5],5,-701558691),o=qr(o,r,n,i,e[s+10],9,38016083),i=qr(i,o,r,n,e[s+15],14,-660478335),n=qr(n,i,o,r,e[s+4],20,-405537848),r=qr(r,n,i,o,e[s+9],5,568446438),o=qr(o,r,n,i,e[s+14],9,-1019803690),i=qr(i,o,r,n,e[s+3],14,-187363961),n=qr(n,i,o,r,e[s+8],20,1163531501),r=qr(r,n,i,o,e[s+13],5,-1444681467),o=qr(o,r,n,i,e[s+2],9,-51403784),i=qr(i,o,r,n,e[s+7],14,1735328473),n=qr(n,i,o,r,e[s+12],20,-1926607734),r=Vr(r,n,i,o,e[s+5],4,-378558),o=Vr(o,r,n,i,e[s+8],11,-2022574463),i=Vr(i,o,r,n,e[s+11],16,1839030562),n=Vr(n,i,o,r,e[s+14],23,-35309556),r=Vr(r,n,i,o,e[s+1],4,-1530992060),o=Vr(o,r,n,i,e[s+4],11,1272893353),i=Vr(i,o,r,n,e[s+7],16,-155497632),n=Vr(n,i,o,r,e[s+10],23,-1094730640),r=Vr(r,n,i,o,e[s+13],4,681279174),o=Vr(o,r,n,i,e[s],11,-358537222),i=Vr(i,o,r,n,e[s+3],16,-722521979),n=Vr(n,i,o,r,e[s+6],23,76029189),r=Vr(r,n,i,o,e[s+9],4,-640364487),o=Vr(o,r,n,i,e[s+12],11,-421815835),i=Vr(i,o,r,n,e[s+15],16,530742520),n=Vr(n,i,o,r,e[s+2],23,-995338651),r=zr(r,n,i,o,e[s],6,-198630844),o=zr(o,r,n,i,e[s+7],10,1126891415),i=zr(i,o,r,n,e[s+14],15,-1416354905),n=zr(n,i,o,r,e[s+5],21,-57434055),r=zr(r,n,i,o,e[s+12],6,1700485571),o=zr(o,r,n,i,e[s+3],10,-1894986606),i=zr(i,o,r,n,e[s+10],15,-1051523),n=zr(n,i,o,r,e[s+1],21,-2054922799),r=zr(r,n,i,o,e[s+8],6,1873313359),o=zr(o,r,n,i,e[s+15],10,-30611744),i=zr(i,o,r,n,e[s+6],15,-1560198380),n=zr(n,i,o,r,e[s+13],21,1309151649),r=zr(r,n,i,o,e[s+4],6,-145523070),o=zr(o,r,n,i,e[s+11],10,-1120210379),i=zr(i,o,r,n,e[s+2],15,718787259),n=zr(n,i,o,r,e[s+9],21,-343485551),r=Ca(r,f),n=Ca(n,d),i=Ca(i,a),o=Ca(o,c)}return[r,n,i,o]}function FR(e){if(e.length===0)return[];const t=e.length*8,r=new Uint32Array(EE(t));for(let n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function Ca(e,t){const r=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(r>>16)<<16|r&65535}function LR(e,t){return e<<t|e>>>32-t}function Ng(e,t,r,n,i,o){return Ca(LR(Ca(Ca(t,e),Ca(n,o)),i),r)}function Hr(e,t,r,n,i,o,s){return Ng(t&r|~t&n,e,t,i,o,s)}function qr(e,t,r,n,i,o,s){return Ng(t&n|r&~n,e,t,i,o,s)}function Vr(e,t,r,n,i,o,s){return Ng(t^r^n,e,t,i,o,s)}function zr(e,t,r,n,i,o,s){return Ng(r^(t|~n),e,t,i,o,s)}const jR=IE("v3",48,UR),KR=jR;function HR(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function hb(e,t){return e<<t|e>>>32-t}function qR(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const s=unescape(encodeURIComponent(e));e=[];for(let f=0;f<s.length;++f)e.push(s.charCodeAt(f))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const n=e.length/4+2,i=Math.ceil(n/16),o=new Array(i);for(let s=0;s<i;++s){const f=new Uint32Array(16);for(let d=0;d<16;++d)f[d]=e[s*64+d*4]<<24|e[s*64+d*4+1]<<16|e[s*64+d*4+2]<<8|e[s*64+d*4+3];o[s]=f}o[i-1][14]=(e.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(e.length-1)*8&4294967295;for(let s=0;s<i;++s){const f=new Uint32Array(80);for(let y=0;y<16;++y)f[y]=o[s][y];for(let y=16;y<80;++y)f[y]=hb(f[y-3]^f[y-8]^f[y-14]^f[y-16],1);let d=r[0],a=r[1],c=r[2],p=r[3],h=r[4];for(let y=0;y<80;++y){const g=Math.floor(y/20),v=hb(d,5)+HR(g,a,c,p)+h+t[g]+f[y]>>>0;h=p,p=c,c=hb(a,30)>>>0,a=d,d=v}r[0]=r[0]+d>>>0,r[1]=r[1]+a>>>0,r[2]=r[2]+c>>>0,r[3]=r[3]+p>>>0,r[4]=r[4]+h>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}const VR=IE("v5",80,qR),zR=VR,YR="00000000-0000-0000-0000-000000000000";function GR(e){if(!r6(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}const JR=Object.freeze(Object.defineProperty({__proto__:null,NIL:YR,parse:TE,stringify:RR,v1:AR,v3:KR,v4:OR,v5:zR,validate:r6,version:GR},Symbol.toStringTag,{value:"Module"})),Mg=hi(JR);var $h={};Object.defineProperty($h,"__esModule",{value:!0});$h.getCoinSymbol=void 0;function WR(e){var t;return(t={0:"BTC",2:"LTC",3:"DOGE",4:"RDD",5:"DASH",6:"PPC",7:"NMC",8:"FTC",9:"XCP",10:"BLK",11:"NSR",12:"NBT",13:"MZC",14:"VIA",15:"XCH",16:"RBY",17:"GRS",18:"DGC",19:"CCN",20:"DGB",22:"MONA",23:"CLAM",24:"XPM",25:"NEOS",26:"JBS",27:"ZRC",28:"VTC",29:"NXT",30:"BURST",31:"MUE",32:"ZOOM",33:"VASH",34:"CDN",35:"SDC",36:"PKB",37:"PND",38:"START",39:"MOIN",40:"EXP",41:"EMC2",42:"DCR",43:"XEM",44:"PART",45:"ARG",48:"SHR",49:"GCR",50:"NVC",51:"AC",52:"BTCD",53:"DOPE",54:"TPC",55:"AIB",56:"EDRC",57:"SYS",58:"SLR",59:"SMLY",60:"ETH",61:"ETC",62:"PSB",63:"LDCN",65:"XBC",66:"IOP",67:"NXS",68:"INSN",69:"OK",70:"BRIT",71:"CMP",72:"CRW",73:"BELA",74:"ICX",75:"FJC",76:"MIX",77:"XVG",78:"EFL",79:"CLUB",80:"RICHX",81:"POT",82:"QRK",83:"TRC",84:"GRC",85:"AUR",86:"IXC",87:"NLG",88:"BITB",89:"BTA",90:"XMY",91:"BSD",92:"UNO",93:"MTR",94:"GB",95:"SHM",96:"CRX",97:"BIQ",98:"EVO",99:"STO",100:"BIGUP",101:"GAME",102:"DLC",103:"ZYD",104:"DBIC",105:"STRAT",106:"SH",107:"MARS",108:"UBQ",109:"PTC",110:"NRO",111:"ARK",112:"USC",113:"THC",114:"LINX",115:"ECN",116:"DNR",117:"PINK",118:"ATOM",119:"PIVX",120:"FLASH",121:"ZEN",122:"PUT",123:"ZNY",124:"UNIFY",125:"XST",126:"BRK",127:"VC",128:"XMR",129:"VOX",130:"NAV",131:"FCT",132:"EC",133:"ZEC",134:"LSK",135:"STEEM",136:"XZC",137:"RBTC",139:"RPT",140:"LBC",141:"KMD",142:"BSQ",143:"RIC",144:"XRP",145:"BCH",146:"NEBL",147:"ZCL",148:"XLM",149:"NLC2",150:"WHL",151:"ERC",152:"DMD",153:"BTM",154:"BIO",155:"XWCC",156:"BTG",157:"BTC2X",158:"SSN",159:"TOA",160:"BTX",161:"ACC",162:"BCO",163:"ELLA",164:"PIRL",165:"XNO",166:"VIVO",167:"FRST",168:"HNC",169:"BUZZ",170:"MBRS",171:"HC",172:"HTML",173:"ODN",174:"ONX",175:"RVN",176:"GBX",177:"BTCZ",178:"POA",179:"NYC",180:"MXT",181:"WC",182:"MNX",183:"BTCP",184:"MUSIC",185:"BCA",186:"CRAVE",187:"STAK",188:"WBTC",189:"LCH",190:"EXCL",192:"LCC",193:"XFE",194:"EOS",195:"TRX",196:"KOBO",197:"HUSH",198:"BAN",199:"ETF",200:"OMNI",201:"BIFI",202:"UFO",203:"CNMC",204:"BCN",205:"RIN",206:"ATP",207:"EVT",208:"ATN",209:"BIS",210:"NEET",211:"BOPO",212:"OOT",213:"ALIAS",214:"MONK",215:"BOXY",216:"FLO",217:"MEC",218:"BTDX",219:"XAX",220:"ANON",221:"LTZ",222:"BITG",223:"ICP",224:"SMART",225:"XUEZ",226:"HLM",227:"WEB",228:"ACM",229:"NOS",230:"BITC",231:"HTH",232:"TZC",233:"VAR",234:"IOV",235:"FIO",236:"BSV",237:"DXN",238:"QRL",239:"PCX",240:"LOKI",242:"NIM",243:"SOV",244:"JCT",245:"SLP",246:"EWT",247:"UC",248:"EXOS",249:"ECA",250:"SOOM",251:"XRD",252:"FREE",253:"NPW",254:"BST",256:"NANO",257:"BTCC",259:"ZEST",260:"ABT",261:"PION",262:"DT3",263:"ZBUX",264:"KPL",265:"TPAY",266:"ZILLA",267:"ANK",268:"BCC",269:"HPB",270:"ONE",271:"SBC",272:"IPC",273:"DMTC",274:"OGC",275:"SHIT",276:"ANDES",277:"AREPA",278:"BOLI",279:"RIL",280:"HTR",281:"FCTID",282:"BRAVO",283:"ALGO",284:"BZX",285:"GXX",286:"HEAT",287:"XDN",288:"FSN",289:"CPC",290:"BOLD",291:"IOST",292:"TKEY",293:"USE",294:"BCZ",295:"IOC",296:"ASF",297:"MASS",298:"FAIR",299:"NUKO",300:"GNX",301:"DIVI",302:"CMT",303:"EUNO",304:"IOTX",305:"ONION",306:"8BIT",307:"ATC",308:"BTS",309:"CKB",310:"UGAS",311:"ADS",312:"ARA",313:"ZIL",314:"MOAC",315:"SWTC",316:"VNSC",317:"PLUG",318:"MAN",319:"ECC",320:"RPD",321:"RAP",322:"GARD",323:"ZER",324:"EBST",325:"SHARD",326:"MRX",327:"CMM",328:"BLOCK",329:"AUDAX",330:"LUNA",331:"ZPM",332:"KUVA",333:"MEM",334:"CS",335:"SWIFT",336:"FIX",337:"CPC",338:"VGO",339:"DVT",340:"N8V",341:"MTNS",342:"BLAST",343:"DCT",344:"AUX",345:"USDP",346:"HTDF",347:"YEC",348:"QLC",349:"TEA",350:"ARW",351:"MDM",352:"CYB",353:"LTO",354:"DOT",355:"AEON",356:"RES",357:"AYA",358:"DAPS",359:"CSC",360:"VSYS",361:"NOLLAR",362:"XNOS",363:"CPU",364:"LAMB",365:"VCT",366:"CZR",367:"ABBC",368:"HET",369:"XAS",370:"VDL",371:"MED",372:"ZVC",373:"VESTX",374:"DBT",375:"SEOS",376:"MXW",377:"ZNZ",378:"XCX",379:"SOX",380:"NYZO",381:"ULC",382:"RYO",383:"KAL",384:"XSN",385:"DOGEC",386:"BMV",387:"QBC",388:"IMG",389:"QOS",390:"PKT",391:"LHD",392:"CENNZ",393:"HSN",394:"CRO",395:"UMBRU",396:"EVER",397:"NEAR",398:"XPC",399:"ZOC",400:"NIX",401:"UC",402:"GALI",403:"OLT",404:"XBI",405:"DONU",406:"EARTHS",407:"HDD",408:"SUGAR",409:"AILE",410:"TENT",411:"TAN",412:"AIN",413:"MSR",414:"SUMO",415:"ETN",416:"BYTZ",417:"WOW",418:"XTNC",419:"LTHN",420:"NODE",421:"AGM",422:"CCX",423:"TNET",424:"TELOS",425:"AION",426:"BC",427:"KTV",428:"ZCR",429:"ERG",430:"PESO",431:"BTC2",432:"XRPHD",433:"WE",434:"KSM",435:"PCN",436:"NCH",437:"ICU",438:"LN",439:"DTP",440:"BTCR",441:"AERGO",442:"XTH",443:"LV",444:"PHR",445:"VITAE",446:"COCOS",447:"DIN",448:"SPL",449:"YCE",450:"XLR",451:"KTS",452:"DGLD",453:"XNS",454:"EM",455:"SHN",456:"SEELE",457:"AE",458:"ODX",459:"KAVA",460:"GLEEC",461:"FIL",462:"RUTA",463:"CSDT",464:"ETI",465:"ZSLP",466:"ERE",467:"DX",468:"CPS",469:"BTH",470:"MESG",471:"FIMK",472:"AR",473:"OGO",474:"ROSE",475:"BARE",476:"GLEEC",477:"CLR",478:"RNG",479:"OLO",480:"PEXA",481:"MOON",482:"OCEAN",483:"BNT",484:"AMO",485:"FCH",486:"LAT",487:"COIN",488:"VEO",489:"CCA",490:"GFN",491:"BIP",492:"KPG",493:"FIN",494:"BAND",495:"DROP",496:"BHT",497:"LYRA",498:"CS",499:"RUPX",500:"THETA",501:"SOL",502:"THT",503:"CFX",504:"KUMA",505:"HASH",506:"CSPR",507:"EARTH",508:"EGLD",509:"CHI",510:"KOTO",511:"OTC",512:"XRD",513:"SEELEN",514:"AETH",515:"DNA",516:"VEE",517:"SIERRA",518:"LET",519:"BSC",520:"BTCV",521:"ABA",522:"SCC",523:"EDG",524:"AMS",525:"GOSS",526:"BU",527:"GRAM",528:"YAP",529:"SCRT",530:"NOVO",531:"GHOST",532:"HST",533:"PRJ",534:"YOU",535:"XHV",536:"BYND",537:"JOYS",538:"VAL",539:"FLOW",540:"SMESH",541:"SCDO",542:"IQS",543:"BIND",544:"COINEVO",545:"SCRIBE",546:"HYN",547:"BHP",548:"BBC",549:"MKF",550:"XDC",551:"STR",552:"SUM",553:"HBC",555:"BCS",556:"KTS",557:"LKR",558:"TAO",559:"XWC",560:"DEAL",561:"NTY",562:"TOP",564:"AG",565:"CICO",566:"IRIS",567:"NCG",568:"LRG",569:"SERO",570:"BDX",571:"CCXX",572:"SLS",573:"SRM",575:"VIVT",576:"BPS",577:"NKN",578:"ICL",579:"BONO",580:"PLC",581:"DUN",582:"DMCH",583:"CTC",584:"KELP",585:"GBCR",586:"XDAG",587:"PRV",588:"SCAP",589:"TFUEL",590:"GTM",591:"RNL",592:"GRIN",593:"MWC",594:"DOCK",595:"POLYX",596:"DIVER",597:"XEP",598:"APN",599:"TFC",600:"UTE",601:"MTC",602:"NC",603:"XINY",604:"DYN",605:"BUFS",606:"STOS",607:"TON",608:"TAFT",609:"HYDRA",610:"NOR",613:"WCN",614:"OPT",615:"PSWAP",616:"VAL",617:"XOR",618:"SSP",619:"DEI",621:"ZERO",622:"ALPHA",623:"BDECO",624:"NOBL",625:"EAST",626:"KDA",627:"SOUL",628:"LORE",629:"FNR",630:"NEXUS",631:"QTZ",632:"XMA",633:"CALL",634:"VAL",635:"POKT",636:"EMIT",637:"APTOS",638:"ADON",639:"BTSG",640:"LFC",641:"KCS",642:"KCC",643:"AZERO",644:"TREE",645:"LX",646:"XLN",647:"CIC",648:"ZRB",650:"UCO",651:"SFX",652:"SFT",653:"WSFX",654:"USDG",655:"WMP",659:"KOIN",660:"PIRATE",663:"SFRX",666:"ACT",667:"PRKL",668:"SSC",669:"GC",670:"PLGR",671:"MPLGR",672:"KNOX",673:"ZED",674:"CNDL",675:"WLKR",676:"WLKRR",677:"YUNGE",678:"Voken",679:"APL",680:"Evrynet",681:"NENG",682:"CHTA",685:"OAS",686:"KAR",688:"CET",690:"KLV",694:"VTBC",698:"VEIL",699:"GTB",700:"XDAI",701:"COM",702:"CCC",707:"MCOIN",711:"CHC",712:"SERF",713:"XTL",714:"BNB",715:"SIN",716:"DLN",717:"BONTE",718:"PEER",725:"MCX",730:"HEALIOS",731:"BMK",734:"DENTX",737:"ATOP",747:"CFG",750:"XPRT",757:"HONEY",768:"BALLZ",770:"COSA",771:"BR",775:"PLSR",776:"KEY",777:"BTW",780:"PLCUC",781:"PLCUX",782:"PLCU",784:"SUI",786:"UIDD",787:"ACA",788:"BNC",789:"TAU",799:"PDEX",800:"BEET",801:"DST",804:"ZKS",808:"QVT",809:"SDN",810:"ASTR",813:"MEER",818:"VET",819:"REEF",820:"CLO",822:"BDB",827:"ACE",828:"CCN",831:"CRUZ",832:"SAPP",833:"777",834:"KYAN",835:"AZR",836:"CFL",837:"DASHD",838:"TRTT",839:"UCR",840:"PNY",841:"BECN",842:"MONK",843:"SAGA",844:"SUV",845:"ESK",846:"OWO",847:"PEPS",848:"BIR",849:"MOBIC",850:"FLS",852:"DSM",853:"PRCY",858:"HVH",866:"MOB",868:"IF",877:"NAM",880:"LUM",883:"ZBC",886:"ADF",888:"NEO",889:"TOMO",890:"XSEL",896:"LKSC",898:"AS",899:"XEC",900:"LMO",901:"NXT",904:"HNT",907:"FIS",909:"SGE",911:"GERT",916:"META",917:"FRA",919:"CCD",921:"AVN",925:"DIP",928:"GHM",931:"RUNE",945:"UNLOCK",955:"LTP",960:"VKAX",966:"MATIC",968:"UNW",970:"TWINS",977:"TLOS",981:"TAFECO",985:"AU",987:"VCG",988:"XAZAB",989:"AIOZ",990:"CORE",991:"PEC",992:"UNT",993:"XRB",994:"QUAI",995:"CAPS",996:"OKT",997:"SUM",998:"LBTC",999:"BCD",1e3:"BTN",1001:"TT",1002:"BKT",1003:"NODL",1004:"PCOIN",1005:"TAO",1006:"HSK",1007:"FTM",1008:"RPG",1010:"HT",1011:"ELV",1013:"BIC",1020:"EVC",1022:"XRD",1023:"ONE",1024:"ONT",1025:"CZZ",1026:"KEX",1027:"MCM",1032:"BTCR",1042:"MFID",1111:"BBC",1120:"RISE",1122:"CMT",1128:"ETSC",1129:"DFI",1130:"DFI",1137:"$DAG",1145:"CDY",1155:"EFI",1170:"HOO",1234:"ALPH",1284:"GLMR",1285:"MOVR",1298:"WPC",1308:"WEI",1337:"DFC",1397:"HYC",1410:"TENTSLP",1510:"XSC",1512:"AAC",1533:"BEAM",1555:"APC",1616:"ELF",1618:"AUDL",1620:"ATH",1627:"LUME",1642:"NEW",1657:"BTA",1668:"NEOX",1669:"MEWC",1688:"BCX",1729:"XTZ",1776:"LBTC",1777:"BBP",1784:"JPYS",1789:"VEGA",1815:"ADA",1818:"CUBE",1856:"TES",1888:"ZTX",1899:"XEC",1901:"CLC",1919:"VIPS",1926:"CITY",1955:"XX",1977:"XMX",1984:"TRTL",1985:"SLRT",1986:"QTH",1987:"EGEM",1988:"MIRA",1989:"HODL",1990:"PHL",1991:"SC",1996:"MYT",1997:"POLIS",1998:"XMCC",1999:"COLX",2e3:"GIN",2001:"MNP",2002:"MLN",2017:"KIN",2018:"EOSC",2019:"GBT",2020:"PKC",2021:"SKT",2022:"XHT",2048:"MCASH",2049:"TRUE",2086:"KILT",2109:"SAMA",2112:"IoTE",2137:"XRG",2182:"CHZ",2221:"ASK",2301:"QTUM",2302:"ETP",2303:"GXC",2304:"CRP",2305:"ELA",2338:"SNOW",2365:"XIN",2570:"AOA",2718:"NAS",2894:"REOSC",2941:"BND",3003:"LUX",3030:"HBAR",3077:"COS",3276:"CCC",3333:"SXP",3377:"ROI",3381:"DYN",3383:"SEQ",3552:"DEO",3564:"DST",3601:"CY",4040:"FC8",4096:"YEE",4218:"IOTA",4219:"SMR",4242:"AXE",4343:"XYM",4444:"C4E",4919:"XVM",5006:"SBC",5248:"FIC",5353:"HNS",5404:"ISK",5467:"ALTME",5555:"FUND",5757:"STX",5895:"VOW",5920:"SLU",6060:"GO",6174:"MOI",6599:"RSC",6666:"BPA",6688:"SAFE",6779:"COTI",6969:"ROGER",7091:"TOPL",7331:"KLY",7341:"SHFT",7777:"BTV",8e3:"SKY",8192:"PAC",8217:"KLAY",8339:"BTQ",8444:"XCH",8680:"PLMNT",8888:"SBTC",8964:"NULS",8997:"BBC",8998:"JGC",8999:"BTP",9e3:"AVAX",9001:"ARB1",9002:"BOBA",9003:"LOOP",9004:"STRK",9005:"AVAXC",9006:"BSC",9797:"NRG",9888:"BTF",9999:"GOD",1e4:"FO",10226:"RTM",10291:"XRC",10605:"XPI",11111:"ESS",12345:"IPOS",12586:"MINA",13107:"BTY",13108:"YCC",14001:"WAX",15845:"SDGO",16181:"XTX",16754:"ARDR",18e3:"MTR",19165:"SAFE",19167:"FLUX",19169:"RITO",20036:"XND",21004:"C4EI",21888:"PCT",22504:"PWR",25252:"BELL",25718:"CHX",29223:"NEXA",31102:"ESN",33416:"TEO",33878:"BTCS",34952:"BTT",37992:"FXTC",39321:"AMA",42069:"FACT",43028:"AXIV",49262:"EVE",49344:"STASH",52752:"CELO",61616:"TH",65536:"KETH",69420:"GRLC",70007:"GWL",77777:"ZYN",88888:"RYO",99999:"WICC",100500:"HOME",101010:"STC",105105:"STRAX",111111:"KAS",161803:"APTA",200625:"AKA",200665:"GENOM",246529:"ATS",261131:"ZAMA",314159:"PI",333332:"VALUE",333333:"3333",424242:"X42",534352:"SCR",666666:"VITE",888888:"SEA",1048576:"AMAX",1171337:"ILT",1313114:"ETHO",1313500:"XERO",1712144:"LAX",3924011:"EPK",4741444:"HYD",5249353:"BCO",5249354:"BHD",5264462:"PTN",5655640:"VLX",5718350:"WAN",5741564:"WAVES",5741565:"WEST",6382179:"ABC",6517357:"CRM",7562605:"SEM",7567736:"ION",7777777:"FCT",7825266:"WGR",7825267:"OBSR",8163271:"AFS",15118976:"XDS",61717561:"AQUA",88888888:"HATCH",91927009:"kUSD",99999996:"GENS",99999997:"EQ",99999998:"FLUID",99999999:"QKC",608589380:"FVDC"}[e])!==null&&t!==void 0?t:""}$h.getCoinSymbol=WR;(function(e){var t=Be&&Be.__createBinding||(Object.create?function(p,h,y,g){g===void 0&&(g=y);var v=Object.getOwnPropertyDescriptor(h,y);(!v||("get"in v?!h.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return h[y]}}),Object.defineProperty(p,g,v)}:function(p,h,y,g){g===void 0&&(g=y),p[g]=h[y]}),r=Be&&Be.__setModuleDefault||(Object.create?function(p,h){Object.defineProperty(p,"default",{enumerable:!0,value:h})}:function(p,h){p.default=h}),n=Be&&Be.__importStar||function(p){if(p&&p.__esModule)return p;var h={};if(p!=null)for(var y in p)y!=="default"&&Object.prototype.hasOwnProperty.call(p,y)&&t(h,p,y);return r(h,p),h},i=Be&&Be.__exportStar||function(p,h){for(var y in p)y!=="default"&&!Object.prototype.hasOwnProperty.call(h,y)&&t(h,p,y)};Object.defineProperty(e,"__esModule",{value:!0}),e.parsePath=e.uuidStringify=e.uuidParse=e.toBuffer=e.toHex=e.uuid=void 0;const o=n(Mg);e.uuid=o,i($h,e);function s(p){return p===void 0?"":Buffer.from(p).toString("hex")}e.toHex=s;function f(p){return Buffer.from(p??"","hex")}e.toBuffer=f;function d(p){return Buffer.from(o.parse(p))}e.uuidParse=d;function a(p){return o.stringify(p)}e.uuidStringify=a;function c(p){return p.replace(/^m\//i,"").split("/").map(y=>{const g=y.endsWith("'");return{index:Number(g?y.substring(0,y.length-1):y),hardened:g}})}e.parsePath=c})(wE);var Ug={},pb={},O_=function(e,t){return O_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},O_(e,t)};function xE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");O_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ly=function(){return Ly=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ly.apply(this,arguments)};function SE(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function BE(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(s=e[f])&&(o=(i<3?s(o):i>3?s(t,r,o):s(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function CE(e,t){return function(r,n){t(r,n,e)}}function XR(e,t,r,n,i,o){function s(I){if(I!==void 0&&typeof I!="function")throw new TypeError("Function expected");return I}for(var f=n.kind,d=f==="getter"?"get":f==="setter"?"set":"value",a=!t&&e?n.static?e:e.prototype:null,c=t||(a?Object.getOwnPropertyDescriptor(a,n.name):{}),p,h=!1,y=r.length-1;y>=0;y--){var g={};for(var v in n)g[v]=v==="access"?{}:n[v];for(var v in n.access)g.access[v]=n.access[v];g.addInitializer=function(I){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(I||null))};var T=(0,r[y])(f==="accessor"?{get:c.get,set:c.set}:c[d],g);if(f==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(p=s(T.get))&&(c.get=p),(p=s(T.set))&&(c.set=p),(p=s(T.init))&&i.unshift(p)}else(p=s(T))&&(f==="field"?i.unshift(p):c[d]=p)}a&&Object.defineProperty(a,n.name,c),h=!0}function ZR(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function QR(e){return typeof e=="symbol"?e:"".concat(e)}function eO(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function DE(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function RE(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(c){try{a(n.next(c))}catch(p){s(p)}}function d(c){try{a(n.throw(c))}catch(p){s(p)}}function a(c){c.done?o(c.value):i(c.value).then(f,d)}a((n=n.apply(e,t||[])).next())})}function OE(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function f(a){return function(c){return d([a,c])}}function d(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(c){a=[6,c],i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var kg=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function AE(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kg(t,e,r)}function jy(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function n6(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(f){s={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function PE(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n6(arguments[t]));return e}function NE(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,f=o.length;s<f;s++,i++)n[i]=o[s];return n}function ME(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function wc(e){return this instanceof wc?(this.v=e,this):new wc(e)}function UE(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){n[h]&&(i[h]=function(y){return new Promise(function(g,v){o.push([h,y,g,v])>1||f(h,y)})})}function f(h,y){try{d(n[h](y))}catch(g){p(o[0][3],g)}}function d(h){h.value instanceof wc?Promise.resolve(h.value.v).then(a,c):p(o[0][2],h)}function a(h){f("next",h)}function c(h){f("throw",h)}function p(h,y){h(y),o.shift(),o.length&&f(o[0][0],o[0][1])}}function kE(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,o){t[i]=e[i]?function(s){return(r=!r)?{value:wc(e[i](s)),done:!1}:o?o(s):s}:o}}function $E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof jy=="function"?jy(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(s){return new Promise(function(f,d){s=e[o](s),i(f,d,s.done,s.value)})}}function i(o,s,f,d){Promise.resolve(d).then(function(a){o({value:a,done:f})},s)}}function FE(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var tO=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function LE(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kg(t,e,r);return tO(t,e),t}function jE(e){return e&&e.__esModule?e:{default:e}}function KE(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function HE(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function qE(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function VE(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var rO=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function zE(e){function t(n){e.error=e.hasError?new rO(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function r(){for(;e.stack.length;){var n=e.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(o){return t(o),r()})}catch(o){t(o)}}if(e.hasError)throw e.error}return r()}const nO={__extends:xE,__assign:Ly,__rest:SE,__decorate:BE,__param:CE,__metadata:DE,__awaiter:RE,__generator:OE,__createBinding:kg,__exportStar:AE,__values:jy,__read:n6,__spread:PE,__spreadArrays:NE,__spreadArray:ME,__await:wc,__asyncGenerator:UE,__asyncDelegator:kE,__asyncValues:$E,__makeTemplateObject:FE,__importStar:LE,__importDefault:jE,__classPrivateFieldGet:KE,__classPrivateFieldSet:HE,__classPrivateFieldIn:qE,__addDisposableResource:VE,__disposeResources:zE},iO=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:VE,get __assign(){return Ly},__asyncDelegator:kE,__asyncGenerator:UE,__asyncValues:$E,__await:wc,__awaiter:RE,__classPrivateFieldGet:KE,__classPrivateFieldIn:qE,__classPrivateFieldSet:HE,__createBinding:kg,__decorate:BE,__disposeResources:zE,__esDecorate:XR,__exportStar:AE,__extends:xE,__generator:OE,__importDefault:jE,__importStar:LE,__makeTemplateObject:FE,__metadata:DE,__param:CE,__propKey:QR,__read:n6,__rest:SE,__runInitializers:ZR,__setFunctionName:eO,__spread:PE,__spreadArray:ME,__spreadArrays:NE,__values:jy,default:nO},Symbol.toStringTag,{value:"Module"})),Bf=hi(iO);var YE={},Tc={},hr={},GE={exports:{}},bd={};Object.defineProperty(bd,"__esModule",{value:!0});bd.DataItem=void 0;let oO=class{constructor(t,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=t,this.tag=r}};bd.DataItem=oO;(function(e){(function(t,r){e.exports?e.exports=r():t.CBOR=r()})(Be,function(){const{DataItem:t}=bd;var r=function(){function n(u){this.$hex=u}n.prototype={length:function(){return this.$hex.length/2},toString:function(u){if(!u||u==="hex"||u===16)return this.$hex;if(u==="utf-8"){for(var l="",m=0;m<this.$hex.length;m+=2)l+="%"+this.$hex.substring(m,m+2);return decodeURIComponent(l)}if(u==="latin"){for(var l=[],m=0;m<this.$hex.length;m+=2)l.push(parseInt(this.$hex.substring(m,m+2),16));return String.fromCharCode.apply(String,l)}throw new Error("Unrecognised format: "+u)}},n.fromLatinString=function(u){for(var l="",m=0;m<u.length;m++){var R=u.charCodeAt(m).toString(16);R.length===1&&(R="0"+R),l+=R}return new n(l)},n.fromUtf8String=function(u){for(var l=encodeURIComponent(u),m="",R=0;R<l.length;R++)if(l.charAt(R)==="%")m+=l.substring(R+1,R+3),R+=2;else{var B=l.charCodeAt(R).toString(16);B.length<2&&(B="0"+B),m+=B}return new n(m)};var i=[],o={},s=function(u){return function(){throw new Error(u+" not implemented")}};function f(){}f.prototype={peekByte:s("peekByte"),readByte:s("readByte"),readChunk:s("readChunk"),readFloat16:function(){var u=this.readUint16(),l=(u&32767)>>10,m=u&1023,R=u&32768;if(l===31)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-25)*(1024+m):Math.pow(2,-24)*m;return R?-B:B},readFloat32:function(){var u=this.readUint32(),l=(u&2147483647)>>23,m=u&8388607,R=u&2147483648;if(l===255)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-23-127)*(8388608+m):Math.pow(2,-149)*m;return R?-B:B},readFloat64:function(){var u=this.readUint32(),l=this.readUint32(),m=u>>20&2047,R=(u&1048575)*4294967296+l,B=u&2147483648;if(m===2047)return R===0?B?-1/0:1/0:NaN;var b=m?Math.pow(2,m-52-1023)*(4503599627370496+R):Math.pow(2,-1074)*R;return B?-b:b},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function d(){}d.prototype={writeByte:s("writeByte"),result:s("result"),writeFloat16:s("writeFloat16"),writeFloat32:s("writeFloat32"),writeFloat64:s("writeFloat64"),writeUint16:function(u){this.writeByte(u>>8&255),this.writeByte(u&255)},writeUint32:function(u){this.writeUint16(u>>16&65535),this.writeUint16(u&65535)},writeUint64:function(u){if(u>=9007199254740992||u<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+u+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(u/4294967296)),this.writeUint32(u%4294967296)},writeString:s("writeString"),canWriteBinary:function(u){return!1},writeBinary:s("writeChunk")};function a(u){var l=u.readByte(),m=l>>5,R=l&31;return{type:m,value:R}}function c(u,l){var m=u.value;if(m<24)return m;if(m==24)return l.readByte();if(m==25)return l.readUint16();if(m==26)return l.readUint32();if(m==27)return l.readUint64();if(m==31)return null;s("Additional info: "+m)()}function p(u,l,m){m.writeByte(u<<5|l)}function h(u,l,m){var R=u<<5;l<24?m.writeByte(R|l):l<256?(m.writeByte(R|24),m.writeByte(l)):l<65536?(m.writeByte(R|25),m.writeUint16(l)):l<4294967296?(m.writeByte(R|26),m.writeUint32(l)):(m.writeByte(R|27),m.writeUint64(l))}var y=new Error;function g(u){var l=a(u);switch(l.type){case 0:return c(l,u);case 1:return-1-c(l,u);case 2:return u.readChunk(c(l,u));case 3:var m=u.readChunk(c(l,u));return m.toString("utf-8");case 4:case 5:var R=c(l,u),$=[];if(R!==null){l.type===5&&(R*=2);for(var B=0;B<R;B++)$[B]=g(u)}else for(var b;(b=g(u))!==y;)$.push(b);if(l.type===5){for(var E={},B=0;B<$.length;B+=2)E[$[B]]=$[B+1];return E}else return $;case 6:var k=c(l,u),L=o[k],$=g(u);return L?L($):$;case 7:if(l.value===25)return u.readFloat16();if(l.value===26)return u.readFloat32();if(l.value===27)return u.readFloat64();switch(c(l,u)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return y;default:throw new Error("Unknown fixed value: "+l.value)}default:throw new Error("Unsupported header: "+JSON.stringify(l))}throw new Error("not implemented yet")}function v(u,l){for(var m=0;m<i.length;m++){var R=i[m].fn(u);if(R!==void 0)return h(6,i[m].tag,l),v(R,l)}if(u&&typeof u.toCBOR=="function"&&(u=u.toCBOR()),u===!1)h(7,20,l);else if(u===!0)h(7,21,l);else if(u===null)h(7,22,l);else if(u===void 0)h(7,23,l);else if(typeof u=="number")Math.floor(u)===u&&u<9007199254740992&&u>-9007199254740992?u<0?h(1,-1-u,l):h(0,u,l):(p(7,27,l),l.writeFloat64(u));else if(typeof u=="string")l.writeString(u,function(b){h(3,b,l)});else if(l.canWriteBinary(u))l.writeBinary(u,function(b){h(2,b,l)});else if(typeof u=="object")if(_.config.useToJSON&&typeof u.toJSON=="function"&&(u=u.toJSON()),Array.isArray(u)){h(4,u.length,l);for(var m=0;m<u.length;m++)v(u[m],l)}else{var B=Object.keys(u);h(5,B.length,l);for(var m=0;m<B.length;m++){const E=parseInt(B[m]);isNaN(E)?(v(B[m],l),v(u[B[m]],l)):(v(E,l),v(u[B[m]],l))}}else throw new Error("CBOR encoding not supported: "+u)}var T=[],I=[],_={config:{useToJSON:!0},addWriter:function(u,l){typeof u=="string"?I.push(function(m){if(u===m)return l(m)}):I.push(u)},addReader:function(u,l){typeof u=="string"?T.push(function(m,R){if(u===R)return l(m,R)}):T.push(u)},encode:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return v(u,B),B.result()}throw new Error("Unsupported output format: "+l)},encodeDataItem:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return u.getTag()!==void 0?(v(u,B),B.result()):(v(u.getData(),B),B.result())}throw new Error("Unsupported output format: "+l)},decode:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B)return g(B)}throw new Error("Unsupported input format: "+l)},decodeToDataItem:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B){const b=g(B);return b instanceof t?b:new t(b)}}throw new Error("Unsupported input format: "+l)},addSemanticEncode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return i.push({tag:u,fn:l}),this},addSemanticDecode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return o[u]=l,this}};function C(u){this.buffer=u,this.pos=0}C.prototype=Object.create(f.prototype),C.prototype.peekByte=function(){return this.buffer[this.pos]},C.prototype.readByte=function(){return this.buffer[this.pos++]},C.prototype.readUint16=function(){var u=this.buffer.readUInt16BE(this.pos);return this.pos+=2,u},C.prototype.readUint32=function(){var u=this.buffer.readUInt32BE(this.pos);return this.pos+=4,u},C.prototype.readFloat32=function(){var u=this.buffer.readFloatBE(this.pos);return this.pos+=4,u},C.prototype.readFloat64=function(){var u=this.buffer.readDoubleBE(this.pos);return this.pos+=8,u},C.prototype.readChunk=function(u){var l=Buffer.alloc(u);return this.buffer.copy(l,0,this.pos,this.pos+=u),l};function w(u){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=u}w.prototype=Object.create(d.prototype),w.prototype.writeByte=function(u){this.latestBuffer[this.latestBufferOffset++]=u,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},w.prototype.writeFloat32=function(u){var l=Buffer.alloc(4);l.writeFloatBE(u,0),this.writeBuffer(l)},w.prototype.writeFloat64=function(u){var l=Buffer.alloc(8);l.writeDoubleBE(u,0),this.writeBuffer(l)},w.prototype.writeString=function(u,l){var m=Buffer.from(u,"utf-8");l(m.length),this.writeBuffer(m)},w.prototype.canWriteBinary=function(u){return u instanceof Buffer},w.prototype.writeBinary=function(u,l){l(u.length),this.writeBuffer(u)},w.prototype.writeBuffer=function(u){if(!(u instanceof Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=u.length?(u.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=u.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(u),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(u),this.byteLength+=u.length},w.prototype.result=function(){for(var u=Buffer.alloc(this.byteLength),l=0,m=0;m<this.completeBuffers.length;m++){var R=this.completeBuffers[m];R.copy(u,l,0,R.length),l+=R.length}return this.latestBufferOffset&&this.latestBuffer.copy(u,l,0,this.latestBufferOffset),this.stringFormat?u.toString(this.stringFormat):u},typeof Buffer=="function"&&(_.addReader(function(u,l){if(Buffer.isBuffer(u))return new C(u);if(l==="hex"||l==="base64"){var m=Buffer.from(u,l);return new C(m)}}),_.addWriter(function(u){if(!u||u==="buffer")return new w;if(u==="hex"||u==="base64")return new w(u)}));function P(u){this.hex=u,this.pos=0}P.prototype=Object.create(f.prototype),P.prototype.peekByte=function(){var u=this.hex.substring(this.pos,2);return parseInt(u,16)},P.prototype.readByte=function(){var u=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(u,16)},P.prototype.readChunk=function(u){var l=this.hex.substring(this.pos,this.pos+u*2);return this.pos+=u*2,typeof Buffer=="function"?Buffer.from(l,"hex"):new n(l)};function D(u){this.$hex="",this.finalFormat=u||"hex"}return D.prototype=Object.create(d.prototype),D.prototype.writeByte=function(u){if(u<0||u>255)throw new Error("Byte value out of range: "+u);var l=u.toString(16);l.length==1&&(l="0"+l),this.$hex+=l},D.prototype.canWriteBinary=function(u){return u instanceof n||typeof Buffer=="function"&&u instanceof Buffer},D.prototype.writeBinary=function(u,l){if(u instanceof n)l(u.length()),this.$hex+=u.$hex;else if(typeof Buffer=="function"&&u instanceof Buffer)l(u.length),this.$hex+=u.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},D.prototype.result=function(){return this.finalFormat==="buffer"&&typeof Buffer=="function"?Buffer.from(this.$hex,"hex"):new n(this.$hex).toString(this.finalFormat)},D.prototype.writeString=function(u,l){var m=n.fromUtf8String(u);l(m.length()),this.$hex+=m.$hex},_.addReader(function(u,l){if(u instanceof n||u.$hex)return new P(u.$hex);if(l==="hex")return new P(u)}),_.addWriter(function(u){if(u==="hex")return new D}),_}();return r.addSemanticEncode(0,function(n){if(n instanceof Date)return n.toISOString()}).addSemanticDecode(0,function(n){return new Date(n)}).addSemanticDecode(1,function(n){return new Date(n)}),r})})(GE);var sO=GE.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DataItem=e.addWriter=e.addReader=e.addSemanticEncode=e.addSemanticDecode=e.decodeToDataItem=e.encodeDataItem=void 0;var t=sO;Object.defineProperty(e,"encodeDataItem",{enumerable:!0,get:function(){return t.encodeDataItem}}),Object.defineProperty(e,"decodeToDataItem",{enumerable:!0,get:function(){return t.decodeToDataItem}}),Object.defineProperty(e,"addSemanticDecode",{enumerable:!0,get:function(){return t.addSemanticDecode}}),Object.defineProperty(e,"addSemanticEncode",{enumerable:!0,get:function(){return t.addSemanticEncode}}),Object.defineProperty(e,"addReader",{enumerable:!0,get:function(){return t.addReader}}),Object.defineProperty(e,"addWriter",{enumerable:!0,get:function(){return t.addWriter}});var r=bd;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return r.DataItem}})})(hr);Object.defineProperty(Tc,"__esModule",{value:!0});Tc.patchTags=void 0;const $p=hr,Cw=[],aO=e=>{e.forEach(t=>{Cw.find(r=>r===t)||((0,$p.addSemanticEncode)(t,r=>{if(r instanceof $p.DataItem&&r.getTag()===t)return r.getData()}),(0,$p.addSemanticDecode)(t,r=>new $p.DataItem(r,t)),Cw.push(t))})};Tc.patchTags=aO;var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.RegistryTypes=Ft.RegistryType=void 0;let zn=class{constructor(t,r){this.type=t,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}};Ft.RegistryType=zn;Ft.RegistryTypes={UUID:new zn("uuid",37),BYTES:new zn("bytes",void 0),CRYPTO_HDKEY:new zn("crypto-hdkey",303),CRYPTO_KEYPATH:new zn("crypto-keypath",304),CRYPTO_COIN_INFO:new zn("crypto-coin-info",305),CRYPTO_ECKEY:new zn("crypto-eckey",306),CRYPTO_OUTPUT:new zn("crypto-output",308),CRYPTO_PSBT:new zn("crypto-psbt",310),CRYPTO_ACCOUNT:new zn("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new zn("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new zn("qr-hardware-call",1201),KEY_DERIVATION_CALL:new zn("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new zn("key-derivation-schema",1302)};var $g={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptExpressions=e.ScriptExpression=void 0;class t{constructor(n,i){this.tag=n,this.expression=i,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}e.ScriptExpression=t,t.fromTag=r=>Object.values(e.ScriptExpressions).find(i=>i.getTag()===r),e.ScriptExpressions={SCRIPT_HASH:new t(400,"sh"),WITNESS_SCRIPT_HASH:new t(401,"wsh"),PUBLIC_KEY:new t(402,"pk"),PUBLIC_KEY_HASH:new t(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new t(404,"wpkh"),COMBO:new t(405,"combo"),MULTISIG:new t(406,"multi"),SORTED_MULTISIG:new t(407,"sortedmulti"),ADDRESS:new t(307,"addr"),RAW_SCRIPT:new t(408,"raw")}})($g);Object.defineProperty(YE,"__esModule",{value:!0});const fO=Tc,uO=Ft,cO=$g,dO=Object.values(uO.RegistryTypes).filter(e=>!!e.getTag()).map(e=>e.getTag()),lO=Object.values(cO.ScriptExpressions).map(e=>e.getTag());(0,fO.patchTags)(dO.concat(lO));var ze={},Fh={};Fh.byteLength=yO;Fh.toByteArray=mO;Fh.fromByteArray=_O;var To=[],gi=[],hO=typeof Uint8Array<"u"?Uint8Array:Array,yb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ju=0,pO=yb.length;Ju<pO;++Ju)To[Ju]=yb[Ju],gi[yb.charCodeAt(Ju)]=Ju;gi[45]=62;gi[95]=63;function JE(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function yO(e){var t=JE(e),r=t[0],n=t[1];return(r+n)*3/4-n}function gO(e,t,r){return(t+r)*3/4-r}function mO(e){var t,r=JE(e),n=r[0],i=r[1],o=new hO(gO(e,n,i)),s=0,f=i>0?n-4:n,d;for(d=0;d<f;d+=4)t=gi[e.charCodeAt(d)]<<18|gi[e.charCodeAt(d+1)]<<12|gi[e.charCodeAt(d+2)]<<6|gi[e.charCodeAt(d+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return i===2&&(t=gi[e.charCodeAt(d)]<<2|gi[e.charCodeAt(d+1)]>>4,o[s++]=t&255),i===1&&(t=gi[e.charCodeAt(d)]<<10|gi[e.charCodeAt(d+1)]<<4|gi[e.charCodeAt(d+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function bO(e){return To[e>>18&63]+To[e>>12&63]+To[e>>6&63]+To[e&63]}function vO(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(bO(n));return i.join("")}function _O(e){for(var t,r=e.length,n=r%3,i=[],o=16383,s=0,f=r-n;s<f;s+=o)i.push(vO(e,s,s+o>f?f:s+o));return n===1?(t=e[r-1],i.push(To[t>>2]+To[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(To[t>>10]+To[t>>4&63]+To[t<<2&63]+"=")),i.join("")}var Fg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Fg.read=function(e,t,r,n,i){var o,s,f=i*8-n-1,d=(1<<f)-1,a=d>>1,c=-7,p=r?i-1:0,h=r?-1:1,y=e[t+p];for(p+=h,o=y&(1<<-c)-1,y>>=-c,c+=f;c>0;o=o*256+e[t+p],p+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=s*256+e[t+p],p+=h,c-=8);if(o===0)o=1-a;else{if(o===d)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-a}return(y?-1:1)*s*Math.pow(2,o-n)};Fg.write=function(e,t,r,n,i,o){var s,f,d,a=o*8-i-1,c=(1<<a)-1,p=c>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:o-1,g=n?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-s))<1&&(s--,d*=2),s+p>=1?t+=h/d:t+=h*Math.pow(2,1-p),t*d>=2&&(s++,d/=2),s+p>=c?(f=0,s=c):s+p>=1?(f=(t*d-1)*Math.pow(2,i),s=s+p):(f=t*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;e[r+y]=f&255,y+=g,f/=256,i-=8);for(s=s<<i|f,a+=i;a>0;e[r+y]=s&255,y+=g,s/=256,a-=8);e[r+y-g]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Fh,r=Fg,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,f.TYPED_ARRAY_SUPPORT=o(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const O=new Uint8Array(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(O,x),O.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function s(O){if(O>i)throw new RangeError('The value "'+O+'" is invalid for option "size"');const x=new Uint8Array(O);return Object.setPrototypeOf(x,f.prototype),x}function f(O,x,A){if(typeof O=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(O)}return d(O,x,A)}f.poolSize=8192;function d(O,x,A){if(typeof O=="string")return h(O,x);if(ArrayBuffer.isView(O))return g(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(xe(O,ArrayBuffer)||O&&xe(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xe(O,SharedArrayBuffer)||O&&xe(O.buffer,SharedArrayBuffer)))return v(O,x,A);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const H=O.valueOf&&O.valueOf();if(H!=null&&H!==O)return f.from(H,x,A);const Z=T(O);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return f.from(O[Symbol.toPrimitive]("string"),x,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}f.from=function(O,x,A){return d(O,x,A)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function a(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function c(O,x,A){return a(O),O<=0?s(O):x!==void 0?typeof A=="string"?s(O).fill(x,A):s(O).fill(x):s(O)}f.alloc=function(O,x,A){return c(O,x,A)};function p(O){return a(O),s(O<0?0:I(O)|0)}f.allocUnsafe=function(O){return p(O)},f.allocUnsafeSlow=function(O){return p(O)};function h(O,x){if((typeof x!="string"||x==="")&&(x="utf8"),!f.isEncoding(x))throw new TypeError("Unknown encoding: "+x);const A=C(O,x)|0;let H=s(A);const Z=H.write(O,x);return Z!==A&&(H=H.slice(0,Z)),H}function y(O){const x=O.length<0?0:I(O.length)|0,A=s(x);for(let H=0;H<x;H+=1)A[H]=O[H]&255;return A}function g(O){if(xe(O,Uint8Array)){const x=new Uint8Array(O);return v(x.buffer,x.byteOffset,x.byteLength)}return y(O)}function v(O,x,A){if(x<0||O.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<x+(A||0))throw new RangeError('"length" is outside of buffer bounds');let H;return x===void 0&&A===void 0?H=new Uint8Array(O):A===void 0?H=new Uint8Array(O,x):H=new Uint8Array(O,x,A),Object.setPrototypeOf(H,f.prototype),H}function T(O){if(f.isBuffer(O)){const x=I(O.length)|0,A=s(x);return A.length===0||O.copy(A,0,0,x),A}if(O.length!==void 0)return typeof O.length!="number"||Ue(O.length)?s(0):y(O);if(O.type==="Buffer"&&Array.isArray(O.data))return y(O.data)}function I(O){if(O>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return O|0}function _(O){return+O!=O&&(O=0),f.alloc(+O)}f.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==f.prototype},f.compare=function(x,A){if(xe(x,Uint8Array)&&(x=f.from(x,x.offset,x.byteLength)),xe(A,Uint8Array)&&(A=f.from(A,A.offset,A.byteLength)),!f.isBuffer(x)||!f.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===A)return 0;let H=x.length,Z=A.length;for(let ue=0,le=Math.min(H,Z);ue<le;++ue)if(x[ue]!==A[ue]){H=x[ue],Z=A[ue];break}return H<Z?-1:Z<H?1:0},f.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(x,A){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return f.alloc(0);let H;if(A===void 0)for(A=0,H=0;H<x.length;++H)A+=x[H].length;const Z=f.allocUnsafe(A);let ue=0;for(H=0;H<x.length;++H){let le=x[H];if(xe(le,Uint8Array))ue+le.length>Z.length?(f.isBuffer(le)||(le=f.from(le)),le.copy(Z,ue)):Uint8Array.prototype.set.call(Z,le,ue);else if(f.isBuffer(le))le.copy(Z,ue);else throw new TypeError('"list" argument must be an Array of Buffers');ue+=le.length}return Z};function C(O,x){if(f.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||xe(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);const A=O.length,H=arguments.length>2&&arguments[2]===!0;if(!H&&A===0)return 0;let Z=!1;for(;;)switch(x){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return U(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A*2;case"hex":return A>>>1;case"base64":return be(O).length;default:if(Z)return H?-1:U(O).length;x=(""+x).toLowerCase(),Z=!0}}f.byteLength=C;function w(O,x,A){let H=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0,x>>>=0,A<=x))return"";for(O||(O="utf8");;)switch(O){case"hex":return M(this,x,A);case"utf8":case"utf-8":return k(this,x,A);case"ascii":return G(this,x,A);case"latin1":case"binary":return oe(this,x,A);case"base64":return E(this,x,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,x,A);default:if(H)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),H=!0}}f.prototype._isBuffer=!0;function P(O,x,A){const H=O[x];O[x]=O[A],O[A]=H}f.prototype.swap16=function(){const x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let A=0;A<x;A+=2)P(this,A,A+1);return this},f.prototype.swap32=function(){const x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let A=0;A<x;A+=4)P(this,A,A+3),P(this,A+1,A+2);return this},f.prototype.swap64=function(){const x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let A=0;A<x;A+=8)P(this,A,A+7),P(this,A+1,A+6),P(this,A+2,A+5),P(this,A+3,A+4);return this},f.prototype.toString=function(){const x=this.length;return x===0?"":arguments.length===0?k(this,0,x):w.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(x){if(!f.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:f.compare(this,x)===0},f.prototype.inspect=function(){let x="";const A=e.INSPECT_MAX_BYTES;return x=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(x+=" ... "),"<Buffer "+x+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(x,A,H,Z,ue){if(xe(x,Uint8Array)&&(x=f.from(x,x.offset,x.byteLength)),!f.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(A===void 0&&(A=0),H===void 0&&(H=x?x.length:0),Z===void 0&&(Z=0),ue===void 0&&(ue=this.length),A<0||H>x.length||Z<0||ue>this.length)throw new RangeError("out of range index");if(Z>=ue&&A>=H)return 0;if(Z>=ue)return-1;if(A>=H)return 1;if(A>>>=0,H>>>=0,Z>>>=0,ue>>>=0,this===x)return 0;let le=ue-Z,Te=H-A;const Ne=Math.min(le,Te),Pe=this.slice(Z,ue),Ae=x.slice(A,H);for(let Me=0;Me<Ne;++Me)if(Pe[Me]!==Ae[Me]){le=Pe[Me],Te=Ae[Me];break}return le<Te?-1:Te<le?1:0};function D(O,x,A,H,Z){if(O.length===0)return-1;if(typeof A=="string"?(H=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,Ue(A)&&(A=Z?0:O.length-1),A<0&&(A=O.length+A),A>=O.length){if(Z)return-1;A=O.length-1}else if(A<0)if(Z)A=0;else return-1;if(typeof x=="string"&&(x=f.from(x,H)),f.isBuffer(x))return x.length===0?-1:u(O,x,A,H,Z);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(O,x,A):Uint8Array.prototype.lastIndexOf.call(O,x,A):u(O,[x],A,H,Z);throw new TypeError("val must be string, number or Buffer")}function u(O,x,A,H,Z){let ue=1,le=O.length,Te=x.length;if(H!==void 0&&(H=String(H).toLowerCase(),H==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(O.length<2||x.length<2)return-1;ue=2,le/=2,Te/=2,A/=2}function Ne(Ae,Me){return ue===1?Ae[Me]:Ae.readUInt16BE(Me*ue)}let Pe;if(Z){let Ae=-1;for(Pe=A;Pe<le;Pe++)if(Ne(O,Pe)===Ne(x,Ae===-1?0:Pe-Ae)){if(Ae===-1&&(Ae=Pe),Pe-Ae+1===Te)return Ae*ue}else Ae!==-1&&(Pe-=Pe-Ae),Ae=-1}else for(A+Te>le&&(A=le-Te),Pe=A;Pe>=0;Pe--){let Ae=!0;for(let Me=0;Me<Te;Me++)if(Ne(O,Pe+Me)!==Ne(x,Me)){Ae=!1;break}if(Ae)return Pe}return-1}f.prototype.includes=function(x,A,H){return this.indexOf(x,A,H)!==-1},f.prototype.indexOf=function(x,A,H){return D(this,x,A,H,!0)},f.prototype.lastIndexOf=function(x,A,H){return D(this,x,A,H,!1)};function l(O,x,A,H){A=Number(A)||0;const Z=O.length-A;H?(H=Number(H),H>Z&&(H=Z)):H=Z;const ue=x.length;H>ue/2&&(H=ue/2);let le;for(le=0;le<H;++le){const Te=parseInt(x.substr(le*2,2),16);if(Ue(Te))return le;O[A+le]=Te}return le}function m(O,x,A,H){return Ee(U(x,O.length-A),O,A,H)}function R(O,x,A,H){return Ee(F(x),O,A,H)}function B(O,x,A,H){return Ee(be(x),O,A,H)}function b(O,x,A,H){return Ee(W(x,O.length-A),O,A,H)}f.prototype.write=function(x,A,H,Z){if(A===void 0)Z="utf8",H=this.length,A=0;else if(H===void 0&&typeof A=="string")Z=A,H=this.length,A=0;else if(isFinite(A))A=A>>>0,isFinite(H)?(H=H>>>0,Z===void 0&&(Z="utf8")):(Z=H,H=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ue=this.length-A;if((H===void 0||H>ue)&&(H=ue),x.length>0&&(H<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");let le=!1;for(;;)switch(Z){case"hex":return l(this,x,A,H);case"utf8":case"utf-8":return m(this,x,A,H);case"ascii":case"latin1":case"binary":return R(this,x,A,H);case"base64":return B(this,x,A,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,x,A,H);default:if(le)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),le=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(O,x,A){return x===0&&A===O.length?t.fromByteArray(O):t.fromByteArray(O.slice(x,A))}function k(O,x,A){A=Math.min(O.length,A);const H=[];let Z=x;for(;Z<A;){const ue=O[Z];let le=null,Te=ue>239?4:ue>223?3:ue>191?2:1;if(Z+Te<=A){let Ne,Pe,Ae,Me;switch(Te){case 1:ue<128&&(le=ue);break;case 2:Ne=O[Z+1],(Ne&192)===128&&(Me=(ue&31)<<6|Ne&63,Me>127&&(le=Me));break;case 3:Ne=O[Z+1],Pe=O[Z+2],(Ne&192)===128&&(Pe&192)===128&&(Me=(ue&15)<<12|(Ne&63)<<6|Pe&63,Me>2047&&(Me<55296||Me>57343)&&(le=Me));break;case 4:Ne=O[Z+1],Pe=O[Z+2],Ae=O[Z+3],(Ne&192)===128&&(Pe&192)===128&&(Ae&192)===128&&(Me=(ue&15)<<18|(Ne&63)<<12|(Pe&63)<<6|Ae&63,Me>65535&&Me<1114112&&(le=Me))}}le===null?(le=65533,Te=1):le>65535&&(le-=65536,H.push(le>>>10&1023|55296),le=56320|le&1023),H.push(le),Z+=Te}return $(H)}const L=4096;function $(O){const x=O.length;if(x<=L)return String.fromCharCode.apply(String,O);let A="",H=0;for(;H<x;)A+=String.fromCharCode.apply(String,O.slice(H,H+=L));return A}function G(O,x,A){let H="";A=Math.min(O.length,A);for(let Z=x;Z<A;++Z)H+=String.fromCharCode(O[Z]&127);return H}function oe(O,x,A){let H="";A=Math.min(O.length,A);for(let Z=x;Z<A;++Z)H+=String.fromCharCode(O[Z]);return H}function M(O,x,A){const H=O.length;(!x||x<0)&&(x=0),(!A||A<0||A>H)&&(A=H);let Z="";for(let ue=x;ue<A;++ue)Z+=de[O[ue]];return Z}function S(O,x,A){const H=O.slice(x,A);let Z="";for(let ue=0;ue<H.length-1;ue+=2)Z+=String.fromCharCode(H[ue]+H[ue+1]*256);return Z}f.prototype.slice=function(x,A){const H=this.length;x=~~x,A=A===void 0?H:~~A,x<0?(x+=H,x<0&&(x=0)):x>H&&(x=H),A<0?(A+=H,A<0&&(A=0)):A>H&&(A=H),A<x&&(A=x);const Z=this.subarray(x,A);return Object.setPrototypeOf(Z,f.prototype),Z};function K(O,x,A){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+x>A)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(x,A,H){x=x>>>0,A=A>>>0,H||K(x,A,this.length);let Z=this[x],ue=1,le=0;for(;++le<A&&(ue*=256);)Z+=this[x+le]*ue;return Z},f.prototype.readUintBE=f.prototype.readUIntBE=function(x,A,H){x=x>>>0,A=A>>>0,H||K(x,A,this.length);let Z=this[x+--A],ue=1;for(;A>0&&(ue*=256);)Z+=this[x+--A]*ue;return Z},f.prototype.readUint8=f.prototype.readUInt8=function(x,A){return x=x>>>0,A||K(x,1,this.length),this[x]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(x,A){return x=x>>>0,A||K(x,2,this.length),this[x]|this[x+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(x,A){return x=x>>>0,A||K(x,2,this.length),this[x]<<8|this[x+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(x,A){return x=x>>>0,A||K(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(x,A){return x=x>>>0,A||K(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},f.prototype.readBigUInt64LE=ge(function(x){x=x>>>0,ce(x,"offset");const A=this[x],H=this[x+7];(A===void 0||H===void 0)&&_e(x,this.length-8);const Z=A+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24,ue=this[++x]+this[++x]*2**8+this[++x]*2**16+H*2**24;return BigInt(Z)+(BigInt(ue)<<BigInt(32))}),f.prototype.readBigUInt64BE=ge(function(x){x=x>>>0,ce(x,"offset");const A=this[x],H=this[x+7];(A===void 0||H===void 0)&&_e(x,this.length-8);const Z=A*2**24+this[++x]*2**16+this[++x]*2**8+this[++x],ue=this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+H;return(BigInt(Z)<<BigInt(32))+BigInt(ue)}),f.prototype.readIntLE=function(x,A,H){x=x>>>0,A=A>>>0,H||K(x,A,this.length);let Z=this[x],ue=1,le=0;for(;++le<A&&(ue*=256);)Z+=this[x+le]*ue;return ue*=128,Z>=ue&&(Z-=Math.pow(2,8*A)),Z},f.prototype.readIntBE=function(x,A,H){x=x>>>0,A=A>>>0,H||K(x,A,this.length);let Z=A,ue=1,le=this[x+--Z];for(;Z>0&&(ue*=256);)le+=this[x+--Z]*ue;return ue*=128,le>=ue&&(le-=Math.pow(2,8*A)),le},f.prototype.readInt8=function(x,A){return x=x>>>0,A||K(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},f.prototype.readInt16LE=function(x,A){x=x>>>0,A||K(x,2,this.length);const H=this[x]|this[x+1]<<8;return H&32768?H|4294901760:H},f.prototype.readInt16BE=function(x,A){x=x>>>0,A||K(x,2,this.length);const H=this[x+1]|this[x]<<8;return H&32768?H|4294901760:H},f.prototype.readInt32LE=function(x,A){return x=x>>>0,A||K(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},f.prototype.readInt32BE=function(x,A){return x=x>>>0,A||K(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},f.prototype.readBigInt64LE=ge(function(x){x=x>>>0,ce(x,"offset");const A=this[x],H=this[x+7];(A===void 0||H===void 0)&&_e(x,this.length-8);const Z=this[x+4]+this[x+5]*2**8+this[x+6]*2**16+(H<<24);return(BigInt(Z)<<BigInt(32))+BigInt(A+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24)}),f.prototype.readBigInt64BE=ge(function(x){x=x>>>0,ce(x,"offset");const A=this[x],H=this[x+7];(A===void 0||H===void 0)&&_e(x,this.length-8);const Z=(A<<24)+this[++x]*2**16+this[++x]*2**8+this[++x];return(BigInt(Z)<<BigInt(32))+BigInt(this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+H)}),f.prototype.readFloatLE=function(x,A){return x=x>>>0,A||K(x,4,this.length),r.read(this,x,!0,23,4)},f.prototype.readFloatBE=function(x,A){return x=x>>>0,A||K(x,4,this.length),r.read(this,x,!1,23,4)},f.prototype.readDoubleLE=function(x,A){return x=x>>>0,A||K(x,8,this.length),r.read(this,x,!0,52,8)},f.prototype.readDoubleBE=function(x,A){return x=x>>>0,A||K(x,8,this.length),r.read(this,x,!1,52,8)};function he(O,x,A,H,Z,ue){if(!f.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>Z||x<ue)throw new RangeError('"value" argument is out of bounds');if(A+H>O.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(x,A,H,Z){if(x=+x,A=A>>>0,H=H>>>0,!Z){const Te=Math.pow(2,8*H)-1;he(this,x,A,H,Te,0)}let ue=1,le=0;for(this[A]=x&255;++le<H&&(ue*=256);)this[A+le]=x/ue&255;return A+H},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(x,A,H,Z){if(x=+x,A=A>>>0,H=H>>>0,!Z){const Te=Math.pow(2,8*H)-1;he(this,x,A,H,Te,0)}let ue=H-1,le=1;for(this[A+ue]=x&255;--ue>=0&&(le*=256);)this[A+ue]=x/le&255;return A+H},f.prototype.writeUint8=f.prototype.writeUInt8=function(x,A,H){return x=+x,A=A>>>0,H||he(this,x,A,1,255,0),this[A]=x&255,A+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(x,A,H){return x=+x,A=A>>>0,H||he(this,x,A,2,65535,0),this[A]=x&255,this[A+1]=x>>>8,A+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(x,A,H){return x=+x,A=A>>>0,H||he(this,x,A,2,65535,0),this[A]=x>>>8,this[A+1]=x&255,A+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(x,A,H){return x=+x,A=A>>>0,H||he(this,x,A,4,4294967295,0),this[A+3]=x>>>24,this[A+2]=x>>>16,this[A+1]=x>>>8,this[A]=x&255,A+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(x,A,H){return x=+x,A=A>>>0,H||he(this,x,A,4,4294967295,0),this[A]=x>>>24,this[A+1]=x>>>16,this[A+2]=x>>>8,this[A+3]=x&255,A+4};function ie(O,x,A,H,Z){Y(x,H,Z,O,A,7);let ue=Number(x&BigInt(4294967295));O[A++]=ue,ue=ue>>8,O[A++]=ue,ue=ue>>8,O[A++]=ue,ue=ue>>8,O[A++]=ue;let le=Number(x>>BigInt(32)&BigInt(4294967295));return O[A++]=le,le=le>>8,O[A++]=le,le=le>>8,O[A++]=le,le=le>>8,O[A++]=le,A}function fe(O,x,A,H,Z){Y(x,H,Z,O,A,7);let ue=Number(x&BigInt(4294967295));O[A+7]=ue,ue=ue>>8,O[A+6]=ue,ue=ue>>8,O[A+5]=ue,ue=ue>>8,O[A+4]=ue;let le=Number(x>>BigInt(32)&BigInt(4294967295));return O[A+3]=le,le=le>>8,O[A+2]=le,le=le>>8,O[A+1]=le,le=le>>8,O[A]=le,A+8}f.prototype.writeBigUInt64LE=ge(function(x,A=0){return ie(this,x,A,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=ge(function(x,A=0){return fe(this,x,A,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(x,A,H,Z){if(x=+x,A=A>>>0,!Z){const Ne=Math.pow(2,8*H-1);he(this,x,A,H,Ne-1,-Ne)}let ue=0,le=1,Te=0;for(this[A]=x&255;++ue<H&&(le*=256);)x<0&&Te===0&&this[A+ue-1]!==0&&(Te=1),this[A+ue]=(x/le>>0)-Te&255;return A+H},f.prototype.writeIntBE=function(x,A,H,Z){if(x=+x,A=A>>>0,!Z){const Ne=Math.pow(2,8*H-1);he(this,x,A,H,Ne-1,-Ne)}let ue=H-1,le=1,Te=0;for(this[A+ue]=x&255;--ue>=0&&(le*=256);)x<0&&Te===0&&this[A+ue+1]!==0&&(Te=1),this[A+ue]=(x/le>>0)-Te&255;return A+H},f.prototype.writeInt8=function(x,A,H){return x=+x,A=A>>>0,H||he(this,x,A,1,127,-128),x<0&&(x=255+x+1),this[A]=x&255,A+1},f.prototype.writeInt16LE=function(x,A,H){return x=+x,A=A>>>0,H||he(this,x,A,2,32767,-32768),this[A]=x&255,this[A+1]=x>>>8,A+2},f.prototype.writeInt16BE=function(x,A,H){return x=+x,A=A>>>0,H||he(this,x,A,2,32767,-32768),this[A]=x>>>8,this[A+1]=x&255,A+2},f.prototype.writeInt32LE=function(x,A,H){return x=+x,A=A>>>0,H||he(this,x,A,4,2147483647,-2147483648),this[A]=x&255,this[A+1]=x>>>8,this[A+2]=x>>>16,this[A+3]=x>>>24,A+4},f.prototype.writeInt32BE=function(x,A,H){return x=+x,A=A>>>0,H||he(this,x,A,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[A]=x>>>24,this[A+1]=x>>>16,this[A+2]=x>>>8,this[A+3]=x&255,A+4},f.prototype.writeBigInt64LE=ge(function(x,A=0){return ie(this,x,A,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=ge(function(x,A=0){return fe(this,x,A,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function pe(O,x,A,H,Z,ue){if(A+H>O.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function se(O,x,A,H,Z){return x=+x,A=A>>>0,Z||pe(O,x,A,4),r.write(O,x,A,H,23,4),A+4}f.prototype.writeFloatLE=function(x,A,H){return se(this,x,A,!0,H)},f.prototype.writeFloatBE=function(x,A,H){return se(this,x,A,!1,H)};function ee(O,x,A,H,Z){return x=+x,A=A>>>0,Z||pe(O,x,A,8),r.write(O,x,A,H,52,8),A+8}f.prototype.writeDoubleLE=function(x,A,H){return ee(this,x,A,!0,H)},f.prototype.writeDoubleBE=function(x,A,H){return ee(this,x,A,!1,H)},f.prototype.copy=function(x,A,H,Z){if(!f.isBuffer(x))throw new TypeError("argument should be a Buffer");if(H||(H=0),!Z&&Z!==0&&(Z=this.length),A>=x.length&&(A=x.length),A||(A=0),Z>0&&Z<H&&(Z=H),Z===H||x.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),x.length-A<Z-H&&(Z=x.length-A+H);const ue=Z-H;return this===x&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(A,H,Z):Uint8Array.prototype.set.call(x,this.subarray(H,Z),A),ue},f.prototype.fill=function(x,A,H,Z){if(typeof x=="string"){if(typeof A=="string"?(Z=A,A=0,H=this.length):typeof H=="string"&&(Z=H,H=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!f.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(x.length===1){const le=x.charCodeAt(0);(Z==="utf8"&&le<128||Z==="latin1")&&(x=le)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if(A<0||this.length<A||this.length<H)throw new RangeError("Out of range index");if(H<=A)return this;A=A>>>0,H=H===void 0?this.length:H>>>0,x||(x=0);let ue;if(typeof x=="number")for(ue=A;ue<H;++ue)this[ue]=x;else{const le=f.isBuffer(x)?x:f.from(x,Z),Te=le.length;if(Te===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(ue=0;ue<H-A;++ue)this[ue+A]=le[ue%Te]}return this};const te={};function ae(O,x,A){te[O]=class extends A{constructor(){super(),Object.defineProperty(this,"message",{value:x.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(Z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Z,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}}}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(O,x){return`The "${O}" argument must be of type number. Received type ${typeof x}`},TypeError),ae("ERR_OUT_OF_RANGE",function(O,x,A){let H=`The value of "${O}" is out of range.`,Z=A;return Number.isInteger(A)&&Math.abs(A)>2**32?Z=X(String(A)):typeof A=="bigint"&&(Z=String(A),(A>BigInt(2)**BigInt(32)||A<-(BigInt(2)**BigInt(32)))&&(Z=X(Z)),Z+="n"),H+=` It must be ${x}. Received ${Z}`,H},RangeError);function X(O){let x="",A=O.length;const H=O[0]==="-"?1:0;for(;A>=H+4;A-=3)x=`_${O.slice(A-3,A)}${x}`;return`${O.slice(0,A)}${x}`}function V(O,x,A){ce(x,"offset"),(O[x]===void 0||O[x+A]===void 0)&&_e(x,O.length-(A+1))}function Y(O,x,A,H,Z,ue){if(O>A||O<x){const le=typeof x=="bigint"?"n":"";let Te;throw ue>3?x===0||x===BigInt(0)?Te=`>= 0${le} and < 2${le} ** ${(ue+1)*8}${le}`:Te=`>= -(2${le} ** ${(ue+1)*8-1}${le}) and < 2 ** ${(ue+1)*8-1}${le}`:Te=`>= ${x}${le} and <= ${A}${le}`,new te.ERR_OUT_OF_RANGE("value",Te,O)}V(H,Z,ue)}function ce(O,x){if(typeof O!="number")throw new te.ERR_INVALID_ARG_TYPE(x,"number",O)}function _e(O,x,A){throw Math.floor(O)!==O?(ce(O,A),new te.ERR_OUT_OF_RANGE(A||"offset","an integer",O)):x<0?new te.ERR_BUFFER_OUT_OF_BOUNDS:new te.ERR_OUT_OF_RANGE(A||"offset",`>= ${A?1:0} and <= ${x}`,O)}const Ce=/[^+/0-9A-Za-z-_]/g;function Q(O){if(O=O.split("=")[0],O=O.trim().replace(Ce,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function U(O,x){x=x||1/0;let A;const H=O.length;let Z=null;const ue=[];for(let le=0;le<H;++le){if(A=O.charCodeAt(le),A>55295&&A<57344){if(!Z){if(A>56319){(x-=3)>-1&&ue.push(239,191,189);continue}else if(le+1===H){(x-=3)>-1&&ue.push(239,191,189);continue}Z=A;continue}if(A<56320){(x-=3)>-1&&ue.push(239,191,189),Z=A;continue}A=(Z-55296<<10|A-56320)+65536}else Z&&(x-=3)>-1&&ue.push(239,191,189);if(Z=null,A<128){if((x-=1)<0)break;ue.push(A)}else if(A<2048){if((x-=2)<0)break;ue.push(A>>6|192,A&63|128)}else if(A<65536){if((x-=3)<0)break;ue.push(A>>12|224,A>>6&63|128,A&63|128)}else if(A<1114112){if((x-=4)<0)break;ue.push(A>>18|240,A>>12&63|128,A>>6&63|128,A&63|128)}else throw new Error("Invalid code point")}return ue}function F(O){const x=[];for(let A=0;A<O.length;++A)x.push(O.charCodeAt(A)&255);return x}function W(O,x){let A,H,Z;const ue=[];for(let le=0;le<O.length&&!((x-=2)<0);++le)A=O.charCodeAt(le),H=A>>8,Z=A%256,ue.push(Z),ue.push(H);return ue}function be(O){return t.toByteArray(Q(O))}function Ee(O,x,A,H){let Z;for(Z=0;Z<H&&!(Z+A>=x.length||Z>=O.length);++Z)x[Z+A]=O[Z];return Z}function xe(O,x){return O instanceof x||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===x.name}function Ue(O){return O!==O}const de=function(){const O="0123456789abcdef",x=new Array(256);for(let A=0;A<16;++A){const H=A*16;for(let Z=0;Z<16;++Z)x[H+Z]=O[A]+O[Z]}return x}();function ge(O){return typeof BigInt>"u"?j:O}function j(){throw new Error("BigInt not supported")}})(ze);var mf={},A_={exports:{}};typeof Object.create=="function"?A_.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:A_.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var Gt=A_.exports,P_={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=ze,n=r.Buffer;function i(s,f){for(var d in s)f[d]=s[d]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o);function o(s,f,d){return n(s,f,d)}o.prototype=Object.create(n.prototype),i(n,o),o.from=function(s,f,d){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,f,d)},o.alloc=function(s,f,d){if(typeof s!="number")throw new TypeError("Argument must be a number");var a=n(s);return f!==void 0?typeof d=="string"?a.fill(f,d):a.fill(f):a.fill(0),a},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(P_,P_.exports);var Hn=P_.exports,N_={exports:{}},i6={exports:{}},mc=typeof Reflect=="object"?Reflect:null,Dw=mc&&typeof mc.apply=="function"?mc.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Iy;mc&&typeof mc.ownKeys=="function"?Iy=mc.ownKeys:Object.getOwnPropertySymbols?Iy=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Iy=function(t){return Object.getOwnPropertyNames(t)};function wO(e){console&&console.warn&&console.warn(e)}var WE=Number.isNaN||function(t){return t!==t};function ot(){ot.init.call(this)}i6.exports=ot;i6.exports.once=xO;ot.EventEmitter=ot;ot.prototype._events=void 0;ot.prototype._eventsCount=0;ot.prototype._maxListeners=void 0;var Rw=10;function Lg(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ot,"defaultMaxListeners",{enumerable:!0,get:function(){return Rw},set:function(e){if(typeof e!="number"||e<0||WE(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Rw=e}});ot.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ot.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||WE(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function XE(e){return e._maxListeners===void 0?ot.defaultMaxListeners:e._maxListeners}ot.prototype.getMaxListeners=function(){return XE(this)};ot.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var f=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw f.context=s,f}var d=o[t];if(d===void 0)return!1;if(typeof d=="function")Dw(d,this,r);else for(var a=d.length,c=rx(d,a),n=0;n<a;++n)Dw(c[n],this,r);return!0};function ZE(e,t,r,n){var i,o,s;if(Lg(r),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),s===void 0)s=o[t]=r,++e._eventsCount;else if(typeof s=="function"?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=XE(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=s.length,wO(f)}return e}ot.prototype.addListener=function(t,r){return ZE(this,t,r,!1)};ot.prototype.on=ot.prototype.addListener;ot.prototype.prependListener=function(t,r){return ZE(this,t,r,!0)};function TO(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function QE(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=TO.bind(n);return i.listener=r,n.wrapFn=i,i}ot.prototype.once=function(t,r){return Lg(r),this.on(t,QE(this,t,r)),this};ot.prototype.prependOnceListener=function(t,r){return Lg(r),this.prependListener(t,QE(this,t,r)),this};ot.prototype.removeListener=function(t,r){var n,i,o,s,f;if(Lg(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){f=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():IO(n,o),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,f||r)}return this};ot.prototype.off=ot.prototype.removeListener;ot.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var o=Object.keys(n),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function ex(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?EO(i):rx(i,i.length)}ot.prototype.listeners=function(t){return ex(this,t,!0)};ot.prototype.rawListeners=function(t){return ex(this,t,!1)};ot.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):tx.call(e,t)};ot.prototype.listenerCount=tx;function tx(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ot.prototype.eventNames=function(){return this._eventsCount>0?Iy(this._events):[]};function rx(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function IO(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function EO(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function xO(e,t){return new Promise(function(r,n){function i(s){e.removeListener(t,o),n(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}nx(e,t,o,{once:!0}),t!=="error"&&SO(e,i,{once:!0})})}function SO(e,t,r){typeof e.on=="function"&&nx(e,"error",t,r)}function nx(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var o6=i6.exports,ix=o6.EventEmitter,gb,Ow;function BO(){if(Ow)return gb;Ow=1;function e(g,v){var T=Object.keys(g);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(g);v&&(I=I.filter(function(_){return Object.getOwnPropertyDescriptor(g,_).enumerable})),T.push.apply(T,I)}return T}function t(g){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?e(Object(T),!0).forEach(function(I){r(g,I,T[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(T)):e(Object(T)).forEach(function(I){Object.defineProperty(g,I,Object.getOwnPropertyDescriptor(T,I))})}return g}function r(g,v,T){return v=s(v),v in g?Object.defineProperty(g,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[v]=T,g}function n(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function i(g,v){for(var T=0;T<v.length;T++){var I=v[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,s(I.key),I)}}function o(g,v,T){return v&&i(g.prototype,v),T&&i(g,T),Object.defineProperty(g,"prototype",{writable:!1}),g}function s(g){var v=f(g,"string");return typeof v=="symbol"?v:String(v)}function f(g,v){if(typeof g!="object"||g===null)return g;var T=g[Symbol.toPrimitive];if(T!==void 0){var I=T.call(g,v||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(g)}var d=ze,a=d.Buffer,c=md,p=c.inspect,h=p&&p.custom||"inspect";function y(g,v,T){a.prototype.copy.call(g,v,T)}return gb=function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return o(g,[{key:"push",value:function(T){var I={data:T,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length}},{key:"unshift",value:function(T){var I={data:T,next:this.head};this.length===0&&(this.tail=I),this.head=I,++this.length}},{key:"shift",value:function(){if(this.length!==0){var T=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,T}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(T){if(this.length===0)return"";for(var I=this.head,_=""+I.data;I=I.next;)_+=T+I.data;return _}},{key:"concat",value:function(T){if(this.length===0)return a.alloc(0);for(var I=a.allocUnsafe(T>>>0),_=this.head,C=0;_;)y(_.data,I,C),C+=_.data.length,_=_.next;return I}},{key:"consume",value:function(T,I){var _;return T<this.head.data.length?(_=this.head.data.slice(0,T),this.head.data=this.head.data.slice(T)):T===this.head.data.length?_=this.shift():_=I?this._getString(T):this._getBuffer(T),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(T){var I=this.head,_=1,C=I.data;for(T-=C.length;I=I.next;){var w=I.data,P=T>w.length?w.length:T;if(P===w.length?C+=w:C+=w.slice(0,T),T-=P,T===0){P===w.length?(++_,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=w.slice(P));break}++_}return this.length-=_,C}},{key:"_getBuffer",value:function(T){var I=a.allocUnsafe(T),_=this.head,C=1;for(_.data.copy(I),T-=_.data.length;_=_.next;){var w=_.data,P=T>w.length?w.length:T;if(w.copy(I,I.length-T,0,P),T-=P,T===0){P===w.length?(++C,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=w.slice(P));break}++C}return this.length-=C,I}},{key:h,value:function(T,I){return p(this,t(t({},I),{},{depth:0,customInspect:!1}))}}]),g}(),gb}function CO(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(M_,this,e)):process.nextTick(M_,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(Ey,r):(r._writableState.errorEmitted=!0,process.nextTick(Aw,r,o)):process.nextTick(Aw,r,o):t?(process.nextTick(Ey,r),t(o)):process.nextTick(Ey,r)}),this)}function Aw(e,t){M_(e,t),Ey(e)}function Ey(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function DO(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function M_(e,t){e.emit("error",t)}function RO(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var ox={destroy:CO,undestroy:DO,errorOrDestroy:RO},$u={};function OO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var sx={};function Oi(e,t,r){r||(r=Error);function n(o,s,f){return typeof t=="string"?t:t(o,s,f)}var i=function(o){OO(s,o);function s(f,d,a){return o.call(this,n(f,d,a))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=e,sx[e]=i}function Pw(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function AO(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function PO(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function NO(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}Oi("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);Oi("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&AO(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(PO(e," argument"))i="The ".concat(e," ").concat(n," ").concat(Pw(t,"type"));else{var o=NO(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(Pw(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Oi("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Oi("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});Oi("ERR_STREAM_PREMATURE_CLOSE","Premature close");Oi("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});Oi("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Oi("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Oi("ERR_STREAM_WRITE_AFTER_END","write after end");Oi("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Oi("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);Oi("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");$u.codes=sx;var MO=$u.codes.ERR_INVALID_OPT_VALUE;function UO(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function kO(e,t,r,n){var i=UO(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new MO(o,i)}return Math.floor(i)}return e.objectMode?16:16*1024}var ax={getHighWaterMark:kO},$O=FO;function FO(e,t){if(mb("noDeprecation"))return e;var r=!1;function n(){if(!r){if(mb("throwDeprecation"))throw new Error(t);mb("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function mb(e){try{if(!Be.localStorage)return!1}catch{return!1}var t=Be.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var bb,Nw;function fx(){if(Nw)return bb;Nw=1,bb=l;function e(se){var ee=this;this.next=null,this.entry=null,this.finish=function(){pe(ee,se)}}var t;l.WritableState=D;var r={deprecate:$O},n=ix,i=ze.Buffer,o=(typeof Be<"u"?Be:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(se){return i.from(se)}function f(se){return i.isBuffer(se)||se instanceof o}var d=ox,a=ax,c=a.getHighWaterMark,p=$u.codes,h=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,v=p.ERR_STREAM_CANNOT_PIPE,T=p.ERR_STREAM_DESTROYED,I=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,C=p.ERR_UNKNOWN_ENCODING,w=d.errorOrDestroy;Gt(l,n);function P(){}function D(se,ee,te){t=t||Ic(),se=se||{},typeof te!="boolean"&&(te=ee instanceof t),this.objectMode=!!se.objectMode,te&&(this.objectMode=this.objectMode||!!se.writableObjectMode),this.highWaterMark=c(this,se,"writableHighWaterMark",te),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ae=se.decodeStrings===!1;this.decodeStrings=!ae,this.defaultEncoding=se.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(X){$(ee,X)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=se.emitClose!==!1,this.autoDestroy=!!se.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}D.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,te=[];ee;)te.push(ee),ee=ee.next;return te},function(){try{Object.defineProperty(D.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var u;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(ee){return u.call(this,ee)?!0:this!==l?!1:ee&&ee._writableState instanceof D}})):u=function(ee){return ee instanceof this};function l(se){t=t||Ic();var ee=this instanceof t;if(!ee&&!u.call(l,this))return new l(se);this._writableState=new D(se,this,ee),this.writable=!0,se&&(typeof se.write=="function"&&(this._write=se.write),typeof se.writev=="function"&&(this._writev=se.writev),typeof se.destroy=="function"&&(this._destroy=se.destroy),typeof se.final=="function"&&(this._final=se.final)),n.call(this)}l.prototype.pipe=function(){w(this,new v)};function m(se,ee){var te=new _;w(se,te),process.nextTick(ee,te)}function R(se,ee,te,ae){var X;return te===null?X=new I:typeof te!="string"&&!ee.objectMode&&(X=new h("chunk",["string","Buffer"],te)),X?(w(se,X),process.nextTick(ae,X),!1):!0}l.prototype.write=function(se,ee,te){var ae=this._writableState,X=!1,V=!ae.objectMode&&f(se);return V&&!i.isBuffer(se)&&(se=s(se)),typeof ee=="function"&&(te=ee,ee=null),V?ee="buffer":ee||(ee=ae.defaultEncoding),typeof te!="function"&&(te=P),ae.ending?m(this,te):(V||R(this,ae,se,te))&&(ae.pendingcb++,X=b(this,ae,V,se,ee,te)),X},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var se=this._writableState;se.corked&&(se.corked--,!se.writing&&!se.corked&&!se.bufferProcessing&&se.bufferedRequest&&M(this,se))},l.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new C(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function B(se,ee,te){return!se.objectMode&&se.decodeStrings!==!1&&typeof ee=="string"&&(ee=i.from(ee,te)),ee}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function b(se,ee,te,ae,X,V){if(!te){var Y=B(ee,ae,X);ae!==Y&&(te=!0,X="buffer",ae=Y)}var ce=ee.objectMode?1:ae.length;ee.length+=ce;var _e=ee.length<ee.highWaterMark;if(_e||(ee.needDrain=!0),ee.writing||ee.corked){var Ce=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:ae,encoding:X,isBuf:te,callback:V,next:null},Ce?Ce.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else E(se,ee,!1,ce,ae,X,V);return _e}function E(se,ee,te,ae,X,V,Y){ee.writelen=ae,ee.writecb=Y,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new T("write")):te?se._writev(X,ee.onwrite):se._write(X,V,ee.onwrite),ee.sync=!1}function k(se,ee,te,ae,X){--ee.pendingcb,te?(process.nextTick(X,ae),process.nextTick(ie,se,ee),se._writableState.errorEmitted=!0,w(se,ae)):(X(ae),se._writableState.errorEmitted=!0,w(se,ae),ie(se,ee))}function L(se){se.writing=!1,se.writecb=null,se.length-=se.writelen,se.writelen=0}function $(se,ee){var te=se._writableState,ae=te.sync,X=te.writecb;if(typeof X!="function")throw new g;if(L(te),ee)k(se,te,ae,ee,X);else{var V=S(te)||se.destroyed;!V&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&M(se,te),ae?process.nextTick(G,se,te,V,X):G(se,te,V,X)}}function G(se,ee,te,ae){te||oe(se,ee),ee.pendingcb--,ae(),ie(se,ee)}function oe(se,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,se.emit("drain"))}function M(se,ee){ee.bufferProcessing=!0;var te=ee.bufferedRequest;if(se._writev&&te&&te.next){var ae=ee.bufferedRequestCount,X=new Array(ae),V=ee.corkedRequestsFree;V.entry=te;for(var Y=0,ce=!0;te;)X[Y]=te,te.isBuf||(ce=!1),te=te.next,Y+=1;X.allBuffers=ce,E(se,ee,!0,ee.length,X,"",V.finish),ee.pendingcb++,ee.lastBufferedRequest=null,V.next?(ee.corkedRequestsFree=V.next,V.next=null):ee.corkedRequestsFree=new e(ee),ee.bufferedRequestCount=0}else{for(;te;){var _e=te.chunk,Ce=te.encoding,Q=te.callback,U=ee.objectMode?1:_e.length;if(E(se,ee,!1,U,_e,Ce,Q),te=te.next,ee.bufferedRequestCount--,ee.writing)break}te===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=te,ee.bufferProcessing=!1}l.prototype._write=function(se,ee,te){te(new y("_write()"))},l.prototype._writev=null,l.prototype.end=function(se,ee,te){var ae=this._writableState;return typeof se=="function"?(te=se,se=null,ee=null):typeof ee=="function"&&(te=ee,ee=null),se!=null&&this.write(se,ee),ae.corked&&(ae.corked=1,this.uncork()),ae.ending||fe(this,ae,te),this},Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function S(se){return se.ending&&se.length===0&&se.bufferedRequest===null&&!se.finished&&!se.writing}function K(se,ee){se._final(function(te){ee.pendingcb--,te&&w(se,te),ee.prefinished=!0,se.emit("prefinish"),ie(se,ee)})}function he(se,ee){!ee.prefinished&&!ee.finalCalled&&(typeof se._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,process.nextTick(K,se,ee)):(ee.prefinished=!0,se.emit("prefinish")))}function ie(se,ee){var te=S(ee);if(te&&(he(se,ee),ee.pendingcb===0&&(ee.finished=!0,se.emit("finish"),ee.autoDestroy))){var ae=se._readableState;(!ae||ae.autoDestroy&&ae.endEmitted)&&se.destroy()}return te}function fe(se,ee,te){ee.ending=!0,ie(se,ee),te&&(ee.finished?process.nextTick(te):se.once("finish",te)),ee.ended=!0,se.writable=!1}function pe(se,ee,te){var ae=se.entry;for(se.entry=null;ae;){var X=ae.callback;ee.pendingcb--,X(te),ae=ae.next}ee.corkedRequestsFree.next=se}return Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),l.prototype.destroy=d.destroy,l.prototype._undestroy=d.undestroy,l.prototype._destroy=function(se,ee){ee(se)},bb}var vb,Mw;function Ic(){if(Mw)return vb;Mw=1;var e=Object.keys||function(a){var c=[];for(var p in a)c.push(p);return c};vb=s;var t=cx(),r=fx();Gt(s,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var o=n[i];s.prototype[o]||(s.prototype[o]=r.prototype[o])}function s(a){if(!(this instanceof s))return new s(a);t.call(this,a),r.call(this,a),this.allowHalfOpen=!0,a&&(a.readable===!1&&(this.readable=!1),a.writable===!1&&(this.writable=!1),a.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||process.nextTick(d,this)}function d(a){a.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),vb}var Ky={},s6=Hn.Buffer,Uw=s6.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function LO(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function jO(e){var t=LO(e);if(typeof t!="string"&&(s6.isEncoding===Uw||!Uw(e)))throw new Error("Unknown encoding: "+e);return t||e}Ky.StringDecoder=Lh;function Lh(e){this.encoding=jO(e);var t;switch(this.encoding){case"utf16le":this.text=YO,this.end=GO,t=4;break;case"utf8":this.fillLast=qO,t=4;break;case"base64":this.text=JO,this.end=WO,t=3;break;default:this.write=XO,this.end=ZO;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=s6.allocUnsafe(t)}Lh.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Lh.prototype.end=zO;Lh.prototype.text=VO;Lh.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function _b(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function KO(e,t,r){var n=t.length-1;if(n<r)return 0;var i=_b(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=_b(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=_b(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function HO(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,""}}function qO(e){var t=this.lastTotal-this.lastNeed,r=HO(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function VO(e,t){var r=KO(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function zO(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function YO(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function GO(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function JO(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function WO(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function XO(e){return e.toString(this.encoding)}function ZO(e){return e&&e.length?this.write(e):""}var kw=$u.codes.ERR_STREAM_PREMATURE_CLOSE;function QO(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function eA(){}function tA(e){return e.setHeader&&typeof e.abort=="function"}function ux(e,t,r){if(typeof t=="function")return ux(e,null,t);t||(t={}),r=QO(r||eA);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,o=function(){e.writable||f()},s=e._writableState&&e._writableState.finished,f=function(){i=!1,s=!0,n||r.call(e)},d=e._readableState&&e._readableState.endEmitted,a=function(){n=!1,d=!0,i||r.call(e)},c=function(g){r.call(e,g)},p=function(){var g;if(n&&!d)return(!e._readableState||!e._readableState.ended)&&(g=new kw),r.call(e,g);if(i&&!s)return(!e._writableState||!e._writableState.ended)&&(g=new kw),r.call(e,g)},h=function(){e.req.on("finish",f)};return tA(e)?(e.on("complete",f),e.on("abort",p),e.req?h():e.on("request",h)):i&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",a),e.on("finish",f),t.error!==!1&&e.on("error",c),e.on("close",p),function(){e.removeListener("complete",f),e.removeListener("abort",p),e.removeListener("request",h),e.req&&e.req.removeListener("finish",f),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",f),e.removeListener("end",a),e.removeListener("error",c),e.removeListener("close",p)}}var a6=ux,wb,$w;function rA(){if($w)return wb;$w=1;var e;function t(C,w,P){return w=r(w),w in C?Object.defineProperty(C,w,{value:P,enumerable:!0,configurable:!0,writable:!0}):C[w]=P,C}function r(C){var w=n(C,"string");return typeof w=="symbol"?w:String(w)}function n(C,w){if(typeof C!="object"||C===null)return C;var P=C[Symbol.toPrimitive];if(P!==void 0){var D=P.call(C,w||"default");if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(C)}var i=a6,o=Symbol("lastResolve"),s=Symbol("lastReject"),f=Symbol("error"),d=Symbol("ended"),a=Symbol("lastPromise"),c=Symbol("handlePromise"),p=Symbol("stream");function h(C,w){return{value:C,done:w}}function y(C){var w=C[o];if(w!==null){var P=C[p].read();P!==null&&(C[a]=null,C[o]=null,C[s]=null,w(h(P,!1)))}}function g(C){process.nextTick(y,C)}function v(C,w){return function(P,D){C.then(function(){if(w[d]){P(h(void 0,!0));return}w[c](P,D)},D)}}var T=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((e={get stream(){return this[p]},next:function(){var w=this,P=this[f];if(P!==null)return Promise.reject(P);if(this[d])return Promise.resolve(h(void 0,!0));if(this[p].destroyed)return new Promise(function(m,R){process.nextTick(function(){w[f]?R(w[f]):m(h(void 0,!0))})});var D=this[a],u;if(D)u=new Promise(v(D,this));else{var l=this[p].read();if(l!==null)return Promise.resolve(h(l,!1));u=new Promise(this[c])}return this[a]=u,u}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var w=this;return new Promise(function(P,D){w[p].destroy(null,function(u){if(u){D(u);return}P(h(void 0,!0))})})}),e),T),_=function(w){var P,D=Object.create(I,(P={},t(P,p,{value:w,writable:!0}),t(P,o,{value:null,writable:!0}),t(P,s,{value:null,writable:!0}),t(P,f,{value:null,writable:!0}),t(P,d,{value:w._readableState.endEmitted,writable:!0}),t(P,c,{value:function(l,m){var R=D[p].read();R?(D[a]=null,D[o]=null,D[s]=null,l(h(R,!1))):(D[o]=l,D[s]=m)},writable:!0}),P));return D[a]=null,i(w,function(u){if(u&&u.code!=="ERR_STREAM_PREMATURE_CLOSE"){var l=D[s];l!==null&&(D[a]=null,D[o]=null,D[s]=null,l(u)),D[f]=u;return}var m=D[o];m!==null&&(D[a]=null,D[o]=null,D[s]=null,m(h(void 0,!0))),D[d]=!0}),w.on("readable",g.bind(null,D)),D};return wb=_,wb}var Tb,Fw;function nA(){return Fw||(Fw=1,Tb=function(){throw new Error("Readable.from is not available in the browser")}),Tb}var Ib,Lw;function cx(){if(Lw)return Ib;Lw=1,Ib=m;var e;m.ReadableState=l,o6.EventEmitter;var t=function(Y,ce){return Y.listeners(ce).length},r=ix,n=ze.Buffer,i=(typeof Be<"u"?Be:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(V){return n.from(V)}function s(V){return n.isBuffer(V)||V instanceof i}var f=md,d;f&&f.debuglog?d=f.debuglog("stream"):d=function(){};var a=BO(),c=ox,p=ax,h=p.getHighWaterMark,y=$u.codes,g=y.ERR_INVALID_ARG_TYPE,v=y.ERR_STREAM_PUSH_AFTER_EOF,T=y.ERR_METHOD_NOT_IMPLEMENTED,I=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,_,C,w;Gt(m,r);var P=c.errorOrDestroy,D=["error","close","destroy","pause","resume"];function u(V,Y,ce){if(typeof V.prependListener=="function")return V.prependListener(Y,ce);!V._events||!V._events[Y]?V.on(Y,ce):Array.isArray(V._events[Y])?V._events[Y].unshift(ce):V._events[Y]=[ce,V._events[Y]]}function l(V,Y,ce){e=e||Ic(),V=V||{},typeof ce!="boolean"&&(ce=Y instanceof e),this.objectMode=!!V.objectMode,ce&&(this.objectMode=this.objectMode||!!V.readableObjectMode),this.highWaterMark=h(this,V,"readableHighWaterMark",ce),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(_||(_=Ky.StringDecoder),this.decoder=new _(V.encoding),this.encoding=V.encoding)}function m(V){if(e=e||Ic(),!(this instanceof m))return new m(V);var Y=this instanceof e;this._readableState=new l(V,this,Y),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),r.call(this)}Object.defineProperty(m.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Y){this._readableState&&(this._readableState.destroyed=Y)}}),m.prototype.destroy=c.destroy,m.prototype._undestroy=c.undestroy,m.prototype._destroy=function(V,Y){Y(V)},m.prototype.push=function(V,Y){var ce=this._readableState,_e;return ce.objectMode?_e=!0:typeof V=="string"&&(Y=Y||ce.defaultEncoding,Y!==ce.encoding&&(V=n.from(V,Y),Y=""),_e=!0),R(this,V,Y,!1,_e)},m.prototype.unshift=function(V){return R(this,V,null,!0,!1)};function R(V,Y,ce,_e,Ce){d("readableAddChunk",Y);var Q=V._readableState;if(Y===null)Q.reading=!1,$(V,Q);else{var U;if(Ce||(U=b(Q,Y)),U)P(V,U);else if(Q.objectMode||Y&&Y.length>0)if(typeof Y!="string"&&!Q.objectMode&&Object.getPrototypeOf(Y)!==n.prototype&&(Y=o(Y)),_e)Q.endEmitted?P(V,new I):B(V,Q,Y,!0);else if(Q.ended)P(V,new v);else{if(Q.destroyed)return!1;Q.reading=!1,Q.decoder&&!ce?(Y=Q.decoder.write(Y),Q.objectMode||Y.length!==0?B(V,Q,Y,!1):M(V,Q)):B(V,Q,Y,!1)}else _e||(Q.reading=!1,M(V,Q))}return!Q.ended&&(Q.length<Q.highWaterMark||Q.length===0)}function B(V,Y,ce,_e){Y.flowing&&Y.length===0&&!Y.sync?(Y.awaitDrain=0,V.emit("data",ce)):(Y.length+=Y.objectMode?1:ce.length,_e?Y.buffer.unshift(ce):Y.buffer.push(ce),Y.needReadable&&G(V)),M(V,Y)}function b(V,Y){var ce;return!s(Y)&&typeof Y!="string"&&Y!==void 0&&!V.objectMode&&(ce=new g("chunk",["string","Buffer","Uint8Array"],Y)),ce}m.prototype.isPaused=function(){return this._readableState.flowing===!1},m.prototype.setEncoding=function(V){_||(_=Ky.StringDecoder);var Y=new _(V);this._readableState.decoder=Y,this._readableState.encoding=this._readableState.decoder.encoding;for(var ce=this._readableState.buffer.head,_e="";ce!==null;)_e+=Y.write(ce.data),ce=ce.next;return this._readableState.buffer.clear(),_e!==""&&this._readableState.buffer.push(_e),this._readableState.length=_e.length,this};var E=1073741824;function k(V){return V>=E?V=E:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}function L(V,Y){return V<=0||Y.length===0&&Y.ended?0:Y.objectMode?1:V!==V?Y.flowing&&Y.length?Y.buffer.head.data.length:Y.length:(V>Y.highWaterMark&&(Y.highWaterMark=k(V)),V<=Y.length?V:Y.ended?Y.length:(Y.needReadable=!0,0))}m.prototype.read=function(V){d("read",V),V=parseInt(V,10);var Y=this._readableState,ce=V;if(V!==0&&(Y.emittedReadable=!1),V===0&&Y.needReadable&&((Y.highWaterMark!==0?Y.length>=Y.highWaterMark:Y.length>0)||Y.ended))return d("read: emitReadable",Y.length,Y.ended),Y.length===0&&Y.ended?te(this):G(this),null;if(V=L(V,Y),V===0&&Y.ended)return Y.length===0&&te(this),null;var _e=Y.needReadable;d("need readable",_e),(Y.length===0||Y.length-V<Y.highWaterMark)&&(_e=!0,d("length less than watermark",_e)),Y.ended||Y.reading?(_e=!1,d("reading or ended",_e)):_e&&(d("do read"),Y.reading=!0,Y.sync=!0,Y.length===0&&(Y.needReadable=!0),this._read(Y.highWaterMark),Y.sync=!1,Y.reading||(V=L(ce,Y)));var Ce;return V>0?Ce=ee(V,Y):Ce=null,Ce===null?(Y.needReadable=Y.length<=Y.highWaterMark,V=0):(Y.length-=V,Y.awaitDrain=0),Y.length===0&&(Y.ended||(Y.needReadable=!0),ce!==V&&Y.ended&&te(this)),Ce!==null&&this.emit("data",Ce),Ce};function $(V,Y){if(d("onEofChunk"),!Y.ended){if(Y.decoder){var ce=Y.decoder.end();ce&&ce.length&&(Y.buffer.push(ce),Y.length+=Y.objectMode?1:ce.length)}Y.ended=!0,Y.sync?G(V):(Y.needReadable=!1,Y.emittedReadable||(Y.emittedReadable=!0,oe(V)))}}function G(V){var Y=V._readableState;d("emitReadable",Y.needReadable,Y.emittedReadable),Y.needReadable=!1,Y.emittedReadable||(d("emitReadable",Y.flowing),Y.emittedReadable=!0,process.nextTick(oe,V))}function oe(V){var Y=V._readableState;d("emitReadable_",Y.destroyed,Y.length,Y.ended),!Y.destroyed&&(Y.length||Y.ended)&&(V.emit("readable"),Y.emittedReadable=!1),Y.needReadable=!Y.flowing&&!Y.ended&&Y.length<=Y.highWaterMark,se(V)}function M(V,Y){Y.readingMore||(Y.readingMore=!0,process.nextTick(S,V,Y))}function S(V,Y){for(;!Y.reading&&!Y.ended&&(Y.length<Y.highWaterMark||Y.flowing&&Y.length===0);){var ce=Y.length;if(d("maybeReadMore read 0"),V.read(0),ce===Y.length)break}Y.readingMore=!1}m.prototype._read=function(V){P(this,new T("_read()"))},m.prototype.pipe=function(V,Y){var ce=this,_e=this._readableState;switch(_e.pipesCount){case 0:_e.pipes=V;break;case 1:_e.pipes=[_e.pipes,V];break;default:_e.pipes.push(V);break}_e.pipesCount+=1,d("pipe count=%d opts=%j",_e.pipesCount,Y);var Ce=(!Y||Y.end!==!1)&&V!==process.stdout&&V!==process.stderr,Q=Ce?F:j;_e.endEmitted?process.nextTick(Q):ce.once("end",Q),V.on("unpipe",U);function U(O,x){d("onunpipe"),O===ce&&x&&x.hasUnpiped===!1&&(x.hasUnpiped=!0,Ee())}function F(){d("onend"),V.end()}var W=K(ce);V.on("drain",W);var be=!1;function Ee(){d("cleanup"),V.removeListener("close",de),V.removeListener("finish",ge),V.removeListener("drain",W),V.removeListener("error",Ue),V.removeListener("unpipe",U),ce.removeListener("end",F),ce.removeListener("end",j),ce.removeListener("data",xe),be=!0,_e.awaitDrain&&(!V._writableState||V._writableState.needDrain)&&W()}ce.on("data",xe);function xe(O){d("ondata");var x=V.write(O);d("dest.write",x),x===!1&&((_e.pipesCount===1&&_e.pipes===V||_e.pipesCount>1&&X(_e.pipes,V)!==-1)&&!be&&(d("false write response, pause",_e.awaitDrain),_e.awaitDrain++),ce.pause())}function Ue(O){d("onerror",O),j(),V.removeListener("error",Ue),t(V,"error")===0&&P(V,O)}u(V,"error",Ue);function de(){V.removeListener("finish",ge),j()}V.once("close",de);function ge(){d("onfinish"),V.removeListener("close",de),j()}V.once("finish",ge);function j(){d("unpipe"),ce.unpipe(V)}return V.emit("pipe",ce),_e.flowing||(d("pipe resume"),ce.resume()),V};function K(V){return function(){var ce=V._readableState;d("pipeOnDrain",ce.awaitDrain),ce.awaitDrain&&ce.awaitDrain--,ce.awaitDrain===0&&t(V,"data")&&(ce.flowing=!0,se(V))}}m.prototype.unpipe=function(V){var Y=this._readableState,ce={hasUnpiped:!1};if(Y.pipesCount===0)return this;if(Y.pipesCount===1)return V&&V!==Y.pipes?this:(V||(V=Y.pipes),Y.pipes=null,Y.pipesCount=0,Y.flowing=!1,V&&V.emit("unpipe",this,ce),this);if(!V){var _e=Y.pipes,Ce=Y.pipesCount;Y.pipes=null,Y.pipesCount=0,Y.flowing=!1;for(var Q=0;Q<Ce;Q++)_e[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var U=X(Y.pipes,V);return U===-1?this:(Y.pipes.splice(U,1),Y.pipesCount-=1,Y.pipesCount===1&&(Y.pipes=Y.pipes[0]),V.emit("unpipe",this,ce),this)},m.prototype.on=function(V,Y){var ce=r.prototype.on.call(this,V,Y),_e=this._readableState;return V==="data"?(_e.readableListening=this.listenerCount("readable")>0,_e.flowing!==!1&&this.resume()):V==="readable"&&!_e.endEmitted&&!_e.readableListening&&(_e.readableListening=_e.needReadable=!0,_e.flowing=!1,_e.emittedReadable=!1,d("on readable",_e.length,_e.reading),_e.length?G(this):_e.reading||process.nextTick(ie,this)),ce},m.prototype.addListener=m.prototype.on,m.prototype.removeListener=function(V,Y){var ce=r.prototype.removeListener.call(this,V,Y);return V==="readable"&&process.nextTick(he,this),ce},m.prototype.removeAllListeners=function(V){var Y=r.prototype.removeAllListeners.apply(this,arguments);return(V==="readable"||V===void 0)&&process.nextTick(he,this),Y};function he(V){var Y=V._readableState;Y.readableListening=V.listenerCount("readable")>0,Y.resumeScheduled&&!Y.paused?Y.flowing=!0:V.listenerCount("data")>0&&V.resume()}function ie(V){d("readable nexttick read 0"),V.read(0)}m.prototype.resume=function(){var V=this._readableState;return V.flowing||(d("resume"),V.flowing=!V.readableListening,fe(this,V)),V.paused=!1,this};function fe(V,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,process.nextTick(pe,V,Y))}function pe(V,Y){d("resume",Y.reading),Y.reading||V.read(0),Y.resumeScheduled=!1,V.emit("resume"),se(V),Y.flowing&&!Y.reading&&V.read(0)}m.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function se(V){var Y=V._readableState;for(d("flow",Y.flowing);Y.flowing&&V.read()!==null;);}m.prototype.wrap=function(V){var Y=this,ce=this._readableState,_e=!1;V.on("end",function(){if(d("wrapped end"),ce.decoder&&!ce.ended){var U=ce.decoder.end();U&&U.length&&Y.push(U)}Y.push(null)}),V.on("data",function(U){if(d("wrapped data"),ce.decoder&&(U=ce.decoder.write(U)),!(ce.objectMode&&U==null)&&!(!ce.objectMode&&(!U||!U.length))){var F=Y.push(U);F||(_e=!0,V.pause())}});for(var Ce in V)this[Ce]===void 0&&typeof V[Ce]=="function"&&(this[Ce]=function(F){return function(){return V[F].apply(V,arguments)}}(Ce));for(var Q=0;Q<D.length;Q++)V.on(D[Q],this.emit.bind(this,D[Q]));return this._read=function(U){d("wrapped _read",U),_e&&(_e=!1,V.resume())},this},typeof Symbol=="function"&&(m.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=rA()),C(this)}),Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(m.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(m.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Y){this._readableState&&(this._readableState.flowing=Y)}}),m._fromList=ee,Object.defineProperty(m.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(V,Y){if(Y.length===0)return null;var ce;return Y.objectMode?ce=Y.buffer.shift():!V||V>=Y.length?(Y.decoder?ce=Y.buffer.join(""):Y.buffer.length===1?ce=Y.buffer.first():ce=Y.buffer.concat(Y.length),Y.buffer.clear()):ce=Y.buffer.consume(V,Y.decoder),ce}function te(V){var Y=V._readableState;d("endReadable",Y.endEmitted),Y.endEmitted||(Y.ended=!0,process.nextTick(ae,Y,V))}function ae(V,Y){if(d("endReadableNT",V.endEmitted,V.length),!V.endEmitted&&V.length===0&&(V.endEmitted=!0,Y.readable=!1,Y.emit("end"),V.autoDestroy)){var ce=Y._writableState;(!ce||ce.autoDestroy&&ce.finished)&&Y.destroy()}}typeof Symbol=="function"&&(m.from=function(V,Y){return w===void 0&&(w=nA()),w(m,V,Y)});function X(V,Y){for(var ce=0,_e=V.length;ce<_e;ce++)if(V[ce]===Y)return ce;return-1}return Ib}var dx=aa,jg=$u.codes,iA=jg.ERR_METHOD_NOT_IMPLEMENTED,oA=jg.ERR_MULTIPLE_CALLBACK,sA=jg.ERR_TRANSFORM_ALREADY_TRANSFORMING,aA=jg.ERR_TRANSFORM_WITH_LENGTH_0,Kg=Ic();Gt(aa,Kg);function fA(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new oA);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function aa(e){if(!(this instanceof aa))return new aa(e);Kg.call(this,e),this._transformState={afterTransform:fA.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",uA)}function uA(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){jw(e,t,r)}):jw(this,null,null)}aa.prototype.push=function(e,t){return this._transformState.needTransform=!1,Kg.prototype.push.call(this,e,t)};aa.prototype._transform=function(e,t,r){r(new iA("_transform()"))};aa.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};aa.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};aa.prototype._destroy=function(e,t){Kg.prototype._destroy.call(this,e,function(r){t(r)})};function jw(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new aA;if(e._transformState.transforming)throw new sA;return e.push(null)}var cA=Q0,lx=dx;Gt(Q0,lx);function Q0(e){if(!(this instanceof Q0))return new Q0(e);lx.call(this,e)}Q0.prototype._transform=function(e,t,r){r(null,e)};var Eb;function dA(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var hx=$u.codes,lA=hx.ERR_MISSING_ARGS,hA=hx.ERR_STREAM_DESTROYED;function Kw(e){if(e)throw e}function pA(e){return e.setHeader&&typeof e.abort=="function"}function yA(e,t,r,n){n=dA(n);var i=!1;e.on("close",function(){i=!0}),Eb===void 0&&(Eb=a6),Eb(e,{readable:t,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,pA(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(s||new hA("pipe"))}}}function Hw(e){e()}function gA(e,t){return e.pipe(t)}function mA(e){return!e.length||typeof e[e.length-1]!="function"?Kw:e.pop()}function bA(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=mA(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new lA("streams");var i,o=t.map(function(s,f){var d=f<t.length-1,a=f>0;return yA(s,d,a,function(c){i||(i=c),c&&o.forEach(Hw),!d&&(o.forEach(Hw),n(i))})});return t.reduce(gA)}var vA=bA;(function(e,t){t=e.exports=cx(),t.Stream=t,t.Readable=t,t.Writable=fx(),t.Duplex=Ic(),t.Transform=dx,t.PassThrough=cA,t.finished=a6,t.pipeline=vA})(N_,N_.exports);var _A=N_.exports,Hy=Hn.Buffer,px=_A.Transform,wA=Gt;function TA(e,t){if(!Hy.isBuffer(e)&&typeof e!="string")throw new TypeError(t+" must be a string or a buffer")}function Cf(e){px.call(this),this._block=Hy.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}wA(Cf,px);Cf.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(i){n=i}r(n)};Cf.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)};Cf.prototype.update=function(e,t){if(TA(e,"Data"),this._finalized)throw new Error("Digest already called");Hy.isBuffer(e)||(e=Hy.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var o=0,s=e.length*8;s>0;++o)this._length[o]+=s,s=this._length[o]/4294967296|0,s>0&&(this._length[o]-=4294967296*s);return this};Cf.prototype._update=function(){throw new Error("_update is not implemented")};Cf.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();e!==void 0&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t};Cf.prototype._digest=function(){throw new Error("_digest is not implemented")};var yx=Cf,IA=Gt,gx=yx,EA=Hn.Buffer,xA=new Array(16);function Hg(){gx.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}IA(Hg,gx);Hg.prototype._update=function(){for(var e=xA,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var r=this._a,n=this._b,i=this._c,o=this._d;r=Yr(r,n,i,o,e[0],3614090360,7),o=Yr(o,r,n,i,e[1],3905402710,12),i=Yr(i,o,r,n,e[2],606105819,17),n=Yr(n,i,o,r,e[3],3250441966,22),r=Yr(r,n,i,o,e[4],4118548399,7),o=Yr(o,r,n,i,e[5],1200080426,12),i=Yr(i,o,r,n,e[6],2821735955,17),n=Yr(n,i,o,r,e[7],4249261313,22),r=Yr(r,n,i,o,e[8],1770035416,7),o=Yr(o,r,n,i,e[9],2336552879,12),i=Yr(i,o,r,n,e[10],4294925233,17),n=Yr(n,i,o,r,e[11],2304563134,22),r=Yr(r,n,i,o,e[12],1804603682,7),o=Yr(o,r,n,i,e[13],4254626195,12),i=Yr(i,o,r,n,e[14],2792965006,17),n=Yr(n,i,o,r,e[15],1236535329,22),r=Gr(r,n,i,o,e[1],4129170786,5),o=Gr(o,r,n,i,e[6],3225465664,9),i=Gr(i,o,r,n,e[11],643717713,14),n=Gr(n,i,o,r,e[0],3921069994,20),r=Gr(r,n,i,o,e[5],3593408605,5),o=Gr(o,r,n,i,e[10],38016083,9),i=Gr(i,o,r,n,e[15],3634488961,14),n=Gr(n,i,o,r,e[4],3889429448,20),r=Gr(r,n,i,o,e[9],568446438,5),o=Gr(o,r,n,i,e[14],3275163606,9),i=Gr(i,o,r,n,e[3],4107603335,14),n=Gr(n,i,o,r,e[8],1163531501,20),r=Gr(r,n,i,o,e[13],2850285829,5),o=Gr(o,r,n,i,e[2],4243563512,9),i=Gr(i,o,r,n,e[7],1735328473,14),n=Gr(n,i,o,r,e[12],2368359562,20),r=Jr(r,n,i,o,e[5],4294588738,4),o=Jr(o,r,n,i,e[8],2272392833,11),i=Jr(i,o,r,n,e[11],1839030562,16),n=Jr(n,i,o,r,e[14],4259657740,23),r=Jr(r,n,i,o,e[1],2763975236,4),o=Jr(o,r,n,i,e[4],1272893353,11),i=Jr(i,o,r,n,e[7],4139469664,16),n=Jr(n,i,o,r,e[10],3200236656,23),r=Jr(r,n,i,o,e[13],681279174,4),o=Jr(o,r,n,i,e[0],3936430074,11),i=Jr(i,o,r,n,e[3],3572445317,16),n=Jr(n,i,o,r,e[6],76029189,23),r=Jr(r,n,i,o,e[9],3654602809,4),o=Jr(o,r,n,i,e[12],3873151461,11),i=Jr(i,o,r,n,e[15],530742520,16),n=Jr(n,i,o,r,e[2],3299628645,23),r=Wr(r,n,i,o,e[0],4096336452,6),o=Wr(o,r,n,i,e[7],1126891415,10),i=Wr(i,o,r,n,e[14],2878612391,15),n=Wr(n,i,o,r,e[5],4237533241,21),r=Wr(r,n,i,o,e[12],1700485571,6),o=Wr(o,r,n,i,e[3],2399980690,10),i=Wr(i,o,r,n,e[10],4293915773,15),n=Wr(n,i,o,r,e[1],2240044497,21),r=Wr(r,n,i,o,e[8],1873313359,6),o=Wr(o,r,n,i,e[15],4264355552,10),i=Wr(i,o,r,n,e[6],2734768916,15),n=Wr(n,i,o,r,e[13],1309151649,21),r=Wr(r,n,i,o,e[4],4149444226,6),o=Wr(o,r,n,i,e[11],3174756917,10),i=Wr(i,o,r,n,e[2],718787259,15),n=Wr(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0};Hg.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=EA.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};function qg(e,t){return e<<t|e>>>32-t}function Yr(e,t,r,n,i,o,s){return qg(e+(t&r|~t&n)+i+o|0,s)+t|0}function Gr(e,t,r,n,i,o,s){return qg(e+(t&n|r&~n)+i+o|0,s)+t|0}function Jr(e,t,r,n,i,o,s){return qg(e+(t^r^n)+i+o|0,s)+t|0}function Wr(e,t,r,n,i,o,s){return qg(e+(r^(t|~n))+i+o|0,s)+t|0}var SA=Hg,xb=ze.Buffer,BA=Gt,mx=yx,CA=new Array(16),Yd=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Gd=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Jd=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Wd=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Xd=[0,1518500249,1859775393,2400959708,2840853838],Zd=[1352829926,1548603684,1836072691,2053994217,0];function Vg(){mx.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}BA(Vg,mx);Vg.prototype._update=function(){for(var e=CA,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,f=this._a|0,d=this._b|0,a=this._c|0,c=this._d|0,p=this._e|0,h=0;h<80;h+=1){var y,g;h<16?(y=qw(r,n,i,o,s,e[Yd[h]],Xd[0],Jd[h]),g=Gw(f,d,a,c,p,e[Gd[h]],Zd[0],Wd[h])):h<32?(y=Vw(r,n,i,o,s,e[Yd[h]],Xd[1],Jd[h]),g=Yw(f,d,a,c,p,e[Gd[h]],Zd[1],Wd[h])):h<48?(y=zw(r,n,i,o,s,e[Yd[h]],Xd[2],Jd[h]),g=zw(f,d,a,c,p,e[Gd[h]],Zd[2],Wd[h])):h<64?(y=Yw(r,n,i,o,s,e[Yd[h]],Xd[3],Jd[h]),g=Vw(f,d,a,c,p,e[Gd[h]],Zd[3],Wd[h])):(y=Gw(r,n,i,o,s,e[Yd[h]],Xd[4],Jd[h]),g=qw(f,d,a,c,p,e[Gd[h]],Zd[4],Wd[h])),r=s,s=o,o=lu(i,10),i=n,n=y,f=p,p=c,c=lu(a,10),a=d,d=g}var v=this._b+i+c|0;this._b=this._c+o+p|0,this._c=this._d+s+f|0,this._d=this._e+r+d|0,this._e=this._a+n+a|0,this._a=v};Vg.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=xb.alloc?xb.alloc(20):new xb(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};function lu(e,t){return e<<t|e>>>32-t}function qw(e,t,r,n,i,o,s,f){return lu(e+(t^r^n)+o+s|0,f)+i|0}function Vw(e,t,r,n,i,o,s,f){return lu(e+(t&r|~t&n)+o+s|0,f)+i|0}function zw(e,t,r,n,i,o,s,f){return lu(e+((t|~r)^n)+o+s|0,f)+i|0}function Yw(e,t,r,n,i,o,s,f){return lu(e+(t&n|r&~n)+o+s|0,f)+i|0}function Gw(e,t,r,n,i,o,s,f){return lu(e+(t^(r|~n))+o+s|0,f)+i|0}var bx=Vg,vx={exports:{}},_x=Hn.Buffer;function zg(e,t){this._block=_x.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}zg.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=_x.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,o=this._len,s=0;s<i;){for(var f=o%n,d=Math.min(i-s,n-f),a=0;a<d;a++)r[f+a]=e[s+a];o+=d,s+=d,o%n===0&&this._update(r)}return this._len+=i,this};zg.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o};zg.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var vd=zg,DA=Gt,wx=vd,RA=Hn.Buffer,OA=[1518500249,1859775393,-1894007588,-899497514],AA=new Array(80);function jh(){this.init(),this._w=AA,wx.call(this,64,56)}DA(jh,wx);jh.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function PA(e){return e<<5|e>>>27}function NA(e){return e<<30|e>>>2}function MA(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}jh.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,f=0;f<16;++f)t[f]=e.readInt32BE(f*4);for(;f<80;++f)t[f]=t[f-3]^t[f-8]^t[f-14]^t[f-16];for(var d=0;d<80;++d){var a=~~(d/20),c=PA(r)+MA(a,n,i,o)+s+t[d]+OA[a]|0;s=o,o=i,i=NA(n),n=r,r=c}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};jh.prototype._hash=function(){var e=RA.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var UA=jh,kA=Gt,Tx=vd,$A=Hn.Buffer,FA=[1518500249,1859775393,-1894007588,-899497514],LA=new Array(80);function Kh(){this.init(),this._w=LA,Tx.call(this,64,56)}kA(Kh,Tx);Kh.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function jA(e){return e<<1|e>>>31}function KA(e){return e<<5|e>>>27}function HA(e){return e<<30|e>>>2}function qA(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Kh.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,f=0;f<16;++f)t[f]=e.readInt32BE(f*4);for(;f<80;++f)t[f]=jA(t[f-3]^t[f-8]^t[f-14]^t[f-16]);for(var d=0;d<80;++d){var a=~~(d/20),c=KA(r)+qA(a,n,i,o)+s+t[d]+FA[a]|0;s=o,o=i,i=HA(n),n=r,r=c}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};Kh.prototype._hash=function(){var e=$A.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var VA=Kh,zA=Gt,Ix=vd,YA=Hn.Buffer,GA=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],JA=new Array(64);function Hh(){this.init(),this._w=JA,Ix.call(this,64,56)}zA(Hh,Ix);Hh.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function WA(e,t,r){return r^e&(t^r)}function XA(e,t,r){return e&t|r&(e|t)}function ZA(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function QA(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function eP(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function tP(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Hh.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,f=this._f|0,d=this._g|0,a=this._h|0,c=0;c<16;++c)t[c]=e.readInt32BE(c*4);for(;c<64;++c)t[c]=tP(t[c-2])+t[c-7]+eP(t[c-15])+t[c-16]|0;for(var p=0;p<64;++p){var h=a+QA(s)+WA(s,f,d)+GA[p]+t[p]|0,y=ZA(r)+XA(r,n,i)|0;a=d,d=f,f=s,s=o+h|0,o=i,i=n,n=r,r=h+y|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=f+this._f|0,this._g=d+this._g|0,this._h=a+this._h|0};Hh.prototype._hash=function(){var e=YA.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var Ex=Hh,rP=Gt,nP=Ex,iP=vd,oP=Hn.Buffer,sP=new Array(64);function Yg(){this.init(),this._w=sP,iP.call(this,64,56)}rP(Yg,nP);Yg.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Yg.prototype._hash=function(){var e=oP.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var aP=Yg,fP=Gt,xx=vd,uP=Hn.Buffer,Jw=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],cP=new Array(160);function qh(){this.init(),this._w=cP,xx.call(this,128,112)}fP(qh,xx);qh.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ww(e,t,r){return r^e&(t^r)}function Xw(e,t,r){return e&t|r&(e|t)}function Zw(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function Qw(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function dP(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function lP(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function hP(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function pP(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function or(e,t){return e>>>0<t>>>0?1:0}qh.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,o=this._dh|0,s=this._eh|0,f=this._fh|0,d=this._gh|0,a=this._hh|0,c=this._al|0,p=this._bl|0,h=this._cl|0,y=this._dl|0,g=this._el|0,v=this._fl|0,T=this._gl|0,I=this._hl|0,_=0;_<32;_+=2)t[_]=e.readInt32BE(_*4),t[_+1]=e.readInt32BE(_*4+4);for(;_<160;_+=2){var C=t[_-30],w=t[_-15*2+1],P=dP(C,w),D=lP(w,C);C=t[_-2*2],w=t[_-2*2+1];var u=hP(C,w),l=pP(w,C),m=t[_-7*2],R=t[_-7*2+1],B=t[_-16*2],b=t[_-16*2+1],E=D+R|0,k=P+m+or(E,D)|0;E=E+l|0,k=k+u+or(E,l)|0,E=E+b|0,k=k+B+or(E,b)|0,t[_]=k,t[_+1]=E}for(var L=0;L<160;L+=2){k=t[L],E=t[L+1];var $=Xw(r,n,i),G=Xw(c,p,h),oe=Zw(r,c),M=Zw(c,r),S=Qw(s,g),K=Qw(g,s),he=Jw[L],ie=Jw[L+1],fe=Ww(s,f,d),pe=Ww(g,v,T),se=I+K|0,ee=a+S+or(se,I)|0;se=se+pe|0,ee=ee+fe+or(se,pe)|0,se=se+ie|0,ee=ee+he+or(se,ie)|0,se=se+E|0,ee=ee+k+or(se,E)|0;var te=M+G|0,ae=oe+$+or(te,M)|0;a=d,I=T,d=f,T=v,f=s,v=g,g=y+se|0,s=o+ee+or(g,y)|0,o=i,y=h,i=n,h=p,n=r,p=c,c=se+te|0,r=ee+ae+or(c,se)|0}this._al=this._al+c|0,this._bl=this._bl+p|0,this._cl=this._cl+h|0,this._dl=this._dl+y|0,this._el=this._el+g|0,this._fl=this._fl+v|0,this._gl=this._gl+T|0,this._hl=this._hl+I|0,this._ah=this._ah+r+or(this._al,c)|0,this._bh=this._bh+n+or(this._bl,p)|0,this._ch=this._ch+i+or(this._cl,h)|0,this._dh=this._dh+o+or(this._dl,y)|0,this._eh=this._eh+s+or(this._el,g)|0,this._fh=this._fh+f+or(this._fl,v)|0,this._gh=this._gh+d+or(this._gl,T)|0,this._hh=this._hh+a+or(this._hl,I)|0};qh.prototype._hash=function(){var e=uP.allocUnsafe(64);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var Sx=qh,yP=Gt,gP=Sx,mP=vd,bP=Hn.Buffer,vP=new Array(160);function Gg(){this.init(),this._w=vP,mP.call(this,128,112)}yP(Gg,gP);Gg.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Gg.prototype._hash=function(){var e=bP.allocUnsafe(48);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var _P=Gg,Fu=vx.exports=function(t){t=t.toLowerCase();var r=Fu[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};Fu.sha=UA;Fu.sha1=VA;Fu.sha224=aP;Fu.sha256=Ex;Fu.sha384=_P;Fu.sha512=Sx;var Bx=vx.exports,Cx=Hn.Buffer,Dx=md.Transform,wP=Ky.StringDecoder,TP=Gt;function io(e){Dx.call(this),this.hashMode=typeof e=="string",this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}TP(io,Dx);io.prototype.update=function(e,t,r){typeof e=="string"&&(e=Cx.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};io.prototype.setAutoPadding=function(){};io.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};io.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};io.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};io.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(i){n=i}finally{r(n)}};io.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(r){t=r}e(t)};io.prototype._finalOrDigest=function(e){var t=this.__final()||Cx.alloc(0);return e&&(t=this._toString(t,e,!0)),t};io.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new wP(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var IP=io,EP=Gt,xP=SA,SP=bx,BP=Bx,Rx=IP;function Jg(e){Rx.call(this,"digest"),this._hash=e}EP(Jg,Rx);Jg.prototype._update=function(e){this._hash.update(e)};Jg.prototype._final=function(){return this._hash.digest()};var Wg=function(t){return t=t.toLowerCase(),t==="md5"?new xP:t==="rmd160"||t==="ripemd160"?new SP:new Jg(BP(t))},Fp=Hn.Buffer;function CP(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,f=e.charAt(0),d=Math.log(s)/Math.log(256),a=Math.log(256)/Math.log(s);function c(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=Fp.from(y)),!Fp.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var g=0,v=0,T=0,I=y.length;T!==I&&y[T]===0;)T++,g++;for(var _=(I-T)*a+1>>>0,C=new Uint8Array(_);T!==I;){for(var w=y[T],P=0,D=_-1;(w!==0||P<v)&&D!==-1;D--,P++)w+=256*C[D]>>>0,C[D]=w%s>>>0,w=w/s>>>0;if(w!==0)throw new Error("Non-zero carry");v=P,T++}for(var u=_-v;u!==_&&C[u]===0;)u++;for(var l=f.repeat(g);u<_;++u)l+=e.charAt(C[u]);return l}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return Fp.alloc(0);for(var g=0,v=0,T=0;y[g]===f;)v++,g++;for(var I=(y.length-g)*d+1>>>0,_=new Uint8Array(I);y[g];){var C=t[y.charCodeAt(g)];if(C===255)return;for(var w=0,P=I-1;(C!==0||w<T)&&P!==-1;P--,w++)C+=s*_[P]>>>0,_[P]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");T=w,g++}for(var D=I-T;D!==I&&_[D]===0;)D++;var u=Fp.allocUnsafe(v+(I-D));u.fill(0,0,v);for(var l=v;D!==I;)u[l++]=_[D++];return u}function h(y){var g=p(y);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:c,decodeUnsafe:p,decode:h}}var Ox=CP,DP=Ox,RP="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Ax=DP(RP),Sb=Ax,OP=Hn.Buffer,AP=function(e){function t(o){var s=e(o);return Sb.encode(OP.concat([o,s],o.length+4))}function r(o){var s=o.slice(0,-4),f=o.slice(-4),d=e(s);if(!(f[0]^d[0]|f[1]^d[1]|f[2]^d[2]|f[3]^d[3]))return s}function n(o){var s=Sb.decodeUnsafe(o);if(s)return r(s)}function i(o){var s=Sb.decode(o),f=r(s);if(!f)throw new Error("Invalid checksum");return f}return{encode:t,decode:i,decodeUnsafe:n}},e4=Wg,PP=AP;function NP(e){var t=e4("sha256").update(e).digest();return e4("sha256").update(t).digest()}var MP=PP(NP),qy={},yr={},Tt={},Xg={},Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.InvalidChecksumError=Jn.InvalidSequenceComponentError=Jn.InvalidTypeError=Jn.InvalidPathLengthError=Jn.InvalidSchemeError=void 0;class UP extends Error{constructor(){super("Invalid Scheme"),this.name="InvalidSchemeError"}}Jn.InvalidSchemeError=UP;class kP extends Error{constructor(){super("Invalid Path"),this.name="InvalidPathLengthError"}}Jn.InvalidPathLengthError=kP;class $P extends Error{constructor(){super("Invalid Type"),this.name="InvalidTypeError"}}Jn.InvalidTypeError=$P;class FP extends Error{constructor(){super("Invalid Sequence Component"),this.name="InvalidSequenceComponentError"}}Jn.InvalidSequenceComponentError=FP;class LP extends Error{constructor(){super("Invalid Checksum"),this.name="InvalidChecksumError"}}Jn.InvalidChecksumError=LP;var Qe={},ur={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Fh,r=Fg,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,f.TYPED_ARRAY_SUPPORT=o(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var Q=new Uint8Array(1),U={foo:function(){return 42}};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(Q,U),Q.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function s(Q){if(Q>i)throw new RangeError('The value "'+Q+'" is invalid for option "size"');var U=new Uint8Array(Q);return Object.setPrototypeOf(U,f.prototype),U}function f(Q,U,F){if(typeof Q=="number"){if(typeof U=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(Q)}return d(Q,U,F)}f.poolSize=8192;function d(Q,U,F){if(typeof Q=="string")return h(Q,U);if(ArrayBuffer.isView(Q))return g(Q);if(Q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(ce(Q,ArrayBuffer)||Q&&ce(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ce(Q,SharedArrayBuffer)||Q&&ce(Q.buffer,SharedArrayBuffer)))return v(Q,U,F);if(typeof Q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var W=Q.valueOf&&Q.valueOf();if(W!=null&&W!==Q)return f.from(W,U,F);var be=T(Q);if(be)return be;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Q[Symbol.toPrimitive]=="function")return f.from(Q[Symbol.toPrimitive]("string"),U,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}f.from=function(Q,U,F){return d(Q,U,F)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function a(Q){if(typeof Q!="number")throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function c(Q,U,F){return a(Q),Q<=0?s(Q):U!==void 0?typeof F=="string"?s(Q).fill(U,F):s(Q).fill(U):s(Q)}f.alloc=function(Q,U,F){return c(Q,U,F)};function p(Q){return a(Q),s(Q<0?0:I(Q)|0)}f.allocUnsafe=function(Q){return p(Q)},f.allocUnsafeSlow=function(Q){return p(Q)};function h(Q,U){if((typeof U!="string"||U==="")&&(U="utf8"),!f.isEncoding(U))throw new TypeError("Unknown encoding: "+U);var F=C(Q,U)|0,W=s(F),be=W.write(Q,U);return be!==F&&(W=W.slice(0,be)),W}function y(Q){for(var U=Q.length<0?0:I(Q.length)|0,F=s(U),W=0;W<U;W+=1)F[W]=Q[W]&255;return F}function g(Q){if(ce(Q,Uint8Array)){var U=new Uint8Array(Q);return v(U.buffer,U.byteOffset,U.byteLength)}return y(Q)}function v(Q,U,F){if(U<0||Q.byteLength<U)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<U+(F||0))throw new RangeError('"length" is outside of buffer bounds');var W;return U===void 0&&F===void 0?W=new Uint8Array(Q):F===void 0?W=new Uint8Array(Q,U):W=new Uint8Array(Q,U,F),Object.setPrototypeOf(W,f.prototype),W}function T(Q){if(f.isBuffer(Q)){var U=I(Q.length)|0,F=s(U);return F.length===0||Q.copy(F,0,0,U),F}if(Q.length!==void 0)return typeof Q.length!="number"||_e(Q.length)?s(0):y(Q);if(Q.type==="Buffer"&&Array.isArray(Q.data))return y(Q.data)}function I(Q){if(Q>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Q|0}function _(Q){return+Q!=Q&&(Q=0),f.alloc(+Q)}f.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==f.prototype},f.compare=function(U,F){if(ce(U,Uint8Array)&&(U=f.from(U,U.offset,U.byteLength)),ce(F,Uint8Array)&&(F=f.from(F,F.offset,F.byteLength)),!f.isBuffer(U)||!f.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===F)return 0;for(var W=U.length,be=F.length,Ee=0,xe=Math.min(W,be);Ee<xe;++Ee)if(U[Ee]!==F[Ee]){W=U[Ee],be=F[Ee];break}return W<be?-1:be<W?1:0},f.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(U,F){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return f.alloc(0);var W;if(F===void 0)for(F=0,W=0;W<U.length;++W)F+=U[W].length;var be=f.allocUnsafe(F),Ee=0;for(W=0;W<U.length;++W){var xe=U[W];if(ce(xe,Uint8Array))Ee+xe.length>be.length?f.from(xe).copy(be,Ee):Uint8Array.prototype.set.call(be,xe,Ee);else if(f.isBuffer(xe))xe.copy(be,Ee);else throw new TypeError('"list" argument must be an Array of Buffers');Ee+=xe.length}return be};function C(Q,U){if(f.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||ce(Q,ArrayBuffer))return Q.byteLength;if(typeof Q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);var F=Q.length,W=arguments.length>2&&arguments[2]===!0;if(!W&&F===0)return 0;for(var be=!1;;)switch(U){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return te(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return V(Q).length;default:if(be)return W?-1:te(Q).length;U=(""+U).toLowerCase(),be=!0}}f.byteLength=C;function w(Q,U,F){var W=!1;if((U===void 0||U<0)&&(U=0),U>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,U>>>=0,F<=U))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return M(this,U,F);case"utf8":case"utf-8":return k(this,U,F);case"ascii":return G(this,U,F);case"latin1":case"binary":return oe(this,U,F);case"base64":return E(this,U,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,U,F);default:if(W)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),W=!0}}f.prototype._isBuffer=!0;function P(Q,U,F){var W=Q[U];Q[U]=Q[F],Q[F]=W}f.prototype.swap16=function(){var U=this.length;if(U%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;F<U;F+=2)P(this,F,F+1);return this},f.prototype.swap32=function(){var U=this.length;if(U%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;F<U;F+=4)P(this,F,F+3),P(this,F+1,F+2);return this},f.prototype.swap64=function(){var U=this.length;if(U%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var F=0;F<U;F+=8)P(this,F,F+7),P(this,F+1,F+6),P(this,F+2,F+5),P(this,F+3,F+4);return this},f.prototype.toString=function(){var U=this.length;return U===0?"":arguments.length===0?k(this,0,U):w.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(U){if(!f.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U?!0:f.compare(this,U)===0},f.prototype.inspect=function(){var U="",F=e.INSPECT_MAX_BYTES;return U=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(U+=" ... "),"<Buffer "+U+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(U,F,W,be,Ee){if(ce(U,Uint8Array)&&(U=f.from(U,U.offset,U.byteLength)),!f.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(F===void 0&&(F=0),W===void 0&&(W=U?U.length:0),be===void 0&&(be=0),Ee===void 0&&(Ee=this.length),F<0||W>U.length||be<0||Ee>this.length)throw new RangeError("out of range index");if(be>=Ee&&F>=W)return 0;if(be>=Ee)return-1;if(F>=W)return 1;if(F>>>=0,W>>>=0,be>>>=0,Ee>>>=0,this===U)return 0;for(var xe=Ee-be,Ue=W-F,de=Math.min(xe,Ue),ge=this.slice(be,Ee),j=U.slice(F,W),O=0;O<de;++O)if(ge[O]!==j[O]){xe=ge[O],Ue=j[O];break}return xe<Ue?-1:Ue<xe?1:0};function D(Q,U,F,W,be){if(Q.length===0)return-1;if(typeof F=="string"?(W=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,_e(F)&&(F=be?0:Q.length-1),F<0&&(F=Q.length+F),F>=Q.length){if(be)return-1;F=Q.length-1}else if(F<0)if(be)F=0;else return-1;if(typeof U=="string"&&(U=f.from(U,W)),f.isBuffer(U))return U.length===0?-1:u(Q,U,F,W,be);if(typeof U=="number")return U=U&255,typeof Uint8Array.prototype.indexOf=="function"?be?Uint8Array.prototype.indexOf.call(Q,U,F):Uint8Array.prototype.lastIndexOf.call(Q,U,F):u(Q,[U],F,W,be);throw new TypeError("val must be string, number or Buffer")}function u(Q,U,F,W,be){var Ee=1,xe=Q.length,Ue=U.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(Q.length<2||U.length<2)return-1;Ee=2,xe/=2,Ue/=2,F/=2}function de(A,H){return Ee===1?A[H]:A.readUInt16BE(H*Ee)}var ge;if(be){var j=-1;for(ge=F;ge<xe;ge++)if(de(Q,ge)===de(U,j===-1?0:ge-j)){if(j===-1&&(j=ge),ge-j+1===Ue)return j*Ee}else j!==-1&&(ge-=ge-j),j=-1}else for(F+Ue>xe&&(F=xe-Ue),ge=F;ge>=0;ge--){for(var O=!0,x=0;x<Ue;x++)if(de(Q,ge+x)!==de(U,x)){O=!1;break}if(O)return ge}return-1}f.prototype.includes=function(U,F,W){return this.indexOf(U,F,W)!==-1},f.prototype.indexOf=function(U,F,W){return D(this,U,F,W,!0)},f.prototype.lastIndexOf=function(U,F,W){return D(this,U,F,W,!1)};function l(Q,U,F,W){F=Number(F)||0;var be=Q.length-F;W?(W=Number(W),W>be&&(W=be)):W=be;var Ee=U.length;W>Ee/2&&(W=Ee/2);for(var xe=0;xe<W;++xe){var Ue=parseInt(U.substr(xe*2,2),16);if(_e(Ue))return xe;Q[F+xe]=Ue}return xe}function m(Q,U,F,W){return Y(te(U,Q.length-F),Q,F,W)}function R(Q,U,F,W){return Y(ae(U),Q,F,W)}function B(Q,U,F,W){return Y(V(U),Q,F,W)}function b(Q,U,F,W){return Y(X(U,Q.length-F),Q,F,W)}f.prototype.write=function(U,F,W,be){if(F===void 0)be="utf8",W=this.length,F=0;else if(W===void 0&&typeof F=="string")be=F,W=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(W)?(W=W>>>0,be===void 0&&(be="utf8")):(be=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ee=this.length-F;if((W===void 0||W>Ee)&&(W=Ee),U.length>0&&(W<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");be||(be="utf8");for(var xe=!1;;)switch(be){case"hex":return l(this,U,F,W);case"utf8":case"utf-8":return m(this,U,F,W);case"ascii":case"latin1":case"binary":return R(this,U,F,W);case"base64":return B(this,U,F,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,U,F,W);default:if(xe)throw new TypeError("Unknown encoding: "+be);be=(""+be).toLowerCase(),xe=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(Q,U,F){return U===0&&F===Q.length?t.fromByteArray(Q):t.fromByteArray(Q.slice(U,F))}function k(Q,U,F){F=Math.min(Q.length,F);for(var W=[],be=U;be<F;){var Ee=Q[be],xe=null,Ue=Ee>239?4:Ee>223?3:Ee>191?2:1;if(be+Ue<=F){var de,ge,j,O;switch(Ue){case 1:Ee<128&&(xe=Ee);break;case 2:de=Q[be+1],(de&192)===128&&(O=(Ee&31)<<6|de&63,O>127&&(xe=O));break;case 3:de=Q[be+1],ge=Q[be+2],(de&192)===128&&(ge&192)===128&&(O=(Ee&15)<<12|(de&63)<<6|ge&63,O>2047&&(O<55296||O>57343)&&(xe=O));break;case 4:de=Q[be+1],ge=Q[be+2],j=Q[be+3],(de&192)===128&&(ge&192)===128&&(j&192)===128&&(O=(Ee&15)<<18|(de&63)<<12|(ge&63)<<6|j&63,O>65535&&O<1114112&&(xe=O))}}xe===null?(xe=65533,Ue=1):xe>65535&&(xe-=65536,W.push(xe>>>10&1023|55296),xe=56320|xe&1023),W.push(xe),be+=Ue}return $(W)}var L=4096;function $(Q){var U=Q.length;if(U<=L)return String.fromCharCode.apply(String,Q);for(var F="",W=0;W<U;)F+=String.fromCharCode.apply(String,Q.slice(W,W+=L));return F}function G(Q,U,F){var W="";F=Math.min(Q.length,F);for(var be=U;be<F;++be)W+=String.fromCharCode(Q[be]&127);return W}function oe(Q,U,F){var W="";F=Math.min(Q.length,F);for(var be=U;be<F;++be)W+=String.fromCharCode(Q[be]);return W}function M(Q,U,F){var W=Q.length;(!U||U<0)&&(U=0),(!F||F<0||F>W)&&(F=W);for(var be="",Ee=U;Ee<F;++Ee)be+=Ce[Q[Ee]];return be}function S(Q,U,F){for(var W=Q.slice(U,F),be="",Ee=0;Ee<W.length-1;Ee+=2)be+=String.fromCharCode(W[Ee]+W[Ee+1]*256);return be}f.prototype.slice=function(U,F){var W=this.length;U=~~U,F=F===void 0?W:~~F,U<0?(U+=W,U<0&&(U=0)):U>W&&(U=W),F<0?(F+=W,F<0&&(F=0)):F>W&&(F=W),F<U&&(F=U);var be=this.subarray(U,F);return Object.setPrototypeOf(be,f.prototype),be};function K(Q,U,F){if(Q%1!==0||Q<0)throw new RangeError("offset is not uint");if(Q+U>F)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(U,F,W){U=U>>>0,F=F>>>0,W||K(U,F,this.length);for(var be=this[U],Ee=1,xe=0;++xe<F&&(Ee*=256);)be+=this[U+xe]*Ee;return be},f.prototype.readUintBE=f.prototype.readUIntBE=function(U,F,W){U=U>>>0,F=F>>>0,W||K(U,F,this.length);for(var be=this[U+--F],Ee=1;F>0&&(Ee*=256);)be+=this[U+--F]*Ee;return be},f.prototype.readUint8=f.prototype.readUInt8=function(U,F){return U=U>>>0,F||K(U,1,this.length),this[U]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(U,F){return U=U>>>0,F||K(U,2,this.length),this[U]|this[U+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(U,F){return U=U>>>0,F||K(U,2,this.length),this[U]<<8|this[U+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(U,F){return U=U>>>0,F||K(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+this[U+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(U,F){return U=U>>>0,F||K(U,4,this.length),this[U]*16777216+(this[U+1]<<16|this[U+2]<<8|this[U+3])},f.prototype.readIntLE=function(U,F,W){U=U>>>0,F=F>>>0,W||K(U,F,this.length);for(var be=this[U],Ee=1,xe=0;++xe<F&&(Ee*=256);)be+=this[U+xe]*Ee;return Ee*=128,be>=Ee&&(be-=Math.pow(2,8*F)),be},f.prototype.readIntBE=function(U,F,W){U=U>>>0,F=F>>>0,W||K(U,F,this.length);for(var be=F,Ee=1,xe=this[U+--be];be>0&&(Ee*=256);)xe+=this[U+--be]*Ee;return Ee*=128,xe>=Ee&&(xe-=Math.pow(2,8*F)),xe},f.prototype.readInt8=function(U,F){return U=U>>>0,F||K(U,1,this.length),this[U]&128?(255-this[U]+1)*-1:this[U]},f.prototype.readInt16LE=function(U,F){U=U>>>0,F||K(U,2,this.length);var W=this[U]|this[U+1]<<8;return W&32768?W|4294901760:W},f.prototype.readInt16BE=function(U,F){U=U>>>0,F||K(U,2,this.length);var W=this[U+1]|this[U]<<8;return W&32768?W|4294901760:W},f.prototype.readInt32LE=function(U,F){return U=U>>>0,F||K(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},f.prototype.readInt32BE=function(U,F){return U=U>>>0,F||K(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},f.prototype.readFloatLE=function(U,F){return U=U>>>0,F||K(U,4,this.length),r.read(this,U,!0,23,4)},f.prototype.readFloatBE=function(U,F){return U=U>>>0,F||K(U,4,this.length),r.read(this,U,!1,23,4)},f.prototype.readDoubleLE=function(U,F){return U=U>>>0,F||K(U,8,this.length),r.read(this,U,!0,52,8)},f.prototype.readDoubleBE=function(U,F){return U=U>>>0,F||K(U,8,this.length),r.read(this,U,!1,52,8)};function he(Q,U,F,W,be,Ee){if(!f.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>be||U<Ee)throw new RangeError('"value" argument is out of bounds');if(F+W>Q.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(U,F,W,be){if(U=+U,F=F>>>0,W=W>>>0,!be){var Ee=Math.pow(2,8*W)-1;he(this,U,F,W,Ee,0)}var xe=1,Ue=0;for(this[F]=U&255;++Ue<W&&(xe*=256);)this[F+Ue]=U/xe&255;return F+W},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(U,F,W,be){if(U=+U,F=F>>>0,W=W>>>0,!be){var Ee=Math.pow(2,8*W)-1;he(this,U,F,W,Ee,0)}var xe=W-1,Ue=1;for(this[F+xe]=U&255;--xe>=0&&(Ue*=256);)this[F+xe]=U/Ue&255;return F+W},f.prototype.writeUint8=f.prototype.writeUInt8=function(U,F,W){return U=+U,F=F>>>0,W||he(this,U,F,1,255,0),this[F]=U&255,F+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(U,F,W){return U=+U,F=F>>>0,W||he(this,U,F,2,65535,0),this[F]=U&255,this[F+1]=U>>>8,F+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(U,F,W){return U=+U,F=F>>>0,W||he(this,U,F,2,65535,0),this[F]=U>>>8,this[F+1]=U&255,F+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(U,F,W){return U=+U,F=F>>>0,W||he(this,U,F,4,4294967295,0),this[F+3]=U>>>24,this[F+2]=U>>>16,this[F+1]=U>>>8,this[F]=U&255,F+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(U,F,W){return U=+U,F=F>>>0,W||he(this,U,F,4,4294967295,0),this[F]=U>>>24,this[F+1]=U>>>16,this[F+2]=U>>>8,this[F+3]=U&255,F+4},f.prototype.writeIntLE=function(U,F,W,be){if(U=+U,F=F>>>0,!be){var Ee=Math.pow(2,8*W-1);he(this,U,F,W,Ee-1,-Ee)}var xe=0,Ue=1,de=0;for(this[F]=U&255;++xe<W&&(Ue*=256);)U<0&&de===0&&this[F+xe-1]!==0&&(de=1),this[F+xe]=(U/Ue>>0)-de&255;return F+W},f.prototype.writeIntBE=function(U,F,W,be){if(U=+U,F=F>>>0,!be){var Ee=Math.pow(2,8*W-1);he(this,U,F,W,Ee-1,-Ee)}var xe=W-1,Ue=1,de=0;for(this[F+xe]=U&255;--xe>=0&&(Ue*=256);)U<0&&de===0&&this[F+xe+1]!==0&&(de=1),this[F+xe]=(U/Ue>>0)-de&255;return F+W},f.prototype.writeInt8=function(U,F,W){return U=+U,F=F>>>0,W||he(this,U,F,1,127,-128),U<0&&(U=255+U+1),this[F]=U&255,F+1},f.prototype.writeInt16LE=function(U,F,W){return U=+U,F=F>>>0,W||he(this,U,F,2,32767,-32768),this[F]=U&255,this[F+1]=U>>>8,F+2},f.prototype.writeInt16BE=function(U,F,W){return U=+U,F=F>>>0,W||he(this,U,F,2,32767,-32768),this[F]=U>>>8,this[F+1]=U&255,F+2},f.prototype.writeInt32LE=function(U,F,W){return U=+U,F=F>>>0,W||he(this,U,F,4,2147483647,-2147483648),this[F]=U&255,this[F+1]=U>>>8,this[F+2]=U>>>16,this[F+3]=U>>>24,F+4},f.prototype.writeInt32BE=function(U,F,W){return U=+U,F=F>>>0,W||he(this,U,F,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[F]=U>>>24,this[F+1]=U>>>16,this[F+2]=U>>>8,this[F+3]=U&255,F+4};function ie(Q,U,F,W,be,Ee){if(F+W>Q.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function fe(Q,U,F,W,be){return U=+U,F=F>>>0,be||ie(Q,U,F,4),r.write(Q,U,F,W,23,4),F+4}f.prototype.writeFloatLE=function(U,F,W){return fe(this,U,F,!0,W)},f.prototype.writeFloatBE=function(U,F,W){return fe(this,U,F,!1,W)};function pe(Q,U,F,W,be){return U=+U,F=F>>>0,be||ie(Q,U,F,8),r.write(Q,U,F,W,52,8),F+8}f.prototype.writeDoubleLE=function(U,F,W){return pe(this,U,F,!0,W)},f.prototype.writeDoubleBE=function(U,F,W){return pe(this,U,F,!1,W)},f.prototype.copy=function(U,F,W,be){if(!f.isBuffer(U))throw new TypeError("argument should be a Buffer");if(W||(W=0),!be&&be!==0&&(be=this.length),F>=U.length&&(F=U.length),F||(F=0),be>0&&be<W&&(be=W),be===W||U.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("sourceEnd out of bounds");be>this.length&&(be=this.length),U.length-F<be-W&&(be=U.length-F+W);var Ee=be-W;return this===U&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(F,W,be):Uint8Array.prototype.set.call(U,this.subarray(W,be),F),Ee},f.prototype.fill=function(U,F,W,be){if(typeof U=="string"){if(typeof F=="string"?(be=F,F=0,W=this.length):typeof W=="string"&&(be=W,W=this.length),be!==void 0&&typeof be!="string")throw new TypeError("encoding must be a string");if(typeof be=="string"&&!f.isEncoding(be))throw new TypeError("Unknown encoding: "+be);if(U.length===1){var Ee=U.charCodeAt(0);(be==="utf8"&&Ee<128||be==="latin1")&&(U=Ee)}}else typeof U=="number"?U=U&255:typeof U=="boolean"&&(U=Number(U));if(F<0||this.length<F||this.length<W)throw new RangeError("Out of range index");if(W<=F)return this;F=F>>>0,W=W===void 0?this.length:W>>>0,U||(U=0);var xe;if(typeof U=="number")for(xe=F;xe<W;++xe)this[xe]=U;else{var Ue=f.isBuffer(U)?U:f.from(U,be),de=Ue.length;if(de===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(xe=0;xe<W-F;++xe)this[xe+F]=Ue[xe%de]}return this};var se=/[^+/0-9A-Za-z-_]/g;function ee(Q){if(Q=Q.split("=")[0],Q=Q.trim().replace(se,""),Q.length<2)return"";for(;Q.length%4!==0;)Q=Q+"=";return Q}function te(Q,U){U=U||1/0;for(var F,W=Q.length,be=null,Ee=[],xe=0;xe<W;++xe){if(F=Q.charCodeAt(xe),F>55295&&F<57344){if(!be){if(F>56319){(U-=3)>-1&&Ee.push(239,191,189);continue}else if(xe+1===W){(U-=3)>-1&&Ee.push(239,191,189);continue}be=F;continue}if(F<56320){(U-=3)>-1&&Ee.push(239,191,189),be=F;continue}F=(be-55296<<10|F-56320)+65536}else be&&(U-=3)>-1&&Ee.push(239,191,189);if(be=null,F<128){if((U-=1)<0)break;Ee.push(F)}else if(F<2048){if((U-=2)<0)break;Ee.push(F>>6|192,F&63|128)}else if(F<65536){if((U-=3)<0)break;Ee.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((U-=4)<0)break;Ee.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return Ee}function ae(Q){for(var U=[],F=0;F<Q.length;++F)U.push(Q.charCodeAt(F)&255);return U}function X(Q,U){for(var F,W,be,Ee=[],xe=0;xe<Q.length&&!((U-=2)<0);++xe)F=Q.charCodeAt(xe),W=F>>8,be=F%256,Ee.push(be),Ee.push(W);return Ee}function V(Q){return t.toByteArray(ee(Q))}function Y(Q,U,F,W){for(var be=0;be<W&&!(be+F>=U.length||be>=Q.length);++be)U[be+F]=Q[be];return be}function ce(Q,U){return Q instanceof U||Q!=null&&Q.constructor!=null&&Q.constructor.name!=null&&Q.constructor.name===U.name}function _e(Q){return Q!==Q}var Ce=function(){for(var Q="0123456789abcdef",U=new Array(256),F=0;F<16;++F)for(var W=F*16,be=0;be<16;++be)U[W+be]=Q[F]+Q[be];return U}()})(ur);const oo=ur.Buffer.from&&ur.Buffer.alloc&&ur.Buffer.allocUnsafe&&ur.Buffer.allocUnsafeSlow?ur.Buffer.from:e=>new ur.Buffer(e);function so(e,t){const r=(n,i)=>t(n,i)>>>0;return r.signed=t,r.unsigned=r,r.model=e,r}const Px=so("crc1",function(e,t){ur.Buffer.isBuffer(e)||(e=oo(e));let r=~~t,n=0;for(let i=0;i<e.length;i++){const o=e[i];n+=o}return r+=n%256,r%256});let U_=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];typeof Int32Array<"u"&&(U_=new Int32Array(U_));const Nx=so("crc-8",function(e,t){ur.Buffer.isBuffer(e)||(e=oo(e));let r=~~t;for(let n=0;n<e.length;n++){const i=e[n];r=U_[(r^i)&255]&255}return r});let k_=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];typeof Int32Array<"u"&&(k_=new Int32Array(k_));const Mx=so("dallas-1-wire",function(e,t){ur.Buffer.isBuffer(e)||(e=oo(e));let r=~~t;for(let n=0;n<e.length;n++){const i=e[n];r=k_[(r^i)&255]&255}return r});let $_=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&($_=new Int32Array($_));const Ux=so("crc-16",function(e,t){ur.Buffer.isBuffer(e)||(e=oo(e));let r=~~t;for(let n=0;n<e.length;n++){const i=e[n];r=($_[(r^i)&255]^r>>8)&65535}return r});let F_=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];typeof Int32Array<"u"&&(F_=new Int32Array(F_));const kx=so("ccitt",function(e,t){ur.Buffer.isBuffer(e)||(e=oo(e));let r=typeof t<"u"?~~t:65535;for(let n=0;n<e.length;n++){const i=e[n];r=(F_[(r>>8^i)&255]^r<<8)&65535}return r});let L_=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(L_=new Int32Array(L_));const $x=so("crc-16-modbus",function(e,t){ur.Buffer.isBuffer(e)||(e=oo(e));let r=typeof t<"u"?~~t:65535;for(let n=0;n<e.length;n++){const i=e[n];r=(L_[(r^i)&255]^r>>8)&65535}return r}),Fx=so("xmodem",function(e,t){ur.Buffer.isBuffer(e)||(e=oo(e));let r=typeof t<"u"?~~t:0;for(let n=0;n<e.length;n++){const i=e[n];let o=r>>>8&255;o^=i&255,o^=o>>>4,r=r<<8&65535,r^=o,o=o<<5&65535,r^=o,o=o<<7&65535,r^=o}return r});let j_=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];typeof Int32Array<"u"&&(j_=new Int32Array(j_));const Lx=so("kermit",function(e,t){ur.Buffer.isBuffer(e)||(e=oo(e));let r=typeof t<"u"?~~t:0;for(let n=0;n<e.length;n++){const i=e[n];r=(j_[(r^i)&255]^r>>8)&65535}return r});let K_=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];typeof Int32Array<"u"&&(K_=new Int32Array(K_));const jx=so("crc-24",function(e,t){ur.Buffer.isBuffer(e)||(e=oo(e));let r=typeof t<"u"?~~t:11994318;for(let n=0;n<e.length;n++){const i=e[n];r=(K_[(r>>16^i)&255]^r<<8)&16777215}return r});let H_=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(H_=new Int32Array(H_));const Kx=so("crc-32",function(e,t){ur.Buffer.isBuffer(e)||(e=oo(e));let r=t===0?0:~~t^-1;for(let n=0;n<e.length;n++){const i=e[n];r=H_[(r^i)&255]^r>>>8}return r^-1});let q_=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(q_=new Int32Array(q_));const Hx=so("jam",function(e,t=-1){ur.Buffer.isBuffer(e)||(e=oo(e));let r=t===0?0:~~t;for(let n=0;n<e.length;n++){const i=e[n];r=q_[(r^i)&255]^r>>>8}return r}),jP={crc1:Px,crc8:Nx,crc81wire:Mx,crc16:Ux,crc16ccitt:kx,crc16modbus:$x,crc16xmodem:Fx,crc16kermit:Lx,crc24:jx,crc32:Kx,crcjam:Hx},KP=Object.freeze(Object.defineProperty({__proto__:null,crc1:Px,crc16:Ux,crc16ccitt:kx,crc16kermit:Lx,crc16modbus:$x,crc16xmodem:Fx,crc24:jx,crc32:Kx,crc8:Nx,crc81wire:Mx,crcjam:Hx,default:jP},Symbol.toStringTag,{value:"Module"})),HP=hi(KP);var qP=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.bufferXOR=Qe.setDifference=Qe.arrayContains=Qe.arraysEqual=Qe.hasPrefix=Qe.isURType=Qe.intToBytes=Qe.toUint32=Qe.getCRCHex=Qe.getCRC=Qe.split=Qe.partition=Qe.sha256Hash=void 0;const VP=qP(Bx),qx=HP,zP=e=>VP.default("sha256").update(e).digest();Qe.sha256Hash=zP;const YP=(e,t)=>e.match(new RegExp(".{1,"+t+"}","g"))||[e];Qe.partition=YP;const GP=(e,t)=>[e.slice(0,-t),e.slice(-t)];Qe.split=GP;const JP=e=>qx.crc32(e);Qe.getCRC=JP;const WP=e=>qx.crc32(e).toString(16).padStart(8,"0");Qe.getCRCHex=WP;const XP=e=>e>>>0;Qe.toUint32=XP;const ZP=e=>{const t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!1),Buffer.from(t)};Qe.intToBytes=ZP;const QP=e=>e.split("").every((t,r)=>{let n=e.charCodeAt(r);return 97<=n&&n<=122||48<=n&&n<=57||n===45});Qe.isURType=QP;const eN=(e,t)=>e.indexOf(t)===0;Qe.hasPrefix=eN;const tN=(e,t)=>e.length!==t.length?!1:e.every(r=>t.includes(r));Qe.arraysEqual=tN;const rN=(e,t)=>t.every(r=>e.includes(r));Qe.arrayContains=rN;const nN=(e,t)=>e.filter(r=>t.indexOf(r)<0);Qe.setDifference=nN;const iN=(e,t)=>{const r=Math.max(e.length,t.length),n=Buffer.allocUnsafe(r);for(let i=0;i<r;++i)n[i]=e[i]^t[i];return n};Qe.bufferXOR=iN;var hu={},Vx={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.CBOR=r()})(Be,function(){var t=function(){function r(D){this.$hex=D}r.prototype={length:function(){return this.$hex.length/2},toString:function(D){if(!D||D==="hex"||D===16)return this.$hex;if(D==="utf-8"){for(var u="",l=0;l<this.$hex.length;l+=2)u+="%"+this.$hex.substring(l,l+2);return decodeURIComponent(u)}if(D==="latin"){for(var u=[],l=0;l<this.$hex.length;l+=2)u.push(parseInt(this.$hex.substring(l,l+2),16));return String.fromCharCode.apply(String,u)}throw new Error("Unrecognised format: "+D)}},r.fromLatinString=function(D){for(var u="",l=0;l<D.length;l++){var m=D.charCodeAt(l).toString(16);m.length===1&&(m="0"+m),u+=m}return new r(u)},r.fromUtf8String=function(D){for(var u=encodeURIComponent(D),l="",m=0;m<u.length;m++)if(u.charAt(m)==="%")l+=u.substring(m+1,m+3),m+=2;else{var R=u.charCodeAt(m).toString(16);R.length<2&&(R="0"+R),l+=R}return new r(l)};var n=[],i={},o=function(D){return function(){throw new Error(D+" not implemented")}};function s(){}s.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var D=this.readUint16(),u=(D&32767)>>10,l=D&1023,m=D&32768;if(u===31)return l===0?m?-1/0:1/0:NaN;var R=u?Math.pow(2,u-25)*(1024+l):Math.pow(2,-24)*l;return m?-R:R},readFloat32:function(){var D=this.readUint32(),u=(D&2147483647)>>23,l=D&8388607,m=D&2147483648;if(u===255)return l===0?m?-1/0:1/0:NaN;var R=u?Math.pow(2,u-23-127)*(8388608+l):Math.pow(2,-149)*l;return m?-R:R},readFloat64:function(){var D=this.readUint32(),u=this.readUint32(),l=D>>20&2047,m=(D&1048575)*4294967296+u,R=D&2147483648;if(l===2047)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-52-1023)*(4503599627370496+m):Math.pow(2,-1074)*m;return R?-B:B},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function f(){}f.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(D){this.writeByte(D>>8&255),this.writeByte(D&255)},writeUint32:function(D){this.writeUint16(D>>16&65535),this.writeUint16(D&65535)},writeUint64:function(D){if(D>=9007199254740992||D<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+D+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(D/4294967296)),this.writeUint32(D%4294967296)},writeString:o("writeString"),canWriteBinary:function(D){return!1},writeBinary:o("writeChunk")};function d(D){var u=D.readByte(),l=u>>5,m=u&31;return{type:l,value:m}}function a(D,u){var l=D.value;if(l<24)return l;if(l==24)return u.readByte();if(l==25)return u.readUint16();if(l==26)return u.readUint32();if(l==27)return u.readUint64();if(l==31)return null;o("Additional info: "+l)()}function c(D,u,l){l.writeByte(D<<5|u)}function p(D,u,l){var m=D<<5;u<24?l.writeByte(m|u):u<256?(l.writeByte(m|24),l.writeByte(u)):u<65536?(l.writeByte(m|25),l.writeUint16(u)):u<4294967296?(l.writeByte(m|26),l.writeUint32(u)):(l.writeByte(m|27),l.writeUint64(u))}var h=new Error;function y(D){var u=d(D);switch(u.type){case 0:return a(u,D);case 1:return-1-a(u,D);case 2:return D.readChunk(a(u,D));case 3:var l=D.readChunk(a(u,D));return l.toString("utf-8");case 4:case 5:var m=a(u,D),L=[];if(m!==null){u.type===5&&(m*=2);for(var R=0;R<m;R++)L[R]=y(D)}else for(var B;(B=y(D))!==h;)L.push(B);if(u.type===5){for(var b={},R=0;R<L.length;R+=2)b[L[R]]=L[R+1];return b}else return L;case 6:var E=a(u,D),k=i[E],L=y(D);return k?k(L):L;case 7:if(u.value===25)return D.readFloat16();if(u.value===26)return D.readFloat32();if(u.value===27)return D.readFloat64();switch(a(u,D)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return h;default:throw new Error("Unknown fixed value: "+u.value)}default:throw new Error("Unsupported header: "+JSON.stringify(u))}throw new Error("not implemented yet")}function g(D,u){for(var l=0;l<n.length;l++){var m=n[l].fn(D);if(m!==void 0)return p(6,n[l].tag,u),g(m,u)}if(D&&typeof D.toCBOR=="function"&&(D=D.toCBOR()),D===!1)p(7,20,u);else if(D===!0)p(7,21,u);else if(D===null)p(7,22,u);else if(D===void 0)p(7,23,u);else if(typeof D=="number")Math.floor(D)===D&&D<9007199254740992&&D>-9007199254740992?D<0?p(1,-1-D,u):p(0,D,u):(c(7,27,u),u.writeFloat64(D));else if(typeof D=="string")u.writeString(D,function(B){p(3,B,u)});else if(u.canWriteBinary(D))u.writeBinary(D,function(B){p(2,B,u)});else if(typeof D=="object")if(I.config.useToJSON&&typeof D.toJSON=="function"&&(D=D.toJSON()),Array.isArray(D)){p(4,D.length,u);for(var l=0;l<D.length;l++)g(D[l],u)}else{var R=Object.keys(D);p(5,R.length,u);for(var l=0;l<R.length;l++)g(R[l],u),g(D[R[l]],u)}else throw new Error("CBOR encoding not supported: "+D)}var v=[],T=[],I={config:{useToJSON:!0},addWriter:function(D,u){typeof D=="string"?T.push(function(l){if(D===l)return u(l)}):T.push(D)},addReader:function(D,u){typeof D=="string"?v.push(function(l,m){if(D===m)return u(l,m)}):v.push(D)},encode:function(D,u){for(var l=0;l<T.length;l++){var m=T[l],R=m(u);if(R)return g(D,R),R.result()}throw new Error("Unsupported output format: "+u)},decode:function(D,u){for(var l=0;l<v.length;l++){var m=v[l],R=m(D,u);if(R)return y(R)}throw new Error("Unsupported input format: "+u)},addSemanticEncode:function(D,u){if(typeof D!="number"||D%1!==0||D<0)throw new Error("Tag must be a positive integer");return n.push({tag:D,fn:u}),this},addSemanticDecode:function(D,u){if(typeof D!="number"||D%1!==0||D<0)throw new Error("Tag must be a positive integer");return i[D]=u,this},Reader:s,Writer:f};function _(D){this.buffer=D,this.pos=0}_.prototype=Object.create(s.prototype),_.prototype.peekByte=function(){return this.buffer[this.pos]},_.prototype.readByte=function(){return this.buffer[this.pos++]},_.prototype.readUint16=function(){var D=this.buffer.readUInt16BE(this.pos);return this.pos+=2,D},_.prototype.readUint32=function(){var D=this.buffer.readUInt32BE(this.pos);return this.pos+=4,D},_.prototype.readFloat32=function(){var D=this.buffer.readFloatBE(this.pos);return this.pos+=4,D},_.prototype.readFloat64=function(){var D=this.buffer.readDoubleBE(this.pos);return this.pos+=8,D},_.prototype.readChunk=function(D){var u=Buffer.alloc(D);return this.buffer.copy(u,0,this.pos,this.pos+=D),u};function C(D){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=D}C.prototype=Object.create(f.prototype),C.prototype.writeByte=function(D){this.latestBuffer[this.latestBufferOffset++]=D,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},C.prototype.writeFloat32=function(D){var u=Buffer.alloc(4);u.writeFloatBE(D,0),this.writeBuffer(u)},C.prototype.writeFloat64=function(D){var u=Buffer.alloc(8);u.writeDoubleBE(D,0),this.writeBuffer(u)},C.prototype.writeString=function(D,u){var l=Buffer.from(D,"utf-8");u(l.length),this.writeBuffer(l)},C.prototype.canWriteBinary=function(D){return D instanceof Buffer},C.prototype.writeBinary=function(D,u){u(D.length),this.writeBuffer(D)},C.prototype.writeBuffer=function(D){if(!(D instanceof Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=D.length?(D.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=D.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(D),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(D),this.byteLength+=D.length},C.prototype.result=function(){for(var D=Buffer.alloc(this.byteLength),u=0,l=0;l<this.completeBuffers.length;l++){var m=this.completeBuffers[l];m.copy(D,u,0,m.length),u+=m.length}return this.latestBufferOffset&&this.latestBuffer.copy(D,u,0,this.latestBufferOffset),this.stringFormat?D.toString(this.stringFormat):D},typeof Buffer=="function"&&(I.addReader(function(D,u){if(D instanceof Buffer)return new _(D);if(u==="hex"||u==="base64"){var l=Buffer.from(D,u);return new _(l)}}),I.addWriter(function(D){if(!D||D==="buffer")return new C;if(D==="hex"||D==="base64")return new C(D)}));function w(D){this.hex=D,this.pos=0}w.prototype=Object.create(s.prototype),w.prototype.peekByte=function(){var D=this.hex.substring(this.pos,2);return parseInt(D,16)},w.prototype.readByte=function(){var D=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(D,16)},w.prototype.readChunk=function(D){var u=this.hex.substring(this.pos,this.pos+D*2);return this.pos+=D*2,typeof Buffer=="function"?Buffer.from(u,"hex"):new r(u)};function P(D){this.$hex="",this.finalFormat=D||"hex"}return P.prototype=Object.create(f.prototype),P.prototype.writeByte=function(D){if(D<0||D>255)throw new Error("Byte value out of range: "+D);var u=D.toString(16);u.length==1&&(u="0"+u),this.$hex+=u},P.prototype.canWriteBinary=function(D){return D instanceof r||typeof Buffer=="function"&&D instanceof Buffer},P.prototype.writeBinary=function(D,u){if(D instanceof r)u(D.length()),this.$hex+=D.$hex;else if(typeof Buffer=="function"&&D instanceof Buffer)u(D.length),this.$hex+=D.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},P.prototype.result=function(){return this.finalFormat==="buffer"&&typeof Buffer=="function"?Buffer.from(this.$hex,"hex"):new r(this.$hex).toString(this.finalFormat)},P.prototype.writeString=function(D,u){var l=r.fromUtf8String(D);u(l.length()),this.$hex+=l.$hex},I.addReader(function(D,u){if(D instanceof r||D.$hex)return new w(D.$hex);if(u==="hex")return new w(D)}),I.addWriter(function(D){if(D==="hex")return new P}),I}();return t.addSemanticEncode(0,function(r){if(r instanceof Date)return r.toISOString()}).addSemanticDecode(0,function(r){return new Date(r)}).addSemanticDecode(1,function(r){return new Date(r)}),t})})(Vx);var oN=Vx.exports;Object.defineProperty(hu,"__esModule",{value:!0});hu.cborDecode=hu.cborEncode=void 0;const zx=oN,sN=e=>zx.encode(e);hu.cborEncode=sN;const aN=e=>zx.decode(Buffer.isBuffer(e)?e:Buffer.from(e,"hex"));hu.cborDecode=aN;Object.defineProperty(Xg,"__esModule",{value:!0});const fN=Jn,uN=Qe,t4=hu;class Vy{constructor(t,r="bytes"){if(this._cborPayload=t,this._type=r,!uN.isURType(this._type))throw new fN.InvalidTypeError}static fromBuffer(t){return new Vy(t4.cborEncode(t))}static from(t,r){return Vy.fromBuffer(Buffer.from(t,r))}decodeCBOR(){return t4.cborDecode(this._cborPayload)}get type(){return this._type}get cbor(){return this._cborPayload}equals(t){return this.type===t.type&&this.cbor.equals(t.cbor)}}Xg.default=Vy;var f6={},_d={},Bb={exports:{}},Cb={},Ec={},Yx={},u6=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0},cN=u6,c6=function(){return cN()&&!!Symbol.toStringTag},r4=typeof Symbol<"u"&&Symbol,dN=u6,lN=function(){return typeof r4!="function"||typeof Symbol!="function"||typeof r4("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:dN()},n4={foo:{}},hN=Object,pN=function(){return{__proto__:n4}.foo===n4.foo&&!({__proto__:null}instanceof hN)},yN="Function.prototype.bind called on incompatible ",gN=Object.prototype.toString,mN=Math.max,bN="[object Function]",i4=function(t,r){for(var n=[],i=0;i<t.length;i+=1)n[i]=t[i];for(var o=0;o<r.length;o+=1)n[o+t.length]=r[o];return n},vN=function(t,r){for(var n=[],i=r||0,o=0;i<t.length;i+=1,o+=1)n[o]=t[i];return n},_N=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},wN=function(t){var r=this;if(typeof r!="function"||gN.apply(r)!==bN)throw new TypeError(yN+r);for(var n=vN(arguments,1),i,o=function(){if(this instanceof i){var c=r.apply(this,i4(n,arguments));return Object(c)===c?c:this}return r.apply(t,i4(n,arguments))},s=mN(0,r.length-n.length),f=[],d=0;d<s;d++)f[d]="$"+d;if(i=Function("binder","return function ("+_N(f,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var a=function(){};a.prototype=r.prototype,i.prototype=new a,a.prototype=null}return i},TN=wN,d6=Function.prototype.bind||TN,IN=Function.prototype.call,EN=Object.prototype.hasOwnProperty,xN=d6,SN=xN.call(IN,EN),Xe,xc=SyntaxError,Gx=Function,bc=TypeError,Db=function(e){try{return Gx('"use strict"; return ('+e+").constructor;")()}catch{}},su=Object.getOwnPropertyDescriptor;if(su)try{su({},"")}catch{su=null}var Rb=function(){throw new bc},BN=su?function(){try{return arguments.callee,Rb}catch{try{return su(arguments,"callee").get}catch{return Rb}}}():Rb,Wu=lN(),CN=pN(),sr=Object.getPrototypeOf||(CN?function(e){return e.__proto__}:null),uc={},DN=typeof Uint8Array>"u"||!sr?Xe:sr(Uint8Array),au={"%AggregateError%":typeof AggregateError>"u"?Xe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Xe:ArrayBuffer,"%ArrayIteratorPrototype%":Wu&&sr?sr([][Symbol.iterator]()):Xe,"%AsyncFromSyncIteratorPrototype%":Xe,"%AsyncFunction%":uc,"%AsyncGenerator%":uc,"%AsyncGeneratorFunction%":uc,"%AsyncIteratorPrototype%":uc,"%Atomics%":typeof Atomics>"u"?Xe:Atomics,"%BigInt%":typeof BigInt>"u"?Xe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Xe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Xe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Xe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Xe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Xe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Xe:FinalizationRegistry,"%Function%":Gx,"%GeneratorFunction%":uc,"%Int8Array%":typeof Int8Array>"u"?Xe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Xe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Xe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Wu&&sr?sr(sr([][Symbol.iterator]())):Xe,"%JSON%":typeof JSON=="object"?JSON:Xe,"%Map%":typeof Map>"u"?Xe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Wu||!sr?Xe:sr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Xe:Promise,"%Proxy%":typeof Proxy>"u"?Xe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Xe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Xe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Wu||!sr?Xe:sr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Xe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Wu&&sr?sr(""[Symbol.iterator]()):Xe,"%Symbol%":Wu?Symbol:Xe,"%SyntaxError%":xc,"%ThrowTypeError%":BN,"%TypedArray%":DN,"%TypeError%":bc,"%Uint8Array%":typeof Uint8Array>"u"?Xe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Xe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Xe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Xe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Xe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Xe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Xe:WeakSet};if(sr)try{null.error}catch(e){var RN=sr(sr(e));au["%Error.prototype%"]=RN}var ON=function e(t){var r;if(t==="%AsyncFunction%")r=Db("async function () {}");else if(t==="%GeneratorFunction%")r=Db("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Db("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&sr&&(r=sr(i.prototype))}return au[t]=r,r},o4={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Vh=d6,zy=SN,AN=Vh.call(Function.call,Array.prototype.concat),PN=Vh.call(Function.apply,Array.prototype.splice),s4=Vh.call(Function.call,String.prototype.replace),Yy=Vh.call(Function.call,String.prototype.slice),NN=Vh.call(Function.call,RegExp.prototype.exec),MN=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,UN=/\\(\\)?/g,kN=function(t){var r=Yy(t,0,1),n=Yy(t,-1);if(r==="%"&&n!=="%")throw new xc("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new xc("invalid intrinsic syntax, expected opening `%`");var i=[];return s4(t,MN,function(o,s,f,d){i[i.length]=f?s4(d,UN,"$1"):s||o}),i},$N=function(t,r){var n=t,i;if(zy(o4,n)&&(i=o4[n],n="%"+i[0]+"%"),zy(au,n)){var o=au[n];if(o===uc&&(o=ON(n)),typeof o>"u"&&!r)throw new bc("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new xc("intrinsic "+t+" does not exist!")},wd=function(t,r){if(typeof t!="string"||t.length===0)throw new bc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new bc('"allowMissing" argument must be a boolean');if(NN(/^%?[^%]*%?$/,t)===null)throw new xc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=kN(t),i=n.length>0?n[0]:"",o=$N("%"+i+"%",r),s=o.name,f=o.value,d=!1,a=o.alias;a&&(i=a[0],PN(n,AN([0,1],a)));for(var c=1,p=!0;c<n.length;c+=1){var h=n[c],y=Yy(h,0,1),g=Yy(h,-1);if((y==='"'||y==="'"||y==="`"||g==='"'||g==="'"||g==="`")&&y!==g)throw new xc("property names with quotes must have matching quotes");if((h==="constructor"||!p)&&(d=!0),i+="."+h,s="%"+i+"%",zy(au,s))f=au[s];else if(f!=null){if(!(h in f)){if(!r)throw new bc("base intrinsic for "+t+" exists, but the property is not available.");return}if(su&&c+1>=n.length){var v=su(f,h);p=!!v,p&&"get"in v&&!("originalValue"in v.get)?f=v.get:f=f[h]}else p=zy(f,h),f=f[h];p&&!d&&(au[s]=f)}}return f},Jx={exports:{}},FN=wd,V_=FN("%Object.defineProperty%",!0),z_=function(){if(V_)try{return V_({},"a",{value:1}),!0}catch{return!1}return!1};z_.hasArrayLengthDefineBug=function(){if(!z_())return null;try{return V_([],"length",{value:1}).length!==1}catch{return!0}};var l6=z_,LN=wd,xy=LN("%Object.getOwnPropertyDescriptor%",!0);if(xy)try{xy([],"length")}catch{xy=null}var h6=xy,jN=l6(),p6=wd,U0=jN&&p6("%Object.defineProperty%",!0);if(U0)try{U0({},"a",{value:1})}catch{U0=!1}var KN=p6("%SyntaxError%"),Xu=p6("%TypeError%"),a4=h6,Wx=function(t,r,n){if(!t||typeof t!="object"&&typeof t!="function")throw new Xu("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Xu("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Xu("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Xu("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Xu("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Xu("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,d=!!a4&&a4(t,r);if(U0)U0(t,r,{configurable:s===null&&d?d.configurable:!s,enumerable:i===null&&d?d.enumerable:!i,value:n,writable:o===null&&d?d.writable:!o});else if(f||!i&&!o&&!s)t[r]=n;else throw new KN("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Xx=wd,f4=Wx,HN=l6(),u4=h6,c4=Xx("%TypeError%"),qN=Xx("%Math.floor%"),VN=function(t,r){if(typeof t!="function")throw new c4("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||qN(r)!==r)throw new c4("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in t&&u4){var s=u4(t,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!n)&&(HN?f4(t,"length",r,!0,!0):f4(t,"length",r)),t};(function(e){var t=d6,r=wd,n=VN,i=r("%TypeError%"),o=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),f=r("%Reflect.apply%",!0)||t.call(s,o),d=r("%Object.defineProperty%",!0),a=r("%Math.max%");if(d)try{d({},"a",{value:1})}catch{d=null}e.exports=function(h){if(typeof h!="function")throw new i("a function is required");var y=f(t,s,arguments);return n(y,1+a(0,h.length-(arguments.length-1)),!0)};var c=function(){return f(t,o,arguments)};d?d(e.exports,"apply",{value:c}):e.exports.apply=c})(Jx);var Zg=Jx.exports,Zx=wd,Qx=Zg,zN=Qx(Zx("String.prototype.indexOf")),Qg=function(t,r){var n=Zx(t,!!r);return typeof n=="function"&&zN(t,".prototype.")>-1?Qx(n):n},YN=c6(),GN=Qg,Y_=GN("Object.prototype.toString"),e1=function(t){return YN&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Y_(t)==="[object Arguments]"},eS=function(t){return e1(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Y_(t)!=="[object Array]"&&Y_(t.callee)==="[object Function]"},JN=function(){return e1(arguments)}();e1.isLegacyArguments=eS;var WN=JN?e1:eS,XN=Object.prototype.toString,ZN=Function.prototype.toString,QN=/^\s*(?:function)?\*/,tS=c6(),Ob=Object.getPrototypeOf,eM=function(){if(!tS)return!1;try{return Function("return function*() {}")()}catch{}},Ab,tM=function(t){if(typeof t!="function")return!1;if(QN.test(ZN.call(t)))return!0;if(!tS){var r=XN.call(t);return r==="[object GeneratorFunction]"}if(!Ob)return!1;if(typeof Ab>"u"){var n=eM();Ab=n?Ob(n):!1}return Ob(t)===Ab},rS=Function.prototype.toString,dc=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,G_,Sy;if(typeof dc=="function"&&typeof Object.defineProperty=="function")try{G_=Object.defineProperty({},"length",{get:function(){throw Sy}}),Sy={},dc(function(){throw 42},null,G_)}catch(e){e!==Sy&&(dc=null)}else dc=null;var rM=/^\s*class\b/,J_=function(t){try{var r=rS.call(t);return rM.test(r)}catch{return!1}},Pb=function(t){try{return J_(t)?!1:(rS.call(t),!0)}catch{return!1}},By=Object.prototype.toString,nM="[object Object]",iM="[object Function]",oM="[object GeneratorFunction]",sM="[object HTMLAllCollection]",aM="[object HTML document.all class]",fM="[object HTMLCollection]",uM=typeof Symbol=="function"&&!!Symbol.toStringTag,cM=!(0 in[,]),W_=function(){return!1};if(typeof document=="object"){var dM=document.all;By.call(dM)===By.call(document.all)&&(W_=function(t){if((cM||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=By.call(t);return(r===sM||r===aM||r===fM||r===nM)&&t("")==null}catch{}return!1})}var lM=dc?function(t){if(W_(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{dc(t,null,G_)}catch(r){if(r!==Sy)return!1}return!J_(t)&&Pb(t)}:function(t){if(W_(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(uM)return Pb(t);if(J_(t))return!1;var r=By.call(t);return r!==iM&&r!==oM&&!/^\[object HTML/.test(r)?!1:Pb(t)},hM=lM,pM=Object.prototype.toString,nS=Object.prototype.hasOwnProperty,yM=function(t,r,n){for(var i=0,o=t.length;i<o;i++)nS.call(t,i)&&(n==null?r(t[i],i,t):r.call(n,t[i],i,t))},gM=function(t,r,n){for(var i=0,o=t.length;i<o;i++)n==null?r(t.charAt(i),i,t):r.call(n,t.charAt(i),i,t)},mM=function(t,r,n){for(var i in t)nS.call(t,i)&&(n==null?r(t[i],i,t):r.call(n,t[i],i,t))},bM=function(t,r,n){if(!hM(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),pM.call(t)==="[object Array]"?yM(t,r,i):typeof t=="string"?gM(t,r,i):mM(t,r,i)},vM=bM,Nb=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],_M=typeof globalThis>"u"?Be:globalThis,wM=function(){for(var t=[],r=0;r<Nb.length;r++)typeof _M[Nb[r]]=="function"&&(t[t.length]=Nb[r]);return t},Gy=vM,TM=wM,d4=Zg,y6=Qg,Cy=h6,IM=y6("Object.prototype.toString"),iS=c6(),l4=typeof globalThis>"u"?Be:globalThis,X_=TM(),g6=y6("String.prototype.slice"),Mb=Object.getPrototypeOf,EM=y6("Array.prototype.indexOf",!0)||function(t,r){for(var n=0;n<t.length;n+=1)if(t[n]===r)return n;return-1},Jy={__proto__:null};iS&&Cy&&Mb?Gy(X_,function(e){var t=new l4[e];if(Symbol.toStringTag in t){var r=Mb(t),n=Cy(r,Symbol.toStringTag);if(!n){var i=Mb(r);n=Cy(i,Symbol.toStringTag)}Jy["$"+e]=d4(n.get)}}):Gy(X_,function(e){var t=new l4[e],r=t.slice||t.set;r&&(Jy["$"+e]=d4(r))});var xM=function(t){var r=!1;return Gy(Jy,function(n,i){if(!r)try{"$"+n(t)===i&&(r=g6(i,1))}catch{}}),r},SM=function(t){var r=!1;return Gy(Jy,function(n,i){if(!r)try{n(t),r=g6(i,1)}catch{}}),r},oS=function(t){if(!t||typeof t!="object")return!1;if(!iS){var r=g6(IM(t),8,-1);return EM(X_,r)>-1?r:r!=="Object"?!1:SM(t)}return Cy?xM(t):null},BM=oS,CM=function(t){return!!BM(t)};(function(e){var t=WN,r=tM,n=oS,i=CM;function o(W){return W.call.bind(W)}var s=typeof BigInt<"u",f=typeof Symbol<"u",d=o(Object.prototype.toString),a=o(Number.prototype.valueOf),c=o(String.prototype.valueOf),p=o(Boolean.prototype.valueOf);if(s)var h=o(BigInt.prototype.valueOf);if(f)var y=o(Symbol.prototype.valueOf);function g(W,be){if(typeof W!="object")return!1;try{return be(W),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function v(W){return typeof Promise<"u"&&W instanceof Promise||W!==null&&typeof W=="object"&&typeof W.then=="function"&&typeof W.catch=="function"}e.isPromise=v;function T(W){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(W):i(W)||ie(W)}e.isArrayBufferView=T;function I(W){return n(W)==="Uint8Array"}e.isUint8Array=I;function _(W){return n(W)==="Uint8ClampedArray"}e.isUint8ClampedArray=_;function C(W){return n(W)==="Uint16Array"}e.isUint16Array=C;function w(W){return n(W)==="Uint32Array"}e.isUint32Array=w;function P(W){return n(W)==="Int8Array"}e.isInt8Array=P;function D(W){return n(W)==="Int16Array"}e.isInt16Array=D;function u(W){return n(W)==="Int32Array"}e.isInt32Array=u;function l(W){return n(W)==="Float32Array"}e.isFloat32Array=l;function m(W){return n(W)==="Float64Array"}e.isFloat64Array=m;function R(W){return n(W)==="BigInt64Array"}e.isBigInt64Array=R;function B(W){return n(W)==="BigUint64Array"}e.isBigUint64Array=B;function b(W){return d(W)==="[object Map]"}b.working=typeof Map<"u"&&b(new Map);function E(W){return typeof Map>"u"?!1:b.working?b(W):W instanceof Map}e.isMap=E;function k(W){return d(W)==="[object Set]"}k.working=typeof Set<"u"&&k(new Set);function L(W){return typeof Set>"u"?!1:k.working?k(W):W instanceof Set}e.isSet=L;function $(W){return d(W)==="[object WeakMap]"}$.working=typeof WeakMap<"u"&&$(new WeakMap);function G(W){return typeof WeakMap>"u"?!1:$.working?$(W):W instanceof WeakMap}e.isWeakMap=G;function oe(W){return d(W)==="[object WeakSet]"}oe.working=typeof WeakSet<"u"&&oe(new WeakSet);function M(W){return oe(W)}e.isWeakSet=M;function S(W){return d(W)==="[object ArrayBuffer]"}S.working=typeof ArrayBuffer<"u"&&S(new ArrayBuffer);function K(W){return typeof ArrayBuffer>"u"?!1:S.working?S(W):W instanceof ArrayBuffer}e.isArrayBuffer=K;function he(W){return d(W)==="[object DataView]"}he.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&he(new DataView(new ArrayBuffer(1),0,1));function ie(W){return typeof DataView>"u"?!1:he.working?he(W):W instanceof DataView}e.isDataView=ie;var fe=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function pe(W){return d(W)==="[object SharedArrayBuffer]"}function se(W){return typeof fe>"u"?!1:(typeof pe.working>"u"&&(pe.working=pe(new fe)),pe.working?pe(W):W instanceof fe)}e.isSharedArrayBuffer=se;function ee(W){return d(W)==="[object AsyncFunction]"}e.isAsyncFunction=ee;function te(W){return d(W)==="[object Map Iterator]"}e.isMapIterator=te;function ae(W){return d(W)==="[object Set Iterator]"}e.isSetIterator=ae;function X(W){return d(W)==="[object Generator]"}e.isGeneratorObject=X;function V(W){return d(W)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=V;function Y(W){return g(W,a)}e.isNumberObject=Y;function ce(W){return g(W,c)}e.isStringObject=ce;function _e(W){return g(W,p)}e.isBooleanObject=_e;function Ce(W){return s&&g(W,h)}e.isBigIntObject=Ce;function Q(W){return f&&g(W,y)}e.isSymbolObject=Q;function U(W){return Y(W)||ce(W)||_e(W)||Ce(W)||Q(W)}e.isBoxedPrimitive=U;function F(W){return typeof Uint8Array<"u"&&(K(W)||se(W))}e.isAnyArrayBuffer=F,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(W){Object.defineProperty(e,W,{enumerable:!1,value:function(){throw new Error(W+" is not supported in userland")}})})})(Yx);var DM=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"};(function(e){var t={},r=Object.getOwnPropertyDescriptors||function(fe){for(var pe=Object.keys(fe),se={},ee=0;ee<pe.length;ee++)se[pe[ee]]=Object.getOwnPropertyDescriptor(fe,pe[ee]);return se},n=/%[sdj%]/g;e.format=function(ie){if(!D(ie)){for(var fe=[],pe=0;pe<arguments.length;pe++)fe.push(f(arguments[pe]));return fe.join(" ")}for(var pe=1,se=arguments,ee=se.length,te=String(ie).replace(n,function(X){if(X==="%%")return"%";if(pe>=ee)return X;switch(X){case"%s":return String(se[pe++]);case"%d":return Number(se[pe++]);case"%j":try{return JSON.stringify(se[pe++])}catch{return"[Circular]"}default:return X}}),ae=se[pe];pe<ee;ae=se[++pe])C(ae)||!R(ae)?te+=" "+ae:te+=" "+f(ae);return te},e.deprecate=function(ie,fe){if(typeof process<"u"&&process.noDeprecation===!0)return ie;if(typeof process>"u")return function(){return e.deprecate(ie,fe).apply(this,arguments)};var pe=!1;function se(){if(!pe){if(process.throwDeprecation)throw new Error(fe);process.traceDeprecation?console.trace(fe):console.error(fe),pe=!0}return ie.apply(this,arguments)}return se};var i={},o=/^$/;if(t.NODE_DEBUG){var s=t.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+s+"$","i")}e.debuglog=function(ie){if(ie=ie.toUpperCase(),!i[ie])if(o.test(ie)){var fe=process.pid;i[ie]=function(){var pe=e.format.apply(e,arguments);console.error("%s %d: %s",ie,fe,pe)}}else i[ie]=function(){};return i[ie]};function f(ie,fe){var pe={seen:[],stylize:a};return arguments.length>=3&&(pe.depth=arguments[2]),arguments.length>=4&&(pe.colors=arguments[3]),_(fe)?pe.showHidden=fe:fe&&e._extend(pe,fe),l(pe.showHidden)&&(pe.showHidden=!1),l(pe.depth)&&(pe.depth=2),l(pe.colors)&&(pe.colors=!1),l(pe.customInspect)&&(pe.customInspect=!0),pe.colors&&(pe.stylize=d),p(pe,ie,pe.depth)}e.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function d(ie,fe){var pe=f.styles[fe];return pe?"\x1B["+f.colors[pe][0]+"m"+ie+"\x1B["+f.colors[pe][1]+"m":ie}function a(ie,fe){return ie}function c(ie){var fe={};return ie.forEach(function(pe,se){fe[pe]=!0}),fe}function p(ie,fe,pe){if(ie.customInspect&&fe&&E(fe.inspect)&&fe.inspect!==e.inspect&&!(fe.constructor&&fe.constructor.prototype===fe)){var se=fe.inspect(pe,ie);return D(se)||(se=p(ie,se,pe)),se}var ee=h(ie,fe);if(ee)return ee;var te=Object.keys(fe),ae=c(te);if(ie.showHidden&&(te=Object.getOwnPropertyNames(fe)),b(fe)&&(te.indexOf("message")>=0||te.indexOf("description")>=0))return y(fe);if(te.length===0){if(E(fe)){var X=fe.name?": "+fe.name:"";return ie.stylize("[Function"+X+"]","special")}if(m(fe))return ie.stylize(RegExp.prototype.toString.call(fe),"regexp");if(B(fe))return ie.stylize(Date.prototype.toString.call(fe),"date");if(b(fe))return y(fe)}var V="",Y=!1,ce=["{","}"];if(I(fe)&&(Y=!0,ce=["[","]"]),E(fe)){var _e=fe.name?": "+fe.name:"";V=" [Function"+_e+"]"}if(m(fe)&&(V=" "+RegExp.prototype.toString.call(fe)),B(fe)&&(V=" "+Date.prototype.toUTCString.call(fe)),b(fe)&&(V=" "+y(fe)),te.length===0&&(!Y||fe.length==0))return ce[0]+V+ce[1];if(pe<0)return m(fe)?ie.stylize(RegExp.prototype.toString.call(fe),"regexp"):ie.stylize("[Object]","special");ie.seen.push(fe);var Ce;return Y?Ce=g(ie,fe,pe,ae,te):Ce=te.map(function(Q){return v(ie,fe,pe,ae,Q,Y)}),ie.seen.pop(),T(Ce,V,ce)}function h(ie,fe){if(l(fe))return ie.stylize("undefined","undefined");if(D(fe)){var pe="'"+JSON.stringify(fe).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ie.stylize(pe,"string")}if(P(fe))return ie.stylize(""+fe,"number");if(_(fe))return ie.stylize(""+fe,"boolean");if(C(fe))return ie.stylize("null","null")}function y(ie){return"["+Error.prototype.toString.call(ie)+"]"}function g(ie,fe,pe,se,ee){for(var te=[],ae=0,X=fe.length;ae<X;++ae)M(fe,String(ae))?te.push(v(ie,fe,pe,se,String(ae),!0)):te.push("");return ee.forEach(function(V){V.match(/^\d+$/)||te.push(v(ie,fe,pe,se,V,!0))}),te}function v(ie,fe,pe,se,ee,te){var ae,X,V;if(V=Object.getOwnPropertyDescriptor(fe,ee)||{value:fe[ee]},V.get?V.set?X=ie.stylize("[Getter/Setter]","special"):X=ie.stylize("[Getter]","special"):V.set&&(X=ie.stylize("[Setter]","special")),M(se,ee)||(ae="["+ee+"]"),X||(ie.seen.indexOf(V.value)<0?(C(pe)?X=p(ie,V.value,null):X=p(ie,V.value,pe-1),X.indexOf(`
`)>-1&&(te?X=X.split(`
`).map(function(Y){return"  "+Y}).join(`
`).slice(2):X=`
`+X.split(`
`).map(function(Y){return"   "+Y}).join(`
`))):X=ie.stylize("[Circular]","special")),l(ae)){if(te&&ee.match(/^\d+$/))return X;ae=JSON.stringify(""+ee),ae.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ae=ae.slice(1,-1),ae=ie.stylize(ae,"name")):(ae=ae.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ae=ie.stylize(ae,"string"))}return ae+": "+X}function T(ie,fe,pe){var se=ie.reduce(function(ee,te){return te.indexOf(`
`)>=0,ee+te.replace(/\u001b\[\d\d?m/g,"").length+1},0);return se>60?pe[0]+(fe===""?"":fe+`
 `)+" "+ie.join(`,
  `)+" "+pe[1]:pe[0]+fe+" "+ie.join(", ")+" "+pe[1]}e.types=Yx;function I(ie){return Array.isArray(ie)}e.isArray=I;function _(ie){return typeof ie=="boolean"}e.isBoolean=_;function C(ie){return ie===null}e.isNull=C;function w(ie){return ie==null}e.isNullOrUndefined=w;function P(ie){return typeof ie=="number"}e.isNumber=P;function D(ie){return typeof ie=="string"}e.isString=D;function u(ie){return typeof ie=="symbol"}e.isSymbol=u;function l(ie){return ie===void 0}e.isUndefined=l;function m(ie){return R(ie)&&L(ie)==="[object RegExp]"}e.isRegExp=m,e.types.isRegExp=m;function R(ie){return typeof ie=="object"&&ie!==null}e.isObject=R;function B(ie){return R(ie)&&L(ie)==="[object Date]"}e.isDate=B,e.types.isDate=B;function b(ie){return R(ie)&&(L(ie)==="[object Error]"||ie instanceof Error)}e.isError=b,e.types.isNativeError=b;function E(ie){return typeof ie=="function"}e.isFunction=E;function k(ie){return ie===null||typeof ie=="boolean"||typeof ie=="number"||typeof ie=="string"||typeof ie=="symbol"||typeof ie>"u"}e.isPrimitive=k,e.isBuffer=DM;function L(ie){return Object.prototype.toString.call(ie)}function $(ie){return ie<10?"0"+ie.toString(10):ie.toString(10)}var G=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function oe(){var ie=new Date,fe=[$(ie.getHours()),$(ie.getMinutes()),$(ie.getSeconds())].join(":");return[ie.getDate(),G[ie.getMonth()],fe].join(" ")}e.log=function(){console.log("%s - %s",oe(),e.format.apply(e,arguments))},e.inherits=Gt,e._extend=function(ie,fe){if(!fe||!R(fe))return ie;for(var pe=Object.keys(fe),se=pe.length;se--;)ie[pe[se]]=fe[pe[se]];return ie};function M(ie,fe){return Object.prototype.hasOwnProperty.call(ie,fe)}var S=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(fe){if(typeof fe!="function")throw new TypeError('The "original" argument must be of type Function');if(S&&fe[S]){var pe=fe[S];if(typeof pe!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(pe,S,{value:pe,enumerable:!1,writable:!1,configurable:!0}),pe}function pe(){for(var se,ee,te=new Promise(function(V,Y){se=V,ee=Y}),ae=[],X=0;X<arguments.length;X++)ae.push(arguments[X]);ae.push(function(V,Y){V?ee(V):se(Y)});try{fe.apply(this,ae)}catch(V){ee(V)}return te}return Object.setPrototypeOf(pe,Object.getPrototypeOf(fe)),S&&Object.defineProperty(pe,S,{value:pe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(pe,r(fe))},e.promisify.custom=S;function K(ie,fe){if(!ie){var pe=new Error("Promise was rejected with a falsy value");pe.reason=ie,ie=pe}return fe(ie)}function he(ie){if(typeof ie!="function")throw new TypeError('The "original" argument must be of type Function');function fe(){for(var pe=[],se=0;se<arguments.length;se++)pe.push(arguments[se]);var ee=pe.pop();if(typeof ee!="function")throw new TypeError("The last argument must be of type Function");var te=this,ae=function(){return ee.apply(te,arguments)};ie.apply(this,pe).then(function(X){process.nextTick(ae.bind(null,null,X))},function(X){process.nextTick(K.bind(null,X,ae))})}return Object.setPrototypeOf(fe,Object.getPrototypeOf(ie)),Object.defineProperties(fe,r(ie)),fe}e.callbackify=he})(Ec);var h4;function sS(){if(h4)return Cb;h4=1;function e(P){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},e(P)}function t(P,D){for(var u=0;u<D.length;u++){var l=D[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(P,n(l.key),l)}}function r(P,D,u){return D&&t(P.prototype,D),u&&t(P,u),Object.defineProperty(P,"prototype",{writable:!1}),P}function n(P){var D=i(P,"string");return e(D)==="symbol"?D:String(D)}function i(P,D){if(e(P)!=="object"||P===null)return P;var u=P[Symbol.toPrimitive];if(u!==void 0){var l=u.call(P,D||"default");if(e(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(P)}function o(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}function s(P,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),D&&f(P,D)}function f(P,D){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,m){return l.__proto__=m,l},f(P,D)}function d(P){var D=p();return function(){var l=h(P),m;if(D){var R=h(this).constructor;m=Reflect.construct(l,arguments,R)}else m=l.apply(this,arguments);return a(this,m)}}function a(P,D){if(D&&(e(D)==="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(P)}function c(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(P){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},h(P)}var y={},g,v;function T(P,D,u){u||(u=Error);function l(R,B,b){return typeof D=="string"?D:D(R,B,b)}var m=function(R){s(b,R);var B=d(b);function b(E,k,L){var $;return o(this,b),$=B.call(this,l(E,k,L)),$.code=P,$}return r(b)}(u);y[P]=m}function I(P,D){if(Array.isArray(P)){var u=P.length;return P=P.map(function(l){return String(l)}),u>2?"one of ".concat(D," ").concat(P.slice(0,u-1).join(", "),", or ")+P[u-1]:u===2?"one of ".concat(D," ").concat(P[0]," or ").concat(P[1]):"of ".concat(D," ").concat(P[0])}else return"of ".concat(D," ").concat(String(P))}function _(P,D,u){return P.substr(!u||u<0?0:+u,D.length)===D}function C(P,D,u){return(u===void 0||u>P.length)&&(u=P.length),P.substring(u-D.length,u)===D}function w(P,D,u){return typeof u!="number"&&(u=0),u+D.length>P.length?!1:P.indexOf(D,u)!==-1}return T("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),T("ERR_INVALID_ARG_TYPE",function(P,D,u){g===void 0&&(g=Di()),g(typeof P=="string","'name' must be a string");var l;typeof D=="string"&&_(D,"not ")?(l="must not be",D=D.replace(/^not /,"")):l="must be";var m;if(C(P," argument"))m="The ".concat(P," ").concat(l," ").concat(I(D,"type"));else{var R=w(P,".")?"property":"argument";m='The "'.concat(P,'" ').concat(R," ").concat(l," ").concat(I(D,"type"))}return m+=". Received type ".concat(e(u)),m},TypeError),T("ERR_INVALID_ARG_VALUE",function(P,D){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";v===void 0&&(v=Ec);var l=v.inspect(D);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(P,"' ").concat(u,". Received ").concat(l)},TypeError),T("ERR_INVALID_RETURN_VALUE",function(P,D,u){var l;return u&&u.constructor&&u.constructor.name?l="instance of ".concat(u.constructor.name):l="type ".concat(e(u)),"Expected ".concat(P,' to be returned from the "').concat(D,'"')+" function but got ".concat(l,".")},TypeError),T("ERR_MISSING_ARGS",function(){for(var P=arguments.length,D=new Array(P),u=0;u<P;u++)D[u]=arguments[u];g===void 0&&(g=Di()),g(D.length>0,"At least one arg needs to be specified");var l="The ",m=D.length;switch(D=D.map(function(R){return'"'.concat(R,'"')}),m){case 1:l+="".concat(D[0]," argument");break;case 2:l+="".concat(D[0]," and ").concat(D[1]," arguments");break;default:l+=D.slice(0,m-1).join(", "),l+=", and ".concat(D[m-1]," arguments");break}return"".concat(l," must be specified")},TypeError),Cb.codes=y,Cb}var Ub,p4;function RM(){if(p4)return Ub;p4=1;function e(M,S){var K=Object.keys(M);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(M);S&&(he=he.filter(function(ie){return Object.getOwnPropertyDescriptor(M,ie).enumerable})),K.push.apply(K,he)}return K}function t(M){for(var S=1;S<arguments.length;S++){var K=arguments[S]!=null?arguments[S]:{};S%2?e(Object(K),!0).forEach(function(he){r(M,he,K[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(K)):e(Object(K)).forEach(function(he){Object.defineProperty(M,he,Object.getOwnPropertyDescriptor(K,he))})}return M}function r(M,S,K){return S=s(S),S in M?Object.defineProperty(M,S,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[S]=K,M}function n(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")}function i(M,S){for(var K=0;K<S.length;K++){var he=S[K];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(M,s(he.key),he)}}function o(M,S,K){return S&&i(M.prototype,S),K&&i(M,K),Object.defineProperty(M,"prototype",{writable:!1}),M}function s(M){var S=f(M,"string");return _(S)==="symbol"?S:String(S)}function f(M,S){if(_(M)!=="object"||M===null)return M;var K=M[Symbol.toPrimitive];if(K!==void 0){var he=K.call(M,S||"default");if(_(he)!=="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(M)}function d(M,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(S&&S.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),S&&T(M,S)}function a(M){var S=g();return function(){var he=I(M),ie;if(S){var fe=I(this).constructor;ie=Reflect.construct(he,arguments,fe)}else ie=he.apply(this,arguments);return c(this,ie)}}function c(M,S){if(S&&(_(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(M)}function p(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function h(M){var S=typeof Map=="function"?new Map:void 0;return h=function(he){if(he===null||!v(he))return he;if(typeof he!="function")throw new TypeError("Super expression must either be null or a function");if(typeof S<"u"){if(S.has(he))return S.get(he);S.set(he,ie)}function ie(){return y(he,arguments,I(this).constructor)}return ie.prototype=Object.create(he.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),T(ie,he)},h(M)}function y(M,S,K){return g()?y=Reflect.construct.bind():y=function(ie,fe,pe){var se=[null];se.push.apply(se,fe);var ee=Function.bind.apply(ie,se),te=new ee;return pe&&T(te,pe.prototype),te},y.apply(null,arguments)}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(M){return Function.toString.call(M).indexOf("[native code]")!==-1}function T(M,S){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(he,ie){return he.__proto__=ie,he},T(M,S)}function I(M){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},I(M)}function _(M){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},_(M)}var C=Ec,w=C.inspect,P=sS(),D=P.codes.ERR_INVALID_ARG_TYPE;function u(M,S,K){return(K===void 0||K>M.length)&&(K=M.length),M.substring(K-S.length,K)===S}function l(M,S){if(S=Math.floor(S),M.length==0||S==0)return"";var K=M.length*S;for(S=Math.floor(Math.log(S)/Math.log(2));S;)M+=M,S--;return M+=M.substring(0,K-M.length),M}var m="",R="",B="",b="",E={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},k=10;function L(M){var S=Object.keys(M),K=Object.create(Object.getPrototypeOf(M));return S.forEach(function(he){K[he]=M[he]}),Object.defineProperty(K,"message",{value:M.message}),K}function $(M){return w(M,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function G(M,S,K){var he="",ie="",fe=0,pe="",se=!1,ee=$(M),te=ee.split(`
`),ae=$(S).split(`
`),X=0,V="";if(K==="strictEqual"&&_(M)==="object"&&_(S)==="object"&&M!==null&&S!==null&&(K="strictEqualObject"),te.length===1&&ae.length===1&&te[0]!==ae[0]){var Y=te[0].length+ae[0].length;if(Y<=k){if((_(M)!=="object"||M===null)&&(_(S)!=="object"||S===null)&&(M!==0||S!==0))return"".concat(E[K],`

`)+"".concat(te[0]," !== ").concat(ae[0],`
`)}else if(K!=="strictEqualObject"){var ce=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(Y<ce){for(;te[0][X]===ae[0][X];)X++;X>2&&(V=`
  `.concat(l(" ",X),"^"),X=0)}}}for(var _e=te[te.length-1],Ce=ae[ae.length-1];_e===Ce&&(X++<2?pe=`
  `.concat(_e).concat(pe):he=_e,te.pop(),ae.pop(),!(te.length===0||ae.length===0));)_e=te[te.length-1],Ce=ae[ae.length-1];var Q=Math.max(te.length,ae.length);if(Q===0){var U=ee.split(`
`);if(U.length>30)for(U[26]="".concat(m,"...").concat(b);U.length>27;)U.pop();return"".concat(E.notIdentical,`

`).concat(U.join(`
`),`
`)}X>3&&(pe=`
`.concat(m,"...").concat(b).concat(pe),se=!0),he!==""&&(pe=`
  `.concat(he).concat(pe),he="");var F=0,W=E[K]+`
`.concat(R,"+ actual").concat(b," ").concat(B,"- expected").concat(b),be=" ".concat(m,"...").concat(b," Lines skipped");for(X=0;X<Q;X++){var Ee=X-fe;if(te.length<X+1)Ee>1&&X>2&&(Ee>4?(ie+=`
`.concat(m,"...").concat(b),se=!0):Ee>3&&(ie+=`
  `.concat(ae[X-2]),F++),ie+=`
  `.concat(ae[X-1]),F++),fe=X,he+=`
`.concat(B,"-").concat(b," ").concat(ae[X]),F++;else if(ae.length<X+1)Ee>1&&X>2&&(Ee>4?(ie+=`
`.concat(m,"...").concat(b),se=!0):Ee>3&&(ie+=`
  `.concat(te[X-2]),F++),ie+=`
  `.concat(te[X-1]),F++),fe=X,ie+=`
`.concat(R,"+").concat(b," ").concat(te[X]),F++;else{var xe=ae[X],Ue=te[X],de=Ue!==xe&&(!u(Ue,",")||Ue.slice(0,-1)!==xe);de&&u(xe,",")&&xe.slice(0,-1)===Ue&&(de=!1,Ue+=","),de?(Ee>1&&X>2&&(Ee>4?(ie+=`
`.concat(m,"...").concat(b),se=!0):Ee>3&&(ie+=`
  `.concat(te[X-2]),F++),ie+=`
  `.concat(te[X-1]),F++),fe=X,ie+=`
`.concat(R,"+").concat(b," ").concat(Ue),he+=`
`.concat(B,"-").concat(b," ").concat(xe),F+=2):(ie+=he,he="",(Ee===1||X===0)&&(ie+=`
  `.concat(Ue),F++))}if(F>20&&X<Q-2)return"".concat(W).concat(be,`
`).concat(ie,`
`).concat(m,"...").concat(b).concat(he,`
`)+"".concat(m,"...").concat(b)}return"".concat(W).concat(se?be:"",`
`).concat(ie).concat(he).concat(pe).concat(V)}var oe=function(M,S){d(he,M);var K=a(he);function he(ie){var fe;if(n(this,he),_(ie)!=="object"||ie===null)throw new D("options","Object",ie);var pe=ie.message,se=ie.operator,ee=ie.stackStartFn,te=ie.actual,ae=ie.expected,X=Error.stackTraceLimit;if(Error.stackTraceLimit=0,pe!=null)fe=K.call(this,String(pe));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(m="\x1B[34m",R="\x1B[32m",b="\x1B[39m",B="\x1B[31m"):(m="",R="",b="",B="")),_(te)==="object"&&te!==null&&_(ae)==="object"&&ae!==null&&"stack"in te&&te instanceof Error&&"stack"in ae&&ae instanceof Error&&(te=L(te),ae=L(ae)),se==="deepStrictEqual"||se==="strictEqual")fe=K.call(this,G(te,ae,se));else if(se==="notDeepStrictEqual"||se==="notStrictEqual"){var V=E[se],Y=$(te).split(`
`);if(se==="notStrictEqual"&&_(te)==="object"&&te!==null&&(V=E.notStrictEqualObject),Y.length>30)for(Y[26]="".concat(m,"...").concat(b);Y.length>27;)Y.pop();Y.length===1?fe=K.call(this,"".concat(V," ").concat(Y[0])):fe=K.call(this,"".concat(V,`

`).concat(Y.join(`
`),`
`))}else{var ce=$(te),_e="",Ce=E[se];se==="notDeepEqual"||se==="notEqual"?(ce="".concat(E[se],`

`).concat(ce),ce.length>1024&&(ce="".concat(ce.slice(0,1021),"..."))):(_e="".concat($(ae)),ce.length>512&&(ce="".concat(ce.slice(0,509),"...")),_e.length>512&&(_e="".concat(_e.slice(0,509),"...")),se==="deepEqual"||se==="equal"?ce="".concat(Ce,`

`).concat(ce,`

should equal

`):_e=" ".concat(se," ").concat(_e)),fe=K.call(this,"".concat(ce).concat(_e))}return Error.stackTraceLimit=X,fe.generatedMessage=!pe,Object.defineProperty(p(fe),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),fe.code="ERR_ASSERTION",fe.actual=te,fe.expected=ae,fe.operator=se,Error.captureStackTrace&&Error.captureStackTrace(p(fe),ee),fe.stack,fe.name="AssertionError",c(fe)}return o(he,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:S,value:function(fe,pe){return w(this,t(t({},pe),{},{customInspect:!1,depth:0}))}}]),he}(h(Error),w.custom);return Ub=oe,Ub}var y4=Object.prototype.toString,aS=function(t){var r=y4.call(t),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&y4.call(t.callee)==="[object Function]"),n},kb,g4;function OM(){if(g4)return kb;g4=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=aS,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),s=i.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(h){var y=h.constructor;return y&&y.prototype===h},a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var h in window)try{if(!a["$"+h]&&t.call(window,h)&&window[h]!==null&&typeof window[h]=="object")try{d(window[h])}catch{return!0}}catch{return!0}return!1}(),p=function(h){if(typeof window>"u"||!c)return d(h);try{return d(h)}catch{return!1}};e=function(y){var g=y!==null&&typeof y=="object",v=r.call(y)==="[object Function]",T=n(y),I=g&&r.call(y)==="[object String]",_=[];if(!g&&!v&&!T)throw new TypeError("Object.keys called on a non-object");var C=s&&v;if(I&&y.length>0&&!t.call(y,0))for(var w=0;w<y.length;++w)_.push(String(w));if(T&&y.length>0)for(var P=0;P<y.length;++P)_.push(String(P));else for(var D in y)!(C&&D==="prototype")&&t.call(y,D)&&_.push(String(D));if(o)for(var u=p(y),l=0;l<f.length;++l)!(u&&f[l]==="constructor")&&t.call(y,f[l])&&_.push(f[l]);return _}}return kb=e,kb}var AM=Array.prototype.slice,PM=aS,m4=Object.keys,Dy=m4?function(t){return m4(t)}:OM(),b4=Object.keys;Dy.shim=function(){if(Object.keys){var t=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);t||(Object.keys=function(n){return PM(n)?b4(AM.call(n)):b4(n)})}else Object.keys=Dy;return Object.keys||Dy};var fS=Dy,NM=fS,uS=u6(),cS=Qg,v4=Object,MM=cS("Array.prototype.push"),_4=cS("Object.prototype.propertyIsEnumerable"),UM=uS?Object.getOwnPropertySymbols:null,kM=function(t,r){if(t==null)throw new TypeError("target must be an object");var n=v4(t);if(arguments.length===1)return n;for(var i=1;i<arguments.length;++i){var o=v4(arguments[i]),s=NM(o),f=uS&&(Object.getOwnPropertySymbols||UM);if(f)for(var d=f(o),a=0;a<d.length;++a){var c=d[a];_4(o,c)&&MM(s,c)}for(var p=0;p<s.length;++p){var h=s[p];if(_4(o,h)){var y=o[h];n[h]=y}}}return n},$b=kM,$M=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var i=Object.assign({},r),o="";for(var s in i)o+=s;return e!==o},FM=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return e[1]==="y"}return!1},LM=function(){return!Object.assign||$M()||FM()?$b:Object.assign},w4=function(e){return e!==e},dS=function(t,r){return t===0&&r===0?1/t===1/r:!!(t===r||w4(t)&&w4(r))},jM=dS,m6=function(){return typeof Object.is=="function"?Object.is:jM},Fb,T4;function t1(){if(T4)return Fb;T4=1;var e=fS,t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,i=Wx,o=function(a){return typeof a=="function"&&r.call(a)==="[object Function]"},s=l6(),f=function(a,c,p,h){if(c in a){if(h===!0){if(a[c]===p)return}else if(!o(h)||!h())return}s?i(a,c,p,!0):i(a,c,p)},d=function(a,c){var p=arguments.length>2?arguments[2]:{},h=e(c);t&&(h=n.call(h,Object.getOwnPropertySymbols(c)));for(var y=0;y<h.length;y+=1)f(a,h[y],c[h[y]],p[h[y]])};return d.supportsDescriptors=!!s,Fb=d,Fb}var Lb,I4;function KM(){if(I4)return Lb;I4=1;var e=m6,t=t1();return Lb=function(){var n=e();return t(Object,{is:n},{is:function(){return Object.is!==n}}),n},Lb}var jb,E4;function HM(){if(E4)return jb;E4=1;var e=t1(),t=Zg,r=dS,n=m6,i=KM(),o=t(n(),Object);return e(o,{getPolyfill:n,implementation:r,shim:i}),jb=o,jb}var Kb,x4;function lS(){return x4||(x4=1,Kb=function(t){return t!==t}),Kb}var Hb,S4;function hS(){if(S4)return Hb;S4=1;var e=lS();return Hb=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},Hb}var qb,B4;function qM(){if(B4)return qb;B4=1;var e=t1(),t=hS();return qb=function(){var n=t();return e(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},qb}var Vb,C4;function VM(){if(C4)return Vb;C4=1;var e=Zg,t=t1(),r=lS(),n=hS(),i=qM(),o=e(n(),Number);return t(o,{getPolyfill:n,implementation:r,shim:i}),Vb=o,Vb}var zb,D4;function zM(){if(D4)return zb;D4=1;function e(de,ge){return o(de)||i(de,ge)||r(de,ge)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(de,ge){if(de){if(typeof de=="string")return n(de,ge);var j=Object.prototype.toString.call(de).slice(8,-1);if(j==="Object"&&de.constructor&&(j=de.constructor.name),j==="Map"||j==="Set")return Array.from(de);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return n(de,ge)}}function n(de,ge){(ge==null||ge>de.length)&&(ge=de.length);for(var j=0,O=new Array(ge);j<ge;j++)O[j]=de[j];return O}function i(de,ge){var j=de==null?null:typeof Symbol<"u"&&de[Symbol.iterator]||de["@@iterator"];if(j!=null){var O,x,A,H,Z=[],ue=!0,le=!1;try{if(A=(j=j.call(de)).next,ge===0){if(Object(j)!==j)return;ue=!1}else for(;!(ue=(O=A.call(j)).done)&&(Z.push(O.value),Z.length!==ge);ue=!0);}catch(Te){le=!0,x=Te}finally{try{if(!ue&&j.return!=null&&(H=j.return(),Object(H)!==H))return}finally{if(le)throw x}}return Z}}function o(de){if(Array.isArray(de))return de}function s(de){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},s(de)}var f=/a/g.flags!==void 0,d=function(ge){var j=[];return ge.forEach(function(O){return j.push(O)}),j},a=function(ge){var j=[];return ge.forEach(function(O,x){return j.push([x,O])}),j},c=Object.is?Object.is:HM(),p=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},h=Number.isNaN?Number.isNaN:VM();function y(de){return de.call.bind(de)}var g=y(Object.prototype.hasOwnProperty),v=y(Object.prototype.propertyIsEnumerable),T=y(Object.prototype.toString),I=Ec.types,_=I.isAnyArrayBuffer,C=I.isArrayBufferView,w=I.isDate,P=I.isMap,D=I.isRegExp,u=I.isSet,l=I.isNativeError,m=I.isBoxedPrimitive,R=I.isNumberObject,B=I.isStringObject,b=I.isBooleanObject,E=I.isBigIntObject,k=I.isSymbolObject,L=I.isFloat32Array,$=I.isFloat64Array;function G(de){if(de.length===0||de.length>10)return!0;for(var ge=0;ge<de.length;ge++){var j=de.charCodeAt(ge);if(j<48||j>57)return!0}return de.length===10&&de>=Math.pow(2,32)}function oe(de){return Object.keys(de).filter(G).concat(p(de).filter(Object.prototype.propertyIsEnumerable.bind(de)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function M(de,ge){if(de===ge)return 0;for(var j=de.length,O=ge.length,x=0,A=Math.min(j,O);x<A;++x)if(de[x]!==ge[x]){j=de[x],O=ge[x];break}return j<O?-1:O<j?1:0}var S=!0,K=!1,he=0,ie=1,fe=2,pe=3;function se(de,ge){return f?de.source===ge.source&&de.flags===ge.flags:RegExp.prototype.toString.call(de)===RegExp.prototype.toString.call(ge)}function ee(de,ge){if(de.byteLength!==ge.byteLength)return!1;for(var j=0;j<de.byteLength;j++)if(de[j]!==ge[j])return!1;return!0}function te(de,ge){return de.byteLength!==ge.byteLength?!1:M(new Uint8Array(de.buffer,de.byteOffset,de.byteLength),new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength))===0}function ae(de,ge){return de.byteLength===ge.byteLength&&M(new Uint8Array(de),new Uint8Array(ge))===0}function X(de,ge){return R(de)?R(ge)&&c(Number.prototype.valueOf.call(de),Number.prototype.valueOf.call(ge)):B(de)?B(ge)&&String.prototype.valueOf.call(de)===String.prototype.valueOf.call(ge):b(de)?b(ge)&&Boolean.prototype.valueOf.call(de)===Boolean.prototype.valueOf.call(ge):E(de)?E(ge)&&BigInt.prototype.valueOf.call(de)===BigInt.prototype.valueOf.call(ge):k(ge)&&Symbol.prototype.valueOf.call(de)===Symbol.prototype.valueOf.call(ge)}function V(de,ge,j,O){if(de===ge)return de!==0?!0:j?c(de,ge):!0;if(j){if(s(de)!=="object")return typeof de=="number"&&h(de)&&h(ge);if(s(ge)!=="object"||de===null||ge===null||Object.getPrototypeOf(de)!==Object.getPrototypeOf(ge))return!1}else{if(de===null||s(de)!=="object")return ge===null||s(ge)!=="object"?de==ge:!1;if(ge===null||s(ge)!=="object")return!1}var x=T(de),A=T(ge);if(x!==A)return!1;if(Array.isArray(de)){if(de.length!==ge.length)return!1;var H=oe(de),Z=oe(ge);return H.length!==Z.length?!1:ce(de,ge,j,O,ie,H)}if(x==="[object Object]"&&(!P(de)&&P(ge)||!u(de)&&u(ge)))return!1;if(w(de)){if(!w(ge)||Date.prototype.getTime.call(de)!==Date.prototype.getTime.call(ge))return!1}else if(D(de)){if(!D(ge)||!se(de,ge))return!1}else if(l(de)||de instanceof Error){if(de.message!==ge.message||de.name!==ge.name)return!1}else if(C(de)){if(!j&&(L(de)||$(de))){if(!ee(de,ge))return!1}else if(!te(de,ge))return!1;var ue=oe(de),le=oe(ge);return ue.length!==le.length?!1:ce(de,ge,j,O,he,ue)}else{if(u(de))return!u(ge)||de.size!==ge.size?!1:ce(de,ge,j,O,fe);if(P(de))return!P(ge)||de.size!==ge.size?!1:ce(de,ge,j,O,pe);if(_(de)){if(!ae(de,ge))return!1}else if(m(de)&&!X(de,ge))return!1}return ce(de,ge,j,O,he)}function Y(de,ge){return ge.filter(function(j){return v(de,j)})}function ce(de,ge,j,O,x,A){if(arguments.length===5){A=Object.keys(de);var H=Object.keys(ge);if(A.length!==H.length)return!1}for(var Z=0;Z<A.length;Z++)if(!g(ge,A[Z]))return!1;if(j&&arguments.length===5){var ue=p(de);if(ue.length!==0){var le=0;for(Z=0;Z<ue.length;Z++){var Te=ue[Z];if(v(de,Te)){if(!v(ge,Te))return!1;A.push(Te),le++}else if(v(ge,Te))return!1}var Ne=p(ge);if(ue.length!==Ne.length&&Y(ge,Ne).length!==le)return!1}else{var Pe=p(ge);if(Pe.length!==0&&Y(ge,Pe).length!==0)return!1}}if(A.length===0&&(x===he||x===ie&&de.length===0||de.size===0))return!0;if(O===void 0)O={val1:new Map,val2:new Map,position:0};else{var Ae=O.val1.get(de);if(Ae!==void 0){var Me=O.val2.get(ge);if(Me!==void 0)return Ae===Me}O.position++}O.val1.set(de,O.position),O.val2.set(ge,O.position);var Ve=Ee(de,ge,j,A,O,x);return O.val1.delete(de),O.val2.delete(ge),Ve}function _e(de,ge,j,O){for(var x=d(de),A=0;A<x.length;A++){var H=x[A];if(V(ge,H,j,O))return de.delete(H),!0}return!1}function Ce(de){switch(s(de)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":de=+de;case"number":if(h(de))return!1}return!0}function Q(de,ge,j){var O=Ce(j);return O??(ge.has(O)&&!de.has(O))}function U(de,ge,j,O,x){var A=Ce(j);if(A!=null)return A;var H=ge.get(A);return H===void 0&&!ge.has(A)||!V(O,H,!1,x)?!1:!de.has(A)&&V(O,H,!1,x)}function F(de,ge,j,O){for(var x=null,A=d(de),H=0;H<A.length;H++){var Z=A[H];if(s(Z)==="object"&&Z!==null)x===null&&(x=new Set),x.add(Z);else if(!ge.has(Z)){if(j||!Q(de,ge,Z))return!1;x===null&&(x=new Set),x.add(Z)}}if(x!==null){for(var ue=d(ge),le=0;le<ue.length;le++){var Te=ue[le];if(s(Te)==="object"&&Te!==null){if(!_e(x,Te,j,O))return!1}else if(!j&&!de.has(Te)&&!_e(x,Te,j,O))return!1}return x.size===0}return!0}function W(de,ge,j,O,x,A){for(var H=d(de),Z=0;Z<H.length;Z++){var ue=H[Z];if(V(j,ue,x,A)&&V(O,ge.get(ue),x,A))return de.delete(ue),!0}return!1}function be(de,ge,j,O){for(var x=null,A=a(de),H=0;H<A.length;H++){var Z=e(A[H],2),ue=Z[0],le=Z[1];if(s(ue)==="object"&&ue!==null)x===null&&(x=new Set),x.add(ue);else{var Te=ge.get(ue);if(Te===void 0&&!ge.has(ue)||!V(le,Te,j,O)){if(j||!U(de,ge,ue,le,O))return!1;x===null&&(x=new Set),x.add(ue)}}}if(x!==null){for(var Ne=a(ge),Pe=0;Pe<Ne.length;Pe++){var Ae=e(Ne[Pe],2),Me=Ae[0],Ve=Ae[1];if(s(Me)==="object"&&Me!==null){if(!W(x,de,Me,Ve,j,O))return!1}else if(!j&&(!de.has(Me)||!V(de.get(Me),Ve,!1,O))&&!W(x,de,Me,Ve,!1,O))return!1}return x.size===0}return!0}function Ee(de,ge,j,O,x,A){var H=0;if(A===fe){if(!F(de,ge,j,x))return!1}else if(A===pe){if(!be(de,ge,j,x))return!1}else if(A===ie)for(;H<de.length;H++)if(g(de,H)){if(!g(ge,H)||!V(de[H],ge[H],j,x))return!1}else{if(g(ge,H))return!1;for(var Z=Object.keys(de);H<Z.length;H++){var ue=Z[H];if(!g(ge,ue)||!V(de[ue],ge[ue],j,x))return!1}return Z.length===Object.keys(ge).length}for(H=0;H<O.length;H++){var le=O[H];if(!V(de[le],ge[le],j,x))return!1}return!0}function xe(de,ge){return V(de,ge,K)}function Ue(de,ge){return V(de,ge,S)}return zb={isDeepEqual:xe,isDeepStrictEqual:Ue},zb}var R4;function Di(){if(R4)return Bb.exports;R4=1;function e(ee){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},e(ee)}function t(ee,te){for(var ae=0;ae<te.length;ae++){var X=te[ae];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(ee,n(X.key),X)}}function r(ee,te,ae){return te&&t(ee.prototype,te),ae&&t(ee,ae),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function n(ee){var te=i(ee,"string");return e(te)==="symbol"?te:String(te)}function i(ee,te){if(e(ee)!=="object"||ee===null)return ee;var ae=ee[Symbol.toPrimitive];if(ae!==void 0){var X=ae.call(ee,te||"default");if(e(X)!=="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function o(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}var s=sS(),f=s.codes,d=f.ERR_AMBIGUOUS_ARGUMENT,a=f.ERR_INVALID_ARG_TYPE,c=f.ERR_INVALID_ARG_VALUE,p=f.ERR_INVALID_RETURN_VALUE,h=f.ERR_MISSING_ARGS,y=RM(),g=Ec,v=g.inspect,T=Ec.types,I=T.isPromise,_=T.isRegExp,C=LM(),w=m6(),P=Qg("RegExp.prototype.test"),D,u;function l(){var ee=zM();D=ee.isDeepEqual,u=ee.isDeepStrictEqual}var m=!1,R=Bb.exports=L,B={};function b(ee){throw ee.message instanceof Error?ee.message:new y(ee)}function E(ee,te,ae,X,V){var Y=arguments.length,ce;if(Y===0)ce="Failed";else if(Y===1)ae=ee,ee=void 0;else{if(m===!1){m=!0;var _e=process.emitWarning?process.emitWarning:console.warn.bind(console);_e("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Y===2&&(X="!=")}if(ae instanceof Error)throw ae;var Ce={actual:ee,expected:te,operator:X===void 0?"fail":X,stackStartFn:V||E};ae!==void 0&&(Ce.message=ae);var Q=new y(Ce);throw ce&&(Q.message=ce,Q.generatedMessage=!0),Q}R.fail=E,R.AssertionError=y;function k(ee,te,ae,X){if(!ae){var V=!1;if(te===0)V=!0,X="No value argument passed to `assert.ok()`";else if(X instanceof Error)throw X;var Y=new y({actual:ae,expected:!0,message:X,operator:"==",stackStartFn:ee});throw Y.generatedMessage=V,Y}}function L(){for(var ee=arguments.length,te=new Array(ee),ae=0;ae<ee;ae++)te[ae]=arguments[ae];k.apply(void 0,[L,te.length].concat(te))}R.ok=L,R.equal=function ee(te,ae,X){if(arguments.length<2)throw new h("actual","expected");te!=ae&&b({actual:te,expected:ae,message:X,operator:"==",stackStartFn:ee})},R.notEqual=function ee(te,ae,X){if(arguments.length<2)throw new h("actual","expected");te==ae&&b({actual:te,expected:ae,message:X,operator:"!=",stackStartFn:ee})},R.deepEqual=function ee(te,ae,X){if(arguments.length<2)throw new h("actual","expected");D===void 0&&l(),D(te,ae)||b({actual:te,expected:ae,message:X,operator:"deepEqual",stackStartFn:ee})},R.notDeepEqual=function ee(te,ae,X){if(arguments.length<2)throw new h("actual","expected");D===void 0&&l(),D(te,ae)&&b({actual:te,expected:ae,message:X,operator:"notDeepEqual",stackStartFn:ee})},R.deepStrictEqual=function ee(te,ae,X){if(arguments.length<2)throw new h("actual","expected");D===void 0&&l(),u(te,ae)||b({actual:te,expected:ae,message:X,operator:"deepStrictEqual",stackStartFn:ee})},R.notDeepStrictEqual=$;function $(ee,te,ae){if(arguments.length<2)throw new h("actual","expected");D===void 0&&l(),u(ee,te)&&b({actual:ee,expected:te,message:ae,operator:"notDeepStrictEqual",stackStartFn:$})}R.strictEqual=function ee(te,ae,X){if(arguments.length<2)throw new h("actual","expected");w(te,ae)||b({actual:te,expected:ae,message:X,operator:"strictEqual",stackStartFn:ee})},R.notStrictEqual=function ee(te,ae,X){if(arguments.length<2)throw new h("actual","expected");w(te,ae)&&b({actual:te,expected:ae,message:X,operator:"notStrictEqual",stackStartFn:ee})};var G=r(function ee(te,ae,X){var V=this;o(this,ee),ae.forEach(function(Y){Y in te&&(X!==void 0&&typeof X[Y]=="string"&&_(te[Y])&&P(te[Y],X[Y])?V[Y]=X[Y]:V[Y]=te[Y])})});function oe(ee,te,ae,X,V,Y){if(!(ae in ee)||!u(ee[ae],te[ae])){if(!X){var ce=new G(ee,V),_e=new G(te,V,ee),Ce=new y({actual:ce,expected:_e,operator:"deepStrictEqual",stackStartFn:Y});throw Ce.actual=ee,Ce.expected=te,Ce.operator=Y.name,Ce}b({actual:ee,expected:te,message:X,operator:Y.name,stackStartFn:Y})}}function M(ee,te,ae,X){if(typeof te!="function"){if(_(te))return P(te,ee);if(arguments.length===2)throw new a("expected",["Function","RegExp"],te);if(e(ee)!=="object"||ee===null){var V=new y({actual:ee,expected:te,message:ae,operator:"deepStrictEqual",stackStartFn:X});throw V.operator=X.name,V}var Y=Object.keys(te);if(te instanceof Error)Y.push("name","message");else if(Y.length===0)throw new c("error",te,"may not be an empty object");return D===void 0&&l(),Y.forEach(function(ce){typeof ee[ce]=="string"&&_(te[ce])&&P(te[ce],ee[ce])||oe(ee,te,ce,ae,Y,X)}),!0}return te.prototype!==void 0&&ee instanceof te?!0:Error.isPrototypeOf(te)?!1:te.call({},ee)===!0}function S(ee){if(typeof ee!="function")throw new a("fn","Function",ee);try{ee()}catch(te){return te}return B}function K(ee){return I(ee)||ee!==null&&e(ee)==="object"&&typeof ee.then=="function"&&typeof ee.catch=="function"}function he(ee){return Promise.resolve().then(function(){var te;if(typeof ee=="function"){if(te=ee(),!K(te))throw new p("instance of Promise","promiseFn",te)}else if(K(ee))te=ee;else throw new a("promiseFn",["Function","Promise"],ee);return Promise.resolve().then(function(){return te}).then(function(){return B}).catch(function(ae){return ae})})}function ie(ee,te,ae,X){if(typeof ae=="string"){if(arguments.length===4)throw new a("error",["Object","Error","Function","RegExp"],ae);if(e(te)==="object"&&te!==null){if(te.message===ae)throw new d("error/message",'The error message "'.concat(te.message,'" is identical to the message.'))}else if(te===ae)throw new d("error/message",'The error "'.concat(te,'" is identical to the message.'));X=ae,ae=void 0}else if(ae!=null&&e(ae)!=="object"&&typeof ae!="function")throw new a("error",["Object","Error","Function","RegExp"],ae);if(te===B){var V="";ae&&ae.name&&(V+=" (".concat(ae.name,")")),V+=X?": ".concat(X):".";var Y=ee.name==="rejects"?"rejection":"exception";b({actual:void 0,expected:ae,operator:ee.name,message:"Missing expected ".concat(Y).concat(V),stackStartFn:ee})}if(ae&&!M(te,ae,X,ee))throw te}function fe(ee,te,ae,X){if(te!==B){if(typeof ae=="string"&&(X=ae,ae=void 0),!ae||M(te,ae)){var V=X?": ".concat(X):".",Y=ee.name==="doesNotReject"?"rejection":"exception";b({actual:te,expected:ae,operator:ee.name,message:"Got unwanted ".concat(Y).concat(V,`
`)+'Actual message: "'.concat(te&&te.message,'"'),stackStartFn:ee})}throw te}}R.throws=function ee(te){for(var ae=arguments.length,X=new Array(ae>1?ae-1:0),V=1;V<ae;V++)X[V-1]=arguments[V];ie.apply(void 0,[ee,S(te)].concat(X))},R.rejects=function ee(te){for(var ae=arguments.length,X=new Array(ae>1?ae-1:0),V=1;V<ae;V++)X[V-1]=arguments[V];return he(te).then(function(Y){return ie.apply(void 0,[ee,Y].concat(X))})},R.doesNotThrow=function ee(te){for(var ae=arguments.length,X=new Array(ae>1?ae-1:0),V=1;V<ae;V++)X[V-1]=arguments[V];fe.apply(void 0,[ee,S(te)].concat(X))},R.doesNotReject=function ee(te){for(var ae=arguments.length,X=new Array(ae>1?ae-1:0),V=1;V<ae;V++)X[V-1]=arguments[V];return he(te).then(function(Y){return fe.apply(void 0,[ee,Y].concat(X))})},R.ifError=function ee(te){if(te!=null){var ae="ifError got unwanted exception: ";e(te)==="object"&&typeof te.message=="string"?te.message.length===0&&te.constructor?ae+=te.constructor.name:ae+=te.message:ae+=v(te);var X=new y({actual:te,expected:null,operator:"ifError",message:ae,stackStartFn:ee}),V=te.stack;if(typeof V=="string"){var Y=V.split(`
`);Y.shift();for(var ce=X.stack.split(`
`),_e=0;_e<Y.length;_e++){var Ce=ce.indexOf(Y[_e]);if(Ce!==-1){ce=ce.slice(0,Ce);break}}X.stack="".concat(ce.join(`
`),`
`).concat(Y.join(`
`))}throw X}};function pe(ee,te,ae,X,V){if(!_(te))throw new a("regexp","RegExp",te);var Y=V==="match";if(typeof ee!="string"||P(te,ee)!==Y){if(ae instanceof Error)throw ae;var ce=!ae;ae=ae||(typeof ee!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(ee)," (").concat(v(ee),")"):(Y?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(v(te),`. Input:

`).concat(v(ee),`
`));var _e=new y({actual:ee,expected:te,message:ae,operator:V,stackStartFn:X});throw _e.generatedMessage=ce,_e}}R.match=function ee(te,ae,X){pe(te,ae,X,ee,"match")},R.doesNotMatch=function ee(te,ae,X){pe(te,ae,X,ee,"doesNotMatch")};function se(){for(var ee=arguments.length,te=new Array(ee),ae=0;ae<ee;ae++)te[ae]=arguments[ae];k.apply(void 0,[se,te.length].concat(te))}return R.strict=C(se,R,{equal:R.strictEqual,deepEqual:R.deepStrictEqual,notEqual:R.notStrictEqual,notDeepEqual:R.notDeepStrictEqual}),R.strict.strict=R.strict,Bb.exports}var b6={},v6={};const YM=hi(BR);var pS={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Be,function(){var r=Math.imul,n=Math.clz32,i=Math.abs,o=Math.max,s=Math.floor;class f extends Array{constructor(a,c){if(super(a),this.sign=c,a>f.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(a){var c=Number.isFinite;if(typeof a=="number"){if(a===0)return f.__zero();if(f.__isOneDigitInt(a))return 0>a?f.__oneDigit(-a,!0):f.__oneDigit(a,!1);if(!c(a)||s(a)!==a)throw new RangeError("The number "+a+" cannot be converted to BigInt because it is not an integer");return f.__fromDouble(a)}if(typeof a=="string"){const p=f.__fromString(a);if(p===null)throw new SyntaxError("Cannot convert "+a+" to a BigInt");return p}if(typeof a=="boolean")return a===!0?f.__oneDigit(1,!1):f.__zero();if(typeof a=="object"){if(a.constructor===f)return a;const p=f.__toPrimitive(a);return f.BigInt(p)}throw new TypeError("Cannot convert "+a+" to a BigInt")}toDebugString(){const a=["BigInt["];for(const c of this)a.push((c&&(c>>>0).toString(16))+", ");return a.push("]"),a.join("")}toString(a=10){if(2>a||36<a)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":a&a-1?f.__toStringGeneric(this,a,!1):f.__toStringBasePowerOfTwo(this,a)}static toNumber(a){const c=a.length;if(c===0)return 0;if(c===1){const l=a.__unsignedDigit(0);return a.sign?-l:l}const p=a.__digit(c-1),h=f.__clz30(p),y=30*c-h;if(1024<y)return a.sign?-1/0:1/0;let g=y-1,v=p,T=c-1;const I=h+3;let _=I===32?0:v<<I;_>>>=12;const C=I-12;let w=12<=I?0:v<<20+I,P=20+I;for(0<C&&0<T&&(T--,v=a.__digit(T),_|=v>>>30-C,w=v<<C+2,P=C+2);0<P&&0<T;)T--,v=a.__digit(T),w|=30<=P?v<<P-30:v>>>30-P,P-=30;const D=f.__decideRounding(a,P,T,v);if((D===1||D===0&&(1&w)==1)&&(w=w+1>>>0,w===0&&(_++,_>>>20!=0&&(_=0,g++,1023<g))))return a.sign?-1/0:1/0;const u=a.sign?-2147483648:0;return g=g+1023<<20,f.__kBitConversionInts[1]=u|g|_,f.__kBitConversionInts[0]=w,f.__kBitConversionDouble[0]}static unaryMinus(a){if(a.length===0)return a;const c=a.__copy();return c.sign=!a.sign,c}static bitwiseNot(a){return a.sign?f.__absoluteSubOne(a).__trim():f.__absoluteAddOne(a,!0)}static exponentiate(a,c){if(c.sign)throw new RangeError("Exponent must be positive");if(c.length===0)return f.__oneDigit(1,!1);if(a.length===0)return a;if(a.length===1&&a.__digit(0)===1)return a.sign&&!(1&c.__digit(0))?f.unaryMinus(a):a;if(1<c.length)throw new RangeError("BigInt too big");let p=c.__unsignedDigit(0);if(p===1)return a;if(p>=f.__kMaxLengthBits)throw new RangeError("BigInt too big");if(a.length===1&&a.__digit(0)===2){const g=1+(0|p/30),v=a.sign&&(1&p)!=0,T=new f(g,v);T.__initializeDigits();const I=1<<p%30;return T.__setDigit(g-1,I),T}let h=null,y=a;for(1&p&&(h=a),p>>=1;p!==0;p>>=1)y=f.multiply(y,y),1&p&&(h===null?h=y:h=f.multiply(h,y));return h}static multiply(a,c){if(a.length===0)return a;if(c.length===0)return c;let p=a.length+c.length;30<=a.__clzmsd()+c.__clzmsd()&&p--;const h=new f(p,a.sign!==c.sign);h.__initializeDigits();for(let y=0;y<a.length;y++)f.__multiplyAccumulate(c,a.__digit(y),h,y);return h.__trim()}static divide(a,c){if(c.length===0)throw new RangeError("Division by zero");if(0>f.__absoluteCompare(a,c))return f.__zero();const p=a.sign!==c.sign,h=c.__unsignedDigit(0);let y;if(c.length===1&&32767>=h){if(h===1)return p===a.sign?a:f.unaryMinus(a);y=f.__absoluteDivSmall(a,h,null)}else y=f.__absoluteDivLarge(a,c,!0,!1);return y.sign=p,y.__trim()}static remainder(a,c){if(c.length===0)throw new RangeError("Division by zero");if(0>f.__absoluteCompare(a,c))return a;const p=c.__unsignedDigit(0);if(c.length===1&&32767>=p){if(p===1)return f.__zero();const y=f.__absoluteModSmall(a,p);return y===0?f.__zero():f.__oneDigit(y,a.sign)}const h=f.__absoluteDivLarge(a,c,!1,!0);return h.sign=a.sign,h.__trim()}static add(a,c){const p=a.sign;return p===c.sign?f.__absoluteAdd(a,c,p):0<=f.__absoluteCompare(a,c)?f.__absoluteSub(a,c,p):f.__absoluteSub(c,a,!p)}static subtract(a,c){const p=a.sign;return p===c.sign?0<=f.__absoluteCompare(a,c)?f.__absoluteSub(a,c,p):f.__absoluteSub(c,a,!p):f.__absoluteAdd(a,c,p)}static leftShift(a,c){return c.length===0||a.length===0?a:c.sign?f.__rightShiftByAbsolute(a,c):f.__leftShiftByAbsolute(a,c)}static signedRightShift(a,c){return c.length===0||a.length===0?a:c.sign?f.__leftShiftByAbsolute(a,c):f.__rightShiftByAbsolute(a,c)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(a,c){return 0>f.__compareToBigInt(a,c)}static lessThanOrEqual(a,c){return 0>=f.__compareToBigInt(a,c)}static greaterThan(a,c){return 0<f.__compareToBigInt(a,c)}static greaterThanOrEqual(a,c){return 0<=f.__compareToBigInt(a,c)}static equal(a,c){if(a.sign!==c.sign||a.length!==c.length)return!1;for(let p=0;p<a.length;p++)if(a.__digit(p)!==c.__digit(p))return!1;return!0}static notEqual(a,c){return!f.equal(a,c)}static bitwiseAnd(a,c){if(!a.sign&&!c.sign)return f.__absoluteAnd(a,c).__trim();if(a.sign&&c.sign){const p=o(a.length,c.length)+1;let h=f.__absoluteSubOne(a,p);const y=f.__absoluteSubOne(c);return h=f.__absoluteOr(h,y,h),f.__absoluteAddOne(h,!0,h).__trim()}return a.sign&&([a,c]=[c,a]),f.__absoluteAndNot(a,f.__absoluteSubOne(c)).__trim()}static bitwiseXor(a,c){if(!a.sign&&!c.sign)return f.__absoluteXor(a,c).__trim();if(a.sign&&c.sign){const y=o(a.length,c.length),g=f.__absoluteSubOne(a,y),v=f.__absoluteSubOne(c);return f.__absoluteXor(g,v,g).__trim()}const p=o(a.length,c.length)+1;a.sign&&([a,c]=[c,a]);let h=f.__absoluteSubOne(c,p);return h=f.__absoluteXor(h,a,h),f.__absoluteAddOne(h,!0,h).__trim()}static bitwiseOr(a,c){const p=o(a.length,c.length);if(!a.sign&&!c.sign)return f.__absoluteOr(a,c).__trim();if(a.sign&&c.sign){let y=f.__absoluteSubOne(a,p);const g=f.__absoluteSubOne(c);return y=f.__absoluteAnd(y,g,y),f.__absoluteAddOne(y,!0,y).__trim()}a.sign&&([a,c]=[c,a]);let h=f.__absoluteSubOne(c,p);return h=f.__absoluteAndNot(h,a,h),f.__absoluteAddOne(h,!0,h).__trim()}static asIntN(a,c){if(c.length===0)return c;if(a=s(a),0>a)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(a===0)return f.__zero();if(a>=f.__kMaxLengthBits)return c;const p=0|(a+29)/30;if(c.length<p)return c;const h=c.__unsignedDigit(p-1),y=1<<(a-1)%30;if(c.length===p&&h<y)return c;if((h&y)!==y)return f.__truncateToNBits(a,c);if(!c.sign)return f.__truncateAndSubFromPowerOfTwo(a,c,!0);if(!(h&y-1)){for(let g=p-2;0<=g;g--)if(c.__digit(g)!==0)return f.__truncateAndSubFromPowerOfTwo(a,c,!1);return c.length===p&&h===y?c:f.__truncateToNBits(a,c)}return f.__truncateAndSubFromPowerOfTwo(a,c,!1)}static asUintN(a,c){if(c.length===0)return c;if(a=s(a),0>a)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(a===0)return f.__zero();if(c.sign){if(a>f.__kMaxLengthBits)throw new RangeError("BigInt too big");return f.__truncateAndSubFromPowerOfTwo(a,c,!1)}if(a>=f.__kMaxLengthBits)return c;const p=0|(a+29)/30;if(c.length<p)return c;const h=a%30;return c.length==p&&(h===0||!(c.__digit(p-1)>>>h))?c:f.__truncateToNBits(a,c)}static ADD(a,c){if(a=f.__toPrimitive(a),c=f.__toPrimitive(c),typeof a=="string")return typeof c!="string"&&(c=c.toString()),a+c;if(typeof c=="string")return a.toString()+c;if(a=f.__toNumeric(a),c=f.__toNumeric(c),f.__isBigInt(a)&&f.__isBigInt(c))return f.add(a,c);if(typeof a=="number"&&typeof c=="number")return a+c;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(a,c){return f.__compare(a,c,0)}static LE(a,c){return f.__compare(a,c,1)}static GT(a,c){return f.__compare(a,c,2)}static GE(a,c){return f.__compare(a,c,3)}static EQ(a,c){for(;;){if(f.__isBigInt(a))return f.__isBigInt(c)?f.equal(a,c):f.EQ(c,a);if(typeof a=="number"){if(f.__isBigInt(c))return f.__equalToNumber(c,a);if(typeof c!="object")return a==c;c=f.__toPrimitive(c)}else if(typeof a=="string"){if(f.__isBigInt(c))return a=f.__fromString(a),a!==null&&f.equal(a,c);if(typeof c!="object")return a==c;c=f.__toPrimitive(c)}else if(typeof a=="boolean"){if(f.__isBigInt(c))return f.__equalToNumber(c,+a);if(typeof c!="object")return a==c;c=f.__toPrimitive(c)}else if(typeof a=="symbol"){if(f.__isBigInt(c))return!1;if(typeof c!="object")return a==c;c=f.__toPrimitive(c)}else if(typeof a=="object"){if(typeof c=="object"&&c.constructor!==f)return a==c;a=f.__toPrimitive(a)}else return a==c}}static NE(a,c){return!f.EQ(a,c)}static __zero(){return new f(0,!1)}static __oneDigit(a,c){const p=new f(1,c);return p.__setDigit(0,a),p}__copy(){const a=new f(this.length,this.sign);for(let c=0;c<this.length;c++)a[c]=this[c];return a}__trim(){let a=this.length,c=this[a-1];for(;c===0;)a--,c=this[a-1],this.pop();return a===0&&(this.sign=!1),this}__initializeDigits(){for(let a=0;a<this.length;a++)this[a]=0}static __decideRounding(a,c,p,h){if(0<c)return-1;let y;if(0>c)y=-c-1;else{if(p===0)return-1;p--,h=a.__digit(p),y=29}let g=1<<y;if(!(h&g))return-1;if(g-=1,(h&g)!=0)return 1;for(;0<p;)if(p--,a.__digit(p)!==0)return 1;return 0}static __fromDouble(a){f.__kBitConversionDouble[0]=a;const c=2047&f.__kBitConversionInts[1]>>>20,p=c-1023,h=(0|p/30)+1,y=new f(h,0>a);let g=1048575&f.__kBitConversionInts[1]|1048576,v=f.__kBitConversionInts[0];const T=20,I=p%30;let _,C=0;if(20>I){const w=T-I;C=w+32,_=g>>>w,g=g<<32-w|v>>>w,v<<=32-w}else if(I===20)C=32,_=g,g=v,v=0;else{const w=I-T;C=32-w,_=g<<w|v>>>32-w,g=v<<w,v=0}y.__setDigit(h-1,_);for(let w=h-2;0<=w;w--)0<C?(C-=30,_=g>>>2,g=g<<30|v>>>2,v<<=30):_=0,y.__setDigit(w,_);return y.__trim()}static __isWhitespace(a){return 13>=a&&9<=a||(159>=a?a==32:131071>=a?a==160||a==5760:196607>=a?(a&=131071,10>=a||a==40||a==41||a==47||a==95||a==4096):a==65279)}static __fromString(a,c=0){let p=0;const h=a.length;let y=0;if(y===h)return f.__zero();let g=a.charCodeAt(y);for(;f.__isWhitespace(g);){if(++y===h)return f.__zero();g=a.charCodeAt(y)}if(g===43){if(++y===h)return null;g=a.charCodeAt(y),p=1}else if(g===45){if(++y===h)return null;g=a.charCodeAt(y),p=-1}if(c===0){if(c=10,g===48){if(++y===h)return f.__zero();if(g=a.charCodeAt(y),g===88||g===120){if(c=16,++y===h)return null;g=a.charCodeAt(y)}else if(g===79||g===111){if(c=8,++y===h)return null;g=a.charCodeAt(y)}else if(g===66||g===98){if(c=2,++y===h)return null;g=a.charCodeAt(y)}}}else if(c===16&&g===48){if(++y===h)return f.__zero();if(g=a.charCodeAt(y),g===88||g===120){if(++y===h)return null;g=a.charCodeAt(y)}}if(p!=0&&c!==10)return null;for(;g===48;){if(++y===h)return f.__zero();g=a.charCodeAt(y)}const v=h-y;let T=f.__kMaxBitsPerChar[c],I=f.__kBitsPerCharTableMultiplier-1;if(v>1073741824/T)return null;const _=T*v+I>>>f.__kBitsPerCharTableShift,C=new f(0|(_+29)/30,!1),w=10>c?c:10,P=10<c?c-10:0;if(c&c-1){C.__initializeDigits();let D=!1,u=0;do{let l=0,m=1;for(;;){let B;if(g-48>>>0<w)B=g-48;else if((32|g)-97>>>0<P)B=(32|g)-87;else{D=!0;break}const b=m*c;if(1073741823<b)break;if(m=b,l=l*c+B,u++,++y===h){D=!0;break}g=a.charCodeAt(y)}I=30*f.__kBitsPerCharTableMultiplier-1;const R=0|(T*u+I>>>f.__kBitsPerCharTableShift)/30;C.__inplaceMultiplyAdd(m,l,R)}while(!D)}else{T>>=f.__kBitsPerCharTableShift;const D=[],u=[];let l=!1;do{let m=0,R=0;for(;;){let B;if(g-48>>>0<w)B=g-48;else if((32|g)-97>>>0<P)B=(32|g)-87;else{l=!0;break}if(R+=T,m=m<<T|B,++y===h){l=!0;break}if(g=a.charCodeAt(y),30<R+T)break}D.push(m),u.push(R)}while(!l);f.__fillFromParts(C,D,u)}if(y!==h){if(!f.__isWhitespace(g))return null;for(y++;y<h;y++)if(g=a.charCodeAt(y),!f.__isWhitespace(g))return null}return C.sign=p==-1,C.__trim()}static __fillFromParts(a,c,p){let h=0,y=0,g=0;for(let v=c.length-1;0<=v;v--){const T=c[v],I=p[v];y|=T<<g,g+=I,g===30?(a.__setDigit(h++,y),g=0,y=0):30<g&&(a.__setDigit(h++,1073741823&y),g-=30,y=T>>>I-g)}if(y!==0){if(h>=a.length)throw new Error("implementation bug");a.__setDigit(h++,y)}for(;h<a.length;h++)a.__setDigit(h,0)}static __toStringBasePowerOfTwo(a,c){const p=a.length;let h=c-1;h=(85&h>>>1)+(85&h),h=(51&h>>>2)+(51&h),h=(15&h>>>4)+(15&h);const y=h,g=c-1,v=a.__digit(p-1),T=f.__clz30(v);let I=0|(30*p-T+y-1)/y;if(a.sign&&I++,268435456<I)throw new Error("string too long");const _=Array(I);let C=I-1,w=0,P=0;for(let u=0;u<p-1;u++){const l=a.__digit(u),m=(w|l<<P)&g;_[C--]=f.__kConversionChars[m];const R=y-P;for(w=l>>>R,P=30-R;P>=y;)_[C--]=f.__kConversionChars[w&g],w>>>=y,P-=y}const D=(w|v<<P)&g;for(_[C--]=f.__kConversionChars[D],w=v>>>y-P;w!==0;)_[C--]=f.__kConversionChars[w&g],w>>>=y;if(a.sign&&(_[C--]="-"),C!=-1)throw new Error("implementation bug");return _.join("")}static __toStringGeneric(a,c,p){const h=a.length;if(h===0)return"";if(h===1){let u=a.__unsignedDigit(0).toString(c);return p===!1&&a.sign&&(u="-"+u),u}const y=30*h-f.__clz30(a.__digit(h-1)),g=f.__kMaxBitsPerChar[c],v=g-1;let T=y*f.__kBitsPerCharTableMultiplier;T+=v-1,T=0|T/v;const I=T+1>>1,_=f.exponentiate(f.__oneDigit(c,!1),f.__oneDigit(I,!1));let C,w;const P=_.__unsignedDigit(0);if(_.length===1&&32767>=P){C=new f(a.length,!1),C.__initializeDigits();let u=0;for(let l=2*a.length-1;0<=l;l--){const m=u<<15|a.__halfDigit(l);C.__setHalfDigit(l,0|m/P),u=0|m%P}w=u.toString(c)}else{const u=f.__absoluteDivLarge(a,_,!0,!0);C=u.quotient;const l=u.remainder.__trim();w=f.__toStringGeneric(l,c,!0)}C.__trim();let D=f.__toStringGeneric(C,c,!0);for(;w.length<I;)w="0"+w;return p===!1&&a.sign&&(D="-"+D),D+w}static __unequalSign(a){return a?-1:1}static __absoluteGreater(a){return a?-1:1}static __absoluteLess(a){return a?1:-1}static __compareToBigInt(a,c){const p=a.sign;if(p!==c.sign)return f.__unequalSign(p);const h=f.__absoluteCompare(a,c);return 0<h?f.__absoluteGreater(p):0>h?f.__absoluteLess(p):0}static __compareToNumber(a,c){if(f.__isOneDigitInt(c)){const p=a.sign,h=0>c;if(p!==h)return f.__unequalSign(p);if(a.length===0){if(h)throw new Error("implementation bug");return c===0?0:-1}if(1<a.length)return f.__absoluteGreater(p);const y=i(c),g=a.__unsignedDigit(0);return g>y?f.__absoluteGreater(p):g<y?f.__absoluteLess(p):0}return f.__compareToDouble(a,c)}static __compareToDouble(a,c){if(c!==c)return c;if(c===1/0)return-1;if(c===-1/0)return 1;const p=a.sign;if(p!==0>c)return f.__unequalSign(p);if(c===0)throw new Error("implementation bug: should be handled elsewhere");if(a.length===0)return-1;f.__kBitConversionDouble[0]=c;const h=2047&f.__kBitConversionInts[1]>>>20;if(h==2047)throw new Error("implementation bug: handled elsewhere");const y=h-1023;if(0>y)return f.__absoluteGreater(p);const g=a.length;let v=a.__digit(g-1);const T=f.__clz30(v),I=30*g-T,_=y+1;if(I<_)return f.__absoluteLess(p);if(I>_)return f.__absoluteGreater(p);let C=1048576|1048575&f.__kBitConversionInts[1],w=f.__kBitConversionInts[0];const P=20,D=29-T;if(D!==(0|(I-1)%30))throw new Error("implementation bug");let u,l=0;if(20>D){const m=P-D;l=m+32,u=C>>>m,C=C<<32-m|w>>>m,w<<=32-m}else if(D===20)l=32,u=C,C=w,w=0;else{const m=D-P;l=32-m,u=C<<m|w>>>32-m,C=w<<m,w=0}if(v>>>=0,u>>>=0,v>u)return f.__absoluteGreater(p);if(v<u)return f.__absoluteLess(p);for(let m=g-2;0<=m;m--){0<l?(l-=30,u=C>>>2,C=C<<30|w>>>2,w<<=30):u=0;const R=a.__unsignedDigit(m);if(R>u)return f.__absoluteGreater(p);if(R<u)return f.__absoluteLess(p)}if(C!==0||w!==0){if(l===0)throw new Error("implementation bug");return f.__absoluteLess(p)}return 0}static __equalToNumber(a,c){return f.__isOneDigitInt(c)?c===0?a.length===0:a.length===1&&a.sign===0>c&&a.__unsignedDigit(0)===i(c):f.__compareToDouble(a,c)===0}static __comparisonResultToBool(a,c){return c===0?0>a:c===1?0>=a:c===2?0<a:c===3?0<=a:void 0}static __compare(a,c,p){if(a=f.__toPrimitive(a),c=f.__toPrimitive(c),typeof a=="string"&&typeof c=="string")switch(p){case 0:return a<c;case 1:return a<=c;case 2:return a>c;case 3:return a>=c}if(f.__isBigInt(a)&&typeof c=="string")return c=f.__fromString(c),c!==null&&f.__comparisonResultToBool(f.__compareToBigInt(a,c),p);if(typeof a=="string"&&f.__isBigInt(c))return a=f.__fromString(a),a!==null&&f.__comparisonResultToBool(f.__compareToBigInt(a,c),p);if(a=f.__toNumeric(a),c=f.__toNumeric(c),f.__isBigInt(a)){if(f.__isBigInt(c))return f.__comparisonResultToBool(f.__compareToBigInt(a,c),p);if(typeof c!="number")throw new Error("implementation bug");return f.__comparisonResultToBool(f.__compareToNumber(a,c),p)}if(typeof a!="number")throw new Error("implementation bug");if(f.__isBigInt(c))return f.__comparisonResultToBool(f.__compareToNumber(c,a),2^p);if(typeof c!="number")throw new Error("implementation bug");return p===0?a<c:p===1?a<=c:p===2?a>c:p===3?a>=c:void 0}__clzmsd(){return f.__clz30(this.__digit(this.length-1))}static __absoluteAdd(a,c,p){if(a.length<c.length)return f.__absoluteAdd(c,a,p);if(a.length===0)return a;if(c.length===0)return a.sign===p?a:f.unaryMinus(a);let h=a.length;(a.__clzmsd()===0||c.length===a.length&&c.__clzmsd()===0)&&h++;const y=new f(h,p);let g=0,v=0;for(;v<c.length;v++){const T=a.__digit(v)+c.__digit(v)+g;g=T>>>30,y.__setDigit(v,1073741823&T)}for(;v<a.length;v++){const T=a.__digit(v)+g;g=T>>>30,y.__setDigit(v,1073741823&T)}return v<y.length&&y.__setDigit(v,g),y.__trim()}static __absoluteSub(a,c,p){if(a.length===0)return a;if(c.length===0)return a.sign===p?a:f.unaryMinus(a);const h=new f(a.length,p);let y=0,g=0;for(;g<c.length;g++){const v=a.__digit(g)-c.__digit(g)-y;y=1&v>>>30,h.__setDigit(g,1073741823&v)}for(;g<a.length;g++){const v=a.__digit(g)-y;y=1&v>>>30,h.__setDigit(g,1073741823&v)}return h.__trim()}static __absoluteAddOne(a,c,p=null){const h=a.length;p===null?p=new f(h,c):p.sign=c;let y=1;for(let g=0;g<h;g++){const v=a.__digit(g)+y;y=v>>>30,p.__setDigit(g,1073741823&v)}return y!=0&&p.__setDigitGrow(h,1),p}static __absoluteSubOne(a,c){const p=a.length;c=c||p;const h=new f(c,!1);let y=1;for(let g=0;g<p;g++){const v=a.__digit(g)-y;y=1&v>>>30,h.__setDigit(g,1073741823&v)}if(y!=0)throw new Error("implementation bug");for(let g=p;g<c;g++)h.__setDigit(g,0);return h}static __absoluteAnd(a,c,p=null){let h=a.length,y=c.length,g=y;if(h<y){g=h;const I=a,_=h;a=c,h=y,c=I,y=_}let v=g;p===null?p=new f(v,!1):v=p.length;let T=0;for(;T<g;T++)p.__setDigit(T,a.__digit(T)&c.__digit(T));for(;T<v;T++)p.__setDigit(T,0);return p}static __absoluteAndNot(a,c,p=null){const h=a.length,y=c.length;let g=y;h<y&&(g=h);let v=h;p===null?p=new f(v,!1):v=p.length;let T=0;for(;T<g;T++)p.__setDigit(T,a.__digit(T)&~c.__digit(T));for(;T<h;T++)p.__setDigit(T,a.__digit(T));for(;T<v;T++)p.__setDigit(T,0);return p}static __absoluteOr(a,c,p=null){let h=a.length,y=c.length,g=y;if(h<y){g=h;const I=a,_=h;a=c,h=y,c=I,y=_}let v=h;p===null?p=new f(v,!1):v=p.length;let T=0;for(;T<g;T++)p.__setDigit(T,a.__digit(T)|c.__digit(T));for(;T<h;T++)p.__setDigit(T,a.__digit(T));for(;T<v;T++)p.__setDigit(T,0);return p}static __absoluteXor(a,c,p=null){let h=a.length,y=c.length,g=y;if(h<y){g=h;const I=a,_=h;a=c,h=y,c=I,y=_}let v=h;p===null?p=new f(v,!1):v=p.length;let T=0;for(;T<g;T++)p.__setDigit(T,a.__digit(T)^c.__digit(T));for(;T<h;T++)p.__setDigit(T,a.__digit(T));for(;T<v;T++)p.__setDigit(T,0);return p}static __absoluteCompare(a,c){const p=a.length-c.length;if(p!=0)return p;let h=a.length-1;for(;0<=h&&a.__digit(h)===c.__digit(h);)h--;return 0>h?0:a.__unsignedDigit(h)>c.__unsignedDigit(h)?1:-1}static __multiplyAccumulate(a,c,p,h){if(c===0)return;const y=32767&c,g=c>>>15;let v=0,T=0;for(let I,_=0;_<a.length;_++,h++){I=p.__digit(h);const C=a.__digit(_),w=32767&C,P=C>>>15,D=f.__imul(w,y),u=f.__imul(w,g),l=f.__imul(P,y),m=f.__imul(P,g);I+=T+D+v,v=I>>>30,I&=1073741823,I+=((32767&u)<<15)+((32767&l)<<15),v+=I>>>30,T=m+(u>>>15)+(l>>>15),p.__setDigit(h,1073741823&I)}for(;v!=0||T!==0;h++){let I=p.__digit(h);I+=v+T,T=0,v=I>>>30,p.__setDigit(h,1073741823&I)}}static __internalMultiplyAdd(a,c,p,h,y){let g=p,v=0;for(let T=0;T<h;T++){const I=a.__digit(T),_=f.__imul(32767&I,c),C=f.__imul(I>>>15,c),w=_+((32767&C)<<15)+v+g;g=w>>>30,v=C>>>15,y.__setDigit(T,1073741823&w)}if(y.length>h)for(y.__setDigit(h++,g+v);h<y.length;)y.__setDigit(h++,0);else if(g+v!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(a,c,p){p>this.length&&(p=this.length);const h=32767&a,y=a>>>15;let g=0,v=c;for(let T=0;T<p;T++){const I=this.__digit(T),_=32767&I,C=I>>>15,w=f.__imul(_,h),P=f.__imul(_,y),D=f.__imul(C,h),u=f.__imul(C,y);let l=v+w+g;g=l>>>30,l&=1073741823,l+=((32767&P)<<15)+((32767&D)<<15),g+=l>>>30,v=u+(P>>>15)+(D>>>15),this.__setDigit(T,1073741823&l)}if(g!=0||v!==0)throw new Error("implementation bug")}static __absoluteDivSmall(a,c,p=null){p===null&&(p=new f(a.length,!1));let h=0;for(let y,g=2*a.length-1;0<=g;g-=2){y=(h<<15|a.__halfDigit(g))>>>0;const v=0|y/c;h=0|y%c,y=(h<<15|a.__halfDigit(g-1))>>>0;const T=0|y/c;h=0|y%c,p.__setDigit(g>>>1,v<<15|T)}return p}static __absoluteModSmall(a,c){let p=0;for(let h=2*a.length-1;0<=h;h--)p=0|((p<<15|a.__halfDigit(h))>>>0)%c;return p}static __absoluteDivLarge(a,c,p,h){const y=c.__halfDigitLength(),g=c.length,v=a.__halfDigitLength()-y;let T=null;p&&(T=new f(v+2>>>1,!1),T.__initializeDigits());const I=new f(y+2>>>1,!1);I.__initializeDigits();const _=f.__clz15(c.__halfDigit(y-1));0<_&&(c=f.__specialLeftShift(c,_,0));const C=f.__specialLeftShift(a,_,1),w=c.__halfDigit(y-1);let P=0;for(let D,u=v;0<=u;u--){D=32767;const l=C.__halfDigit(u+y);if(l!==w){const R=(l<<15|C.__halfDigit(u+y-1))>>>0;D=0|R/w;let B=0|R%w;const b=c.__halfDigit(y-2),E=C.__halfDigit(u+y-2);for(;f.__imul(D,b)>>>0>(B<<16|E)>>>0&&(D--,B+=w,!(32767<B)););}f.__internalMultiplyAdd(c,D,0,g,I);let m=C.__inplaceSub(I,u,y+1);m!==0&&(m=C.__inplaceAdd(c,u,y),C.__setHalfDigit(u+y,32767&C.__halfDigit(u+y)+m),D--),p&&(1&u?P=D<<15:T.__setDigit(u>>>1,P|D))}if(h)return C.__inplaceRightShift(_),p?{quotient:T,remainder:C}:C;if(p)return T;throw new Error("unreachable")}static __clz15(a){return f.__clz30(a)-15}__inplaceAdd(a,c,p){let h=0;for(let y=0;y<p;y++){const g=this.__halfDigit(c+y)+a.__halfDigit(y)+h;h=g>>>15,this.__setHalfDigit(c+y,32767&g)}return h}__inplaceSub(a,c,p){let h=0;if(1&c){c>>=1;let y=this.__digit(c),g=32767&y,v=0;for(;v<p-1>>>1;v++){const _=a.__digit(v),C=(y>>>15)-(32767&_)-h;h=1&C>>>15,this.__setDigit(c+v,(32767&C)<<15|32767&g),y=this.__digit(c+v+1),g=(32767&y)-(_>>>15)-h,h=1&g>>>15}const T=a.__digit(v),I=(y>>>15)-(32767&T)-h;if(h=1&I>>>15,this.__setDigit(c+v,(32767&I)<<15|32767&g),c+v+1>=this.length)throw new RangeError("out of bounds");!(1&p)&&(y=this.__digit(c+v+1),g=(32767&y)-(T>>>15)-h,h=1&g>>>15,this.__setDigit(c+a.length,1073709056&y|32767&g))}else{c>>=1;let y=0;for(;y<a.length-1;y++){const _=this.__digit(c+y),C=a.__digit(y),w=(32767&_)-(32767&C)-h;h=1&w>>>15;const P=(_>>>15)-(C>>>15)-h;h=1&P>>>15,this.__setDigit(c+y,(32767&P)<<15|32767&w)}const g=this.__digit(c+y),v=a.__digit(y),T=(32767&g)-(32767&v)-h;h=1&T>>>15;let I=0;!(1&p)&&(I=(g>>>15)-(v>>>15)-h,h=1&I>>>15),this.__setDigit(c+y,(32767&I)<<15|32767&T)}return h}__inplaceRightShift(a){if(a===0)return;let c=this.__digit(0)>>>a;const p=this.length-1;for(let h=0;h<p;h++){const y=this.__digit(h+1);this.__setDigit(h,1073741823&y<<30-a|c),c=y>>>a}this.__setDigit(p,c)}static __specialLeftShift(a,c,p){const h=a.length,y=new f(h+p,!1);if(c===0){for(let v=0;v<h;v++)y.__setDigit(v,a.__digit(v));return 0<p&&y.__setDigit(h,0),y}let g=0;for(let v=0;v<h;v++){const T=a.__digit(v);y.__setDigit(v,1073741823&T<<c|g),g=T>>>30-c}return 0<p&&y.__setDigit(h,g),y}static __leftShiftByAbsolute(a,c){const p=f.__toShiftAmount(c);if(0>p)throw new RangeError("BigInt too big");const h=0|p/30,y=p%30,g=a.length,v=y!==0&&a.__digit(g-1)>>>30-y!=0,T=g+h+(v?1:0),I=new f(T,a.sign);if(y===0){let _=0;for(;_<h;_++)I.__setDigit(_,0);for(;_<T;_++)I.__setDigit(_,a.__digit(_-h))}else{let _=0;for(let C=0;C<h;C++)I.__setDigit(C,0);for(let C=0;C<g;C++){const w=a.__digit(C);I.__setDigit(C+h,1073741823&w<<y|_),_=w>>>30-y}if(v)I.__setDigit(g+h,_);else if(_!==0)throw new Error("implementation bug")}return I.__trim()}static __rightShiftByAbsolute(a,c){const p=a.length,h=a.sign,y=f.__toShiftAmount(c);if(0>y)return f.__rightShiftByMaximum(h);const g=0|y/30,v=y%30;let T=p-g;if(0>=T)return f.__rightShiftByMaximum(h);let I=!1;if(h){if(a.__digit(g)&(1<<v)-1)I=!0;else for(let C=0;C<g;C++)if(a.__digit(C)!==0){I=!0;break}}I&&v===0&&!~a.__digit(p-1)&&T++;let _=new f(T,h);if(v===0){_.__setDigit(T-1,0);for(let C=g;C<p;C++)_.__setDigit(C-g,a.__digit(C))}else{let C=a.__digit(g)>>>v;const w=p-g-1;for(let P=0;P<w;P++){const D=a.__digit(P+g+1);_.__setDigit(P,1073741823&D<<30-v|C),C=D>>>v}_.__setDigit(w,C)}return I&&(_=f.__absoluteAddOne(_,!0,_)),_.__trim()}static __rightShiftByMaximum(a){return a?f.__oneDigit(1,!0):f.__zero()}static __toShiftAmount(a){if(1<a.length)return-1;const c=a.__unsignedDigit(0);return c>f.__kMaxLengthBits?-1:c}static __toPrimitive(a,c="default"){if(typeof a!="object"||a.constructor===f)return a;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){const y=a[Symbol.toPrimitive];if(y){const g=y(c);if(typeof g!="object")return g;throw new TypeError("Cannot convert object to primitive value")}}const p=a.valueOf;if(p){const y=p.call(a);if(typeof y!="object")return y}const h=a.toString;if(h){const y=h.call(a);if(typeof y!="object")return y}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(a){return f.__isBigInt(a)?a:+a}static __isBigInt(a){return typeof a=="object"&&a!==null&&a.constructor===f}static __truncateToNBits(a,c){const p=0|(a+29)/30,h=new f(p,c.sign),y=p-1;for(let v=0;v<y;v++)h.__setDigit(v,c.__digit(v));let g=c.__digit(y);if(a%30!=0){const v=32-a%30;g=g<<v>>>v}return h.__setDigit(y,g),h.__trim()}static __truncateAndSubFromPowerOfTwo(a,c,p){var h=Math.min;const y=0|(a+29)/30,g=new f(y,p);let v=0;const T=y-1;let I=0;for(const P=h(T,c.length);v<P;v++){const D=0-c.__digit(v)-I;I=1&D>>>30,g.__setDigit(v,1073741823&D)}for(;v<T;v++)g.__setDigit(v,0|1073741823&-I);let _=T<c.length?c.__digit(T):0;const C=a%30;let w;if(C==0)w=0-_-I,w&=1073741823;else{const P=32-C;_=_<<P>>>P;const D=1<<32-P;w=D-_-I,w&=D-1}return g.__setDigit(T,w),g.__trim()}__digit(a){return this[a]}__unsignedDigit(a){return this[a]>>>0}__setDigit(a,c){this[a]=0|c}__setDigitGrow(a,c){this[a]=0|c}__halfDigitLength(){const a=this.length;return 32767>=this.__unsignedDigit(a-1)?2*a-1:2*a}__halfDigit(a){return 32767&this[a>>>1]>>>15*(1&a)}__setHalfDigit(a,c){const p=a>>>1,h=this.__digit(p),y=1&a?32767&h|c<<15:1073709056&h|32767&c;this.__setDigit(p,y)}static __digitPow(a,c){let p=1;for(;0<c;)1&c&&(p*=a),c>>>=1,a*=a;return p}static __isOneDigitInt(a){return(1073741823&a)===a}}return f.__kMaxLength=33554432,f.__kMaxLengthBits=f.__kMaxLength<<5,f.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],f.__kBitsPerCharTableShift=5,f.__kBitsPerCharTableMultiplier=1<<f.__kBitsPerCharTableShift,f.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],f.__kBitConversionBuffer=new ArrayBuffer(8),f.__kBitConversionDouble=new Float64Array(f.__kBitConversionBuffer),f.__kBitConversionInts=new Int32Array(f.__kBitConversionBuffer),f.__clz30=n?function(d){return n(d)-2}:function(d){var a=Math.LN2,c=Math.log;return d===0?30:0|29-(0|c(d>>>0)/a)},f.__imul=r||function(d,a){return 0|d*a},f})})(pS);var GM=pS.exports,yS=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(v6,"__esModule",{value:!0});const JM=Qe,O4=yS(YM),je=yS(GM),WM=18446744073709552e3,A4=(e,t)=>je.default.bitwiseXor(je.default.asUintN(64,je.default.leftShift(e,je.default.BigInt(t))),je.default.BigInt(je.default.asUintN(64,je.default.signedRightShift(e,je.default.subtract(je.default.BigInt(64),je.default.BigInt(t))))));class XM{constructor(t){this.next=()=>new O4.default(this.roll().toString()),this.nextDouble=()=>new O4.default(this.roll().toString()).div(WM+1),this.nextInt=(n,i)=>Math.floor(this.nextDouble().toNumber()*(i-n+1)+n),this.nextByte=()=>this.nextInt(0,255),this.nextData=n=>[...new Array(n)].map(()=>this.nextByte());const r=JM.sha256Hash(t);this.s=[je.default.BigInt(0),je.default.BigInt(0),je.default.BigInt(0),je.default.BigInt(0)],this.setS(r)}setS(t){for(let r=0;r<4;r++){let n=r*8,i=je.default.BigInt(0);for(let o=0;o<8;o++)i=je.default.asUintN(64,je.default.leftShift(i,je.default.BigInt(8))),i=je.default.asUintN(64,je.default.bitwiseOr(i,je.default.BigInt(t[n+o])));this.s[r]=je.default.asUintN(64,i)}}roll(){const t=je.default.asUintN(64,je.default.multiply(A4(je.default.asUintN(64,je.default.multiply(this.s[1],je.default.BigInt(5))),7),je.default.BigInt(9))),r=je.default.asUintN(64,je.default.leftShift(this.s[1],je.default.BigInt(17)));return this.s[2]=je.default.asUintN(64,je.default.bitwiseXor(this.s[2],je.default.BigInt(this.s[0]))),this.s[3]=je.default.asUintN(64,je.default.bitwiseXor(this.s[3],je.default.BigInt(this.s[1]))),this.s[1]=je.default.asUintN(64,je.default.bitwiseXor(this.s[1],je.default.BigInt(this.s[2]))),this.s[0]=je.default.asUintN(64,je.default.bitwiseXor(this.s[0],je.default.BigInt(this.s[3]))),this.s[2]=je.default.asUintN(64,je.default.bitwiseXor(this.s[2],je.default.BigInt(r))),this.s[3]=je.default.asUintN(64,A4(this.s[3],45)),t}}v6.default=XM;var ZM=function(e,t){var r=e.reduce(function(c,p){if(p<0)throw new Error("Probability must be a positive: p["+e.indexOf(p)+"]="+p);return c+p},0);if(r===0)throw new Error("Probability sum must be greater than zero.");for(var n=e.map(function(c){return c*t/r}),i={prob:new Array(t),alias:new Array(t)},o=[],s=[],f=t-1;f>=0;f--)n[f]<1?o.push(f):s.push(f);for(;o.length>0&&s.length>0;){var d=o.pop(),a=s.pop();i.prob[d]=n[d],i.alias[d]=a,n[a]=n[a]+n[d]-1,n[a]<1?o.push(a):s.push(a)}for(;s.length>0;)i.prob[s.pop()]=1;for(;o.length>0;)i.prob[o.pop()]=1;return i},P4=function(e,t,r){var n=Math.floor(r()*e.prob.length);return t[r()<e.prob[n]?n:e.alias[n]]},QM=function(e,t,r,n){if(n===void 0&&(n=1),n===1)return P4(e,t,r);for(var i=[],o=0;o<n;o++)i.push(P4(e,t,r));return i},eU=function(e,t,r){if(r===void 0&&(r=Math.random),!Array.isArray(e))throw new Error("Probabilities must be an array.");if(e.length===0)throw new Error("Probabilities array must not be empty.");var n=e.length,i=t??Array.from({length:n},function(s,f){return f}),o=ZM(e,n);return{next:function(s){return s===void 0&&(s=1),QM(o,i,r,s)}}};const tU=Object.freeze(Object.defineProperty({__proto__:null,default:eU},Symbol.toStringTag,{value:"Module"})),rU=hi(tU);(function(e){var t=Be&&Be.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.chooseFragments=e.shuffle=e.chooseDegree=void 0;const r=Qe,n=t(v6),i=t(rU),o=(d,a)=>{const c=[...new Array(d)].map((h,y)=>1/(y+1));return i.default(c,void 0,a.nextDouble).next()+1};e.chooseDegree=o;const s=(d,a)=>{let c=[...d],p=[];for(;c.length>0;){let h=a.nextInt(0,c.length-1),y=c[h];c.splice(h,1),p.push(y)}return p};e.shuffle=s;const f=(d,a,c)=>{if(d<=a)return[d-1];{const p=Buffer.concat([r.intToBytes(d),r.intToBytes(c)]),h=new n.default(p),y=e.chooseDegree(a,h),g=[...new Array(a)].map((T,I)=>I);return e.shuffle(g,h).slice(0,y)}};e.chooseFragments=f})(b6);var nU=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_d,"__esModule",{value:!0});_d.FountainEncoderPart=void 0;const Ea=nU(Di()),Qd=Qe,iU=b6,N4=hu;class r1{constructor(t,r,n,i,o){this._seqNum=t,this._seqLength=r,this._messageLength=n,this._checksum=i,this._fragment=o}get messageLength(){return this._messageLength}get fragment(){return this._fragment}get seqNum(){return this._seqNum}get seqLength(){return this._seqLength}get checksum(){return this._checksum}cbor(){const t=N4.cborEncode([this._seqNum,this._seqLength,this._messageLength,this._checksum,this._fragment]);return Buffer.from(t)}description(){return`seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString("hex")}`}static fromCBOR(t){const[r,n,i,o,s]=N4.cborDecode(t);return Ea.default(typeof r=="number"),Ea.default(typeof n=="number"),Ea.default(typeof i=="number"),Ea.default(typeof o=="number"),Ea.default(Buffer.isBuffer(s)&&s.length>0),new r1(r,n,i,o,Buffer.from(s))}}_d.FountainEncoderPart=r1;class Wy{constructor(t,r=100,n=0,i=10){const o=Wy.findNominalFragmentLength(t.length,i,r);this._messageLength=t.length,this._fragments=Wy.partitionMessage(t,o),this.fragmentLength=o,this.seqNum=Qd.toUint32(n),this.checksum=Qd.getCRC(t)}get fragmentsLength(){return this._fragments.length}get fragments(){return this._fragments}get messageLength(){return this._messageLength}isComplete(){return this.seqNum>=this._fragments.length}isSinglePart(){return this._fragments.length===1}seqLength(){return this._fragments.length}mix(t){return t.reduce((r,n)=>Qd.bufferXOR(this._fragments[n],r),Buffer.alloc(this.fragmentLength,0))}nextPart(){this.seqNum=Qd.toUint32(this.seqNum+1);const t=iU.chooseFragments(this.seqNum,this._fragments.length,this.checksum),r=this.mix(t);return new r1(this.seqNum,this._fragments.length,this._messageLength,this.checksum,r)}static findNominalFragmentLength(t,r,n){Ea.default(t>0),Ea.default(r>0),Ea.default(n>=r);const i=Math.ceil(t/r);let o=0;for(let s=1;s<=i&&(o=Math.ceil(t/s),!(o<=n));s++);return o}static partitionMessage(t,r){let n=Buffer.from(t),i,o=[];for(;n.length>0;)[i,n]=Qd.split(n,-r),i=Buffer.alloc(r,0).fill(i,0,i.length),o.push(i);return o}}_d.default=Wy;var n1={},oU=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n1,"__esModule",{value:!0});const lc=oU(Di()),Ry=Qe,sU="ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom";let Lp=[];const aU=256,$a=4,fU=2;var $i;(function(e){e.STANDARD="standard",e.URI="uri",e.MINIMAL="minimal"})($i||($i={}));const Xy=e=>sU.slice(e*$a,e*$a+$a),uU=e=>{const t=Xy(e);return`${t[0]}${t[$a-1]}`},gS=e=>{const t=Ry.getCRCHex(Buffer.from(e,"hex"));return`${e}${t}`},M4=(e,t)=>{const r=gS(e);return Buffer.from(r,"hex").reduce((o,s)=>[...o,Xy(s)],[]).join(t)},cU=e=>{const t=gS(e);return Buffer.from(t,"hex").reduce((i,o)=>i+uU(o),"")},dU=(e,t)=>{lc.default(e.length===t,"Invalid Bytewords: word.length does not match wordLength provided");const r=26;if(Lp.length===0){const f=r*r;Lp=[...new Array(f)].map(()=>-1);for(let d=0;d<aU;d++){const a=Xy(d);let c=a[0].charCodeAt(0)-97,h=(a[3].charCodeAt(0)-97)*r+c;Lp[h]=d}}let n=e[0].toLowerCase().charCodeAt(0)-97,i=e[t==4?3:1].toLowerCase().charCodeAt(0)-97;lc.default(0<=n&&n<r&&0<=i&&i<r,"Invalid Bytewords: invalid word");let o=i*r+n,s=Lp[o];if(lc.default(s!==-1,"Invalid Bytewords: value not in lookup table"),t==$a){const f=Xy(s);let d=e[1].toLowerCase(),a=e[2].toLowerCase();lc.default(d===f[1]&&a===f[2],"Invalid Bytewords: invalid middle letters of word")}return Buffer.from([s]).toString("hex")},Yb=(e,t,r)=>{const i=(r==$a?e.split(t):Ry.partition(e,2)).map(d=>dU(d,r)).join("");lc.default(i.length>=5,"Invalid Bytewords: invalid decoded string length");const[o,s]=Ry.split(Buffer.from(i,"hex"),4),f=Ry.getCRCHex(o);return lc.default(f===s.toString("hex"),"Invalid Checksum"),o.toString("hex")},lU=(e,t=$i.MINIMAL)=>{switch(t){case $i.STANDARD:return Yb(e," ",$a);case $i.URI:return Yb(e,"-",$a);case $i.MINIMAL:return Yb(e,"",fU);default:throw new Error(`Invalid style ${t}`)}},hU=(e,t=$i.MINIMAL)=>{switch(t){case $i.STANDARD:return M4(e," ");case $i.URI:return M4(e,"-");case $i.MINIMAL:return cU(e);default:throw new Error(`Invalid style ${t}`)}};n1.default={decode:lU,encode:hU,STYLES:$i};var mS=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(f6,"__esModule",{value:!0});const pU=mS(_d),jp=mS(n1);class Hf{constructor(t,r,n,i){this.ur=t,this.fountainEncoder=new pU.default(t.cbor,r,n,i)}get fragmentsLength(){return this.fountainEncoder.fragmentsLength}get fragments(){return this.fountainEncoder.fragments}get messageLength(){return this.fountainEncoder.messageLength}get cbor(){return this.ur.cbor}encodeWhole(){return[...new Array(this.fragmentsLength)].map(()=>this.nextPart())}nextPart(){const t=this.fountainEncoder.nextPart();return this.fountainEncoder.isSinglePart()?Hf.encodeSinglePart(this.ur):Hf.encodePart(this.ur.type,t)}static encodeUri(t,r){const n=r.join("/");return[t,n].join(":")}static encodeUR(t){return Hf.encodeUri("ur",t)}static encodePart(t,r){const n=`${r.seqNum}-${r.seqLength}`,i=jp.default.encode(r.cbor().toString("hex"),jp.default.STYLES.MINIMAL);return Hf.encodeUR([t,n,i])}static encodeSinglePart(t){const r=jp.default.encode(t.cbor.toString("hex"),jp.default.STYLES.MINIMAL);return Hf.encodeUR([t.type,r])}}f6.default=Hf;var _6={},zh={};Object.defineProperty(zh,"__esModule",{value:!0});zh.FountainDecoderPart=void 0;const Zu=Qe,yU=b6,gU=Jn;class el{constructor(t,r){this._indexes=t,this._fragment=r}get indexes(){return this._indexes}get fragment(){return this._fragment}static fromEncoderPart(t){const r=yU.chooseFragments(t.seqNum,t.seqLength,t.checksum),n=t.fragment;return new el(r,n)}isSimple(){return this.indexes.length===1}}zh.FountainDecoderPart=el;class i1{constructor(){this.result=void 0,this.expectedMessageLength=0,this.expectedChecksum=0,this.expectedFragmentLength=0,this.processedPartsCount=0,this.expectedPartIndexes=[],this.lastPartIndexes=[],this.queuedParts=[],this.receivedPartIndexes=[],this.mixedParts=[],this.simpleParts=[]}validatePart(t){if(this.expectedPartIndexes.length===0)[...new Array(t.seqLength)].forEach((r,n)=>this.expectedPartIndexes.push(n)),this.expectedMessageLength=t.messageLength,this.expectedChecksum=t.checksum,this.expectedFragmentLength=t.fragment.length;else if(this.expectedPartIndexes.length!==t.seqLength||this.expectedMessageLength!==t.messageLength||this.expectedChecksum!==t.checksum||this.expectedFragmentLength!==t.fragment.length)return!1;return!0}reducePartByPart(t,r){if(Zu.arrayContains(t.indexes,r.indexes)){const n=Zu.setDifference(t.indexes,r.indexes),i=Zu.bufferXOR(t.fragment,r.fragment);return new el(n,i)}else return t}reduceMixedBy(t){const r=[];this.mixedParts.map(({value:n})=>this.reducePartByPart(n,t)).forEach(n=>{n.isSimple()?this.queuedParts.push(n):r.push({key:n.indexes,value:n})}),this.mixedParts=r}processSimplePart(t){const r=t.indexes[0];if(!this.receivedPartIndexes.includes(r))if(this.simpleParts.push({key:t.indexes,value:t}),this.receivedPartIndexes.push(r),Zu.arraysEqual(this.receivedPartIndexes,this.expectedPartIndexes)){const n=this.simpleParts.map(({value:s})=>s).sort((s,f)=>s.indexes[0]-f.indexes[0]),i=i1.joinFragments(n.map(s=>s.fragment),this.expectedMessageLength);Zu.getCRC(i)===this.expectedChecksum?this.result=i:this.error=new gU.InvalidChecksumError}else this.reduceMixedBy(t)}processMixedPart(t){if(this.mixedParts.some(({key:n})=>Zu.arraysEqual(n,t.indexes)))return;let r=this.simpleParts.reduce((n,{value:i})=>this.reducePartByPart(n,i),t);r=this.mixedParts.reduce((n,{value:i})=>this.reducePartByPart(n,i),r),r.isSimple()?this.queuedParts.push(r):(this.reduceMixedBy(r),this.mixedParts.push({key:r.indexes,value:r}))}processQueuedItem(){if(this.queuedParts.length===0)return;const t=this.queuedParts.shift();t.isSimple()?this.processSimplePart(t):this.processMixedPart(t)}receivePart(t){if(this.isComplete()||!this.validatePart(t))return!1;const r=el.fromEncoderPart(t);for(this.lastPartIndexes=r.indexes,this.queuedParts.push(r);!this.isComplete()&&this.queuedParts.length>0;)this.processQueuedItem();return this.processedPartsCount+=1,!0}isComplete(){return this.result!==void 0&&this.result.length>0}isSuccess(){return!!(this.error===void 0&&this.isComplete())}resultMessage(){return this.isSuccess()?this.result:Buffer.from([])}isFailure(){return this.error!==void 0}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.expectedPartIndexes.length}getExpectedPartIndexes(){return[...this.expectedPartIndexes]}getReceivedPartIndexes(){return[...this.receivedPartIndexes]}getLastPartIndexes(){return[...this.lastPartIndexes]}estimatedPercentComplete(){if(this.isComplete())return 1;const t=this.expectedPartCount();return t===0?0:Math.min(.99,this.processedPartsCount/(t*1.75))}getProgress(){if(this.isComplete())return 1;const t=this.expectedPartCount();return t===0?0:this.receivedPartIndexes.length/t}}zh.default=i1;i1.joinFragments=(e,t)=>Buffer.concat(e).slice(0,t);var o1=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_6,"__esModule",{value:!0});const mU=o1(zh),Kp=o1(n1),bU=o1(Di()),Hp=Qe,da=Jn,Gb=o1(Xg),vU=_d;class hc{constructor(t=new mU.default,r="bytes"){this.fountainDecoder=t,this.type=r,bU.default(Hp.isURType(r),"Invalid UR type"),this.expected_type=""}static decodeBody(t,r){const n=Kp.default.decode(r,Kp.default.STYLES.MINIMAL);return new Gb.default(Buffer.from(n,"hex"),t)}validatePart(t){return this.expected_type?this.expected_type===t:Hp.isURType(t)?(this.expected_type=t,!0):!1}static decode(t){const[r,n]=this.parse(t);if(n.length===0)throw new da.InvalidPathLengthError;const i=n[0];return hc.decodeBody(r,i)}static parse(t){const r=t.toLowerCase();if(r.slice(0,3)!=="ur:")throw new da.InvalidSchemeError;const i=r.slice(3).split("/"),o=i[0];if(i.length<2)throw new da.InvalidPathLengthError;if(!Hp.isURType(o))throw new da.InvalidTypeError;return[o,i.slice(1)]}static parseSequenceComponent(t){const r=t.split("-");if(r.length!==2)throw new da.InvalidSequenceComponentError;const n=Hp.toUint32(Number(r[0])),i=Number(r[1]);if(n<1||i<1)throw new da.InvalidSequenceComponentError;return[n,i]}receivePart(t){if(this.result!==void 0)return!1;const[r,n]=hc.parse(t);if(!this.validatePart(r))return!1;if(n.length===1)return this.result=hc.decodeBody(r,n[0]),!0;if(n.length!==2)throw new da.InvalidPathLengthError;const[i,o]=n,[s,f]=hc.parseSequenceComponent(i),d=Kp.default.decode(o,Kp.default.STYLES.MINIMAL),a=vU.FountainEncoderPart.fromCBOR(d);return s!==a.seqNum||f!==a.seqLength||!this.fountainDecoder.receivePart(a)?!1:(this.fountainDecoder.isSuccess()?this.result=new Gb.default(this.fountainDecoder.resultMessage(),r):this.fountainDecoder.isFailure()&&(this.error=new da.InvalidSchemeError),!0)}resultUR(){return this.result?this.result:new Gb.default(Buffer.from([]))}isComplete(){return this.result&&this.result.cbor.length>0}isSuccess(){return!this.error&&this.isComplete()}isError(){return this.error!==void 0}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.fountainDecoder.expectedPartCount()}expectedPartIndexes(){return this.fountainDecoder.getExpectedPartIndexes()}receivedPartIndexes(){return this.fountainDecoder.getReceivedPartIndexes()}lastPartIndexes(){return this.fountainDecoder.getLastPartIndexes()}estimatedPercentComplete(){return this.fountainDecoder.estimatedPercentComplete()}getProgress(){return this.fountainDecoder.getProgress()}}_6.default=hc;var w6=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.URDecoder=Tt.UREncoder=Tt.UR=void 0;const _U=w6(Xg);Tt.UR=_U.default;const wU=w6(f6);Tt.UREncoder=wU.default;const TU=w6(_6);Tt.URDecoder=TU.default;Object.defineProperty(yr,"__esModule",{value:!0});yr.RegistryItem=void 0;const U4=Tt,IU=hr;let EU=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,IU.encodeDataItem)(this.toDataItem())},this.toUR=()=>new U4.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(t,r,n)=>{const i=this.toUR();return new U4.UREncoder(i,t,r,n)}}};yr.RegistryItem=EU;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CryptoCoinInfo=e.Network=e.Type=void 0;const t=hr,r=yr,n=Ft;var i;(function(d){d.type="1",d.network="2"})(i||(i={}));var o;(function(d){d[d.bitcoin=0]="bitcoin"})(o=e.Type||(e.Type={}));var s;(function(d){d[d.mainnet=0]="mainnet",d[d.testnet=1]="testnet"})(s=e.Network||(e.Network={}));class f extends r.RegistryItem{constructor(a,c){super(),this.type=a,this.network=c,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||o.bitcoin,this.getNetwork=()=>this.network||s.mainnet,this.toDataItem=()=>{const p={};return this.type&&(p[i.type]=this.type),this.network&&(p[i.network]=this.network),new t.DataItem(p)}}}e.CryptoCoinInfo=f,f.fromDataItem=d=>{const a=d.getData(),c=a[i.type],p=a[i.network];return new f(c,p)},f.fromCBOR=d=>{const a=(0,t.decodeToDataItem)(d);return f.fromDataItem(a)}})(qy);var pu={},Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.PathComponent=void 0;let bS=class vS{constructor(t){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=t.index,this.hardened=t.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&vS.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};Sc.PathComponent=bS;bS.HARDENED_BIT=2147483648;Object.defineProperty(pu,"__esModule",{value:!0});pu.CryptoKeypath=void 0;const _S=hr,k4=Sc,xU=yr,SU=Ft;var Fa;(function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"})(Fa||(Fa={}));let tl=class extends xU.RegistryItem{constructor(t=[],r,n){super(),this.components=t,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>SU.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const i={},o=[];return this.components&&this.components.forEach(s=>{s.isWildcard()?o.push([]):o.push(s.getIndex()),o.push(s.isHardened())}),i[Fa.components]=o,this.sourceFingerprint&&(i[Fa.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[Fa.depth]=this.depth),new _S.DataItem(i)}}};pu.CryptoKeypath=tl;tl.fromDataItem=e=>{const t=e.getData(),r=[],n=t[Fa.components];if(n)for(let f=0;f<n.length;f+=2){const d=n[f+1],a=n[f];typeof a=="number"?r.push(new k4.PathComponent({index:a,hardened:d})):r.push(new k4.PathComponent({hardened:d}))}const i=t[Fa.source_fingerprint];let o;i&&(o=Buffer.alloc(4),o.writeUInt32BE(i,0));const s=t[Fa.depth];return new tl(r,o,s)};tl.fromCBOR=e=>{const t=(0,_S.decodeToDataItem)(e);return tl.fromDataItem(t)};Object.defineProperty(mf,"__esModule",{value:!0});mf.CryptoHDKey=void 0;const BU=MP,CU=qy,$4=pu,wS=hr,DU=yr,RU=Ft;var ft;(function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"})(ft||(ft={}));let rl=class extends DU.RegistryItem{constructor(t){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var r,n,i;let o,s,f=0,d=Buffer.alloc(4).fill(0);if(this.isMaster())o=Buffer.from("0488ADE4","hex"),s=0,f=0;else{s=((r=this.getOrigin())===null||r===void 0?void 0:r.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());const y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),g=y[y.length-1];g&&(f=g.isHardened()?g.getIndex()+2147483648:g.getIndex(),this.getParentFingerprint()&&(d=this.getParentFingerprint())),this.isPrivateKey()?o=Buffer.from("0488ADE4","hex"):o=Buffer.from("0488B21E","hex")}const a=Buffer.alloc(1);a.writeUInt8(s,0);const c=Buffer.alloc(4);c.writeUInt32BE(f,0);const p=this.getChainCode(),h=this.getKey();return(0,BU.encode)(Buffer.concat([o,a,d,c,p,h]))},this.getRegistryType=()=>RU.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var r,n,i,o,s,f,d;let a="";return this.getOrigin()&&!((r=this.getOrigin())===null||r===void 0)&&r.getSourceFingerprint()&&!((n=this.getOrigin())===null||n===void 0)&&n.getPath()&&(a+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(s=this.getOrigin())===null||s===void 0?void 0:s.getPath()}`),a+=this.getBip32Key(),this.getChildren()&&!((f=this.getChildren())===null||f===void 0)&&f.getPath()&&(a+=`/${(d=this.getChildren())===null||d===void 0?void 0:d.getPath()}`),a},this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{const r={};if(this.master)r[ft.is_master]=!0,r[ft.key_data]=this.key,r[ft.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[ft.is_private]=this.privateKey),r[ft.key_data]=this.key,this.chainCode&&(r[ft.chain_code]=this.chainCode),this.useInfo){const n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[ft.use_info]=n}if(this.origin){const n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[ft.origin]=n}if(this.children){const n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[ft.children]=n}this.parentFingerprint&&(r[ft.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[ft.name]=this.name),this.note!==void 0&&(r[ft.note]=this.note)}return new wS.DataItem(r)},t.isMaster?this.setupMasterKey(t):this.setupDeriveKey(t)}};mf.CryptoHDKey=rl;rl.fromDataItem=e=>{const t=e.getData(),r=!!t[ft.is_master],n=t[ft.is_private],i=t[ft.key_data],o=t[ft.chain_code],s=t[ft.use_info]?CU.CryptoCoinInfo.fromDataItem(t[ft.use_info]):void 0,f=t[ft.origin]?$4.CryptoKeypath.fromDataItem(t[ft.origin]):void 0,d=t[ft.children]?$4.CryptoKeypath.fromDataItem(t[ft.children]):void 0,a=t[ft.parent_fingerprint];let c;a&&(c=Buffer.alloc(4),c.writeUInt32BE(a,0));const p=t[ft.name],h=t[ft.note];return new rl({isMaster:r,isPrivateKey:n,key:i,chainCode:o,useInfo:s,origin:f,children:d,parentFingerprint:c,name:p,note:h})};rl.fromCBOR=e=>{const t=(0,wS.decodeToDataItem)(e);return rl.fromDataItem(t)};var yu={};Object.defineProperty(yu,"__esModule",{value:!0});yu.CryptoECKey=void 0;const TS=hr,OU=yr,AU=Ft;var La;(function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"})(La||(La={}));let nl=class extends OU.RegistryItem{constructor(t){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>AU.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const r={};return this.curve&&(r[La.curve]=this.curve),this.privateKey!==void 0&&(r[La.private]=this.privateKey),r[La.data]=this.data,new TS.DataItem(r)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=t.data,this.curve=t.curve,this.privateKey=t.privateKey||void 0}};yu.CryptoECKey=nl;nl.fromDataItem=e=>{const t=e.getData(),r=t[La.curve],n=t[La.private],i=t[La.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new nl({data:i,curve:r,privateKey:n})};nl.fromCBOR=e=>{const t=(0,TS.decodeToDataItem)(e);return nl.fromDataItem(t)};var s1={};Object.defineProperty(s1,"__esModule",{value:!0});s1.Bytes=void 0;const IS=hr,PU=yr,NU=Ft;let il=class extends PU.RegistryItem{constructor(t){super(),this.bytes=t,this.getRegistryType=()=>NU.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new IS.DataItem(this.bytes)}};s1.Bytes=il;il.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new il(t)};il.fromCBOR=e=>{const t=(0,IS.decodeToDataItem)(e);return il.fromDataItem(t)};var ol={},Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.MultiKey=void 0;const MU=yu,UU=mf,kU=bd,$U=yr,F4=Ft;var Cc;(function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"})(Cc||(Cc={}));let Z_=class extends $U.RegistryItem{constructor(t,r){super(),this.threshold=t,this.keys=r,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const n={};n[Cc.threshold]=this.threshold;const i=this.keys.map(o=>{const s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s});return n[Cc.keys]=i,new kU.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};Bc.MultiKey=Z_;Z_.fromDataItem=e=>{const t=e.getData(),r=t[Cc.threshold],n=t[Cc.keys],i=[];return n.forEach(o=>{o.getTag()===F4.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(UU.CryptoHDKey.fromDataItem(o)):o.getTag()===F4.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(MU.CryptoECKey.fromDataItem(o))}),new Z_(r,i)};Object.defineProperty(ol,"__esModule",{value:!0});ol.CryptoOutput=void 0;const Q_=yu,e3=mf,T6=hr,ES=Bc,FU=yr,xS=Ft,Jb=$g;let zf=class extends FU.RegistryItem{constructor(t,r){super(),this.scriptExpressions=t,this.cryptoKey=r,this.getRegistryType=()=>xS.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof e3.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof Q_.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof ES.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof Q_.CryptoECKey||this.cryptoKey instanceof e3.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{const s=o.getTag();n.getTag()===void 0?n.setTag(s):n=new T6.DataItem(n,s)}),n}}};ol.CryptoOutput=zf;zf.fromDataItem=e=>{const t=[];let r=e;for(;;){let o=r.getTag();const s=Jb.ScriptExpression.fromTag(o);if(s)if(t.push(s),r.getData()instanceof T6.DataItem)r=r.getData(),o=r.getTag();else break;else break}const n=t.length;if(n>0&&(t[n-1].getExpression()===Jb.ScriptExpressions.MULTISIG.getExpression()||t[n-1].getExpression()===Jb.ScriptExpressions.SORTED_MULTISIG.getExpression())){const o=ES.MultiKey.fromDataItem(r);return new zf(t,o)}if(r.getTag()===xS.RegistryTypes.CRYPTO_HDKEY.getTag()){const o=e3.CryptoHDKey.fromDataItem(r);return new zf(t,o)}else{const o=Q_.CryptoECKey.fromDataItem(r);return new zf(t,o)}};zf.fromCBOR=e=>{const t=(0,T6.decodeToDataItem)(e);return zf.fromDataItem(t)};var sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.CryptoPSBT=void 0;const SS=hr,LU=yr,jU=Ft;let al=class extends LU.RegistryItem{constructor(t){super(),this.psbt=t,this.getRegistryType=()=>jU.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new SS.DataItem(this.psbt)}};sl.CryptoPSBT=al;al.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new al(t)};al.fromCBOR=e=>{const t=(0,SS.decodeToDataItem)(e);return al.fromDataItem(t)};var e0={},L4;function j4(){if(L4)return e0;L4=1,Object.defineProperty(e0,"__esModule",{value:!0}),e0.CryptoAccount=void 0;const e=Df(),t=hr,r=yr,n=Ft;var i;(function(s){s[s.masterFingerprint=1]="masterFingerprint",s[s.outputDescriptors=2]="outputDescriptors"})(i||(i={}));class o extends r.RegistryItem{constructor(f,d){super(),this.masterFingerprint=f,this.outputDescriptors=d,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const a={};return this.masterFingerprint&&(a[i.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(a[i.outputDescriptors]=this.outputDescriptors.map(c=>c.toDataItem())),new t.DataItem(a)}}}return e0.CryptoAccount=o,o.fromDataItem=s=>{const f=s.getData(),d=Buffer.alloc(4),a=f[i.masterFingerprint];a&&d.writeUInt32BE(a,0);const p=f[i.outputDescriptors].map(h=>e.CryptoOutput.fromDataItem(h));return new o(d,p)},o.fromCBOR=s=>{const f=(0,t.decodeToDataItem)(s);return o.fromDataItem(f)},e0}var t0={},Yh={};Object.defineProperty(Yh,"__esModule",{value:!0});Yh.UnknownURTypeError=void 0;let KU=class extends Error{constructor(t){super(t)}};Yh.UnknownURTypeError=KU;var K4;function H4(){if(K4)return t0;K4=1,Object.defineProperty(t0,"__esModule",{value:!0}),t0.URRegistryDecoder=void 0;const e=Tt,t=Df(),r=Ft,n=Yh;class i extends e.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const s=this.resultUR();switch(s.type){case r.RegistryTypes.BYTES.getType():return t.Bytes.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_HDKEY.getType():return t.CryptoHDKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_KEYPATH.getType():return t.CryptoKeypath.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_COIN_INFO.getType():return t.CryptoCoinInfo.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ECKEY.getType():return t.CryptoECKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_OUTPUT.getType():return t.CryptoOutput.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_PSBT.getType():return t.CryptoPSBT.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ACCOUNT.getType():return t.CryptoAccount.fromCBOR(s.cbor);default:throw new n.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${s.type} is not supported now`)}}}}return t0.URRegistryDecoder=i,t0}var fl={};Object.defineProperty(fl,"__esModule",{value:!0});fl.CryptoMultiAccounts=void 0;const HU=Ft,qU=mf,VU=yr,BS=hr;var _i;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device",e[e.deviceId=4]="deviceId",e[e.version=5]="version"})(_i||(_i={}));let ul=class extends VU.RegistryItem{constructor(t,r,n,i,o){super(),this.masterFingerprint=t,this.keys=r,this.device=n,this.deviceId=i,this.version=o,this.getRegistryType=()=>HU.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{const s={};return this.masterFingerprint&&(s[_i.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(s[_i.keys]=this.keys.map(f=>{const d=f.toDataItem();return d.setTag(f.getRegistryType().getTag()),d})),this.device&&(s[_i.device]=this.device),this.deviceId&&(s[_i.deviceId]=this.deviceId),this.version&&(s[_i.version]=this.version),new BS.DataItem(s)}}};fl.CryptoMultiAccounts=ul;ul.fromDataItem=e=>{const t=e.getData(),r=Buffer.alloc(4),n=t[_i.masterFingerprint];n&&r.writeUInt32BE(n,0);const o=t[_i.keys].map(a=>qU.CryptoHDKey.fromDataItem(a)),s=t[_i.device],f=t[_i.deviceId],d=t[_i.version];return new ul(r,o,s,f,d)};ul.fromCBOR=e=>{const t=(0,BS.decodeToDataItem)(e);return ul.fromDataItem(t)};var CS={},Gh={},I6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyDerivationSchema=e.DerivationAlgorithm=e.Curve=void 0;const t=Ft,r=yr,n=hr,i=pu;var o;(function(a){a[a.keyPath=1]="keyPath",a[a.curve=2]="curve",a[a.algo=3]="algo"})(o||(o={}));var s;(function(a){a[a.secp256k1=0]="secp256k1",a[a.ed25519=1]="ed25519"})(s=e.Curve||(e.Curve={}));var f;(function(a){a[a.slip10=0]="slip10",a[a.bip32ed25519=1]="bip32ed25519"})(f=e.DerivationAlgorithm||(e.DerivationAlgorithm={}));class d extends r.RegistryItem{constructor(c,p=s.secp256k1,h=f.slip10){super(),this.keypath=c,this.curve=p,this.algo=h,this.getRegistryType=()=>t.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.toDataItem=()=>{const y={},g=this.getKeypath().toDataItem();return g.setTag(this.getKeypath().getRegistryType().getTag()),y[o.keyPath]=g,y[o.curve]=this.curve,y[o.algo]=this.algo,new n.DataItem(y)}}}e.KeyDerivationSchema=d,d.fromDataItem=a=>{const c=a.getData(),p=i.CryptoKeypath.fromDataItem(c[o.keyPath]),h=c[o.curve],y=c[o.algo];return new d(p,h,y)},d.fromCBOR=a=>{const c=(0,n.decodeToDataItem)(a);return d.fromDataItem(c)}})(I6);Object.defineProperty(Gh,"__esModule",{value:!0});Gh.KeyDerivation=void 0;const zU=Ft,YU=yr,DS=hr,GU=I6;var Zy;(function(e){e[e.schemas=1]="schemas"})(Zy||(Zy={}));let cl=class extends YU.RegistryItem{constructor(t){super(),this.schemas=t,this.getRegistryType=()=>zU.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{const r={};return r[Zy.schemas]=this.schemas.map(n=>{const i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),new DS.DataItem(r)}}};Gh.KeyDerivation=cl;cl.fromDataItem=e=>{const r=e.getData()[Zy.schemas].map(n=>GU.KeyDerivationSchema.fromDataItem(n));return new cl(r)};cl.fromCBOR=e=>{const t=(0,DS.decodeToDataItem)(e);return cl.fromDataItem(t)};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QRHardwareCall=e.QRHardwareCallType=void 0;const t=Ft,r=yr,n=hr,i=Gh;var o;(function(d){d[d.type=1]="type",d[d.params=2]="params",d[d.origin=3]="origin"})(o||(o={}));var s;(function(d){d[d.KeyDerivation=0]="KeyDerivation"})(s=e.QRHardwareCallType||(e.QRHardwareCallType={}));class f extends r.RegistryItem{constructor(a,c,p){super(),this.type=a,this.params=c,this.origin=p,this.getRegistryType=()=>t.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const h={};h[o.type]=this.type;const y=this.params.toDataItem();return y.setTag(this.params.getRegistryType().getTag()),h[o.params]=y,this.origin&&(h[o.origin]=this.origin),new n.DataItem(h)}}}e.QRHardwareCall=f,f.fromDataItem=d=>{const a=d.getData(),c=a[o.type]||s.KeyDerivation;let p;switch(c){case s.KeyDerivation:p=i.KeyDerivation.fromDataItem(a[o.params])}const h=a[o.origin];return new f(c,p,h)},f.fromCBOR=d=>{const a=(0,n.decodeToDataItem)(d);return f.fromDataItem(a)}})(CS);var RS={};Object.defineProperty(RS,"__esModule",{value:!0});var q4;function Df(){return q4||(q4=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=e.extend=e.PathComponent=e.ScriptExpressions=e.MultiKey=e.CryptoPSBT=e.CryptoOutput=e.CryptoECKey=e.CryptoCoinInfoNetwork=e.CryptoCoinInfoType=e.CryptoCoinInfo=e.CryptoKeypath=e.CryptoMultiAccounts=e.CryptoHDKey=e.CryptoAccount=e.Bytes=e.URRegistryDecoder=e.DataItem=void 0;const t=Bf,r=ze;Object.defineProperty(e,"Buffer",{enumerable:!0,get:function(){return r.Buffer}});const n=mf;Object.defineProperty(e,"CryptoHDKey",{enumerable:!0,get:function(){return n.CryptoHDKey}});const i=pu;Object.defineProperty(e,"CryptoKeypath",{enumerable:!0,get:function(){return i.CryptoKeypath}});const o=qy;Object.defineProperty(e,"CryptoCoinInfo",{enumerable:!0,get:function(){return o.CryptoCoinInfo}}),Object.defineProperty(e,"CryptoCoinInfoType",{enumerable:!0,get:function(){return o.Type}}),Object.defineProperty(e,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return o.Network}});const s=yu;Object.defineProperty(e,"CryptoECKey",{enumerable:!0,get:function(){return s.CryptoECKey}});const f=s1;Object.defineProperty(e,"Bytes",{enumerable:!0,get:function(){return f.Bytes}});const d=ol;Object.defineProperty(e,"CryptoOutput",{enumerable:!0,get:function(){return d.CryptoOutput}});const a=sl;Object.defineProperty(e,"CryptoPSBT",{enumerable:!0,get:function(){return a.CryptoPSBT}});const c=j4();Object.defineProperty(e,"CryptoAccount",{enumerable:!0,get:function(){return c.CryptoAccount}});const p=H4();Object.defineProperty(e,"URRegistryDecoder",{enumerable:!0,get:function(){return p.URRegistryDecoder}});const h=Bc;Object.defineProperty(e,"MultiKey",{enumerable:!0,get:function(){return h.MultiKey}});const y=$g;Object.defineProperty(e,"ScriptExpressions",{enumerable:!0,get:function(){return y.ScriptExpressions}});const g=Sc;Object.defineProperty(e,"PathComponent",{enumerable:!0,get:function(){return g.PathComponent}});const v=yr,T=Ft,I=hr;var _=hr;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return _.DataItem}});const C=Tc,w=fl;Object.defineProperty(e,"CryptoMultiAccounts",{enumerable:!0,get:function(){return w.CryptoMultiAccounts}});const P={URRegistryDecoder:p.URRegistryDecoder,Bytes:f.Bytes,CryptoAccount:c.CryptoAccount,CryptoHDKey:n.CryptoHDKey,CryptoMultiAccounts:w.CryptoMultiAccounts,CryptoKeypath:i.CryptoKeypath,CryptoCoinInfo:o.CryptoCoinInfo,CryptoCoinInfoType:o.Type,CryptoCoinInfoNetwork:o.Network,CryptoECKey:s.CryptoECKey,CryptoOutput:d.CryptoOutput,CryptoPSBT:a.CryptoPSBT,MultiKey:h.MultiKey,ScriptExpressions:y.ScriptExpressions,PathComponent:g.PathComponent},D={addReader:I.addReader,addSemanticDecode:I.addSemanticDecode,addSemanticEncode:I.addSemanticEncode,addWriter:I.addWriter,patchTags:C.patchTags},u={RegistryTypes:T.RegistryTypes,RegistryItem:v.RegistryItem,RegistryType:T.RegistryType,decodeToDataItem:I.decodeToDataItem,encodeDataItem:I.encodeDataItem,cbor:D};e.extend=u,(0,t.__exportStar)(Yh,e),(0,t.__exportStar)(H4(),e),(0,t.__exportStar)(hr,e),(0,t.__exportStar)(j4(),e),(0,t.__exportStar)(sl,e),(0,t.__exportStar)(mf,e),(0,t.__exportStar)(fl,e),(0,t.__exportStar)(CS,e),(0,t.__exportStar)(Gh,e),(0,t.__exportStar)(I6,e),(0,t.__exportStar)(ol,e),(0,t.__exportStar)(qy,e),(0,t.__exportStar)(yu,e),(0,t.__exportStar)(Bc,e),(0,t.__exportStar)(pu,e),(0,t.__exportStar)(YE,e),(0,t.__exportStar)(Sc,e),(0,t.__exportStar)(yr,e),(0,t.__exportStar)(Ft,e),(0,t.__exportStar)(RS,e),(0,t.__exportStar)(Tc,e),e.default=P}(pb)),pb}Object.defineProperty(Ug,"__esModule",{value:!0});Ug.pathToKeypath=void 0;const V4=Df(),JU=e=>{const r=e.replace(/[m|M]\//,"").split("/").map(n=>{const i=parseInt(n.replace("'",""),10),o=n.endsWith("'");return new V4.PathComponent({index:i,hardened:o})});return new V4.CryptoKeypath(r)};Ug.pathToKeypath=JU;(function(e){var t=Be&&Be.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var f=Object.getOwnPropertyDescriptor(i,o);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,f)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=Be&&Be.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(wE,e),r(Ug,e),r($h,e)})(ir);var a1={},E6={},f1={},OS={exports:{}},AS={},Wb={},PS={},Dc={},Dr={},NS={exports:{}},Td={};Object.defineProperty(Td,"__esModule",{value:!0});Td.DataItem=void 0;let WU=class{constructor(t,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=t,this.tag=r}};Td.DataItem=WU;(function(e){(function(t,r){e.exports?e.exports=r():t.CBOR=r()})(Be,function(){const{DataItem:t}=Td;var r=function(){function n(u){this.$hex=u}n.prototype={length:function(){return this.$hex.length/2},toString:function(u){if(!u||u==="hex"||u===16)return this.$hex;if(u==="utf-8"){for(var l="",m=0;m<this.$hex.length;m+=2)l+="%"+this.$hex.substring(m,m+2);return decodeURIComponent(l)}if(u==="latin"){for(var l=[],m=0;m<this.$hex.length;m+=2)l.push(parseInt(this.$hex.substring(m,m+2),16));return String.fromCharCode.apply(String,l)}throw new Error("Unrecognised format: "+u)}},n.fromLatinString=function(u){for(var l="",m=0;m<u.length;m++){var R=u.charCodeAt(m).toString(16);R.length===1&&(R="0"+R),l+=R}return new n(l)},n.fromUtf8String=function(u){for(var l=encodeURIComponent(u),m="",R=0;R<l.length;R++)if(l.charAt(R)==="%")m+=l.substring(R+1,R+3),R+=2;else{var B=l.charCodeAt(R).toString(16);B.length<2&&(B="0"+B),m+=B}return new n(m)};var i=[],o={},s=function(u){return function(){throw new Error(u+" not implemented")}};function f(){}f.prototype={peekByte:s("peekByte"),readByte:s("readByte"),readChunk:s("readChunk"),readFloat16:function(){var u=this.readUint16(),l=(u&32767)>>10,m=u&1023,R=u&32768;if(l===31)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-25)*(1024+m):Math.pow(2,-24)*m;return R?-B:B},readFloat32:function(){var u=this.readUint32(),l=(u&2147483647)>>23,m=u&8388607,R=u&2147483648;if(l===255)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-23-127)*(8388608+m):Math.pow(2,-149)*m;return R?-B:B},readFloat64:function(){var u=this.readUint32(),l=this.readUint32(),m=u>>20&2047,R=(u&1048575)*4294967296+l,B=u&2147483648;if(m===2047)return R===0?B?-1/0:1/0:NaN;var b=m?Math.pow(2,m-52-1023)*(4503599627370496+R):Math.pow(2,-1074)*R;return B?-b:b},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function d(){}d.prototype={writeByte:s("writeByte"),result:s("result"),writeFloat16:s("writeFloat16"),writeFloat32:s("writeFloat32"),writeFloat64:s("writeFloat64"),writeUint16:function(u){this.writeByte(u>>8&255),this.writeByte(u&255)},writeUint32:function(u){this.writeUint16(u>>16&65535),this.writeUint16(u&65535)},writeUint64:function(u){if(u>=9007199254740992||u<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+u+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(u/4294967296)),this.writeUint32(u%4294967296)},writeString:s("writeString"),canWriteBinary:function(u){return!1},writeBinary:s("writeChunk")};function a(u){var l=u.readByte(),m=l>>5,R=l&31;return{type:m,value:R}}function c(u,l){var m=u.value;if(m<24)return m;if(m==24)return l.readByte();if(m==25)return l.readUint16();if(m==26)return l.readUint32();if(m==27)return l.readUint64();if(m==31)return null;s("Additional info: "+m)()}function p(u,l,m){m.writeByte(u<<5|l)}function h(u,l,m){var R=u<<5;l<24?m.writeByte(R|l):l<256?(m.writeByte(R|24),m.writeByte(l)):l<65536?(m.writeByte(R|25),m.writeUint16(l)):l<4294967296?(m.writeByte(R|26),m.writeUint32(l)):(m.writeByte(R|27),m.writeUint64(l))}var y=new Error;function g(u){var l=a(u);switch(l.type){case 0:return c(l,u);case 1:return-1-c(l,u);case 2:return u.readChunk(c(l,u));case 3:var m=u.readChunk(c(l,u));return m.toString("utf-8");case 4:case 5:var R=c(l,u),$=[];if(R!==null){l.type===5&&(R*=2);for(var B=0;B<R;B++)$[B]=g(u)}else for(var b;(b=g(u))!==y;)$.push(b);if(l.type===5){for(var E={},B=0;B<$.length;B+=2)E[$[B]]=$[B+1];return E}else return $;case 6:var k=c(l,u),L=o[k],$=g(u);return L?L($):$;case 7:if(l.value===25)return u.readFloat16();if(l.value===26)return u.readFloat32();if(l.value===27)return u.readFloat64();switch(c(l,u)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return y;default:throw new Error("Unknown fixed value: "+l.value)}default:throw new Error("Unsupported header: "+JSON.stringify(l))}throw new Error("not implemented yet")}function v(u,l){for(var m=0;m<i.length;m++){var R=i[m].fn(u);if(R!==void 0)return h(6,i[m].tag,l),v(R,l)}if(u&&typeof u.toCBOR=="function"&&(u=u.toCBOR()),u===!1)h(7,20,l);else if(u===!0)h(7,21,l);else if(u===null)h(7,22,l);else if(u===void 0)h(7,23,l);else if(typeof u=="number")Math.floor(u)===u&&u<9007199254740992&&u>-9007199254740992?u<0?h(1,-1-u,l):h(0,u,l):(p(7,27,l),l.writeFloat64(u));else if(typeof u=="string")l.writeString(u,function(b){h(3,b,l)});else if(l.canWriteBinary(u))l.writeBinary(u,function(b){h(2,b,l)});else if(typeof u=="object")if(_.config.useToJSON&&typeof u.toJSON=="function"&&(u=u.toJSON()),Array.isArray(u)){h(4,u.length,l);for(var m=0;m<u.length;m++)v(u[m],l)}else{var B=Object.keys(u);h(5,B.length,l);for(var m=0;m<B.length;m++){const E=parseInt(B[m]);isNaN(E)?(v(B[m],l),v(u[B[m]],l)):(v(E,l),v(u[B[m]],l))}}else throw new Error("CBOR encoding not supported: "+u)}var T=[],I=[],_={config:{useToJSON:!0},addWriter:function(u,l){typeof u=="string"?I.push(function(m){if(u===m)return l(m)}):I.push(u)},addReader:function(u,l){typeof u=="string"?T.push(function(m,R){if(u===R)return l(m,R)}):T.push(u)},encode:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return v(u,B),B.result()}throw new Error("Unsupported output format: "+l)},encodeDataItem:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return u.getTag()!==void 0?(v(u,B),B.result()):(v(u.getData(),B),B.result())}throw new Error("Unsupported output format: "+l)},decode:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B)return g(B)}throw new Error("Unsupported input format: "+l)},decodeToDataItem:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B){const b=g(B);return b instanceof t?b:new t(b)}}throw new Error("Unsupported input format: "+l)},addSemanticEncode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return i.push({tag:u,fn:l}),this},addSemanticDecode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return o[u]=l,this}};function C(u){this.buffer=u,this.pos=0}C.prototype=Object.create(f.prototype),C.prototype.peekByte=function(){return this.buffer[this.pos]},C.prototype.readByte=function(){return this.buffer[this.pos++]},C.prototype.readUint16=function(){var u=this.buffer.readUInt16BE(this.pos);return this.pos+=2,u},C.prototype.readUint32=function(){var u=this.buffer.readUInt32BE(this.pos);return this.pos+=4,u},C.prototype.readFloat32=function(){var u=this.buffer.readFloatBE(this.pos);return this.pos+=4,u},C.prototype.readFloat64=function(){var u=this.buffer.readDoubleBE(this.pos);return this.pos+=8,u},C.prototype.readChunk=function(u){var l=Buffer.alloc(u);return this.buffer.copy(l,0,this.pos,this.pos+=u),l};function w(u){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=u}w.prototype=Object.create(d.prototype),w.prototype.writeByte=function(u){this.latestBuffer[this.latestBufferOffset++]=u,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},w.prototype.writeFloat32=function(u){var l=Buffer.alloc(4);l.writeFloatBE(u,0),this.writeBuffer(l)},w.prototype.writeFloat64=function(u){var l=Buffer.alloc(8);l.writeDoubleBE(u,0),this.writeBuffer(l)},w.prototype.writeString=function(u,l){var m=Buffer.from(u,"utf-8");l(m.length),this.writeBuffer(m)},w.prototype.canWriteBinary=function(u){return u instanceof Buffer},w.prototype.writeBinary=function(u,l){l(u.length),this.writeBuffer(u)},w.prototype.writeBuffer=function(u){if(!(u instanceof Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=u.length?(u.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=u.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(u),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(u),this.byteLength+=u.length},w.prototype.result=function(){for(var u=Buffer.alloc(this.byteLength),l=0,m=0;m<this.completeBuffers.length;m++){var R=this.completeBuffers[m];R.copy(u,l,0,R.length),l+=R.length}return this.latestBufferOffset&&this.latestBuffer.copy(u,l,0,this.latestBufferOffset),this.stringFormat?u.toString(this.stringFormat):u},typeof Buffer=="function"&&(_.addReader(function(u,l){if(Buffer.isBuffer(u))return new C(u);if(l==="hex"||l==="base64"){var m=Buffer.from(u,l);return new C(m)}}),_.addWriter(function(u){if(!u||u==="buffer")return new w;if(u==="hex"||u==="base64")return new w(u)}));function P(u){this.hex=u,this.pos=0}P.prototype=Object.create(f.prototype),P.prototype.peekByte=function(){var u=this.hex.substring(this.pos,2);return parseInt(u,16)},P.prototype.readByte=function(){var u=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(u,16)},P.prototype.readChunk=function(u){var l=this.hex.substring(this.pos,this.pos+u*2);return this.pos+=u*2,typeof Buffer=="function"?Buffer.from(l,"hex"):new n(l)};function D(u){this.$hex="",this.finalFormat=u||"hex"}return D.prototype=Object.create(d.prototype),D.prototype.writeByte=function(u){if(u<0||u>255)throw new Error("Byte value out of range: "+u);var l=u.toString(16);l.length==1&&(l="0"+l),this.$hex+=l},D.prototype.canWriteBinary=function(u){return u instanceof n||typeof Buffer=="function"&&u instanceof Buffer},D.prototype.writeBinary=function(u,l){if(u instanceof n)l(u.length()),this.$hex+=u.$hex;else if(typeof Buffer=="function"&&u instanceof Buffer)l(u.length),this.$hex+=u.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},D.prototype.result=function(){return this.finalFormat==="buffer"&&typeof Buffer=="function"?Buffer.from(this.$hex,"hex"):new n(this.$hex).toString(this.finalFormat)},D.prototype.writeString=function(u,l){var m=n.fromUtf8String(u);l(m.length()),this.$hex+=m.$hex},_.addReader(function(u,l){if(u instanceof n||u.$hex)return new P(u.$hex);if(l==="hex")return new P(u)}),_.addWriter(function(u){if(u==="hex")return new D}),_}();return r.addSemanticEncode(0,function(n){if(n instanceof Date)return n.toISOString()}).addSemanticDecode(0,function(n){return new Date(n)}).addSemanticDecode(1,function(n){return new Date(n)}),r})})(NS);var XU=NS.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DataItem=e.addWriter=e.addReader=e.addSemanticEncode=e.addSemanticDecode=e.decodeToDataItem=e.encodeDataItem=void 0;var t=XU;Object.defineProperty(e,"encodeDataItem",{enumerable:!0,get:function(){return t.encodeDataItem}}),Object.defineProperty(e,"decodeToDataItem",{enumerable:!0,get:function(){return t.decodeToDataItem}}),Object.defineProperty(e,"addSemanticDecode",{enumerable:!0,get:function(){return t.addSemanticDecode}}),Object.defineProperty(e,"addSemanticEncode",{enumerable:!0,get:function(){return t.addSemanticEncode}}),Object.defineProperty(e,"addReader",{enumerable:!0,get:function(){return t.addReader}}),Object.defineProperty(e,"addWriter",{enumerable:!0,get:function(){return t.addWriter}});var r=Td;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return r.DataItem}})})(Dr);Object.defineProperty(Dc,"__esModule",{value:!0});Dc.patchTags=void 0;const qp=Dr,z4=[],ZU=e=>{e.forEach(t=>{z4.find(r=>r===t)||(qp.addSemanticEncode(t,r=>{if(r instanceof qp.DataItem&&r.getTag()===t)return r.getData()}),qp.addSemanticDecode(t,r=>new qp.DataItem(r,t)),z4.push(t))})};Dc.patchTags=ZU;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.RegistryTypes=Ht.RegistryType=void 0;let Qn=class{constructor(t,r){this.type=t,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}};Ht.RegistryType=Qn;Ht.RegistryTypes={UUID:new Qn("uuid",37),BYTES:new Qn("bytes",void 0),CRYPTO_HDKEY:new Qn("crypto-hdkey",303),CRYPTO_KEYPATH:new Qn("crypto-keypath",304),CRYPTO_COIN_INFO:new Qn("crypto-coin-info",305),CRYPTO_ECKEY:new Qn("crypto-eckey",306),CRYPTO_OUTPUT:new Qn("crypto-output",308),CRYPTO_PSBT:new Qn("crypto-psbt",310),CRYPTO_ACCOUNT:new Qn("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new Qn("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new Qn("qr-hardware-call",1201),KEY_DERIVATION_CALL:new Qn("key-derivation-call",1301)};var u1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptExpressions=e.ScriptExpression=void 0;class t{constructor(n,i){this.tag=n,this.expression=i,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}e.ScriptExpression=t,t.fromTag=r=>Object.values(e.ScriptExpressions).find(i=>i.getTag()===r),e.ScriptExpressions={SCRIPT_HASH:new t(400,"sh"),WITNESS_SCRIPT_HASH:new t(401,"wsh"),PUBLIC_KEY:new t(402,"pk"),PUBLIC_KEY_HASH:new t(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new t(404,"wpkh"),COMBO:new t(405,"combo"),MULTISIG:new t(406,"multi"),SORTED_MULTISIG:new t(407,"sortedmulti"),ADDRESS:new t(307,"addr"),RAW_SCRIPT:new t(408,"raw")}})(u1);Object.defineProperty(PS,"__esModule",{value:!0});const QU=Dc,ek=Ht,tk=u1,rk=Object.values(ek.RegistryTypes).filter(e=>!!e.getTag()).map(e=>e.getTag()),nk=Object.values(tk.ScriptExpressions).map(e=>e.getTag());QU.patchTags(rk.concat(nk));var bf={},Xb=Ax,ik=Hn.Buffer,ok=function(e){function t(o){var s=e(o);return Xb.encode(ik.concat([o,s],o.length+4))}function r(o){var s=o.slice(0,-4),f=o.slice(-4),d=e(s);if(!(f[0]^d[0]|f[1]^d[1]|f[2]^d[2]|f[3]^d[3]))return s}function n(o){var s=Xb.decodeUnsafe(o);if(s)return r(s)}function i(o){var s=Xb.decode(o),f=r(s);if(!f)throw new Error("Invalid checksum");return f}return{encode:t,decode:i,decodeUnsafe:n}},Y4=Wg,sk=ok;function ak(e){var t=Y4("sha256").update(e).digest();return Y4("sha256").update(t).digest()}var Rf=sk(ak),Qy={},Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.RegistryItem=void 0;const G4=Tt,fk=Dr;let uk=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return fk.encodeDataItem(this.toDataItem())},this.toUR=()=>new G4.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(t,r,n)=>{const i=this.toUR();return new G4.UREncoder(i,t,r,n)}}};Mr.RegistryItem=uk;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CryptoCoinInfo=e.Network=e.Type=void 0;const t=Dr,r=Mr,n=Ht;var i;(function(d){d.type="1",d.network="2"})(i||(i={}));var o;(function(d){d[d.bitcoin=0]="bitcoin"})(o=e.Type||(e.Type={}));var s;(function(d){d[d.mainnet=0]="mainnet",d[d.testnet=1]="testnet"})(s=e.Network||(e.Network={}));class f extends r.RegistryItem{constructor(a,c){super(),this.type=a,this.network=c,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||o.bitcoin,this.getNetwork=()=>this.network||s.mainnet,this.toDataItem=()=>{const p={};return this.type&&(p[i.type]=this.type),this.network&&(p[i.network]=this.network),new t.DataItem(p)}}}e.CryptoCoinInfo=f,f.fromDataItem=d=>{const a=d.getData(),c=a[i.type],p=a[i.network];return new f(c,p)},f.fromCBOR=d=>{const a=t.decodeToDataItem(d);return f.fromDataItem(a)}})(Qy);var gu={},Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.PathComponent=void 0;let MS=class US{constructor(t){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=t.index,this.hardened=t.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&US.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};Rc.PathComponent=MS;MS.HARDENED_BIT=2147483648;Object.defineProperty(gu,"__esModule",{value:!0});gu.CryptoKeypath=void 0;const kS=Dr,J4=Rc,ck=Mr,dk=Ht;var ja;(function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"})(ja||(ja={}));let dl=class extends ck.RegistryItem{constructor(t=[],r,n){super(),this.components=t,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>dk.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const i={},o=[];return this.components&&this.components.forEach(s=>{s.isWildcard()?o.push([]):o.push(s.getIndex()),o.push(s.isHardened())}),i[ja.components]=o,this.sourceFingerprint&&(i[ja.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[ja.depth]=this.depth),new kS.DataItem(i)}}};gu.CryptoKeypath=dl;dl.fromDataItem=e=>{const t=e.getData(),r=[],n=t[ja.components];if(n)for(let f=0;f<n.length;f+=2){const d=n[f+1],a=n[f];typeof a=="number"?r.push(new J4.PathComponent({index:a,hardened:d})):r.push(new J4.PathComponent({hardened:d}))}const i=t[ja.source_fingerprint];let o;i&&(o=Buffer.alloc(4),o.writeUInt32BE(i,0));const s=t[ja.depth];return new dl(r,o,s)};dl.fromCBOR=e=>{const t=kS.decodeToDataItem(e);return dl.fromDataItem(t)};Object.defineProperty(bf,"__esModule",{value:!0});bf.CryptoHDKey=void 0;const lk=Rf,hk=Qy,W4=gu,$S=Dr,pk=Mr,yk=Ht;var ut;(function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"})(ut||(ut={}));let ll=class extends pk.RegistryItem{constructor(t){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var r,n,i;let o,s,f=0,d=Buffer.alloc(4).fill(0);if(this.isMaster())o=Buffer.from("0488ADE4","hex"),s=0,f=0;else{s=((r=this.getOrigin())===null||r===void 0?void 0:r.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());const y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),g=y[y.length-1];g&&(f=g.isHardened()?g.getIndex()+2147483648:g.getIndex(),this.getParentFingerprint()&&(d=this.getParentFingerprint())),this.isPrivateKey()?o=Buffer.from("0488ADE4","hex"):o=Buffer.from("0488B21E","hex")}const a=Buffer.alloc(1);a.writeUInt8(s,0);const c=Buffer.alloc(4);c.writeUInt32BE(f,0);const p=this.getChainCode(),h=this.getKey();return lk.encode(Buffer.concat([o,a,d,c,p,h]))},this.getRegistryType=()=>yk.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var r,n,i,o,s,f,d;let a="";return this.getOrigin()&&!((r=this.getOrigin())===null||r===void 0)&&r.getSourceFingerprint()&&!((n=this.getOrigin())===null||n===void 0)&&n.getPath()&&(a+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(s=this.getOrigin())===null||s===void 0?void 0:s.getPath()}`),a+=this.getBip32Key(),this.getChildren()&&!((f=this.getChildren())===null||f===void 0)&&f.getPath()&&(a+=`/${(d=this.getChildren())===null||d===void 0?void 0:d.getPath()}`),a},this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{const r={};if(this.master)r[ut.is_master]=!0,r[ut.key_data]=this.key,r[ut.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[ut.is_private]=this.privateKey),r[ut.key_data]=this.key,this.chainCode&&(r[ut.chain_code]=this.chainCode),this.useInfo){const n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[ut.use_info]=n}if(this.origin){const n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[ut.origin]=n}if(this.children){const n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[ut.children]=n}this.parentFingerprint&&(r[ut.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[ut.name]=this.name),this.note!==void 0&&(r[ut.note]=this.note)}return new $S.DataItem(r)},t.isMaster?this.setupMasterKey(t):this.setupDeriveKey(t)}};bf.CryptoHDKey=ll;ll.fromDataItem=e=>{const t=e.getData(),r=!!t[ut.is_master],n=t[ut.is_private],i=t[ut.key_data],o=t[ut.chain_code],s=t[ut.use_info]?hk.CryptoCoinInfo.fromDataItem(t[ut.use_info]):void 0,f=t[ut.origin]?W4.CryptoKeypath.fromDataItem(t[ut.origin]):void 0,d=t[ut.children]?W4.CryptoKeypath.fromDataItem(t[ut.children]):void 0,a=t[ut.parent_fingerprint];let c;a&&(c=Buffer.alloc(4),c.writeUInt32BE(a,0));const p=t[ut.name],h=t[ut.note];return new ll({isMaster:r,isPrivateKey:n,key:i,chainCode:o,useInfo:s,origin:f,children:d,parentFingerprint:c,name:p,note:h})};ll.fromCBOR=e=>{const t=$S.decodeToDataItem(e);return ll.fromDataItem(t)};var mu={};Object.defineProperty(mu,"__esModule",{value:!0});mu.CryptoECKey=void 0;const FS=Dr,gk=Mr,mk=Ht;var Ka;(function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"})(Ka||(Ka={}));let hl=class extends gk.RegistryItem{constructor(t){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>mk.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const r={};return this.curve&&(r[Ka.curve]=this.curve),this.privateKey!==void 0&&(r[Ka.private]=this.privateKey),r[Ka.data]=this.data,new FS.DataItem(r)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=t.data,this.curve=t.curve,this.privateKey=t.privateKey||void 0}};mu.CryptoECKey=hl;hl.fromDataItem=e=>{const t=e.getData(),r=t[Ka.curve],n=t[Ka.private],i=t[Ka.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new hl({data:i,curve:r,privateKey:n})};hl.fromCBOR=e=>{const t=FS.decodeToDataItem(e);return hl.fromDataItem(t)};var c1={};Object.defineProperty(c1,"__esModule",{value:!0});c1.Bytes=void 0;const LS=Dr,bk=Mr,vk=Ht;let pl=class extends bk.RegistryItem{constructor(t){super(),this.bytes=t,this.getRegistryType=()=>vk.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new LS.DataItem(this.bytes)}};c1.Bytes=pl;pl.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new pl(t)};pl.fromCBOR=e=>{const t=LS.decodeToDataItem(e);return pl.fromDataItem(t)};var yl={},Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.MultiKey=void 0;const _k=mu,wk=bf,Tk=Td,Ik=Mr,X4=Ht;var Ac;(function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"})(Ac||(Ac={}));let t3=class extends Ik.RegistryItem{constructor(t,r){super(),this.threshold=t,this.keys=r,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const n={};n[Ac.threshold]=this.threshold;const i=this.keys.map(o=>{const s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s});return n[Ac.keys]=i,new Tk.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};Oc.MultiKey=t3;t3.fromDataItem=e=>{const t=e.getData(),r=t[Ac.threshold],n=t[Ac.keys],i=[];return n.forEach(o=>{o.getTag()===X4.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(wk.CryptoHDKey.fromDataItem(o)):o.getTag()===X4.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(_k.CryptoECKey.fromDataItem(o))}),new t3(r,i)};Object.defineProperty(yl,"__esModule",{value:!0});yl.CryptoOutput=void 0;const r3=mu,n3=bf,x6=Dr,jS=Oc,Ek=Mr,KS=Ht,Zb=u1;let Yf=class extends Ek.RegistryItem{constructor(t,r){super(),this.scriptExpressions=t,this.cryptoKey=r,this.getRegistryType=()=>KS.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof n3.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof r3.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof jS.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof r3.CryptoECKey||this.cryptoKey instanceof n3.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{const s=o.getTag();n.getTag()===void 0?n.setTag(s):n=new x6.DataItem(n,s)}),n}}};yl.CryptoOutput=Yf;Yf.fromDataItem=e=>{const t=[];let r=e;for(;;){let o=r.getTag();const s=Zb.ScriptExpression.fromTag(o);if(s)if(t.push(s),r.getData()instanceof x6.DataItem)r=r.getData(),o=r.getTag();else break;else break}const n=t.length;if(n>0&&(t[n-1].getExpression()===Zb.ScriptExpressions.MULTISIG.getExpression()||t[n-1].getExpression()===Zb.ScriptExpressions.SORTED_MULTISIG.getExpression())){const o=jS.MultiKey.fromDataItem(r);return new Yf(t,o)}if(r.getTag()===KS.RegistryTypes.CRYPTO_HDKEY.getTag()){const o=n3.CryptoHDKey.fromDataItem(r);return new Yf(t,o)}else{const o=r3.CryptoECKey.fromDataItem(r);return new Yf(t,o)}};Yf.fromCBOR=e=>{const t=x6.decodeToDataItem(e);return Yf.fromDataItem(t)};var gl={};Object.defineProperty(gl,"__esModule",{value:!0});gl.CryptoPSBT=void 0;const HS=Dr,xk=Mr,Sk=Ht;let ml=class extends xk.RegistryItem{constructor(t){super(),this.psbt=t,this.getRegistryType=()=>Sk.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new HS.DataItem(this.psbt)}};gl.CryptoPSBT=ml;ml.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new ml(t)};ml.fromCBOR=e=>{const t=HS.decodeToDataItem(e);return ml.fromDataItem(t)};var r0={},Z4;function Q4(){if(Z4)return r0;Z4=1,Object.defineProperty(r0,"__esModule",{value:!0}),r0.CryptoAccount=void 0;const e=S6(),t=Dr,r=Mr,n=Ht;var i;(function(s){s[s.masterFingerprint=1]="masterFingerprint",s[s.outputDescriptors=2]="outputDescriptors"})(i||(i={}));class o extends r.RegistryItem{constructor(f,d){super(),this.masterFingerprint=f,this.outputDescriptors=d,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const a={};return this.masterFingerprint&&(a[i.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(a[i.outputDescriptors]=this.outputDescriptors.map(c=>c.toDataItem())),new t.DataItem(a)}}}return r0.CryptoAccount=o,o.fromDataItem=s=>{const f=s.getData(),d=Buffer.alloc(4),a=f[i.masterFingerprint];a&&d.writeUInt32BE(a,0);const p=f[i.outputDescriptors].map(h=>e.CryptoOutput.fromDataItem(h));return new o(d,p)},o.fromCBOR=s=>{const f=t.decodeToDataItem(s);return o.fromDataItem(f)},r0}var n0={},Jh={};Object.defineProperty(Jh,"__esModule",{value:!0});Jh.UnknownURTypeError=void 0;let Bk=class extends Error{constructor(t){super(t)}};Jh.UnknownURTypeError=Bk;var e8;function t8(){if(e8)return n0;e8=1,Object.defineProperty(n0,"__esModule",{value:!0}),n0.URRegistryDecoder=void 0;const e=Tt,t=S6(),r=Ht,n=Jh;class i extends e.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const s=this.resultUR();switch(s.type){case r.RegistryTypes.BYTES.getType():return t.Bytes.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_HDKEY.getType():return t.CryptoHDKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_KEYPATH.getType():return t.CryptoKeypath.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_COIN_INFO.getType():return t.CryptoCoinInfo.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ECKEY.getType():return t.CryptoECKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_OUTPUT.getType():return t.CryptoOutput.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_PSBT.getType():return t.CryptoPSBT.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ACCOUNT.getType():return t.CryptoAccount.fromCBOR(s.cbor);default:throw new n.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${s.type} is not supported now`)}}}}return n0.URRegistryDecoder=i,n0}var bl={};Object.defineProperty(bl,"__esModule",{value:!0});bl.CryptoMultiAccounts=void 0;const Ck=Ht,Dk=bf,Rk=Mr,qS=Dr;var Ha;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device"})(Ha||(Ha={}));let vl=class extends Rk.RegistryItem{constructor(t,r,n){super(),this.masterFingerprint=t,this.keys=r,this.device=n,this.getRegistryType=()=>Ck.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{const i={};return this.masterFingerprint&&(i[Ha.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[Ha.keys]=this.keys.map(o=>{const s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s})),this.device&&(i[Ha.device]=this.device),new qS.DataItem(i)}}};bl.CryptoMultiAccounts=vl;vl.fromDataItem=e=>{const t=e.getData(),r=Buffer.alloc(4),n=t[Ha.masterFingerprint];n&&r.writeUInt32BE(n,0);const o=t[Ha.keys].map(f=>Dk.CryptoHDKey.fromDataItem(f)),s=t[Ha.device];return new vl(r,o,s)};vl.fromCBOR=e=>{const t=qS.decodeToDataItem(e);return vl.fromDataItem(t)};var Qb={},e2={},r8;function VS(){return r8||(r8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyDerivation=e.DerivationAlgorithm=e.Curve=void 0;const t=Ht,r=Mr,n=Dr,i=gu;var o;(function(a){a[a.keyPaths=1]="keyPaths",a[a.curve=2]="curve",a[a.algo=3]="algo",a[a.origin=4]="origin"})(o||(o={}));var s;(function(a){a.secp256k1="secp256k1",a.ed25519="ed25519"})(s=e.Curve||(e.Curve={}));var f;(function(a){a.slip10="slip10",a.bip32ed25519="bip32ed25519"})(f=e.DerivationAlgorithm||(e.DerivationAlgorithm={}));class d extends r.RegistryItem{constructor(c,p=s.secp256k1,h=f.slip10,y){super(),this.keypaths=c,this.curve=p,this.algo=h,this.origin=y,this.getRegistryType=()=>t.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const g={};return g[o.keyPaths]=this.keypaths.map(v=>{const T=v.toDataItem();return T.setTag(v.getRegistryType().getTag()),T}),g[o.curve]=this.curve,g[o.algo]=this.algo,this.origin&&(g[o.origin]=this.origin),new n.DataItem(g)}}}e.KeyDerivation=d,d.fromDataItem=a=>{const c=a.getData(),p=c[o.keyPaths].map(v=>i.CryptoKeypath.fromDataItem(v)),h=c[o.curve],y=c[o.algo],g=c[o.origin];return new d(p,h,y,g)},d.fromCBOR=a=>{const c=n.decodeToDataItem(a);return d.fromDataItem(c)}}(e2)),e2}var n8;function Ok(){return n8||(n8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QRHardwareCall=e.QRHardwareCallName=void 0;const t=Ht,r=Mr,n=Dr,i=VS();var o;(function(d){d[d.name=1]="name",d[d.params=2]="params"})(o||(o={}));var s;(function(d){d.KeyDerivation="key-derivation"})(s=e.QRHardwareCallName||(e.QRHardwareCallName={}));class f extends r.RegistryItem{constructor(a,c){super(),this.name=a,this.params=c,this.getRegistryType=()=>t.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{const p={};p[o.name]=this.name;const h=this.params.toDataItem();return h.setTag(this.params.getRegistryType().getTag()),p[o.params]=h,new n.DataItem(p)}}}e.QRHardwareCall=f,f.fromDataItem=d=>{const a=d.getData(),c=a[o.name]||s.KeyDerivation;let p;switch(c){case s.KeyDerivation:p=i.KeyDerivation.fromDataItem(a[o.params])}return new f(c,p)},f.fromCBOR=d=>{const a=n.decodeToDataItem(d);return f.fromDataItem(a)}}(Qb)),Qb}var t2={},i8;function Ak(){return i8||(i8=1,Object.defineProperty(t2,"__esModule",{value:!0})),t2}var o8;function S6(){return o8||(o8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=e.extend=e.PathComponent=e.ScriptExpressions=e.MultiKey=e.CryptoPSBT=e.CryptoOutput=e.CryptoECKey=e.CryptoCoinInfoNetwork=e.CryptoCoinInfoType=e.CryptoCoinInfo=e.CryptoKeypath=e.CryptoMultiAccounts=e.CryptoHDKey=e.CryptoAccount=e.Bytes=e.URRegistryDecoder=e.DataItem=void 0;const t=Bf,r=ze;Object.defineProperty(e,"Buffer",{enumerable:!0,get:function(){return r.Buffer}});const n=bf;Object.defineProperty(e,"CryptoHDKey",{enumerable:!0,get:function(){return n.CryptoHDKey}});const i=gu;Object.defineProperty(e,"CryptoKeypath",{enumerable:!0,get:function(){return i.CryptoKeypath}});const o=Qy;Object.defineProperty(e,"CryptoCoinInfo",{enumerable:!0,get:function(){return o.CryptoCoinInfo}}),Object.defineProperty(e,"CryptoCoinInfoType",{enumerable:!0,get:function(){return o.Type}}),Object.defineProperty(e,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return o.Network}});const s=mu;Object.defineProperty(e,"CryptoECKey",{enumerable:!0,get:function(){return s.CryptoECKey}});const f=c1;Object.defineProperty(e,"Bytes",{enumerable:!0,get:function(){return f.Bytes}});const d=yl;Object.defineProperty(e,"CryptoOutput",{enumerable:!0,get:function(){return d.CryptoOutput}});const a=gl;Object.defineProperty(e,"CryptoPSBT",{enumerable:!0,get:function(){return a.CryptoPSBT}});const c=Q4();Object.defineProperty(e,"CryptoAccount",{enumerable:!0,get:function(){return c.CryptoAccount}});const p=t8();Object.defineProperty(e,"URRegistryDecoder",{enumerable:!0,get:function(){return p.URRegistryDecoder}});const h=Oc;Object.defineProperty(e,"MultiKey",{enumerable:!0,get:function(){return h.MultiKey}});const y=u1;Object.defineProperty(e,"ScriptExpressions",{enumerable:!0,get:function(){return y.ScriptExpressions}});const g=Rc;Object.defineProperty(e,"PathComponent",{enumerable:!0,get:function(){return g.PathComponent}});const v=Mr,T=Ht,I=Dr;var _=Dr;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return _.DataItem}});const C=Dc,w=bl;Object.defineProperty(e,"CryptoMultiAccounts",{enumerable:!0,get:function(){return w.CryptoMultiAccounts}});const P={URRegistryDecoder:p.URRegistryDecoder,Bytes:f.Bytes,CryptoAccount:c.CryptoAccount,CryptoHDKey:n.CryptoHDKey,CryptoMultiAccounts:w.CryptoMultiAccounts,CryptoKeypath:i.CryptoKeypath,CryptoCoinInfo:o.CryptoCoinInfo,CryptoCoinInfoType:o.Type,CryptoCoinInfoNetwork:o.Network,CryptoECKey:s.CryptoECKey,CryptoOutput:d.CryptoOutput,CryptoPSBT:a.CryptoPSBT,MultiKey:h.MultiKey,ScriptExpressions:y.ScriptExpressions,PathComponent:g.PathComponent},D={addReader:I.addReader,addSemanticDecode:I.addSemanticDecode,addSemanticEncode:I.addSemanticEncode,addWriter:I.addWriter,patchTags:C.patchTags},u={RegistryTypes:T.RegistryTypes,RegistryItem:v.RegistryItem,RegistryType:T.RegistryType,decodeToDataItem:I.decodeToDataItem,encodeDataItem:I.encodeDataItem,cbor:D};e.extend=u,t.__exportStar(Jh,e),t.__exportStar(t8(),e),t.__exportStar(Dr,e),t.__exportStar(Q4(),e),t.__exportStar(gl,e),t.__exportStar(bf,e),t.__exportStar(bl,e),t.__exportStar(Ok(),e),t.__exportStar(VS(),e),t.__exportStar(yl,e),t.__exportStar(Qy,e),t.__exportStar(mu,e),t.__exportStar(Oc,e),t.__exportStar(gu,e),t.__exportStar(PS,e),t.__exportStar(Rc,e),t.__exportStar(Mr,e),t.__exportStar(Ht,e),t.__exportStar(Ak(),e),t.__exportStar(Dc,e),e.default=P}(Wb)),Wb}var Vp,Pk=new Uint8Array(16);function zS(){if(!Vp&&(Vp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Vp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vp(Pk)}const Nk=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function d1(e){return typeof e=="string"&&Nk.test(e)}var vr=[];for(var r2=0;r2<256;++r2)vr.push((r2+256).toString(16).substr(1));function l1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(vr[e[t+0]]+vr[e[t+1]]+vr[e[t+2]]+vr[e[t+3]]+"-"+vr[e[t+4]]+vr[e[t+5]]+"-"+vr[e[t+6]]+vr[e[t+7]]+"-"+vr[e[t+8]]+vr[e[t+9]]+"-"+vr[e[t+10]]+vr[e[t+11]]+vr[e[t+12]]+vr[e[t+13]]+vr[e[t+14]]+vr[e[t+15]]).toLowerCase();if(!d1(r))throw TypeError("Stringified UUID is invalid");return r}var s8,n2,i2=0,o2=0;function Mk(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var o=e.node||s8,s=e.clockseq!==void 0?e.clockseq:n2;if(o==null||s==null){var f=e.random||(e.rng||zS)();o==null&&(o=s8=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=n2=(f[6]<<8|f[7])&16383)}var d=e.msecs!==void 0?e.msecs:Date.now(),a=e.nsecs!==void 0?e.nsecs:o2+1,c=d-i2+(a-o2)/1e4;if(c<0&&e.clockseq===void 0&&(s=s+1&16383),(c<0||d>i2)&&e.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i2=d,o2=a,n2=s,d+=122192928e5;var p=((d&268435455)*1e4+a)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var h=d/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=h&255,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var y=0;y<6;++y)i[n+y]=o[y];return t||l1(i)}function YS(e){if(!d1(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function Uk(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var kk="6ba7b810-9dad-11d1-80b4-00c04fd430c8",$k="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function GS(e,t,r){function n(i,o,s,f){if(typeof i=="string"&&(i=Uk(i)),typeof o=="string"&&(o=YS(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+i.length);if(d.set(o),d.set(i,o.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,s){f=f||0;for(var a=0;a<16;++a)s[f+a]=d[a];return s}return l1(d)}try{n.name=e}catch{}return n.DNS=kk,n.URL=$k,n}function Fk(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return Lk(jk(Kk(e),e.length*8))}function Lk(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(s)}return t}function JS(e){return(e+64>>>9<<4)+14+1}function jk(e,t){e[t>>5]|=128<<t%32,e[JS(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var f=r,d=n,a=i,c=o;r=Xr(r,n,i,o,e[s],7,-680876936),o=Xr(o,r,n,i,e[s+1],12,-389564586),i=Xr(i,o,r,n,e[s+2],17,606105819),n=Xr(n,i,o,r,e[s+3],22,-1044525330),r=Xr(r,n,i,o,e[s+4],7,-176418897),o=Xr(o,r,n,i,e[s+5],12,1200080426),i=Xr(i,o,r,n,e[s+6],17,-1473231341),n=Xr(n,i,o,r,e[s+7],22,-45705983),r=Xr(r,n,i,o,e[s+8],7,1770035416),o=Xr(o,r,n,i,e[s+9],12,-1958414417),i=Xr(i,o,r,n,e[s+10],17,-42063),n=Xr(n,i,o,r,e[s+11],22,-1990404162),r=Xr(r,n,i,o,e[s+12],7,1804603682),o=Xr(o,r,n,i,e[s+13],12,-40341101),i=Xr(i,o,r,n,e[s+14],17,-1502002290),n=Xr(n,i,o,r,e[s+15],22,1236535329),r=Zr(r,n,i,o,e[s+1],5,-165796510),o=Zr(o,r,n,i,e[s+6],9,-1069501632),i=Zr(i,o,r,n,e[s+11],14,643717713),n=Zr(n,i,o,r,e[s],20,-373897302),r=Zr(r,n,i,o,e[s+5],5,-701558691),o=Zr(o,r,n,i,e[s+10],9,38016083),i=Zr(i,o,r,n,e[s+15],14,-660478335),n=Zr(n,i,o,r,e[s+4],20,-405537848),r=Zr(r,n,i,o,e[s+9],5,568446438),o=Zr(o,r,n,i,e[s+14],9,-1019803690),i=Zr(i,o,r,n,e[s+3],14,-187363961),n=Zr(n,i,o,r,e[s+8],20,1163531501),r=Zr(r,n,i,o,e[s+13],5,-1444681467),o=Zr(o,r,n,i,e[s+2],9,-51403784),i=Zr(i,o,r,n,e[s+7],14,1735328473),n=Zr(n,i,o,r,e[s+12],20,-1926607734),r=Qr(r,n,i,o,e[s+5],4,-378558),o=Qr(o,r,n,i,e[s+8],11,-2022574463),i=Qr(i,o,r,n,e[s+11],16,1839030562),n=Qr(n,i,o,r,e[s+14],23,-35309556),r=Qr(r,n,i,o,e[s+1],4,-1530992060),o=Qr(o,r,n,i,e[s+4],11,1272893353),i=Qr(i,o,r,n,e[s+7],16,-155497632),n=Qr(n,i,o,r,e[s+10],23,-1094730640),r=Qr(r,n,i,o,e[s+13],4,681279174),o=Qr(o,r,n,i,e[s],11,-358537222),i=Qr(i,o,r,n,e[s+3],16,-722521979),n=Qr(n,i,o,r,e[s+6],23,76029189),r=Qr(r,n,i,o,e[s+9],4,-640364487),o=Qr(o,r,n,i,e[s+12],11,-421815835),i=Qr(i,o,r,n,e[s+15],16,530742520),n=Qr(n,i,o,r,e[s+2],23,-995338651),r=en(r,n,i,o,e[s],6,-198630844),o=en(o,r,n,i,e[s+7],10,1126891415),i=en(i,o,r,n,e[s+14],15,-1416354905),n=en(n,i,o,r,e[s+5],21,-57434055),r=en(r,n,i,o,e[s+12],6,1700485571),o=en(o,r,n,i,e[s+3],10,-1894986606),i=en(i,o,r,n,e[s+10],15,-1051523),n=en(n,i,o,r,e[s+1],21,-2054922799),r=en(r,n,i,o,e[s+8],6,1873313359),o=en(o,r,n,i,e[s+15],10,-30611744),i=en(i,o,r,n,e[s+6],15,-1560198380),n=en(n,i,o,r,e[s+13],21,1309151649),r=en(r,n,i,o,e[s+4],6,-145523070),o=en(o,r,n,i,e[s+11],10,-1120210379),i=en(i,o,r,n,e[s+2],15,718787259),n=en(n,i,o,r,e[s+9],21,-343485551),r=Da(r,f),n=Da(n,d),i=Da(i,a),o=Da(o,c)}return[r,n,i,o]}function Kk(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(JS(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function Da(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function Hk(e,t){return e<<t|e>>>32-t}function h1(e,t,r,n,i,o){return Da(Hk(Da(Da(t,e),Da(n,o)),i),r)}function Xr(e,t,r,n,i,o,s){return h1(t&r|~t&n,e,t,i,o,s)}function Zr(e,t,r,n,i,o,s){return h1(t&n|r&~n,e,t,i,o,s)}function Qr(e,t,r,n,i,o,s){return h1(t^r^n,e,t,i,o,s)}function en(e,t,r,n,i,o,s){return h1(r^(t|~n),e,t,i,o,s)}var qk=GS("v3",48,Fk);const Vk=qk;function zk(e,t,r){e=e||{};var n=e.random||(e.rng||zS)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return l1(n)}function Yk(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function s2(e,t){return e<<t|e>>>32-t}function Gk(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),f=new Array(s),d=0;d<s;++d){for(var a=new Uint32Array(16),c=0;c<16;++c)a[c]=e[d*64+c*4]<<24|e[d*64+c*4+1]<<16|e[d*64+c*4+2]<<8|e[d*64+c*4+3];f[d]=a}f[s-1][14]=(e.length-1)*8/Math.pow(2,32),f[s-1][14]=Math.floor(f[s-1][14]),f[s-1][15]=(e.length-1)*8&4294967295;for(var p=0;p<s;++p){for(var h=new Uint32Array(80),y=0;y<16;++y)h[y]=f[p][y];for(var g=16;g<80;++g)h[g]=s2(h[g-3]^h[g-8]^h[g-14]^h[g-16],1);for(var v=r[0],T=r[1],I=r[2],_=r[3],C=r[4],w=0;w<80;++w){var P=Math.floor(w/20),D=s2(v,5)+Yk(P,T,I,_)+C+t[P]+h[w]>>>0;C=_,_=I,I=s2(T,30)>>>0,T=v,v=D}r[0]=r[0]+v>>>0,r[1]=r[1]+T>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+_>>>0,r[4]=r[4]+C>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var Jk=GS("v5",80,Gk);const Wk=Jk,Xk="00000000-0000-0000-0000-000000000000";function Zk(e){if(!d1(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const Qk=Object.freeze(Object.defineProperty({__proto__:null,NIL:Xk,parse:YS,stringify:l1,v1:Mk,v3:Vk,v4:zk,v5:Wk,validate:d1,version:Zk},Symbol.toStringTag,{value:"Module"})),e$=hi(Qk);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=S6(),r=e$;const n={BTC_SIGN_REQUEST:new t.RegistryType("btc-sign-request",8101),BTC_SIGNATURE:new t.RegistryType("btc-signature",8102)},{decodeToDataItem:i,RegistryTypes:o}=t.extend;var s,f;(s=e.DataType||(e.DataType={}))[s.message=1]="message",function(y){y[y.requestId=1]="requestId",y[y.signData=2]="signData",y[y.dataType=3]="dataType",y[y.derivationPaths=4]="derivationPaths",y[y.addresses=5]="addresses",y[y.origin=6]="origin"}(f||(f={}));class d extends t.RegistryItem{constructor(g){super(),this.getRegistryType=()=>n.BTC_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataype=()=>this.dataType,this.getDerivationPaths=()=>this.derivationPaths.map(v=>v.getPath()),this.getAddress=()=>this.addresses,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};return v[f.requestId]=new t.DataItem(this.requestId,o.UUID.getTag()),v[f.signData]=this.signData,v[f.dataType]=this.dataType,v[f.derivationPaths]=this.derivationPaths.map(T=>{const I=T.toDataItem();return I.setTag(T.getRegistryType().getTag()),I}),this.addresses&&(v[f.addresses]=this.addresses),this.origin&&(v[f.origin]=this.origin),new t.DataItem(v)},this.requestId=g.requestId,this.signData=g.signData,this.dataType=g.dataType,this.derivationPaths=g.derivationPaths,this.addresses=g.addresses,this.origin=g.origin}static constructBtcRequest(g,v,T,I,_,C,w){const P=_.map((D,u)=>{const l=D.replace(/[m|M]\//,"").split("/").map(m=>{const R=parseInt(m.replace("'",""));let B=!1;return m.endsWith("'")&&(B=!0),new t.PathComponent({index:R,hardened:B})});return new t.CryptoKeypath(l,Buffer.from(v[u],"hex"))});return new d({requestId:Buffer.from(r.parse(g)),signData:T,dataType:I||e.DataType.message,derivationPaths:P,addresses:C||void 0,origin:w||void 0})}}d.fromDataItem=y=>{const g=y.getData(),v=g[f.requestId]?g[f.requestId].getData():void 0,T=g[f.signData],I=g[f.dataType],_=g[f.derivationPaths].map(C=>t.CryptoKeypath.fromDataItem(C));return new d({requestId:v,signData:T,dataType:I,derivationPaths:_,addresses:g[f.addresses]?g[f.addresses]:void 0,origin:g[f.origin]?g[f.origin]:void 0})},d.fromCBOR=y=>{const g=i(y);return d.fromDataItem(g)};const{RegistryTypes:a,decodeToDataItem:c}=t.extend;var p;(function(y){y[y.requestId=1]="requestId",y[y.signature=2]="signature",y[y.publicKey=3]="publicKey"})(p||(p={}));class h extends t.RegistryItem{constructor(g,v,T){super(),this.getRegistryType=()=>n.BTC_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getPublicKey=()=>this.publicKey,this.toDataItem=()=>{const I={};return I[p.requestId]=new t.DataItem(this.requestId,a.UUID.getTag()),I[p.signature]=this.signature,I[p.publicKey]=this.publicKey,new t.DataItem(I)},this.signature=g,this.requestId=v,this.publicKey=T}}h.fromDataItem=y=>{const g=y.getData(),v=g[p.signature],T=g[p.requestId].getData();return new h(v,T,g[p.publicKey])},h.fromCBOR=y=>{const g=c(y);return h.fromDataItem(g)},t.patchTags(Object.values(n).filter(y=>!!y.getTag()).map(y=>y.getTag())),Object.keys(t).forEach(function(y){y!=="default"&&Object.defineProperty(e,y,{enumerable:!0,get:function(){return t[y]}})}),e.BtcSignRequest=d,e.BtcSignature=h})(AS);OS.exports=AS;var t$=OS.exports,qn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.URType=e.UR=void 0;var t=Tt;Object.defineProperty(e,"UR",{enumerable:!0,get:function(){return t.UR}}),function(r){r.CryptoPSBT="crypto-psbt",r.CryptoMultiAccounts="crypto-multi-accounts",r.CryptoHDKey="crypto-hdkey",r.CryptoAccount="crypto-account",r.BtcSignature="btc-signature",r.ArweaveCryptoAccount="arweave-crypto-account",r.EthSignature="eth-signature",r.SolSignature="sol-signature",r.CosmosSignature="cosmos-signature",r.EvmSignature="evm-signature",r.AptosSignature="aptos-signature",r.CardanoSignature="cardano-signature",r.TronSignature="keystone-sign-result",r.KeystoneSignResult="keystone-sign-result",r.NearSignature="near-signature",r.ArweaveSignature="arweave-signature",r.SuiSignature="sui-signature",r.XrpAccount="bytes",r.XrpSignRequest="bytes",r.XrpSignature="bytes",r.TonSignature="ton-signature"}(e.URType||(e.URType={}))})(qn);Object.defineProperty(f1,"__esModule",{value:!0});f1.KeystoneBitcoinSDK=void 0;const a8=Df(),B0=t$,la=ir,f8=qn;class WS{constructor(t){this.config=t}parsePSBT(t){if(t.type!==f8.URType.CryptoPSBT)throw new Error("type not match");return(0,la.toHex)(a8.CryptoPSBT.fromCBOR(t.cbor).getPSBT())}generatePSBT(t){return new a8.CryptoPSBT(t).toUR()}generateSignRequest({requestId:t,signData:r,dataType:n,accounts:i,origin:o}){var s;const f=[],d=[];return i.forEach(a=>{var c;f.push(new B0.CryptoKeypath((0,la.parsePath)(a.path).map(p=>new B0.PathComponent(p)),(0,la.toBuffer)(a.xfp))),d.push((c=a.address)!==null&&c!==void 0?c:"")}),new B0.BtcSignRequest({signData:(0,la.toBuffer)(r),dataType:n,derivationPaths:f,requestId:(0,la.uuidParse)(t),addresses:d,origin:o??((s=this.config)===null||s===void 0?void 0:s.origin)}).toUR()}parseSignature(t){if(t.type!==f8.URType.BtcSignature)throw new Error("type not match");const r=B0.BtcSignature.fromCBOR(t.cbor);return{requestId:(0,la.uuidStringify)(r.getRequestId()),signature:(0,la.toHex)(r.getSignature()),publicKey:(0,la.toHex)(r.getPublicKey())}}}WS.DataType=B0.DataType;f1.KeystoneBitcoinSDK=WS;var p1={},XS={exports:{}},ZS={},a2={},QS={},Pc={},Fn={},e9={exports:{}},Id={};Object.defineProperty(Id,"__esModule",{value:!0});Id.DataItem=void 0;let r$=class{constructor(t,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=t,this.tag=r}};Id.DataItem=r$;(function(e){(function(t,r){e.exports?e.exports=r():t.CBOR=r()})(Be,function(){const{DataItem:t}=Id;var r=function(){function n(u){this.$hex=u}n.prototype={length:function(){return this.$hex.length/2},toString:function(u){if(!u||u==="hex"||u===16)return this.$hex;if(u==="utf-8"){for(var l="",m=0;m<this.$hex.length;m+=2)l+="%"+this.$hex.substring(m,m+2);return decodeURIComponent(l)}if(u==="latin"){for(var l=[],m=0;m<this.$hex.length;m+=2)l.push(parseInt(this.$hex.substring(m,m+2),16));return String.fromCharCode.apply(String,l)}throw new Error("Unrecognised format: "+u)}},n.fromLatinString=function(u){for(var l="",m=0;m<u.length;m++){var R=u.charCodeAt(m).toString(16);R.length===1&&(R="0"+R),l+=R}return new n(l)},n.fromUtf8String=function(u){for(var l=encodeURIComponent(u),m="",R=0;R<l.length;R++)if(l.charAt(R)==="%")m+=l.substring(R+1,R+3),R+=2;else{var B=l.charCodeAt(R).toString(16);B.length<2&&(B="0"+B),m+=B}return new n(m)};var i=[],o={},s=function(u){return function(){throw new Error(u+" not implemented")}};function f(){}f.prototype={peekByte:s("peekByte"),readByte:s("readByte"),readChunk:s("readChunk"),readFloat16:function(){var u=this.readUint16(),l=(u&32767)>>10,m=u&1023,R=u&32768;if(l===31)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-25)*(1024+m):Math.pow(2,-24)*m;return R?-B:B},readFloat32:function(){var u=this.readUint32(),l=(u&2147483647)>>23,m=u&8388607,R=u&2147483648;if(l===255)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-23-127)*(8388608+m):Math.pow(2,-149)*m;return R?-B:B},readFloat64:function(){var u=this.readUint32(),l=this.readUint32(),m=u>>20&2047,R=(u&1048575)*4294967296+l,B=u&2147483648;if(m===2047)return R===0?B?-1/0:1/0:NaN;var b=m?Math.pow(2,m-52-1023)*(4503599627370496+R):Math.pow(2,-1074)*R;return B?-b:b},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function d(){}d.prototype={writeByte:s("writeByte"),result:s("result"),writeFloat16:s("writeFloat16"),writeFloat32:s("writeFloat32"),writeFloat64:s("writeFloat64"),writeUint16:function(u){this.writeByte(u>>8&255),this.writeByte(u&255)},writeUint32:function(u){this.writeUint16(u>>16&65535),this.writeUint16(u&65535)},writeUint64:function(u){if(u>=9007199254740992||u<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+u+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(u/4294967296)),this.writeUint32(u%4294967296)},writeString:s("writeString"),canWriteBinary:function(u){return!1},writeBinary:s("writeChunk")};function a(u){var l=u.readByte(),m=l>>5,R=l&31;return{type:m,value:R}}function c(u,l){var m=u.value;if(m<24)return m;if(m==24)return l.readByte();if(m==25)return l.readUint16();if(m==26)return l.readUint32();if(m==27)return l.readUint64();if(m==31)return null;s("Additional info: "+m)()}function p(u,l,m){m.writeByte(u<<5|l)}function h(u,l,m){var R=u<<5;l<24?m.writeByte(R|l):l<256?(m.writeByte(R|24),m.writeByte(l)):l<65536?(m.writeByte(R|25),m.writeUint16(l)):l<4294967296?(m.writeByte(R|26),m.writeUint32(l)):(m.writeByte(R|27),m.writeUint64(l))}var y=new Error;function g(u){var l=a(u);switch(l.type){case 0:return c(l,u);case 1:return-1-c(l,u);case 2:return u.readChunk(c(l,u));case 3:var m=u.readChunk(c(l,u));return m.toString("utf-8");case 4:case 5:var R=c(l,u),$=[];if(R!==null){l.type===5&&(R*=2);for(var B=0;B<R;B++)$[B]=g(u)}else for(var b;(b=g(u))!==y;)$.push(b);if(l.type===5){for(var E={},B=0;B<$.length;B+=2)E[$[B]]=$[B+1];return E}else return $;case 6:var k=c(l,u),L=o[k],$=g(u);return L?L($):$;case 7:if(l.value===25)return u.readFloat16();if(l.value===26)return u.readFloat32();if(l.value===27)return u.readFloat64();switch(c(l,u)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return y;default:throw new Error("Unknown fixed value: "+l.value)}default:throw new Error("Unsupported header: "+JSON.stringify(l))}throw new Error("not implemented yet")}function v(u,l){for(var m=0;m<i.length;m++){var R=i[m].fn(u);if(R!==void 0)return h(6,i[m].tag,l),v(R,l)}if(u&&typeof u.toCBOR=="function"&&(u=u.toCBOR()),u===!1)h(7,20,l);else if(u===!0)h(7,21,l);else if(u===null)h(7,22,l);else if(u===void 0)h(7,23,l);else if(typeof u=="number")Math.floor(u)===u&&u<9007199254740992&&u>-9007199254740992?u<0?h(1,-1-u,l):h(0,u,l):(p(7,27,l),l.writeFloat64(u));else if(typeof u=="string")l.writeString(u,function(b){h(3,b,l)});else if(l.canWriteBinary(u))l.writeBinary(u,function(b){h(2,b,l)});else if(typeof u=="object")if(_.config.useToJSON&&typeof u.toJSON=="function"&&(u=u.toJSON()),Array.isArray(u)){h(4,u.length,l);for(var m=0;m<u.length;m++)v(u[m],l)}else{var B=Object.keys(u);h(5,B.length,l);for(var m=0;m<B.length;m++){const E=parseInt(B[m]);isNaN(E)?(v(B[m],l),v(u[B[m]],l)):(v(E,l),v(u[B[m]],l))}}else throw new Error("CBOR encoding not supported: "+u)}var T=[],I=[],_={config:{useToJSON:!0},addWriter:function(u,l){typeof u=="string"?I.push(function(m){if(u===m)return l(m)}):I.push(u)},addReader:function(u,l){typeof u=="string"?T.push(function(m,R){if(u===R)return l(m,R)}):T.push(u)},encode:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return v(u,B),B.result()}throw new Error("Unsupported output format: "+l)},encodeDataItem:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return u.getTag()!==void 0?(v(u,B),B.result()):(v(u.getData(),B),B.result())}throw new Error("Unsupported output format: "+l)},decode:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B)return g(B)}throw new Error("Unsupported input format: "+l)},decodeToDataItem:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B){const b=g(B);return b instanceof t?b:new t(b)}}throw new Error("Unsupported input format: "+l)},addSemanticEncode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return i.push({tag:u,fn:l}),this},addSemanticDecode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return o[u]=l,this}};function C(u){this.buffer=u,this.pos=0}C.prototype=Object.create(f.prototype),C.prototype.peekByte=function(){return this.buffer[this.pos]},C.prototype.readByte=function(){return this.buffer[this.pos++]},C.prototype.readUint16=function(){var u=this.buffer.readUInt16BE(this.pos);return this.pos+=2,u},C.prototype.readUint32=function(){var u=this.buffer.readUInt32BE(this.pos);return this.pos+=4,u},C.prototype.readFloat32=function(){var u=this.buffer.readFloatBE(this.pos);return this.pos+=4,u},C.prototype.readFloat64=function(){var u=this.buffer.readDoubleBE(this.pos);return this.pos+=8,u},C.prototype.readChunk=function(u){var l=Buffer.alloc(u);return this.buffer.copy(l,0,this.pos,this.pos+=u),l};function w(u){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=u}w.prototype=Object.create(d.prototype),w.prototype.writeByte=function(u){this.latestBuffer[this.latestBufferOffset++]=u,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},w.prototype.writeFloat32=function(u){var l=Buffer.alloc(4);l.writeFloatBE(u,0),this.writeBuffer(l)},w.prototype.writeFloat64=function(u){var l=Buffer.alloc(8);l.writeDoubleBE(u,0),this.writeBuffer(l)},w.prototype.writeString=function(u,l){var m=Buffer.from(u,"utf-8");l(m.length),this.writeBuffer(m)},w.prototype.canWriteBinary=function(u){return u instanceof Buffer},w.prototype.writeBinary=function(u,l){l(u.length),this.writeBuffer(u)},w.prototype.writeBuffer=function(u){if(!(u instanceof Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=u.length?(u.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=u.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(u),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(u),this.byteLength+=u.length},w.prototype.result=function(){for(var u=Buffer.alloc(this.byteLength),l=0,m=0;m<this.completeBuffers.length;m++){var R=this.completeBuffers[m];R.copy(u,l,0,R.length),l+=R.length}return this.latestBufferOffset&&this.latestBuffer.copy(u,l,0,this.latestBufferOffset),this.stringFormat?u.toString(this.stringFormat):u},typeof Buffer=="function"&&(_.addReader(function(u,l){if(Buffer.isBuffer(u))return new C(u);if(l==="hex"||l==="base64"){var m=Buffer.from(u,l);return new C(m)}}),_.addWriter(function(u){if(!u||u==="buffer")return new w;if(u==="hex"||u==="base64")return new w(u)}));function P(u){this.hex=u,this.pos=0}P.prototype=Object.create(f.prototype),P.prototype.peekByte=function(){var u=this.hex.substring(this.pos,2);return parseInt(u,16)},P.prototype.readByte=function(){var u=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(u,16)},P.prototype.readChunk=function(u){var l=this.hex.substring(this.pos,this.pos+u*2);return this.pos+=u*2,typeof Buffer=="function"?Buffer.from(l,"hex"):new n(l)};function D(u){this.$hex="",this.finalFormat=u||"hex"}return D.prototype=Object.create(d.prototype),D.prototype.writeByte=function(u){if(u<0||u>255)throw new Error("Byte value out of range: "+u);var l=u.toString(16);l.length==1&&(l="0"+l),this.$hex+=l},D.prototype.canWriteBinary=function(u){return u instanceof n||typeof Buffer=="function"&&u instanceof Buffer},D.prototype.writeBinary=function(u,l){if(u instanceof n)l(u.length()),this.$hex+=u.$hex;else if(typeof Buffer=="function"&&u instanceof Buffer)l(u.length),this.$hex+=u.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},D.prototype.result=function(){return this.finalFormat==="buffer"&&typeof Buffer=="function"?Buffer.from(this.$hex,"hex"):new n(this.$hex).toString(this.finalFormat)},D.prototype.writeString=function(u,l){var m=n.fromUtf8String(u);l(m.length()),this.$hex+=m.$hex},_.addReader(function(u,l){if(u instanceof n||u.$hex)return new P(u.$hex);if(l==="hex")return new P(u)}),_.addWriter(function(u){if(u==="hex")return new D}),_}();return r.addSemanticEncode(0,function(n){if(n instanceof Date)return n.toISOString()}).addSemanticDecode(0,function(n){return new Date(n)}).addSemanticDecode(1,function(n){return new Date(n)}),r})})(e9);var n$=e9.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DataItem=e.addWriter=e.addReader=e.addSemanticEncode=e.addSemanticDecode=e.decodeToDataItem=e.encodeDataItem=void 0;var t=n$;Object.defineProperty(e,"encodeDataItem",{enumerable:!0,get:function(){return t.encodeDataItem}}),Object.defineProperty(e,"decodeToDataItem",{enumerable:!0,get:function(){return t.decodeToDataItem}}),Object.defineProperty(e,"addSemanticDecode",{enumerable:!0,get:function(){return t.addSemanticDecode}}),Object.defineProperty(e,"addSemanticEncode",{enumerable:!0,get:function(){return t.addSemanticEncode}}),Object.defineProperty(e,"addReader",{enumerable:!0,get:function(){return t.addReader}}),Object.defineProperty(e,"addWriter",{enumerable:!0,get:function(){return t.addWriter}});var r=Id;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return r.DataItem}})})(Fn);Object.defineProperty(Pc,"__esModule",{value:!0});Pc.patchTags=void 0;const zp=Fn,u8=[],i$=e=>{e.forEach(t=>{u8.find(r=>r===t)||((0,zp.addSemanticEncode)(t,r=>{if(r instanceof zp.DataItem&&r.getTag()===t)return r.getData()}),(0,zp.addSemanticDecode)(t,r=>new zp.DataItem(r,t)),u8.push(t))})};Pc.patchTags=i$;var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.RegistryTypes=nr.RegistryType=void 0;let Ui=class{constructor(t,r){this.type=t,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}};nr.RegistryType=Ui;nr.RegistryTypes={UUID:new Ui("uuid",37),BYTES:new Ui("bytes",void 0),CRYPTO_HDKEY:new Ui("crypto-hdkey",303),CRYPTO_KEYPATH:new Ui("crypto-keypath",304),CRYPTO_COIN_INFO:new Ui("crypto-coin-info",305),CRYPTO_ECKEY:new Ui("crypto-eckey",306),CRYPTO_OUTPUT:new Ui("crypto-output",308),CRYPTO_PSBT:new Ui("crypto-psbt",310),CRYPTO_ACCOUNT:new Ui("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new Ui("crypto-multi-accounts",1103)};var y1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptExpressions=e.ScriptExpression=void 0;class t{constructor(n,i){this.tag=n,this.expression=i,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}e.ScriptExpression=t,t.fromTag=r=>Object.values(e.ScriptExpressions).find(i=>i.getTag()===r),e.ScriptExpressions={SCRIPT_HASH:new t(400,"sh"),WITNESS_SCRIPT_HASH:new t(401,"wsh"),PUBLIC_KEY:new t(402,"pk"),PUBLIC_KEY_HASH:new t(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new t(404,"wpkh"),COMBO:new t(405,"combo"),MULTISIG:new t(406,"multi"),SORTED_MULTISIG:new t(407,"sortedmulti"),ADDRESS:new t(307,"addr"),RAW_SCRIPT:new t(408,"raw")}})(y1);Object.defineProperty(QS,"__esModule",{value:!0});const o$=Pc,s$=nr,a$=y1,f$=Object.values(s$.RegistryTypes).filter(e=>!!e.getTag()).map(e=>e.getTag()),u$=Object.values(a$.ScriptExpressions).map(e=>e.getTag());(0,o$.patchTags)(f$.concat(u$));var vf={},eg={},Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.RegistryItem=void 0;const c8=Tt,c$=Fn;let d$=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,c$.encodeDataItem)(this.toDataItem())},this.toUR=()=>new c8.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(t,r,n)=>{const i=this.toUR();return new c8.UREncoder(i,t,r,n)}}};Kn.RegistryItem=d$;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CryptoCoinInfo=e.Network=e.Type=void 0;const t=Fn,r=Kn,n=nr;var i;(function(d){d.type="1",d.network="2"})(i||(i={}));var o;(function(d){d[d.bitcoin=0]="bitcoin"})(o=e.Type||(e.Type={}));var s;(function(d){d[d.mainnet=0]="mainnet",d[d.testnet=1]="testnet"})(s=e.Network||(e.Network={}));class f extends r.RegistryItem{constructor(a,c){super(),this.type=a,this.network=c,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||o.bitcoin,this.getNetwork=()=>this.network||s.mainnet,this.toDataItem=()=>{const p={};return this.type&&(p[i.type]=this.type),this.network&&(p[i.network]=this.network),new t.DataItem(p)}}}e.CryptoCoinInfo=f,f.fromDataItem=d=>{const a=d.getData(),c=a[i.type],p=a[i.network];return new f(c,p)},f.fromCBOR=d=>{const a=(0,t.decodeToDataItem)(d);return f.fromDataItem(a)}})(eg);var Nc={},Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.PathComponent=void 0;let t9=class r9{constructor(t){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=t.index,this.hardened=t.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&r9.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};Mc.PathComponent=t9;t9.HARDENED_BIT=2147483648;Object.defineProperty(Nc,"__esModule",{value:!0});Nc.CryptoKeypath=void 0;const n9=Fn,d8=Mc,l$=Kn,h$=nr;var qa;(function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"})(qa||(qa={}));let _l=class extends l$.RegistryItem{constructor(t=[],r,n){super(),this.components=t,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>h$.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const i={},o=[];return this.components&&this.components.forEach(s=>{s.isWildcard()?o.push([]):o.push(s.getIndex()),o.push(s.isHardened())}),i[qa.components]=o,this.sourceFingerprint&&(i[qa.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[qa.depth]=this.depth),new n9.DataItem(i)}}};Nc.CryptoKeypath=_l;_l.fromDataItem=e=>{const t=e.getData(),r=[],n=t[qa.components];if(n)for(let f=0;f<n.length;f+=2){const d=n[f+1],a=n[f];typeof a=="number"?r.push(new d8.PathComponent({index:a,hardened:d})):r.push(new d8.PathComponent({hardened:d}))}const i=t[qa.source_fingerprint];let o;i&&(o=Buffer.alloc(4),o.writeUInt32BE(i,0));const s=t[qa.depth];return new _l(r,o,s)};_l.fromCBOR=e=>{const t=(0,n9.decodeToDataItem)(e);return _l.fromDataItem(t)};Object.defineProperty(vf,"__esModule",{value:!0});vf.CryptoHDKey=void 0;const p$=Rf,y$=eg,l8=Nc,i9=Fn,g$=Kn,m$=nr;var ct;(function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"})(ct||(ct={}));let wl=class extends g$.RegistryItem{constructor(t){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var r,n,i;let o,s,f=0,d=Buffer.alloc(4).fill(0);if(this.isMaster())o=Buffer.from("0488ADE4","hex"),s=0,f=0;else{s=((r=this.getOrigin())===null||r===void 0?void 0:r.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());const y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),g=y[y.length-1];g&&(f=g.isHardened()?g.getIndex()+2147483648:g.getIndex(),this.getParentFingerprint()&&(d=this.getParentFingerprint())),this.isPrivateKey()?o=Buffer.from("0488ADE4","hex"):o=Buffer.from("0488B21E","hex")}const a=Buffer.alloc(1);a.writeUInt8(s,0);const c=Buffer.alloc(4);c.writeUInt32BE(f,0);const p=this.getChainCode(),h=this.getKey();return(0,p$.encode)(Buffer.concat([o,a,d,c,p,h]))},this.getRegistryType=()=>m$.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var r,n,i,o,s,f,d;let a="";return this.getOrigin()&&!((r=this.getOrigin())===null||r===void 0)&&r.getSourceFingerprint()&&!((n=this.getOrigin())===null||n===void 0)&&n.getPath()&&(a+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(s=this.getOrigin())===null||s===void 0?void 0:s.getPath()}`),a+=this.getBip32Key(),this.getChildren()&&!((f=this.getChildren())===null||f===void 0)&&f.getPath()&&(a+=`/${(d=this.getChildren())===null||d===void 0?void 0:d.getPath()}`),a},this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{const r={};if(this.master)r[ct.is_master]=!0,r[ct.key_data]=this.key,r[ct.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[ct.is_private]=this.privateKey),r[ct.key_data]=this.key,this.chainCode&&(r[ct.chain_code]=this.chainCode),this.useInfo){const n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[ct.use_info]=n}if(this.origin){const n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[ct.origin]=n}if(this.children){const n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[ct.children]=n}this.parentFingerprint&&(r[ct.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[ct.name]=this.name),this.note!==void 0&&(r[ct.note]=this.note)}return new i9.DataItem(r)},t.isMaster?this.setupMasterKey(t):this.setupDeriveKey(t)}};vf.CryptoHDKey=wl;wl.fromDataItem=e=>{const t=e.getData(),r=!!t[ct.is_master],n=t[ct.is_private],i=t[ct.key_data],o=t[ct.chain_code],s=t[ct.use_info]?y$.CryptoCoinInfo.fromDataItem(t[ct.use_info]):void 0,f=t[ct.origin]?l8.CryptoKeypath.fromDataItem(t[ct.origin]):void 0,d=t[ct.children]?l8.CryptoKeypath.fromDataItem(t[ct.children]):void 0,a=t[ct.parent_fingerprint];let c;a&&(c=Buffer.alloc(4),c.writeUInt32BE(a,0));const p=t[ct.name],h=t[ct.note];return new wl({isMaster:r,isPrivateKey:n,key:i,chainCode:o,useInfo:s,origin:f,children:d,parentFingerprint:c,name:p,note:h})};wl.fromCBOR=e=>{const t=(0,i9.decodeToDataItem)(e);return wl.fromDataItem(t)};var bu={};Object.defineProperty(bu,"__esModule",{value:!0});bu.CryptoECKey=void 0;const o9=Fn,b$=Kn,v$=nr;var Va;(function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"})(Va||(Va={}));let Tl=class extends b$.RegistryItem{constructor(t){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>v$.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const r={};return this.curve&&(r[Va.curve]=this.curve),this.privateKey!==void 0&&(r[Va.private]=this.privateKey),r[Va.data]=this.data,new o9.DataItem(r)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=t.data,this.curve=t.curve,this.privateKey=t.privateKey||void 0}};bu.CryptoECKey=Tl;Tl.fromDataItem=e=>{const t=e.getData(),r=t[Va.curve],n=t[Va.private],i=t[Va.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new Tl({data:i,curve:r,privateKey:n})};Tl.fromCBOR=e=>{const t=(0,o9.decodeToDataItem)(e);return Tl.fromDataItem(t)};var g1={};Object.defineProperty(g1,"__esModule",{value:!0});g1.Bytes=void 0;const s9=Fn,_$=Kn,w$=nr;let Il=class extends _$.RegistryItem{constructor(t){super(),this.bytes=t,this.getRegistryType=()=>w$.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new s9.DataItem(this.bytes)}};g1.Bytes=Il;Il.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new Il(t)};Il.fromCBOR=e=>{const t=(0,s9.decodeToDataItem)(e);return Il.fromDataItem(t)};var El={},Uc={};Object.defineProperty(Uc,"__esModule",{value:!0});Uc.MultiKey=void 0;const T$=bu,I$=vf,E$=Id,x$=Kn,h8=nr;var kc;(function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"})(kc||(kc={}));let i3=class extends x$.RegistryItem{constructor(t,r){super(),this.threshold=t,this.keys=r,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const n={};n[kc.threshold]=this.threshold;const i=this.keys.map(o=>{const s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s});return n[kc.keys]=i,new E$.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};Uc.MultiKey=i3;i3.fromDataItem=e=>{const t=e.getData(),r=t[kc.threshold],n=t[kc.keys],i=[];return n.forEach(o=>{o.getTag()===h8.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(I$.CryptoHDKey.fromDataItem(o)):o.getTag()===h8.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(T$.CryptoECKey.fromDataItem(o))}),new i3(r,i)};Object.defineProperty(El,"__esModule",{value:!0});El.CryptoOutput=void 0;const o3=bu,s3=vf,B6=Fn,a9=Uc,S$=Kn,f9=nr,f2=y1;let Gf=class extends S$.RegistryItem{constructor(t,r){super(),this.scriptExpressions=t,this.cryptoKey=r,this.getRegistryType=()=>f9.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof s3.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof o3.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof a9.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof o3.CryptoECKey||this.cryptoKey instanceof s3.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{const s=o.getTag();n.getTag()===void 0?n.setTag(s):n=new B6.DataItem(n,s)}),n}}};El.CryptoOutput=Gf;Gf.fromDataItem=e=>{const t=[];let r=e;for(;;){let o=r.getTag();const s=f2.ScriptExpression.fromTag(o);if(s)if(t.push(s),r.getData()instanceof B6.DataItem)r=r.getData(),o=r.getTag();else break;else break}const n=t.length;if(n>0&&(t[n-1].getExpression()===f2.ScriptExpressions.MULTISIG.getExpression()||t[n-1].getExpression()===f2.ScriptExpressions.SORTED_MULTISIG.getExpression())){const o=a9.MultiKey.fromDataItem(r);return new Gf(t,o)}if(r.getTag()===f9.RegistryTypes.CRYPTO_HDKEY.getTag()){const o=s3.CryptoHDKey.fromDataItem(r);return new Gf(t,o)}else{const o=o3.CryptoECKey.fromDataItem(r);return new Gf(t,o)}};Gf.fromCBOR=e=>{const t=(0,B6.decodeToDataItem)(e);return Gf.fromDataItem(t)};var xl={};Object.defineProperty(xl,"__esModule",{value:!0});xl.CryptoPSBT=void 0;const u9=Fn,B$=Kn,C$=nr;let Sl=class extends B$.RegistryItem{constructor(t){super(),this.psbt=t,this.getRegistryType=()=>C$.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new u9.DataItem(this.psbt)}};xl.CryptoPSBT=Sl;Sl.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new Sl(t)};Sl.fromCBOR=e=>{const t=(0,u9.decodeToDataItem)(e);return Sl.fromDataItem(t)};var i0={},p8;function y8(){if(p8)return i0;p8=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.CryptoAccount=void 0;const e=Of(),t=Fn,r=Kn,n=nr;var i;(function(s){s[s.masterFingerprint=1]="masterFingerprint",s[s.outputDescriptors=2]="outputDescriptors"})(i||(i={}));class o extends r.RegistryItem{constructor(f,d){super(),this.masterFingerprint=f,this.outputDescriptors=d,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const a={};return this.masterFingerprint&&(a[i.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(a[i.outputDescriptors]=this.outputDescriptors.map(c=>c.toDataItem())),new t.DataItem(a)}}}return i0.CryptoAccount=o,o.fromDataItem=s=>{const f=s.getData(),d=Buffer.alloc(4),a=f[i.masterFingerprint];a&&d.writeUInt32BE(a,0);const p=f[i.outputDescriptors].map(h=>e.CryptoOutput.fromDataItem(h));return new o(d,p)},o.fromCBOR=s=>{const f=(0,t.decodeToDataItem)(s);return o.fromDataItem(f)},i0}var o0={},Wh={};Object.defineProperty(Wh,"__esModule",{value:!0});Wh.UnknownURTypeError=void 0;let D$=class extends Error{constructor(t){super(t)}};Wh.UnknownURTypeError=D$;var g8;function m8(){if(g8)return o0;g8=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.URRegistryDecoder=void 0;const e=Tt,t=Of(),r=nr,n=Wh;class i extends e.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const s=this.resultUR();switch(s.type){case r.RegistryTypes.BYTES.getType():return t.Bytes.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_HDKEY.getType():return t.CryptoHDKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_KEYPATH.getType():return t.CryptoKeypath.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_COIN_INFO.getType():return t.CryptoCoinInfo.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ECKEY.getType():return t.CryptoECKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_OUTPUT.getType():return t.CryptoOutput.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_PSBT.getType():return t.CryptoPSBT.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ACCOUNT.getType():return t.CryptoAccount.fromCBOR(s.cbor);default:throw new n.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${s.type} is not supported now`)}}}}return o0.URRegistryDecoder=i,o0}var Bl={};Object.defineProperty(Bl,"__esModule",{value:!0});Bl.CryptoMultiAccounts=void 0;const R$=nr,O$=vf,A$=Kn,c9=Fn;var za;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device"})(za||(za={}));let Cl=class extends A$.RegistryItem{constructor(t,r,n){super(),this.masterFingerprint=t,this.keys=r,this.device=n,this.getRegistryType=()=>R$.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{const i={};return this.masterFingerprint&&(i[za.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[za.keys]=this.keys.map(o=>{const s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s})),this.device&&(i[za.device]=this.device),new c9.DataItem(i)}}};Bl.CryptoMultiAccounts=Cl;Cl.fromDataItem=e=>{const t=e.getData(),r=Buffer.alloc(4),n=t[za.masterFingerprint];n&&r.writeUInt32BE(n,0);const o=t[za.keys].map(f=>O$.CryptoHDKey.fromDataItem(f)),s=t[za.device];return new Cl(r,o,s)};Cl.fromCBOR=e=>{const t=(0,c9.decodeToDataItem)(e);return Cl.fromDataItem(t)};var d9={};Object.defineProperty(d9,"__esModule",{value:!0});var b8;function Of(){return b8||(b8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=e.extend=e.PathComponent=e.ScriptExpressions=e.MultiKey=e.CryptoPSBT=e.CryptoOutput=e.CryptoECKey=e.CryptoCoinInfoNetwork=e.CryptoCoinInfoType=e.CryptoCoinInfo=e.CryptoKeypath=e.CryptoMultiAccounts=e.CryptoHDKey=e.CryptoAccount=e.Bytes=e.URRegistryDecoder=e.DataItem=void 0;const t=Bf,r=ze;Object.defineProperty(e,"Buffer",{enumerable:!0,get:function(){return r.Buffer}});const n=vf;Object.defineProperty(e,"CryptoHDKey",{enumerable:!0,get:function(){return n.CryptoHDKey}});const i=Nc;Object.defineProperty(e,"CryptoKeypath",{enumerable:!0,get:function(){return i.CryptoKeypath}});const o=eg;Object.defineProperty(e,"CryptoCoinInfo",{enumerable:!0,get:function(){return o.CryptoCoinInfo}}),Object.defineProperty(e,"CryptoCoinInfoType",{enumerable:!0,get:function(){return o.Type}}),Object.defineProperty(e,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return o.Network}});const s=bu;Object.defineProperty(e,"CryptoECKey",{enumerable:!0,get:function(){return s.CryptoECKey}});const f=g1;Object.defineProperty(e,"Bytes",{enumerable:!0,get:function(){return f.Bytes}});const d=El;Object.defineProperty(e,"CryptoOutput",{enumerable:!0,get:function(){return d.CryptoOutput}});const a=xl;Object.defineProperty(e,"CryptoPSBT",{enumerable:!0,get:function(){return a.CryptoPSBT}});const c=y8();Object.defineProperty(e,"CryptoAccount",{enumerable:!0,get:function(){return c.CryptoAccount}});const p=m8();Object.defineProperty(e,"URRegistryDecoder",{enumerable:!0,get:function(){return p.URRegistryDecoder}});const h=Uc;Object.defineProperty(e,"MultiKey",{enumerable:!0,get:function(){return h.MultiKey}});const y=y1;Object.defineProperty(e,"ScriptExpressions",{enumerable:!0,get:function(){return y.ScriptExpressions}});const g=Mc;Object.defineProperty(e,"PathComponent",{enumerable:!0,get:function(){return g.PathComponent}});const v=Kn,T=nr,I=Fn;var _=Fn;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return _.DataItem}});const C=Pc,w=Bl;Object.defineProperty(e,"CryptoMultiAccounts",{enumerable:!0,get:function(){return w.CryptoMultiAccounts}});const P={URRegistryDecoder:p.URRegistryDecoder,Bytes:f.Bytes,CryptoAccount:c.CryptoAccount,CryptoHDKey:n.CryptoHDKey,CryptoMultiAccounts:w.CryptoMultiAccounts,CryptoKeypath:i.CryptoKeypath,CryptoCoinInfo:o.CryptoCoinInfo,CryptoCoinInfoType:o.Type,CryptoCoinInfoNetwork:o.Network,CryptoECKey:s.CryptoECKey,CryptoOutput:d.CryptoOutput,CryptoPSBT:a.CryptoPSBT,MultiKey:h.MultiKey,ScriptExpressions:y.ScriptExpressions,PathComponent:g.PathComponent},D={addReader:I.addReader,addSemanticDecode:I.addSemanticDecode,addSemanticEncode:I.addSemanticEncode,addWriter:I.addWriter,patchTags:C.patchTags},u={RegistryTypes:T.RegistryTypes,RegistryItem:v.RegistryItem,RegistryType:T.RegistryType,decodeToDataItem:I.decodeToDataItem,encodeDataItem:I.encodeDataItem,cbor:D};e.extend=u,(0,t.__exportStar)(Wh,e),(0,t.__exportStar)(m8(),e),(0,t.__exportStar)(Fn,e),(0,t.__exportStar)(y8(),e),(0,t.__exportStar)(xl,e),(0,t.__exportStar)(vf,e),(0,t.__exportStar)(Bl,e),(0,t.__exportStar)(El,e),(0,t.__exportStar)(eg,e),(0,t.__exportStar)(bu,e),(0,t.__exportStar)(Uc,e),(0,t.__exportStar)(Nc,e),(0,t.__exportStar)(QS,e),(0,t.__exportStar)(Mc,e),(0,t.__exportStar)(Kn,e),(0,t.__exportStar)(nr,e),(0,t.__exportStar)(d9,e),(0,t.__exportStar)(Pc,e),e.default=P}(a2)),a2}var Yp,P$=new Uint8Array(16);function l9(){if(!Yp&&(Yp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Yp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yp(P$)}const N$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function m1(e){return typeof e=="string"&&N$.test(e)}var _r=[];for(var u2=0;u2<256;++u2)_r.push((u2+256).toString(16).substr(1));function b1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(_r[e[t+0]]+_r[e[t+1]]+_r[e[t+2]]+_r[e[t+3]]+"-"+_r[e[t+4]]+_r[e[t+5]]+"-"+_r[e[t+6]]+_r[e[t+7]]+"-"+_r[e[t+8]]+_r[e[t+9]]+"-"+_r[e[t+10]]+_r[e[t+11]]+_r[e[t+12]]+_r[e[t+13]]+_r[e[t+14]]+_r[e[t+15]]).toLowerCase();if(!m1(r))throw TypeError("Stringified UUID is invalid");return r}var v8,c2,d2=0,l2=0;function M$(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var o=e.node||v8,s=e.clockseq!==void 0?e.clockseq:c2;if(o==null||s==null){var f=e.random||(e.rng||l9)();o==null&&(o=v8=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=c2=(f[6]<<8|f[7])&16383)}var d=e.msecs!==void 0?e.msecs:Date.now(),a=e.nsecs!==void 0?e.nsecs:l2+1,c=d-d2+(a-l2)/1e4;if(c<0&&e.clockseq===void 0&&(s=s+1&16383),(c<0||d>d2)&&e.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d2=d,l2=a,c2=s,d+=122192928e5;var p=((d&268435455)*1e4+a)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var h=d/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=h&255,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var y=0;y<6;++y)i[n+y]=o[y];return t||b1(i)}function h9(e){if(!m1(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function U$(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var k$="6ba7b810-9dad-11d1-80b4-00c04fd430c8",$$="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function p9(e,t,r){function n(i,o,s,f){if(typeof i=="string"&&(i=U$(i)),typeof o=="string"&&(o=h9(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+i.length);if(d.set(o),d.set(i,o.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,s){f=f||0;for(var a=0;a<16;++a)s[f+a]=d[a];return s}return b1(d)}try{n.name=e}catch{}return n.DNS=k$,n.URL=$$,n}function F$(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return L$(j$(K$(e),e.length*8))}function L$(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(s)}return t}function y9(e){return(e+64>>>9<<4)+14+1}function j$(e,t){e[t>>5]|=128<<t%32,e[y9(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var f=r,d=n,a=i,c=o;r=tn(r,n,i,o,e[s],7,-680876936),o=tn(o,r,n,i,e[s+1],12,-389564586),i=tn(i,o,r,n,e[s+2],17,606105819),n=tn(n,i,o,r,e[s+3],22,-1044525330),r=tn(r,n,i,o,e[s+4],7,-176418897),o=tn(o,r,n,i,e[s+5],12,1200080426),i=tn(i,o,r,n,e[s+6],17,-1473231341),n=tn(n,i,o,r,e[s+7],22,-45705983),r=tn(r,n,i,o,e[s+8],7,1770035416),o=tn(o,r,n,i,e[s+9],12,-1958414417),i=tn(i,o,r,n,e[s+10],17,-42063),n=tn(n,i,o,r,e[s+11],22,-1990404162),r=tn(r,n,i,o,e[s+12],7,1804603682),o=tn(o,r,n,i,e[s+13],12,-40341101),i=tn(i,o,r,n,e[s+14],17,-1502002290),n=tn(n,i,o,r,e[s+15],22,1236535329),r=rn(r,n,i,o,e[s+1],5,-165796510),o=rn(o,r,n,i,e[s+6],9,-1069501632),i=rn(i,o,r,n,e[s+11],14,643717713),n=rn(n,i,o,r,e[s],20,-373897302),r=rn(r,n,i,o,e[s+5],5,-701558691),o=rn(o,r,n,i,e[s+10],9,38016083),i=rn(i,o,r,n,e[s+15],14,-660478335),n=rn(n,i,o,r,e[s+4],20,-405537848),r=rn(r,n,i,o,e[s+9],5,568446438),o=rn(o,r,n,i,e[s+14],9,-1019803690),i=rn(i,o,r,n,e[s+3],14,-187363961),n=rn(n,i,o,r,e[s+8],20,1163531501),r=rn(r,n,i,o,e[s+13],5,-1444681467),o=rn(o,r,n,i,e[s+2],9,-51403784),i=rn(i,o,r,n,e[s+7],14,1735328473),n=rn(n,i,o,r,e[s+12],20,-1926607734),r=nn(r,n,i,o,e[s+5],4,-378558),o=nn(o,r,n,i,e[s+8],11,-2022574463),i=nn(i,o,r,n,e[s+11],16,1839030562),n=nn(n,i,o,r,e[s+14],23,-35309556),r=nn(r,n,i,o,e[s+1],4,-1530992060),o=nn(o,r,n,i,e[s+4],11,1272893353),i=nn(i,o,r,n,e[s+7],16,-155497632),n=nn(n,i,o,r,e[s+10],23,-1094730640),r=nn(r,n,i,o,e[s+13],4,681279174),o=nn(o,r,n,i,e[s],11,-358537222),i=nn(i,o,r,n,e[s+3],16,-722521979),n=nn(n,i,o,r,e[s+6],23,76029189),r=nn(r,n,i,o,e[s+9],4,-640364487),o=nn(o,r,n,i,e[s+12],11,-421815835),i=nn(i,o,r,n,e[s+15],16,530742520),n=nn(n,i,o,r,e[s+2],23,-995338651),r=on(r,n,i,o,e[s],6,-198630844),o=on(o,r,n,i,e[s+7],10,1126891415),i=on(i,o,r,n,e[s+14],15,-1416354905),n=on(n,i,o,r,e[s+5],21,-57434055),r=on(r,n,i,o,e[s+12],6,1700485571),o=on(o,r,n,i,e[s+3],10,-1894986606),i=on(i,o,r,n,e[s+10],15,-1051523),n=on(n,i,o,r,e[s+1],21,-2054922799),r=on(r,n,i,o,e[s+8],6,1873313359),o=on(o,r,n,i,e[s+15],10,-30611744),i=on(i,o,r,n,e[s+6],15,-1560198380),n=on(n,i,o,r,e[s+13],21,1309151649),r=on(r,n,i,o,e[s+4],6,-145523070),o=on(o,r,n,i,e[s+11],10,-1120210379),i=on(i,o,r,n,e[s+2],15,718787259),n=on(n,i,o,r,e[s+9],21,-343485551),r=Ra(r,f),n=Ra(n,d),i=Ra(i,a),o=Ra(o,c)}return[r,n,i,o]}function K$(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(y9(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function Ra(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function H$(e,t){return e<<t|e>>>32-t}function v1(e,t,r,n,i,o){return Ra(H$(Ra(Ra(t,e),Ra(n,o)),i),r)}function tn(e,t,r,n,i,o,s){return v1(t&r|~t&n,e,t,i,o,s)}function rn(e,t,r,n,i,o,s){return v1(t&n|r&~n,e,t,i,o,s)}function nn(e,t,r,n,i,o,s){return v1(t^r^n,e,t,i,o,s)}function on(e,t,r,n,i,o,s){return v1(r^(t|~n),e,t,i,o,s)}var q$=p9("v3",48,F$);const V$=q$;function z$(e,t,r){e=e||{};var n=e.random||(e.rng||l9)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return b1(n)}function Y$(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function h2(e,t){return e<<t|e>>>32-t}function G$(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),f=new Array(s),d=0;d<s;++d){for(var a=new Uint32Array(16),c=0;c<16;++c)a[c]=e[d*64+c*4]<<24|e[d*64+c*4+1]<<16|e[d*64+c*4+2]<<8|e[d*64+c*4+3];f[d]=a}f[s-1][14]=(e.length-1)*8/Math.pow(2,32),f[s-1][14]=Math.floor(f[s-1][14]),f[s-1][15]=(e.length-1)*8&4294967295;for(var p=0;p<s;++p){for(var h=new Uint32Array(80),y=0;y<16;++y)h[y]=f[p][y];for(var g=16;g<80;++g)h[g]=h2(h[g-3]^h[g-8]^h[g-14]^h[g-16],1);for(var v=r[0],T=r[1],I=r[2],_=r[3],C=r[4],w=0;w<80;++w){var P=Math.floor(w/20),D=h2(v,5)+Y$(P,T,I,_)+C+t[P]+h[w]>>>0;C=_,_=I,I=h2(T,30)>>>0,T=v,v=D}r[0]=r[0]+v>>>0,r[1]=r[1]+T>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+_>>>0,r[4]=r[4]+C>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var J$=p9("v5",80,G$);const W$=J$,X$="00000000-0000-0000-0000-000000000000";function Z$(e){if(!m1(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const Q$=Object.freeze(Object.defineProperty({__proto__:null,NIL:X$,parse:h9,stringify:b1,v1:M$,v3:V$,v4:z$,v5:W$,validate:m1,version:Z$},Symbol.toStringTag,{value:"Module"})),eF=hi(Q$);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Of(),r=eF;const n={COSMOS_SIGN_REQUEST:new t.RegistryType("cosmos-sign-request",4101),COSMOS_SIGNATURE:new t.RegistryType("cosmos-signature",4102)},{decodeToDataItem:i,RegistryTypes:o}=t.extend;var s,f;(s=e.SignDataType||(e.SignDataType={}))[s.amino=1]="amino",s[s.direct=2]="direct",s[s.textual=3]="textual",s[s.message=4]="message",function(y){y[y.requestId=1]="requestId",y[y.signData=2]="signData",y[y.dataType=3]="dataType",y[y.derivationPaths=4]="derivationPaths",y[y.addresses=5]="addresses",y[y.origin=6]="origin"}(f||(f={}));class d extends t.RegistryItem{constructor(g){super(),this.getRegistryType=()=>n.COSMOS_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataype=()=>this.dataType,this.getDerivationPaths=()=>this.derivationPaths.map(v=>v.getPath()),this.getAddress=()=>this.addresses,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};return v[f.requestId]=new t.DataItem(this.requestId,o.UUID.getTag()),v[f.signData]=this.signData,v[f.dataType]=this.dataType,v[f.derivationPaths]=this.derivationPaths.map(T=>{const I=T.toDataItem();return I.setTag(T.getRegistryType().getTag()),I}),this.addresses&&(v[f.addresses]=this.addresses),this.origin&&(v[f.origin]=this.origin),new t.DataItem(v)},this.requestId=g.requestId,this.signData=g.signData,this.dataType=g.dataType,this.derivationPaths=g.derivationPaths,this.addresses=g.addresses,this.origin=g.origin}static constructCosmosRequest(g,v,T,I,_,C,w){const P=_.map((D,u)=>{const l=D.replace(/[m|M]\//,"").split("/").map(m=>{const R=parseInt(m.replace("'",""));let B=!1;return m.endsWith("'")&&(B=!0),new t.PathComponent({index:R,hardened:B})});return new t.CryptoKeypath(l,Buffer.from(v[u],"hex"))});return new d({requestId:Buffer.from(r.parse(g)),signData:T,dataType:I||e.SignDataType.amino,derivationPaths:P,addresses:C||void 0,origin:w||void 0})}}d.fromDataItem=y=>{const g=y.getData(),v=g[f.requestId]?g[f.requestId].getData():void 0,T=g[f.signData],I=g[f.dataType],_=g[f.derivationPaths].map(C=>t.CryptoKeypath.fromDataItem(C));return new d({requestId:v,signData:T,dataType:I,derivationPaths:_,addresses:g[f.addresses]?g[f.addresses]:void 0,origin:g[f.origin]?g[f.origin]:void 0})},d.fromCBOR=y=>{const g=i(y);return d.fromDataItem(g)};const{RegistryTypes:a,decodeToDataItem:c}=t.extend;var p;(function(y){y[y.requestId=1]="requestId",y[y.signature=2]="signature",y[y.publicKey=3]="publicKey"})(p||(p={}));class h extends t.RegistryItem{constructor(g,v,T){super(),this.getRegistryType=()=>n.COSMOS_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getPublicKey=()=>this.publicKey,this.toDataItem=()=>{const I={};return I[p.requestId]=new t.DataItem(this.requestId,a.UUID.getTag()),I[p.signature]=this.signature,I[p.publicKey]=this.publicKey,new t.DataItem(I)},this.signature=g,this.requestId=v,this.publicKey=T}}h.fromDataItem=y=>{const g=y.getData(),v=g[p.signature],T=g[p.requestId].getData();return new h(v,T,g[p.publicKey])},h.fromCBOR=y=>{const g=c(y);return h.fromDataItem(g)},t.patchTags(Object.values(n).filter(y=>!!y.getTag()).map(y=>y.getTag())),Object.keys(t).forEach(function(y){y!=="default"&&Object.defineProperty(e,y,{enumerable:!0,get:function(){return t[y]}})}),e.CosmosSignRequest=d,e.CosmosSignature=h})(ZS);XS.exports=ZS;var tF=XS.exports;Object.defineProperty(p1,"__esModule",{value:!0});p1.KeystoneCosmosSDK=void 0;const Uf=ir,rF=qn,C0=tF;class g9{constructor(t){this.config=t}parseSignature(t){if(t.type!==rF.URType.CosmosSignature)throw new Error("type not match");const r=C0.CosmosSignature.fromCBOR(t.cbor);return{requestId:(0,Uf.uuidStringify)(r.getRequestId()),signature:(0,Uf.toHex)(r.getSignature()),publicKey:(0,Uf.toHex)(r.getPublicKey())}}generateSignRequest({requestId:t,signData:r,dataType:n,accounts:i,origin:o}){var s;const f=[],d=[];return i.forEach(a=>{f.push(new C0.CryptoKeypath((0,Uf.parsePath)(a.path).map(c=>new C0.PathComponent(c)),(0,Uf.toBuffer)(a.xfp))),d.push(a.address)}),new C0.CosmosSignRequest({signData:(0,Uf.toBuffer)(r),dataType:n,derivationPaths:f,requestId:(0,Uf.uuidParse)(t),addresses:d,origin:o??((s=this.config)===null||s===void 0?void 0:s.origin)}).toUR()}}g9.DataType=C0.SignDataType;p1.KeystoneCosmosSDK=g9;var _1={},m9={exports:{}},b9={},p2={},v9={},$c={},Rr={},_9={exports:{}},Ed={};Object.defineProperty(Ed,"__esModule",{value:!0});Ed.DataItem=void 0;let nF=class{constructor(t,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=t,this.tag=r}};Ed.DataItem=nF;(function(e){(function(t,r){e.exports?e.exports=r():t.CBOR=r()})(Be,function(){const{DataItem:t}=Ed;var r=function(){function n(u){this.$hex=u}n.prototype={length:function(){return this.$hex.length/2},toString:function(u){if(!u||u==="hex"||u===16)return this.$hex;if(u==="utf-8"){for(var l="",m=0;m<this.$hex.length;m+=2)l+="%"+this.$hex.substring(m,m+2);return decodeURIComponent(l)}if(u==="latin"){for(var l=[],m=0;m<this.$hex.length;m+=2)l.push(parseInt(this.$hex.substring(m,m+2),16));return String.fromCharCode.apply(String,l)}throw new Error("Unrecognised format: "+u)}},n.fromLatinString=function(u){for(var l="",m=0;m<u.length;m++){var R=u.charCodeAt(m).toString(16);R.length===1&&(R="0"+R),l+=R}return new n(l)},n.fromUtf8String=function(u){for(var l=encodeURIComponent(u),m="",R=0;R<l.length;R++)if(l.charAt(R)==="%")m+=l.substring(R+1,R+3),R+=2;else{var B=l.charCodeAt(R).toString(16);B.length<2&&(B="0"+B),m+=B}return new n(m)};var i=[],o={},s=function(u){return function(){throw new Error(u+" not implemented")}};function f(){}f.prototype={peekByte:s("peekByte"),readByte:s("readByte"),readChunk:s("readChunk"),readFloat16:function(){var u=this.readUint16(),l=(u&32767)>>10,m=u&1023,R=u&32768;if(l===31)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-25)*(1024+m):Math.pow(2,-24)*m;return R?-B:B},readFloat32:function(){var u=this.readUint32(),l=(u&2147483647)>>23,m=u&8388607,R=u&2147483648;if(l===255)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-23-127)*(8388608+m):Math.pow(2,-149)*m;return R?-B:B},readFloat64:function(){var u=this.readUint32(),l=this.readUint32(),m=u>>20&2047,R=(u&1048575)*4294967296+l,B=u&2147483648;if(m===2047)return R===0?B?-1/0:1/0:NaN;var b=m?Math.pow(2,m-52-1023)*(4503599627370496+R):Math.pow(2,-1074)*R;return B?-b:b},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function d(){}d.prototype={writeByte:s("writeByte"),result:s("result"),writeFloat16:s("writeFloat16"),writeFloat32:s("writeFloat32"),writeFloat64:s("writeFloat64"),writeUint16:function(u){this.writeByte(u>>8&255),this.writeByte(u&255)},writeUint32:function(u){this.writeUint16(u>>16&65535),this.writeUint16(u&65535)},writeUint64:function(u){if(u>=9007199254740992||u<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+u+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(u/4294967296)),this.writeUint32(u%4294967296)},writeString:s("writeString"),canWriteBinary:function(u){return!1},writeBinary:s("writeChunk")};function a(u){var l=u.readByte(),m=l>>5,R=l&31;return{type:m,value:R}}function c(u,l){var m=u.value;if(m<24)return m;if(m==24)return l.readByte();if(m==25)return l.readUint16();if(m==26)return l.readUint32();if(m==27)return l.readUint64();if(m==31)return null;s("Additional info: "+m)()}function p(u,l,m){m.writeByte(u<<5|l)}function h(u,l,m){var R=u<<5;l<24?m.writeByte(R|l):l<256?(m.writeByte(R|24),m.writeByte(l)):l<65536?(m.writeByte(R|25),m.writeUint16(l)):l<4294967296?(m.writeByte(R|26),m.writeUint32(l)):(m.writeByte(R|27),m.writeUint64(l))}var y=new Error;function g(u){var l=a(u);switch(l.type){case 0:return c(l,u);case 1:return-1-c(l,u);case 2:return u.readChunk(c(l,u));case 3:var m=u.readChunk(c(l,u));return m.toString("utf-8");case 4:case 5:var R=c(l,u),$=[];if(R!==null){l.type===5&&(R*=2);for(var B=0;B<R;B++)$[B]=g(u)}else for(var b;(b=g(u))!==y;)$.push(b);if(l.type===5){for(var E={},B=0;B<$.length;B+=2)E[$[B]]=$[B+1];return E}else return $;case 6:var k=c(l,u),L=o[k],$=g(u);return L?L($):$;case 7:if(l.value===25)return u.readFloat16();if(l.value===26)return u.readFloat32();if(l.value===27)return u.readFloat64();switch(c(l,u)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return y;default:throw new Error("Unknown fixed value: "+l.value)}default:throw new Error("Unsupported header: "+JSON.stringify(l))}throw new Error("not implemented yet")}function v(u,l){for(var m=0;m<i.length;m++){var R=i[m].fn(u);if(R!==void 0)return h(6,i[m].tag,l),v(R,l)}if(u&&typeof u.toCBOR=="function"&&(u=u.toCBOR()),u===!1)h(7,20,l);else if(u===!0)h(7,21,l);else if(u===null)h(7,22,l);else if(u===void 0)h(7,23,l);else if(typeof u=="number")Math.floor(u)===u&&u<9007199254740992&&u>-9007199254740992?u<0?h(1,-1-u,l):h(0,u,l):(p(7,27,l),l.writeFloat64(u));else if(typeof u=="string")l.writeString(u,function(b){h(3,b,l)});else if(l.canWriteBinary(u))l.writeBinary(u,function(b){h(2,b,l)});else if(typeof u=="object")if(_.config.useToJSON&&typeof u.toJSON=="function"&&(u=u.toJSON()),Array.isArray(u)){h(4,u.length,l);for(var m=0;m<u.length;m++)v(u[m],l)}else{var B=Object.keys(u);h(5,B.length,l);for(var m=0;m<B.length;m++){const E=parseInt(B[m]);isNaN(E)?(v(B[m],l),v(u[B[m]],l)):(v(E,l),v(u[B[m]],l))}}else throw new Error("CBOR encoding not supported: "+u)}var T=[],I=[],_={config:{useToJSON:!0},addWriter:function(u,l){typeof u=="string"?I.push(function(m){if(u===m)return l(m)}):I.push(u)},addReader:function(u,l){typeof u=="string"?T.push(function(m,R){if(u===R)return l(m,R)}):T.push(u)},encode:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return v(u,B),B.result()}throw new Error("Unsupported output format: "+l)},encodeDataItem:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return u.getTag()!==void 0?(v(u,B),B.result()):(v(u.getData(),B),B.result())}throw new Error("Unsupported output format: "+l)},decode:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B)return g(B)}throw new Error("Unsupported input format: "+l)},decodeToDataItem:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B){const b=g(B);return b instanceof t?b:new t(b)}}throw new Error("Unsupported input format: "+l)},addSemanticEncode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return i.push({tag:u,fn:l}),this},addSemanticDecode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return o[u]=l,this}};function C(u){this.buffer=u,this.pos=0}C.prototype=Object.create(f.prototype),C.prototype.peekByte=function(){return this.buffer[this.pos]},C.prototype.readByte=function(){return this.buffer[this.pos++]},C.prototype.readUint16=function(){var u=this.buffer.readUInt16BE(this.pos);return this.pos+=2,u},C.prototype.readUint32=function(){var u=this.buffer.readUInt32BE(this.pos);return this.pos+=4,u},C.prototype.readFloat32=function(){var u=this.buffer.readFloatBE(this.pos);return this.pos+=4,u},C.prototype.readFloat64=function(){var u=this.buffer.readDoubleBE(this.pos);return this.pos+=8,u},C.prototype.readChunk=function(u){var l=Buffer.alloc(u);return this.buffer.copy(l,0,this.pos,this.pos+=u),l};function w(u){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=u}w.prototype=Object.create(d.prototype),w.prototype.writeByte=function(u){this.latestBuffer[this.latestBufferOffset++]=u,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},w.prototype.writeFloat32=function(u){var l=Buffer.alloc(4);l.writeFloatBE(u,0),this.writeBuffer(l)},w.prototype.writeFloat64=function(u){var l=Buffer.alloc(8);l.writeDoubleBE(u,0),this.writeBuffer(l)},w.prototype.writeString=function(u,l){var m=Buffer.from(u,"utf-8");l(m.length),this.writeBuffer(m)},w.prototype.canWriteBinary=function(u){return u instanceof Buffer},w.prototype.writeBinary=function(u,l){l(u.length),this.writeBuffer(u)},w.prototype.writeBuffer=function(u){if(!(u instanceof Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=u.length?(u.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=u.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(u),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(u),this.byteLength+=u.length},w.prototype.result=function(){for(var u=Buffer.alloc(this.byteLength),l=0,m=0;m<this.completeBuffers.length;m++){var R=this.completeBuffers[m];R.copy(u,l,0,R.length),l+=R.length}return this.latestBufferOffset&&this.latestBuffer.copy(u,l,0,this.latestBufferOffset),this.stringFormat?u.toString(this.stringFormat):u},typeof Buffer=="function"&&(_.addReader(function(u,l){if(Buffer.isBuffer(u))return new C(u);if(l==="hex"||l==="base64"){var m=Buffer.from(u,l);return new C(m)}}),_.addWriter(function(u){if(!u||u==="buffer")return new w;if(u==="hex"||u==="base64")return new w(u)}));function P(u){this.hex=u,this.pos=0}P.prototype=Object.create(f.prototype),P.prototype.peekByte=function(){var u=this.hex.substring(this.pos,2);return parseInt(u,16)},P.prototype.readByte=function(){var u=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(u,16)},P.prototype.readChunk=function(u){var l=this.hex.substring(this.pos,this.pos+u*2);return this.pos+=u*2,typeof Buffer=="function"?Buffer.from(l,"hex"):new n(l)};function D(u){this.$hex="",this.finalFormat=u||"hex"}return D.prototype=Object.create(d.prototype),D.prototype.writeByte=function(u){if(u<0||u>255)throw new Error("Byte value out of range: "+u);var l=u.toString(16);l.length==1&&(l="0"+l),this.$hex+=l},D.prototype.canWriteBinary=function(u){return u instanceof n||typeof Buffer=="function"&&u instanceof Buffer},D.prototype.writeBinary=function(u,l){if(u instanceof n)l(u.length()),this.$hex+=u.$hex;else if(typeof Buffer=="function"&&u instanceof Buffer)l(u.length),this.$hex+=u.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},D.prototype.result=function(){return this.finalFormat==="buffer"&&typeof Buffer=="function"?Buffer.from(this.$hex,"hex"):new n(this.$hex).toString(this.finalFormat)},D.prototype.writeString=function(u,l){var m=n.fromUtf8String(u);l(m.length()),this.$hex+=m.$hex},_.addReader(function(u,l){if(u instanceof n||u.$hex)return new P(u.$hex);if(l==="hex")return new P(u)}),_.addWriter(function(u){if(u==="hex")return new D}),_}();return r.addSemanticEncode(0,function(n){if(n instanceof Date)return n.toISOString()}).addSemanticDecode(0,function(n){return new Date(n)}).addSemanticDecode(1,function(n){return new Date(n)}),r})})(_9);var iF=_9.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DataItem=e.addWriter=e.addReader=e.addSemanticEncode=e.addSemanticDecode=e.decodeToDataItem=e.encodeDataItem=void 0;var t=iF;Object.defineProperty(e,"encodeDataItem",{enumerable:!0,get:function(){return t.encodeDataItem}}),Object.defineProperty(e,"decodeToDataItem",{enumerable:!0,get:function(){return t.decodeToDataItem}}),Object.defineProperty(e,"addSemanticDecode",{enumerable:!0,get:function(){return t.addSemanticDecode}}),Object.defineProperty(e,"addSemanticEncode",{enumerable:!0,get:function(){return t.addSemanticEncode}}),Object.defineProperty(e,"addReader",{enumerable:!0,get:function(){return t.addReader}}),Object.defineProperty(e,"addWriter",{enumerable:!0,get:function(){return t.addWriter}});var r=Ed;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return r.DataItem}})})(Rr);Object.defineProperty($c,"__esModule",{value:!0});$c.patchTags=void 0;const Gp=Rr,_8=[],oF=e=>{e.forEach(t=>{_8.find(r=>r===t)||(Gp.addSemanticEncode(t,r=>{if(r instanceof Gp.DataItem&&r.getTag()===t)return r.getData()}),Gp.addSemanticDecode(t,r=>new Gp.DataItem(r,t)),_8.push(t))})};$c.patchTags=oF;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.RegistryTypes=qt.RegistryType=void 0;let ei=class{constructor(t,r){this.type=t,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}};qt.RegistryType=ei;qt.RegistryTypes={UUID:new ei("uuid",37),BYTES:new ei("bytes",void 0),CRYPTO_HDKEY:new ei("crypto-hdkey",303),CRYPTO_KEYPATH:new ei("crypto-keypath",304),CRYPTO_COIN_INFO:new ei("crypto-coin-info",305),CRYPTO_ECKEY:new ei("crypto-eckey",306),CRYPTO_OUTPUT:new ei("crypto-output",308),CRYPTO_PSBT:new ei("crypto-psbt",310),CRYPTO_ACCOUNT:new ei("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new ei("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new ei("qr-hardware-call",1201),KEY_DERIVATION_CALL:new ei("key-derivation-call",1301)};var w1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptExpressions=e.ScriptExpression=void 0;class t{constructor(n,i){this.tag=n,this.expression=i,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}e.ScriptExpression=t,t.fromTag=r=>Object.values(e.ScriptExpressions).find(i=>i.getTag()===r),e.ScriptExpressions={SCRIPT_HASH:new t(400,"sh"),WITNESS_SCRIPT_HASH:new t(401,"wsh"),PUBLIC_KEY:new t(402,"pk"),PUBLIC_KEY_HASH:new t(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new t(404,"wpkh"),COMBO:new t(405,"combo"),MULTISIG:new t(406,"multi"),SORTED_MULTISIG:new t(407,"sortedmulti"),ADDRESS:new t(307,"addr"),RAW_SCRIPT:new t(408,"raw")}})(w1);Object.defineProperty(v9,"__esModule",{value:!0});const sF=$c,aF=qt,fF=w1,uF=Object.values(aF.RegistryTypes).filter(e=>!!e.getTag()).map(e=>e.getTag()),cF=Object.values(fF.ScriptExpressions).map(e=>e.getTag());sF.patchTags(uF.concat(cF));var _f={},tg={},Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.RegistryItem=void 0;const w8=Tt,dF=Rr;let lF=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return dF.encodeDataItem(this.toDataItem())},this.toUR=()=>new w8.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(t,r,n)=>{const i=this.toUR();return new w8.UREncoder(i,t,r,n)}}};Ur.RegistryItem=lF;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CryptoCoinInfo=e.Network=e.Type=void 0;const t=Rr,r=Ur,n=qt;var i;(function(d){d.type="1",d.network="2"})(i||(i={}));var o;(function(d){d[d.bitcoin=0]="bitcoin"})(o=e.Type||(e.Type={}));var s;(function(d){d[d.mainnet=0]="mainnet",d[d.testnet=1]="testnet"})(s=e.Network||(e.Network={}));class f extends r.RegistryItem{constructor(a,c){super(),this.type=a,this.network=c,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||o.bitcoin,this.getNetwork=()=>this.network||s.mainnet,this.toDataItem=()=>{const p={};return this.type&&(p[i.type]=this.type),this.network&&(p[i.network]=this.network),new t.DataItem(p)}}}e.CryptoCoinInfo=f,f.fromDataItem=d=>{const a=d.getData(),c=a[i.type],p=a[i.network];return new f(c,p)},f.fromCBOR=d=>{const a=t.decodeToDataItem(d);return f.fromDataItem(a)}})(tg);var vu={},Fc={};Object.defineProperty(Fc,"__esModule",{value:!0});Fc.PathComponent=void 0;let w9=class T9{constructor(t){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=t.index,this.hardened=t.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&T9.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};Fc.PathComponent=w9;w9.HARDENED_BIT=2147483648;Object.defineProperty(vu,"__esModule",{value:!0});vu.CryptoKeypath=void 0;const I9=Rr,T8=Fc,hF=Ur,pF=qt;var Ya;(function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"})(Ya||(Ya={}));let Dl=class extends hF.RegistryItem{constructor(t=[],r,n){super(),this.components=t,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>pF.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const i={},o=[];return this.components&&this.components.forEach(s=>{s.isWildcard()?o.push([]):o.push(s.getIndex()),o.push(s.isHardened())}),i[Ya.components]=o,this.sourceFingerprint&&(i[Ya.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[Ya.depth]=this.depth),new I9.DataItem(i)}}};vu.CryptoKeypath=Dl;Dl.fromDataItem=e=>{const t=e.getData(),r=[],n=t[Ya.components];if(n)for(let f=0;f<n.length;f+=2){const d=n[f+1],a=n[f];typeof a=="number"?r.push(new T8.PathComponent({index:a,hardened:d})):r.push(new T8.PathComponent({hardened:d}))}const i=t[Ya.source_fingerprint];let o;i&&(o=Buffer.alloc(4),o.writeUInt32BE(i,0));const s=t[Ya.depth];return new Dl(r,o,s)};Dl.fromCBOR=e=>{const t=I9.decodeToDataItem(e);return Dl.fromDataItem(t)};Object.defineProperty(_f,"__esModule",{value:!0});_f.CryptoHDKey=void 0;const yF=Rf,gF=tg,I8=vu,E9=Rr,mF=Ur,bF=qt;var dt;(function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"})(dt||(dt={}));let Rl=class extends mF.RegistryItem{constructor(t){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var r,n,i;let o,s,f=0,d=Buffer.alloc(4).fill(0);if(this.isMaster())o=Buffer.from("0488ADE4","hex"),s=0,f=0;else{s=((r=this.getOrigin())===null||r===void 0?void 0:r.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());const y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),g=y[y.length-1];g&&(f=g.isHardened()?g.getIndex()+2147483648:g.getIndex(),this.getParentFingerprint()&&(d=this.getParentFingerprint())),this.isPrivateKey()?o=Buffer.from("0488ADE4","hex"):o=Buffer.from("0488B21E","hex")}const a=Buffer.alloc(1);a.writeUInt8(s,0);const c=Buffer.alloc(4);c.writeUInt32BE(f,0);const p=this.getChainCode(),h=this.getKey();return yF.encode(Buffer.concat([o,a,d,c,p,h]))},this.getRegistryType=()=>bF.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var r,n,i,o,s,f,d;let a="";return this.getOrigin()&&!((r=this.getOrigin())===null||r===void 0)&&r.getSourceFingerprint()&&!((n=this.getOrigin())===null||n===void 0)&&n.getPath()&&(a+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(s=this.getOrigin())===null||s===void 0?void 0:s.getPath()}`),a+=this.getBip32Key(),this.getChildren()&&!((f=this.getChildren())===null||f===void 0)&&f.getPath()&&(a+=`/${(d=this.getChildren())===null||d===void 0?void 0:d.getPath()}`),a},this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{const r={};if(this.master)r[dt.is_master]=!0,r[dt.key_data]=this.key,r[dt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[dt.is_private]=this.privateKey),r[dt.key_data]=this.key,this.chainCode&&(r[dt.chain_code]=this.chainCode),this.useInfo){const n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[dt.use_info]=n}if(this.origin){const n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[dt.origin]=n}if(this.children){const n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[dt.children]=n}this.parentFingerprint&&(r[dt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[dt.name]=this.name),this.note!==void 0&&(r[dt.note]=this.note)}return new E9.DataItem(r)},t.isMaster?this.setupMasterKey(t):this.setupDeriveKey(t)}};_f.CryptoHDKey=Rl;Rl.fromDataItem=e=>{const t=e.getData(),r=!!t[dt.is_master],n=t[dt.is_private],i=t[dt.key_data],o=t[dt.chain_code],s=t[dt.use_info]?gF.CryptoCoinInfo.fromDataItem(t[dt.use_info]):void 0,f=t[dt.origin]?I8.CryptoKeypath.fromDataItem(t[dt.origin]):void 0,d=t[dt.children]?I8.CryptoKeypath.fromDataItem(t[dt.children]):void 0,a=t[dt.parent_fingerprint];let c;a&&(c=Buffer.alloc(4),c.writeUInt32BE(a,0));const p=t[dt.name],h=t[dt.note];return new Rl({isMaster:r,isPrivateKey:n,key:i,chainCode:o,useInfo:s,origin:f,children:d,parentFingerprint:c,name:p,note:h})};Rl.fromCBOR=e=>{const t=E9.decodeToDataItem(e);return Rl.fromDataItem(t)};var _u={};Object.defineProperty(_u,"__esModule",{value:!0});_u.CryptoECKey=void 0;const x9=Rr,vF=Ur,_F=qt;var Ga;(function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"})(Ga||(Ga={}));let Ol=class extends vF.RegistryItem{constructor(t){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>_F.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const r={};return this.curve&&(r[Ga.curve]=this.curve),this.privateKey!==void 0&&(r[Ga.private]=this.privateKey),r[Ga.data]=this.data,new x9.DataItem(r)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=t.data,this.curve=t.curve,this.privateKey=t.privateKey||void 0}};_u.CryptoECKey=Ol;Ol.fromDataItem=e=>{const t=e.getData(),r=t[Ga.curve],n=t[Ga.private],i=t[Ga.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new Ol({data:i,curve:r,privateKey:n})};Ol.fromCBOR=e=>{const t=x9.decodeToDataItem(e);return Ol.fromDataItem(t)};var T1={};Object.defineProperty(T1,"__esModule",{value:!0});T1.Bytes=void 0;const S9=Rr,wF=Ur,TF=qt;let Al=class extends wF.RegistryItem{constructor(t){super(),this.bytes=t,this.getRegistryType=()=>TF.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new S9.DataItem(this.bytes)}};T1.Bytes=Al;Al.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new Al(t)};Al.fromCBOR=e=>{const t=S9.decodeToDataItem(e);return Al.fromDataItem(t)};var Pl={},Lc={};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.MultiKey=void 0;const IF=_u,EF=_f,xF=Ed,SF=Ur,E8=qt;var jc;(function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"})(jc||(jc={}));let a3=class extends SF.RegistryItem{constructor(t,r){super(),this.threshold=t,this.keys=r,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const n={};n[jc.threshold]=this.threshold;const i=this.keys.map(o=>{const s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s});return n[jc.keys]=i,new xF.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};Lc.MultiKey=a3;a3.fromDataItem=e=>{const t=e.getData(),r=t[jc.threshold],n=t[jc.keys],i=[];return n.forEach(o=>{o.getTag()===E8.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(EF.CryptoHDKey.fromDataItem(o)):o.getTag()===E8.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(IF.CryptoECKey.fromDataItem(o))}),new a3(r,i)};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.CryptoOutput=void 0;const f3=_u,u3=_f,C6=Rr,B9=Lc,BF=Ur,C9=qt,y2=w1;let Jf=class extends BF.RegistryItem{constructor(t,r){super(),this.scriptExpressions=t,this.cryptoKey=r,this.getRegistryType=()=>C9.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof u3.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof f3.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof B9.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof f3.CryptoECKey||this.cryptoKey instanceof u3.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{const s=o.getTag();n.getTag()===void 0?n.setTag(s):n=new C6.DataItem(n,s)}),n}}};Pl.CryptoOutput=Jf;Jf.fromDataItem=e=>{const t=[];let r=e;for(;;){let o=r.getTag();const s=y2.ScriptExpression.fromTag(o);if(s)if(t.push(s),r.getData()instanceof C6.DataItem)r=r.getData(),o=r.getTag();else break;else break}const n=t.length;if(n>0&&(t[n-1].getExpression()===y2.ScriptExpressions.MULTISIG.getExpression()||t[n-1].getExpression()===y2.ScriptExpressions.SORTED_MULTISIG.getExpression())){const o=B9.MultiKey.fromDataItem(r);return new Jf(t,o)}if(r.getTag()===C9.RegistryTypes.CRYPTO_HDKEY.getTag()){const o=u3.CryptoHDKey.fromDataItem(r);return new Jf(t,o)}else{const o=f3.CryptoECKey.fromDataItem(r);return new Jf(t,o)}};Jf.fromCBOR=e=>{const t=C6.decodeToDataItem(e);return Jf.fromDataItem(t)};var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.CryptoPSBT=void 0;const D9=Rr,CF=Ur,DF=qt;let Ml=class extends CF.RegistryItem{constructor(t){super(),this.psbt=t,this.getRegistryType=()=>DF.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new D9.DataItem(this.psbt)}};Nl.CryptoPSBT=Ml;Ml.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new Ml(t)};Ml.fromCBOR=e=>{const t=D9.decodeToDataItem(e);return Ml.fromDataItem(t)};var s0={},x8;function S8(){if(x8)return s0;x8=1,Object.defineProperty(s0,"__esModule",{value:!0}),s0.CryptoAccount=void 0;const e=D6(),t=Rr,r=Ur,n=qt;var i;(function(s){s[s.masterFingerprint=1]="masterFingerprint",s[s.outputDescriptors=2]="outputDescriptors"})(i||(i={}));class o extends r.RegistryItem{constructor(f,d){super(),this.masterFingerprint=f,this.outputDescriptors=d,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const a={};return this.masterFingerprint&&(a[i.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(a[i.outputDescriptors]=this.outputDescriptors.map(c=>c.toDataItem())),new t.DataItem(a)}}}return s0.CryptoAccount=o,o.fromDataItem=s=>{const f=s.getData(),d=Buffer.alloc(4),a=f[i.masterFingerprint];a&&d.writeUInt32BE(a,0);const p=f[i.outputDescriptors].map(h=>e.CryptoOutput.fromDataItem(h));return new o(d,p)},o.fromCBOR=s=>{const f=t.decodeToDataItem(s);return o.fromDataItem(f)},s0}var a0={},Xh={};Object.defineProperty(Xh,"__esModule",{value:!0});Xh.UnknownURTypeError=void 0;let RF=class extends Error{constructor(t){super(t)}};Xh.UnknownURTypeError=RF;var B8;function C8(){if(B8)return a0;B8=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.URRegistryDecoder=void 0;const e=Tt,t=D6(),r=qt,n=Xh;class i extends e.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const s=this.resultUR();switch(s.type){case r.RegistryTypes.BYTES.getType():return t.Bytes.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_HDKEY.getType():return t.CryptoHDKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_KEYPATH.getType():return t.CryptoKeypath.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_COIN_INFO.getType():return t.CryptoCoinInfo.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ECKEY.getType():return t.CryptoECKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_OUTPUT.getType():return t.CryptoOutput.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_PSBT.getType():return t.CryptoPSBT.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ACCOUNT.getType():return t.CryptoAccount.fromCBOR(s.cbor);default:throw new n.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${s.type} is not supported now`)}}}}return a0.URRegistryDecoder=i,a0}var Ul={};Object.defineProperty(Ul,"__esModule",{value:!0});Ul.CryptoMultiAccounts=void 0;const OF=qt,AF=_f,PF=Ur,R9=Rr;var Ja;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device"})(Ja||(Ja={}));let kl=class extends PF.RegistryItem{constructor(t,r,n){super(),this.masterFingerprint=t,this.keys=r,this.device=n,this.getRegistryType=()=>OF.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{const i={};return this.masterFingerprint&&(i[Ja.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[Ja.keys]=this.keys.map(o=>{const s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s})),this.device&&(i[Ja.device]=this.device),new R9.DataItem(i)}}};Ul.CryptoMultiAccounts=kl;kl.fromDataItem=e=>{const t=e.getData(),r=Buffer.alloc(4),n=t[Ja.masterFingerprint];n&&r.writeUInt32BE(n,0);const o=t[Ja.keys].map(f=>AF.CryptoHDKey.fromDataItem(f)),s=t[Ja.device];return new kl(r,o,s)};kl.fromCBOR=e=>{const t=R9.decodeToDataItem(e);return kl.fromDataItem(t)};var g2={},m2={},D8;function O9(){return D8||(D8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyDerivation=e.DerivationAlgorithm=e.Curve=void 0;const t=qt,r=Ur,n=Rr,i=vu;var o;(function(a){a[a.keyPaths=1]="keyPaths",a[a.curve=2]="curve",a[a.algo=3]="algo",a[a.origin=4]="origin"})(o||(o={}));var s;(function(a){a.secp256k1="secp256k1",a.ed25519="ed25519"})(s=e.Curve||(e.Curve={}));var f;(function(a){a.slip10="slip10",a.bip32ed25519="bip32ed25519"})(f=e.DerivationAlgorithm||(e.DerivationAlgorithm={}));class d extends r.RegistryItem{constructor(c,p=s.secp256k1,h=f.slip10,y){super(),this.keypaths=c,this.curve=p,this.algo=h,this.origin=y,this.getRegistryType=()=>t.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const g={};return g[o.keyPaths]=this.keypaths.map(v=>{const T=v.toDataItem();return T.setTag(v.getRegistryType().getTag()),T}),g[o.curve]=this.curve,g[o.algo]=this.algo,this.origin&&(g[o.origin]=this.origin),new n.DataItem(g)}}}e.KeyDerivation=d,d.fromDataItem=a=>{const c=a.getData(),p=c[o.keyPaths].map(v=>i.CryptoKeypath.fromDataItem(v)),h=c[o.curve],y=c[o.algo],g=c[o.origin];return new d(p,h,y,g)},d.fromCBOR=a=>{const c=n.decodeToDataItem(a);return d.fromDataItem(c)}}(m2)),m2}var R8;function NF(){return R8||(R8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QRHardwareCall=e.QRHardwareCallName=void 0;const t=qt,r=Ur,n=Rr,i=O9();var o;(function(d){d[d.name=1]="name",d[d.params=2]="params"})(o||(o={}));var s;(function(d){d.KeyDerivation="key-derivation"})(s=e.QRHardwareCallName||(e.QRHardwareCallName={}));class f extends r.RegistryItem{constructor(a,c){super(),this.name=a,this.params=c,this.getRegistryType=()=>t.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{const p={};p[o.name]=this.name;const h=this.params.toDataItem();return h.setTag(this.params.getRegistryType().getTag()),p[o.params]=h,new n.DataItem(p)}}}e.QRHardwareCall=f,f.fromDataItem=d=>{const a=d.getData(),c=a[o.name]||s.KeyDerivation;let p;switch(c){case s.KeyDerivation:p=i.KeyDerivation.fromDataItem(a[o.params])}return new f(c,p)},f.fromCBOR=d=>{const a=n.decodeToDataItem(d);return f.fromDataItem(a)}}(g2)),g2}var b2={},O8;function MF(){return O8||(O8=1,Object.defineProperty(b2,"__esModule",{value:!0})),b2}var A8;function D6(){return A8||(A8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=e.extend=e.PathComponent=e.ScriptExpressions=e.MultiKey=e.CryptoPSBT=e.CryptoOutput=e.CryptoECKey=e.CryptoCoinInfoNetwork=e.CryptoCoinInfoType=e.CryptoCoinInfo=e.CryptoKeypath=e.CryptoMultiAccounts=e.CryptoHDKey=e.CryptoAccount=e.Bytes=e.URRegistryDecoder=e.DataItem=void 0;const t=Bf,r=ze;Object.defineProperty(e,"Buffer",{enumerable:!0,get:function(){return r.Buffer}});const n=_f;Object.defineProperty(e,"CryptoHDKey",{enumerable:!0,get:function(){return n.CryptoHDKey}});const i=vu;Object.defineProperty(e,"CryptoKeypath",{enumerable:!0,get:function(){return i.CryptoKeypath}});const o=tg;Object.defineProperty(e,"CryptoCoinInfo",{enumerable:!0,get:function(){return o.CryptoCoinInfo}}),Object.defineProperty(e,"CryptoCoinInfoType",{enumerable:!0,get:function(){return o.Type}}),Object.defineProperty(e,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return o.Network}});const s=_u;Object.defineProperty(e,"CryptoECKey",{enumerable:!0,get:function(){return s.CryptoECKey}});const f=T1;Object.defineProperty(e,"Bytes",{enumerable:!0,get:function(){return f.Bytes}});const d=Pl;Object.defineProperty(e,"CryptoOutput",{enumerable:!0,get:function(){return d.CryptoOutput}});const a=Nl;Object.defineProperty(e,"CryptoPSBT",{enumerable:!0,get:function(){return a.CryptoPSBT}});const c=S8();Object.defineProperty(e,"CryptoAccount",{enumerable:!0,get:function(){return c.CryptoAccount}});const p=C8();Object.defineProperty(e,"URRegistryDecoder",{enumerable:!0,get:function(){return p.URRegistryDecoder}});const h=Lc;Object.defineProperty(e,"MultiKey",{enumerable:!0,get:function(){return h.MultiKey}});const y=w1;Object.defineProperty(e,"ScriptExpressions",{enumerable:!0,get:function(){return y.ScriptExpressions}});const g=Fc;Object.defineProperty(e,"PathComponent",{enumerable:!0,get:function(){return g.PathComponent}});const v=Ur,T=qt,I=Rr;var _=Rr;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return _.DataItem}});const C=$c,w=Ul;Object.defineProperty(e,"CryptoMultiAccounts",{enumerable:!0,get:function(){return w.CryptoMultiAccounts}});const P={URRegistryDecoder:p.URRegistryDecoder,Bytes:f.Bytes,CryptoAccount:c.CryptoAccount,CryptoHDKey:n.CryptoHDKey,CryptoMultiAccounts:w.CryptoMultiAccounts,CryptoKeypath:i.CryptoKeypath,CryptoCoinInfo:o.CryptoCoinInfo,CryptoCoinInfoType:o.Type,CryptoCoinInfoNetwork:o.Network,CryptoECKey:s.CryptoECKey,CryptoOutput:d.CryptoOutput,CryptoPSBT:a.CryptoPSBT,MultiKey:h.MultiKey,ScriptExpressions:y.ScriptExpressions,PathComponent:g.PathComponent},D={addReader:I.addReader,addSemanticDecode:I.addSemanticDecode,addSemanticEncode:I.addSemanticEncode,addWriter:I.addWriter,patchTags:C.patchTags},u={RegistryTypes:T.RegistryTypes,RegistryItem:v.RegistryItem,RegistryType:T.RegistryType,decodeToDataItem:I.decodeToDataItem,encodeDataItem:I.encodeDataItem,cbor:D};e.extend=u,t.__exportStar(Xh,e),t.__exportStar(C8(),e),t.__exportStar(Rr,e),t.__exportStar(S8(),e),t.__exportStar(Nl,e),t.__exportStar(_f,e),t.__exportStar(Ul,e),t.__exportStar(NF(),e),t.__exportStar(O9(),e),t.__exportStar(Pl,e),t.__exportStar(tg,e),t.__exportStar(_u,e),t.__exportStar(Lc,e),t.__exportStar(vu,e),t.__exportStar(v9,e),t.__exportStar(Fc,e),t.__exportStar(Ur,e),t.__exportStar(qt,e),t.__exportStar(MF(),e),t.__exportStar($c,e),e.default=P}(p2)),p2}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=D6(),r=Mg;const n={EVM_SIGN_REQUEST:new t.RegistryType("evm-sign-request",4101),EVM_SIGNATURE:new t.RegistryType("evm-signature",4102)},{decodeToDataItem:i,RegistryTypes:o}=t.extend;var s,f;(s=e.SignDataType||(e.SignDataType={}))[s.arbitrary=1]="arbitrary",s[s.cosmosAmino=2]="cosmosAmino",s[s.cosmosDirect=3]="cosmosDirect",function(y){y[y.requestId=1]="requestId",y[y.signData=2]="signData",y[y.dataType=3]="dataType",y[y.customChainIdentifier=4]="customChainIdentifier",y[y.derivationPath=5]="derivationPath",y[y.address=6]="address",y[y.origin=7]="origin"}(f||(f={}));class d extends t.RegistryItem{constructor(g){super(),this.getRegistryType=()=>n.EVM_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataype=()=>this.dataType,this.getCustomChainIdentifier=()=>this.customChainIdentifier,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};v[f.requestId]=new t.DataItem(this.requestId,o.UUID.getTag()),v[f.signData]=this.signData,v[f.dataType]=this.dataType,v[f.customChainIdentifier]=this.customChainIdentifier;const T=this.derivationPath.toDataItem();return T.setTag(this.derivationPath.getRegistryType().getTag()),v[f.derivationPath]=T,this.address&&(v[f.address]=this.address),this.origin&&(v[f.origin]=this.origin),new t.DataItem(v)},this.requestId=g.requestId,this.signData=g.signData,this.dataType=g.dataType,this.customChainIdentifier=g.customChainIdentifier,this.derivationPath=g.derivationPath,this.address=g.address,this.origin=g.origin}static parsePath(g,v){const T=g.replace(/[m|M]\//,"").split("/").map(I=>{const _=parseInt(I.replace("'",""));let C=!1;return I.endsWith("'")&&(C=!0),new t.PathComponent({index:_,hardened:C})});return new t.CryptoKeypath(T,Buffer.from(v,"hex"))}static constructEvmRequest(g,v,T,I,_,C,w,P){return new d({requestId:Buffer.from(r.parse(g)),signData:T,dataType:I||e.SignDataType.arbitrary,customChainIdentifier:_,derivationPath:d.parsePath(C,v),address:w,origin:P})}}d.fromDataItem=y=>{const g=y.getData(),v=g[f.requestId]?g[f.requestId].getData():void 0;return new d({requestId:v,signData:g[f.signData],dataType:g[f.dataType],customChainIdentifier:g[f.customChainIdentifier],derivationPath:t.CryptoKeypath.fromDataItem(g[f.derivationPath]),address:g[f.address],origin:g[f.origin]})},d.fromCBOR=y=>{const g=i(y);return d.fromDataItem(g)};const{RegistryTypes:a,decodeToDataItem:c}=t.extend;var p;(function(y){y[y.requestId=1]="requestId",y[y.signature=2]="signature"})(p||(p={}));class h extends t.RegistryItem{constructor(g,v){super(),this.getRegistryType=()=>n.EVM_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{const T={};return T[p.requestId]=new t.DataItem(this.requestId,a.UUID.getTag()),T[p.signature]=this.signature,new t.DataItem(T)},this.signature=g,this.requestId=v}}h.fromDataItem=y=>{const g=y.getData(),v=g[p.signature],T=g[p.requestId].getData();return new h(v,T)},h.fromCBOR=y=>{const g=c(y);return h.fromDataItem(g)},t.patchTags(Object.values(n).filter(y=>!!y.getTag()).map(y=>y.getTag())),Object.keys(t).forEach(function(y){y!=="default"&&Object.defineProperty(e,y,{enumerable:!0,get:function(){return t[y]}})}),e.EvmSignRequest=d,e.EvmSignature=h})(b9);m9.exports=b9;var UF=m9.exports;Object.defineProperty(_1,"__esModule",{value:!0});_1.KeystoneEvmSDK=void 0;const kf=ir,kF=qn,D0=UF;class A9{constructor(t){this.config=t}parseSignature(t){if(t.type!==kF.URType.EvmSignature)throw new Error("type not match");const r=D0.EvmSignature.fromCBOR(t.cbor);return{requestId:(0,kf.uuidStringify)(r.getRequestId()),signature:(0,kf.toHex)(r.getSignature())}}generateSignRequest({requestId:t,signData:r,dataType:n,customChainIdentifier:i,account:o,origin:s}){var f;const d=new D0.CryptoKeypath((0,kf.parsePath)(o.path).map(a=>new D0.PathComponent(a)),(0,kf.toBuffer)(o.xfp));return new D0.EvmSignRequest({signData:(0,kf.toBuffer)(r),dataType:n,customChainIdentifier:i,derivationPath:d,requestId:(0,kf.uuidParse)(t),address:o.address!==void 0?(0,kf.toBuffer)(o.address.substring(o.address.startsWith("0x")?2:0)):void 0,origin:s??((f=this.config)===null||f===void 0?void 0:f.origin)}).toUR()}}A9.DataType=D0.SignDataType;_1.KeystoneEvmSDK=A9;var I1={},P9={exports:{}},N9={},v2={},M9={},Kc={},pr={},U9={exports:{}},xd={};Object.defineProperty(xd,"__esModule",{value:!0});xd.DataItem=void 0;let $F=class{constructor(t,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=t,this.tag=r}};xd.DataItem=$F;(function(e){(function(t,r){e.exports?e.exports=r():t.CBOR=r()})(Be,function(){const{DataItem:t}=xd;var r=function(){function n(u){this.$hex=u}n.prototype={length:function(){return this.$hex.length/2},toString:function(u){if(!u||u==="hex"||u===16)return this.$hex;if(u==="utf-8"){for(var l="",m=0;m<this.$hex.length;m+=2)l+="%"+this.$hex.substring(m,m+2);return decodeURIComponent(l)}if(u==="latin"){for(var l=[],m=0;m<this.$hex.length;m+=2)l.push(parseInt(this.$hex.substring(m,m+2),16));return String.fromCharCode.apply(String,l)}throw new Error("Unrecognised format: "+u)}},n.fromLatinString=function(u){for(var l="",m=0;m<u.length;m++){var R=u.charCodeAt(m).toString(16);R.length===1&&(R="0"+R),l+=R}return new n(l)},n.fromUtf8String=function(u){for(var l=encodeURIComponent(u),m="",R=0;R<l.length;R++)if(l.charAt(R)==="%")m+=l.substring(R+1,R+3),R+=2;else{var B=l.charCodeAt(R).toString(16);B.length<2&&(B="0"+B),m+=B}return new n(m)};var i=[],o={},s=function(u){return function(){throw new Error(u+" not implemented")}};function f(){}f.prototype={peekByte:s("peekByte"),readByte:s("readByte"),readChunk:s("readChunk"),readFloat16:function(){var u=this.readUint16(),l=(u&32767)>>10,m=u&1023,R=u&32768;if(l===31)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-25)*(1024+m):Math.pow(2,-24)*m;return R?-B:B},readFloat32:function(){var u=this.readUint32(),l=(u&2147483647)>>23,m=u&8388607,R=u&2147483648;if(l===255)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-23-127)*(8388608+m):Math.pow(2,-149)*m;return R?-B:B},readFloat64:function(){var u=this.readUint32(),l=this.readUint32(),m=u>>20&2047,R=(u&1048575)*4294967296+l,B=u&2147483648;if(m===2047)return R===0?B?-1/0:1/0:NaN;var b=m?Math.pow(2,m-52-1023)*(4503599627370496+R):Math.pow(2,-1074)*R;return B?-b:b},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function d(){}d.prototype={writeByte:s("writeByte"),result:s("result"),writeFloat16:s("writeFloat16"),writeFloat32:s("writeFloat32"),writeFloat64:s("writeFloat64"),writeUint16:function(u){this.writeByte(u>>8&255),this.writeByte(u&255)},writeUint32:function(u){this.writeUint16(u>>16&65535),this.writeUint16(u&65535)},writeUint64:function(u){if(u>=9007199254740992||u<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+u+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(u/4294967296)),this.writeUint32(u%4294967296)},writeString:s("writeString"),canWriteBinary:function(u){return!1},writeBinary:s("writeChunk")};function a(u){var l=u.readByte(),m=l>>5,R=l&31;return{type:m,value:R}}function c(u,l){var m=u.value;if(m<24)return m;if(m==24)return l.readByte();if(m==25)return l.readUint16();if(m==26)return l.readUint32();if(m==27)return l.readUint64();if(m==31)return null;s("Additional info: "+m)()}function p(u,l,m){m.writeByte(u<<5|l)}function h(u,l,m){var R=u<<5;l<24?m.writeByte(R|l):l<256?(m.writeByte(R|24),m.writeByte(l)):l<65536?(m.writeByte(R|25),m.writeUint16(l)):l<4294967296?(m.writeByte(R|26),m.writeUint32(l)):(m.writeByte(R|27),m.writeUint64(l))}var y=new Error;function g(u){var l=a(u);switch(l.type){case 0:return c(l,u);case 1:return-1-c(l,u);case 2:return u.readChunk(c(l,u));case 3:var m=u.readChunk(c(l,u));return m.toString("utf-8");case 4:case 5:var R=c(l,u),$=[];if(R!==null){l.type===5&&(R*=2);for(var B=0;B<R;B++)$[B]=g(u)}else for(var b;(b=g(u))!==y;)$.push(b);if(l.type===5){for(var E={},B=0;B<$.length;B+=2)E[$[B]]=$[B+1];return E}else return $;case 6:var k=c(l,u),L=o[k],$=g(u);return L?L($):$;case 7:if(l.value===25)return u.readFloat16();if(l.value===26)return u.readFloat32();if(l.value===27)return u.readFloat64();switch(c(l,u)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return y;default:throw new Error("Unknown fixed value: "+l.value)}default:throw new Error("Unsupported header: "+JSON.stringify(l))}throw new Error("not implemented yet")}function v(u,l){for(var m=0;m<i.length;m++){var R=i[m].fn(u);if(R!==void 0)return h(6,i[m].tag,l),v(R,l)}if(u&&typeof u.toCBOR=="function"&&(u=u.toCBOR()),u===!1)h(7,20,l);else if(u===!0)h(7,21,l);else if(u===null)h(7,22,l);else if(u===void 0)h(7,23,l);else if(typeof u=="number")Math.floor(u)===u&&u<9007199254740992&&u>-9007199254740992?u<0?h(1,-1-u,l):h(0,u,l):(p(7,27,l),l.writeFloat64(u));else if(typeof u=="string")l.writeString(u,function(b){h(3,b,l)});else if(l.canWriteBinary(u))l.writeBinary(u,function(b){h(2,b,l)});else if(typeof u=="object")if(_.config.useToJSON&&typeof u.toJSON=="function"&&(u=u.toJSON()),Array.isArray(u)){h(4,u.length,l);for(var m=0;m<u.length;m++)v(u[m],l)}else{var B=Object.keys(u);h(5,B.length,l);for(var m=0;m<B.length;m++){const E=parseInt(B[m]);isNaN(E)?(v(B[m],l),v(u[B[m]],l)):(v(E,l),v(u[B[m]],l))}}else throw new Error("CBOR encoding not supported: "+u)}var T=[],I=[],_={config:{useToJSON:!0},addWriter:function(u,l){typeof u=="string"?I.push(function(m){if(u===m)return l(m)}):I.push(u)},addReader:function(u,l){typeof u=="string"?T.push(function(m,R){if(u===R)return l(m,R)}):T.push(u)},encode:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return v(u,B),B.result()}throw new Error("Unsupported output format: "+l)},encodeDataItem:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return u.getTag()!==void 0?(v(u,B),B.result()):(v(u.getData(),B),B.result())}throw new Error("Unsupported output format: "+l)},decode:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B)return g(B)}throw new Error("Unsupported input format: "+l)},decodeToDataItem:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B){const b=g(B);return b instanceof t?b:new t(b)}}throw new Error("Unsupported input format: "+l)},addSemanticEncode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return i.push({tag:u,fn:l}),this},addSemanticDecode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return o[u]=l,this}};function C(u){this.buffer=u,this.pos=0}C.prototype=Object.create(f.prototype),C.prototype.peekByte=function(){return this.buffer[this.pos]},C.prototype.readByte=function(){return this.buffer[this.pos++]},C.prototype.readUint16=function(){var u=this.buffer.readUInt16BE(this.pos);return this.pos+=2,u},C.prototype.readUint32=function(){var u=this.buffer.readUInt32BE(this.pos);return this.pos+=4,u},C.prototype.readFloat32=function(){var u=this.buffer.readFloatBE(this.pos);return this.pos+=4,u},C.prototype.readFloat64=function(){var u=this.buffer.readDoubleBE(this.pos);return this.pos+=8,u},C.prototype.readChunk=function(u){var l=Buffer.alloc(u);return this.buffer.copy(l,0,this.pos,this.pos+=u),l};function w(u){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=u}w.prototype=Object.create(d.prototype),w.prototype.writeByte=function(u){this.latestBuffer[this.latestBufferOffset++]=u,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},w.prototype.writeFloat32=function(u){var l=Buffer.alloc(4);l.writeFloatBE(u,0),this.writeBuffer(l)},w.prototype.writeFloat64=function(u){var l=Buffer.alloc(8);l.writeDoubleBE(u,0),this.writeBuffer(l)},w.prototype.writeString=function(u,l){var m=Buffer.from(u,"utf-8");l(m.length),this.writeBuffer(m)},w.prototype.canWriteBinary=function(u){return u instanceof Buffer},w.prototype.writeBinary=function(u,l){l(u.length),this.writeBuffer(u)},w.prototype.writeBuffer=function(u){if(!(u instanceof Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=u.length?(u.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=u.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(u),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(u),this.byteLength+=u.length},w.prototype.result=function(){for(var u=Buffer.alloc(this.byteLength),l=0,m=0;m<this.completeBuffers.length;m++){var R=this.completeBuffers[m];R.copy(u,l,0,R.length),l+=R.length}return this.latestBufferOffset&&this.latestBuffer.copy(u,l,0,this.latestBufferOffset),this.stringFormat?u.toString(this.stringFormat):u},typeof Buffer=="function"&&(_.addReader(function(u,l){if(Buffer.isBuffer(u))return new C(u);if(l==="hex"||l==="base64"){var m=Buffer.from(u,l);return new C(m)}}),_.addWriter(function(u){if(!u||u==="buffer")return new w;if(u==="hex"||u==="base64")return new w(u)}));function P(u){this.hex=u,this.pos=0}P.prototype=Object.create(f.prototype),P.prototype.peekByte=function(){var u=this.hex.substring(this.pos,2);return parseInt(u,16)},P.prototype.readByte=function(){var u=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(u,16)},P.prototype.readChunk=function(u){var l=this.hex.substring(this.pos,this.pos+u*2);return this.pos+=u*2,typeof Buffer=="function"?Buffer.from(l,"hex"):new n(l)};function D(u){this.$hex="",this.finalFormat=u||"hex"}return D.prototype=Object.create(d.prototype),D.prototype.writeByte=function(u){if(u<0||u>255)throw new Error("Byte value out of range: "+u);var l=u.toString(16);l.length==1&&(l="0"+l),this.$hex+=l},D.prototype.canWriteBinary=function(u){return u instanceof n||typeof Buffer=="function"&&u instanceof Buffer},D.prototype.writeBinary=function(u,l){if(u instanceof n)l(u.length()),this.$hex+=u.$hex;else if(typeof Buffer=="function"&&u instanceof Buffer)l(u.length),this.$hex+=u.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},D.prototype.result=function(){return this.finalFormat==="buffer"&&typeof Buffer=="function"?Buffer.from(this.$hex,"hex"):new n(this.$hex).toString(this.finalFormat)},D.prototype.writeString=function(u,l){var m=n.fromUtf8String(u);l(m.length()),this.$hex+=m.$hex},_.addReader(function(u,l){if(u instanceof n||u.$hex)return new P(u.$hex);if(l==="hex")return new P(u)}),_.addWriter(function(u){if(u==="hex")return new D}),_}();return r.addSemanticEncode(0,function(n){if(n instanceof Date)return n.toISOString()}).addSemanticDecode(0,function(n){return new Date(n)}).addSemanticDecode(1,function(n){return new Date(n)}),r})})(U9);var FF=U9.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DataItem=e.addWriter=e.addReader=e.addSemanticEncode=e.addSemanticDecode=e.decodeToDataItem=e.encodeDataItem=void 0;var t=FF;Object.defineProperty(e,"encodeDataItem",{enumerable:!0,get:function(){return t.encodeDataItem}}),Object.defineProperty(e,"decodeToDataItem",{enumerable:!0,get:function(){return t.decodeToDataItem}}),Object.defineProperty(e,"addSemanticDecode",{enumerable:!0,get:function(){return t.addSemanticDecode}}),Object.defineProperty(e,"addSemanticEncode",{enumerable:!0,get:function(){return t.addSemanticEncode}}),Object.defineProperty(e,"addReader",{enumerable:!0,get:function(){return t.addReader}}),Object.defineProperty(e,"addWriter",{enumerable:!0,get:function(){return t.addWriter}});var r=xd;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return r.DataItem}})})(pr);Object.defineProperty(Kc,"__esModule",{value:!0});Kc.patchTags=void 0;const Jp=pr,P8=[],LF=e=>{e.forEach(t=>{P8.find(r=>r===t)||((0,Jp.addSemanticEncode)(t,r=>{if(r instanceof Jp.DataItem&&r.getTag()===t)return r.getData()}),(0,Jp.addSemanticDecode)(t,r=>new Jp.DataItem(r,t)),P8.push(t))})};Kc.patchTags=LF;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.RegistryTypes=Lt.RegistryType=void 0;let Yn=class{constructor(t,r){this.type=t,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}};Lt.RegistryType=Yn;Lt.RegistryTypes={UUID:new Yn("uuid",37),BYTES:new Yn("bytes",void 0),CRYPTO_HDKEY:new Yn("crypto-hdkey",303),CRYPTO_KEYPATH:new Yn("crypto-keypath",304),CRYPTO_COIN_INFO:new Yn("crypto-coin-info",305),CRYPTO_ECKEY:new Yn("crypto-eckey",306),CRYPTO_OUTPUT:new Yn("crypto-output",308),CRYPTO_PSBT:new Yn("crypto-psbt",310),CRYPTO_ACCOUNT:new Yn("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new Yn("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new Yn("qr-hardware-call",1201),KEY_DERIVATION_CALL:new Yn("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new Yn("key-derivation-schema",1302)};var E1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptExpressions=e.ScriptExpression=void 0;class t{constructor(n,i){this.tag=n,this.expression=i,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}e.ScriptExpression=t,t.fromTag=r=>Object.values(e.ScriptExpressions).find(i=>i.getTag()===r),e.ScriptExpressions={SCRIPT_HASH:new t(400,"sh"),WITNESS_SCRIPT_HASH:new t(401,"wsh"),PUBLIC_KEY:new t(402,"pk"),PUBLIC_KEY_HASH:new t(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new t(404,"wpkh"),COMBO:new t(405,"combo"),MULTISIG:new t(406,"multi"),SORTED_MULTISIG:new t(407,"sortedmulti"),ADDRESS:new t(307,"addr"),RAW_SCRIPT:new t(408,"raw")}})(E1);Object.defineProperty(M9,"__esModule",{value:!0});const jF=Kc,KF=Lt,HF=E1,qF=Object.values(KF.RegistryTypes).filter(e=>!!e.getTag()).map(e=>e.getTag()),VF=Object.values(HF.ScriptExpressions).map(e=>e.getTag());(0,jF.patchTags)(qF.concat(VF));var wf={},rg={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.RegistryItem=void 0;const N8=Tt,zF=pr;let YF=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,zF.encodeDataItem)(this.toDataItem())},this.toUR=()=>new N8.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(t,r,n)=>{const i=this.toUR();return new N8.UREncoder(i,t,r,n)}}};gr.RegistryItem=YF;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CryptoCoinInfo=e.Network=e.Type=void 0;const t=pr,r=gr,n=Lt;var i;(function(d){d.type="1",d.network="2"})(i||(i={}));var o;(function(d){d[d.bitcoin=0]="bitcoin"})(o=e.Type||(e.Type={}));var s;(function(d){d[d.mainnet=0]="mainnet",d[d.testnet=1]="testnet"})(s=e.Network||(e.Network={}));class f extends r.RegistryItem{constructor(a,c){super(),this.type=a,this.network=c,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||o.bitcoin,this.getNetwork=()=>this.network||s.mainnet,this.toDataItem=()=>{const p={};return this.type&&(p[i.type]=this.type),this.network&&(p[i.network]=this.network),new t.DataItem(p)}}}e.CryptoCoinInfo=f,f.fromDataItem=d=>{const a=d.getData(),c=a[i.type],p=a[i.network];return new f(c,p)},f.fromCBOR=d=>{const a=(0,t.decodeToDataItem)(d);return f.fromDataItem(a)}})(rg);var wu={},Hc={};Object.defineProperty(Hc,"__esModule",{value:!0});Hc.PathComponent=void 0;let k9=class $9{constructor(t){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=t.index,this.hardened=t.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&$9.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};Hc.PathComponent=k9;k9.HARDENED_BIT=2147483648;Object.defineProperty(wu,"__esModule",{value:!0});wu.CryptoKeypath=void 0;const F9=pr,M8=Hc,GF=gr,JF=Lt;var Wa;(function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"})(Wa||(Wa={}));let $l=class extends GF.RegistryItem{constructor(t=[],r,n){super(),this.components=t,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>JF.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const i={},o=[];return this.components&&this.components.forEach(s=>{s.isWildcard()?o.push([]):o.push(s.getIndex()),o.push(s.isHardened())}),i[Wa.components]=o,this.sourceFingerprint&&(i[Wa.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[Wa.depth]=this.depth),new F9.DataItem(i)}}};wu.CryptoKeypath=$l;$l.fromDataItem=e=>{const t=e.getData(),r=[],n=t[Wa.components];if(n)for(let f=0;f<n.length;f+=2){const d=n[f+1],a=n[f];typeof a=="number"?r.push(new M8.PathComponent({index:a,hardened:d})):r.push(new M8.PathComponent({hardened:d}))}const i=t[Wa.source_fingerprint];let o;i&&(o=Buffer.alloc(4),o.writeUInt32BE(i,0));const s=t[Wa.depth];return new $l(r,o,s)};$l.fromCBOR=e=>{const t=(0,F9.decodeToDataItem)(e);return $l.fromDataItem(t)};Object.defineProperty(wf,"__esModule",{value:!0});wf.CryptoHDKey=void 0;const WF=Rf,XF=rg,U8=wu,L9=pr,ZF=gr,QF=Lt;var lt;(function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"})(lt||(lt={}));let Fl=class extends ZF.RegistryItem{constructor(t){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var r,n,i;let o,s,f=0,d=Buffer.alloc(4).fill(0);if(this.isMaster())o=Buffer.from("0488ADE4","hex"),s=0,f=0;else{s=((r=this.getOrigin())===null||r===void 0?void 0:r.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());const y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),g=y[y.length-1];g&&(f=g.isHardened()?g.getIndex()+2147483648:g.getIndex(),this.getParentFingerprint()&&(d=this.getParentFingerprint())),this.isPrivateKey()?o=Buffer.from("0488ADE4","hex"):o=Buffer.from("0488B21E","hex")}const a=Buffer.alloc(1);a.writeUInt8(s,0);const c=Buffer.alloc(4);c.writeUInt32BE(f,0);const p=this.getChainCode(),h=this.getKey();return(0,WF.encode)(Buffer.concat([o,a,d,c,p,h]))},this.getRegistryType=()=>QF.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var r,n,i,o,s,f,d;let a="";return this.getOrigin()&&!((r=this.getOrigin())===null||r===void 0)&&r.getSourceFingerprint()&&!((n=this.getOrigin())===null||n===void 0)&&n.getPath()&&(a+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(s=this.getOrigin())===null||s===void 0?void 0:s.getPath()}`),a+=this.getBip32Key(),this.getChildren()&&!((f=this.getChildren())===null||f===void 0)&&f.getPath()&&(a+=`/${(d=this.getChildren())===null||d===void 0?void 0:d.getPath()}`),a},this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{const r={};if(this.master)r[lt.is_master]=!0,r[lt.key_data]=this.key,r[lt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[lt.is_private]=this.privateKey),r[lt.key_data]=this.key,this.chainCode&&(r[lt.chain_code]=this.chainCode),this.useInfo){const n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[lt.use_info]=n}if(this.origin){const n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[lt.origin]=n}if(this.children){const n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[lt.children]=n}this.parentFingerprint&&(r[lt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[lt.name]=this.name),this.note!==void 0&&(r[lt.note]=this.note)}return new L9.DataItem(r)},t.isMaster?this.setupMasterKey(t):this.setupDeriveKey(t)}};wf.CryptoHDKey=Fl;Fl.fromDataItem=e=>{const t=e.getData(),r=!!t[lt.is_master],n=t[lt.is_private],i=t[lt.key_data],o=t[lt.chain_code],s=t[lt.use_info]?XF.CryptoCoinInfo.fromDataItem(t[lt.use_info]):void 0,f=t[lt.origin]?U8.CryptoKeypath.fromDataItem(t[lt.origin]):void 0,d=t[lt.children]?U8.CryptoKeypath.fromDataItem(t[lt.children]):void 0,a=t[lt.parent_fingerprint];let c;a&&(c=Buffer.alloc(4),c.writeUInt32BE(a,0));const p=t[lt.name],h=t[lt.note];return new Fl({isMaster:r,isPrivateKey:n,key:i,chainCode:o,useInfo:s,origin:f,children:d,parentFingerprint:c,name:p,note:h})};Fl.fromCBOR=e=>{const t=(0,L9.decodeToDataItem)(e);return Fl.fromDataItem(t)};var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.CryptoECKey=void 0;const j9=pr,eL=gr,tL=Lt;var Xa;(function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"})(Xa||(Xa={}));let Ll=class extends eL.RegistryItem{constructor(t){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>tL.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const r={};return this.curve&&(r[Xa.curve]=this.curve),this.privateKey!==void 0&&(r[Xa.private]=this.privateKey),r[Xa.data]=this.data,new j9.DataItem(r)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=t.data,this.curve=t.curve,this.privateKey=t.privateKey||void 0}};Tu.CryptoECKey=Ll;Ll.fromDataItem=e=>{const t=e.getData(),r=t[Xa.curve],n=t[Xa.private],i=t[Xa.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new Ll({data:i,curve:r,privateKey:n})};Ll.fromCBOR=e=>{const t=(0,j9.decodeToDataItem)(e);return Ll.fromDataItem(t)};var x1={};Object.defineProperty(x1,"__esModule",{value:!0});x1.Bytes=void 0;const K9=pr,rL=gr,nL=Lt;let jl=class extends rL.RegistryItem{constructor(t){super(),this.bytes=t,this.getRegistryType=()=>nL.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new K9.DataItem(this.bytes)}};x1.Bytes=jl;jl.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new jl(t)};jl.fromCBOR=e=>{const t=(0,K9.decodeToDataItem)(e);return jl.fromDataItem(t)};var Kl={},qc={};Object.defineProperty(qc,"__esModule",{value:!0});qc.MultiKey=void 0;const iL=Tu,oL=wf,sL=xd,aL=gr,k8=Lt;var Vc;(function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"})(Vc||(Vc={}));let c3=class extends aL.RegistryItem{constructor(t,r){super(),this.threshold=t,this.keys=r,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const n={};n[Vc.threshold]=this.threshold;const i=this.keys.map(o=>{const s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s});return n[Vc.keys]=i,new sL.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};qc.MultiKey=c3;c3.fromDataItem=e=>{const t=e.getData(),r=t[Vc.threshold],n=t[Vc.keys],i=[];return n.forEach(o=>{o.getTag()===k8.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(oL.CryptoHDKey.fromDataItem(o)):o.getTag()===k8.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(iL.CryptoECKey.fromDataItem(o))}),new c3(r,i)};Object.defineProperty(Kl,"__esModule",{value:!0});Kl.CryptoOutput=void 0;const d3=Tu,l3=wf,R6=pr,H9=qc,fL=gr,q9=Lt,_2=E1;let Wf=class extends fL.RegistryItem{constructor(t,r){super(),this.scriptExpressions=t,this.cryptoKey=r,this.getRegistryType=()=>q9.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof l3.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof d3.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof H9.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof d3.CryptoECKey||this.cryptoKey instanceof l3.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{const s=o.getTag();n.getTag()===void 0?n.setTag(s):n=new R6.DataItem(n,s)}),n}}};Kl.CryptoOutput=Wf;Wf.fromDataItem=e=>{const t=[];let r=e;for(;;){let o=r.getTag();const s=_2.ScriptExpression.fromTag(o);if(s)if(t.push(s),r.getData()instanceof R6.DataItem)r=r.getData(),o=r.getTag();else break;else break}const n=t.length;if(n>0&&(t[n-1].getExpression()===_2.ScriptExpressions.MULTISIG.getExpression()||t[n-1].getExpression()===_2.ScriptExpressions.SORTED_MULTISIG.getExpression())){const o=H9.MultiKey.fromDataItem(r);return new Wf(t,o)}if(r.getTag()===q9.RegistryTypes.CRYPTO_HDKEY.getTag()){const o=l3.CryptoHDKey.fromDataItem(r);return new Wf(t,o)}else{const o=d3.CryptoECKey.fromDataItem(r);return new Wf(t,o)}};Wf.fromCBOR=e=>{const t=(0,R6.decodeToDataItem)(e);return Wf.fromDataItem(t)};var Hl={};Object.defineProperty(Hl,"__esModule",{value:!0});Hl.CryptoPSBT=void 0;const V9=pr,uL=gr,cL=Lt;let ql=class extends uL.RegistryItem{constructor(t){super(),this.psbt=t,this.getRegistryType=()=>cL.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new V9.DataItem(this.psbt)}};Hl.CryptoPSBT=ql;ql.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new ql(t)};ql.fromCBOR=e=>{const t=(0,V9.decodeToDataItem)(e);return ql.fromDataItem(t)};var f0={},$8;function F8(){if($8)return f0;$8=1,Object.defineProperty(f0,"__esModule",{value:!0}),f0.CryptoAccount=void 0;const e=A6(),t=pr,r=gr,n=Lt;var i;(function(s){s[s.masterFingerprint=1]="masterFingerprint",s[s.outputDescriptors=2]="outputDescriptors"})(i||(i={}));class o extends r.RegistryItem{constructor(f,d){super(),this.masterFingerprint=f,this.outputDescriptors=d,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const a={};return this.masterFingerprint&&(a[i.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(a[i.outputDescriptors]=this.outputDescriptors.map(c=>c.toDataItem())),new t.DataItem(a)}}}return f0.CryptoAccount=o,o.fromDataItem=s=>{const f=s.getData(),d=Buffer.alloc(4),a=f[i.masterFingerprint];a&&d.writeUInt32BE(a,0);const p=f[i.outputDescriptors].map(h=>e.CryptoOutput.fromDataItem(h));return new o(d,p)},o.fromCBOR=s=>{const f=(0,t.decodeToDataItem)(s);return o.fromDataItem(f)},f0}var u0={},Zh={};Object.defineProperty(Zh,"__esModule",{value:!0});Zh.UnknownURTypeError=void 0;let dL=class extends Error{constructor(t){super(t)}};Zh.UnknownURTypeError=dL;var L8;function j8(){if(L8)return u0;L8=1,Object.defineProperty(u0,"__esModule",{value:!0}),u0.URRegistryDecoder=void 0;const e=Tt,t=A6(),r=Lt,n=Zh;class i extends e.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const s=this.resultUR();switch(s.type){case r.RegistryTypes.BYTES.getType():return t.Bytes.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_HDKEY.getType():return t.CryptoHDKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_KEYPATH.getType():return t.CryptoKeypath.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_COIN_INFO.getType():return t.CryptoCoinInfo.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ECKEY.getType():return t.CryptoECKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_OUTPUT.getType():return t.CryptoOutput.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_PSBT.getType():return t.CryptoPSBT.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ACCOUNT.getType():return t.CryptoAccount.fromCBOR(s.cbor);default:throw new n.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${s.type} is not supported now`)}}}}return u0.URRegistryDecoder=i,u0}var Vl={};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.CryptoMultiAccounts=void 0;const lL=Lt,hL=wf,pL=gr,z9=pr;var wi;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device",e[e.deviceId=4]="deviceId",e[e.version=5]="version"})(wi||(wi={}));let zl=class extends pL.RegistryItem{constructor(t,r,n,i,o){super(),this.masterFingerprint=t,this.keys=r,this.device=n,this.deviceId=i,this.version=o,this.getRegistryType=()=>lL.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{const s={};return this.masterFingerprint&&(s[wi.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(s[wi.keys]=this.keys.map(f=>{const d=f.toDataItem();return d.setTag(f.getRegistryType().getTag()),d})),this.device&&(s[wi.device]=this.device),this.deviceId&&(s[wi.deviceId]=this.deviceId),this.version&&(s[wi.version]=this.version),new z9.DataItem(s)}}};Vl.CryptoMultiAccounts=zl;zl.fromDataItem=e=>{const t=e.getData(),r=Buffer.alloc(4),n=t[wi.masterFingerprint];n&&r.writeUInt32BE(n,0);const o=t[wi.keys].map(a=>hL.CryptoHDKey.fromDataItem(a)),s=t[wi.device],f=t[wi.deviceId],d=t[wi.version];return new zl(r,o,s,f,d)};zl.fromCBOR=e=>{const t=(0,z9.decodeToDataItem)(e);return zl.fromDataItem(t)};var Y9={},Qh={},O6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyDerivationSchema=e.DerivationAlgorithm=e.Curve=void 0;const t=Lt,r=gr,n=pr,i=wu;var o;(function(a){a[a.keyPath=1]="keyPath",a[a.curve=2]="curve",a[a.algo=3]="algo"})(o||(o={}));var s;(function(a){a[a.secp256k1=0]="secp256k1",a[a.ed25519=1]="ed25519"})(s=e.Curve||(e.Curve={}));var f;(function(a){a[a.slip10=0]="slip10",a[a.bip32ed25519=1]="bip32ed25519"})(f=e.DerivationAlgorithm||(e.DerivationAlgorithm={}));class d extends r.RegistryItem{constructor(c,p=s.secp256k1,h=f.slip10){super(),this.keypath=c,this.curve=p,this.algo=h,this.getRegistryType=()=>t.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.toDataItem=()=>{const y={},g=this.getKeypath().toDataItem();return g.setTag(this.getKeypath().getRegistryType().getTag()),y[o.keyPath]=g,y[o.curve]=this.curve,y[o.algo]=this.algo,new n.DataItem(y)}}}e.KeyDerivationSchema=d,d.fromDataItem=a=>{const c=a.getData(),p=i.CryptoKeypath.fromDataItem(c[o.keyPath]),h=c[o.curve],y=c[o.algo];return new d(p,h,y)},d.fromCBOR=a=>{const c=(0,n.decodeToDataItem)(a);return d.fromDataItem(c)}})(O6);Object.defineProperty(Qh,"__esModule",{value:!0});Qh.KeyDerivation=void 0;const yL=Lt,gL=gr,G9=pr,mL=O6;var ng;(function(e){e[e.schemas=1]="schemas"})(ng||(ng={}));let Yl=class extends gL.RegistryItem{constructor(t){super(),this.schemas=t,this.getRegistryType=()=>yL.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{const r={};return r[ng.schemas]=this.schemas.map(n=>{const i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),new G9.DataItem(r)}}};Qh.KeyDerivation=Yl;Yl.fromDataItem=e=>{const r=e.getData()[ng.schemas].map(n=>mL.KeyDerivationSchema.fromDataItem(n));return new Yl(r)};Yl.fromCBOR=e=>{const t=(0,G9.decodeToDataItem)(e);return Yl.fromDataItem(t)};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QRHardwareCall=e.QRHardwareCallType=void 0;const t=Lt,r=gr,n=pr,i=Qh;var o;(function(d){d[d.type=1]="type",d[d.params=2]="params",d[d.origin=3]="origin"})(o||(o={}));var s;(function(d){d[d.KeyDerivation=0]="KeyDerivation"})(s=e.QRHardwareCallType||(e.QRHardwareCallType={}));class f extends r.RegistryItem{constructor(a,c,p){super(),this.type=a,this.params=c,this.origin=p,this.getRegistryType=()=>t.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const h={};h[o.type]=this.type;const y=this.params.toDataItem();return y.setTag(this.params.getRegistryType().getTag()),h[o.params]=y,this.origin&&(h[o.origin]=this.origin),new n.DataItem(h)}}}e.QRHardwareCall=f,f.fromDataItem=d=>{const a=d.getData(),c=a[o.type]||s.KeyDerivation;let p;switch(c){case s.KeyDerivation:p=i.KeyDerivation.fromDataItem(a[o.params])}const h=a[o.origin];return new f(c,p,h)},f.fromCBOR=d=>{const a=(0,n.decodeToDataItem)(d);return f.fromDataItem(a)}})(Y9);var J9={};Object.defineProperty(J9,"__esModule",{value:!0});var K8;function A6(){return K8||(K8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=e.extend=e.PathComponent=e.ScriptExpressions=e.MultiKey=e.CryptoPSBT=e.CryptoOutput=e.CryptoECKey=e.CryptoCoinInfoNetwork=e.CryptoCoinInfoType=e.CryptoCoinInfo=e.CryptoKeypath=e.CryptoMultiAccounts=e.CryptoHDKey=e.CryptoAccount=e.Bytes=e.URRegistryDecoder=e.DataItem=void 0;const t=Bf,r=ze;Object.defineProperty(e,"Buffer",{enumerable:!0,get:function(){return r.Buffer}});const n=wf;Object.defineProperty(e,"CryptoHDKey",{enumerable:!0,get:function(){return n.CryptoHDKey}});const i=wu;Object.defineProperty(e,"CryptoKeypath",{enumerable:!0,get:function(){return i.CryptoKeypath}});const o=rg;Object.defineProperty(e,"CryptoCoinInfo",{enumerable:!0,get:function(){return o.CryptoCoinInfo}}),Object.defineProperty(e,"CryptoCoinInfoType",{enumerable:!0,get:function(){return o.Type}}),Object.defineProperty(e,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return o.Network}});const s=Tu;Object.defineProperty(e,"CryptoECKey",{enumerable:!0,get:function(){return s.CryptoECKey}});const f=x1;Object.defineProperty(e,"Bytes",{enumerable:!0,get:function(){return f.Bytes}});const d=Kl;Object.defineProperty(e,"CryptoOutput",{enumerable:!0,get:function(){return d.CryptoOutput}});const a=Hl;Object.defineProperty(e,"CryptoPSBT",{enumerable:!0,get:function(){return a.CryptoPSBT}});const c=F8();Object.defineProperty(e,"CryptoAccount",{enumerable:!0,get:function(){return c.CryptoAccount}});const p=j8();Object.defineProperty(e,"URRegistryDecoder",{enumerable:!0,get:function(){return p.URRegistryDecoder}});const h=qc;Object.defineProperty(e,"MultiKey",{enumerable:!0,get:function(){return h.MultiKey}});const y=E1;Object.defineProperty(e,"ScriptExpressions",{enumerable:!0,get:function(){return y.ScriptExpressions}});const g=Hc;Object.defineProperty(e,"PathComponent",{enumerable:!0,get:function(){return g.PathComponent}});const v=gr,T=Lt,I=pr;var _=pr;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return _.DataItem}});const C=Kc,w=Vl;Object.defineProperty(e,"CryptoMultiAccounts",{enumerable:!0,get:function(){return w.CryptoMultiAccounts}});const P={URRegistryDecoder:p.URRegistryDecoder,Bytes:f.Bytes,CryptoAccount:c.CryptoAccount,CryptoHDKey:n.CryptoHDKey,CryptoMultiAccounts:w.CryptoMultiAccounts,CryptoKeypath:i.CryptoKeypath,CryptoCoinInfo:o.CryptoCoinInfo,CryptoCoinInfoType:o.Type,CryptoCoinInfoNetwork:o.Network,CryptoECKey:s.CryptoECKey,CryptoOutput:d.CryptoOutput,CryptoPSBT:a.CryptoPSBT,MultiKey:h.MultiKey,ScriptExpressions:y.ScriptExpressions,PathComponent:g.PathComponent},D={addReader:I.addReader,addSemanticDecode:I.addSemanticDecode,addSemanticEncode:I.addSemanticEncode,addWriter:I.addWriter,patchTags:C.patchTags},u={RegistryTypes:T.RegistryTypes,RegistryItem:v.RegistryItem,RegistryType:T.RegistryType,decodeToDataItem:I.decodeToDataItem,encodeDataItem:I.encodeDataItem,cbor:D};e.extend=u,(0,t.__exportStar)(Zh,e),(0,t.__exportStar)(j8(),e),(0,t.__exportStar)(pr,e),(0,t.__exportStar)(F8(),e),(0,t.__exportStar)(Hl,e),(0,t.__exportStar)(wf,e),(0,t.__exportStar)(Vl,e),(0,t.__exportStar)(Y9,e),(0,t.__exportStar)(Qh,e),(0,t.__exportStar)(O6,e),(0,t.__exportStar)(Kl,e),(0,t.__exportStar)(rg,e),(0,t.__exportStar)(Tu,e),(0,t.__exportStar)(qc,e),(0,t.__exportStar)(wu,e),(0,t.__exportStar)(M9,e),(0,t.__exportStar)(Hc,e),(0,t.__exportStar)(gr,e),(0,t.__exportStar)(Lt,e),(0,t.__exportStar)(J9,e),(0,t.__exportStar)(Kc,e),e.default=P}(v2)),v2}var Wp,bL=new Uint8Array(16);function W9(){if(!Wp&&(Wp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Wp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wp(bL)}const vL=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function S1(e){return typeof e=="string"&&vL.test(e)}var wr=[];for(var w2=0;w2<256;++w2)wr.push((w2+256).toString(16).substr(1));function B1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(wr[e[t+0]]+wr[e[t+1]]+wr[e[t+2]]+wr[e[t+3]]+"-"+wr[e[t+4]]+wr[e[t+5]]+"-"+wr[e[t+6]]+wr[e[t+7]]+"-"+wr[e[t+8]]+wr[e[t+9]]+"-"+wr[e[t+10]]+wr[e[t+11]]+wr[e[t+12]]+wr[e[t+13]]+wr[e[t+14]]+wr[e[t+15]]).toLowerCase();if(!S1(r))throw TypeError("Stringified UUID is invalid");return r}var H8,T2,I2=0,E2=0;function _L(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var o=e.node||H8,s=e.clockseq!==void 0?e.clockseq:T2;if(o==null||s==null){var f=e.random||(e.rng||W9)();o==null&&(o=H8=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=T2=(f[6]<<8|f[7])&16383)}var d=e.msecs!==void 0?e.msecs:Date.now(),a=e.nsecs!==void 0?e.nsecs:E2+1,c=d-I2+(a-E2)/1e4;if(c<0&&e.clockseq===void 0&&(s=s+1&16383),(c<0||d>I2)&&e.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");I2=d,E2=a,T2=s,d+=122192928e5;var p=((d&268435455)*1e4+a)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var h=d/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=h&255,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var y=0;y<6;++y)i[n+y]=o[y];return t||B1(i)}function X9(e){if(!S1(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function wL(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var TL="6ba7b810-9dad-11d1-80b4-00c04fd430c8",IL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Z9(e,t,r){function n(i,o,s,f){if(typeof i=="string"&&(i=wL(i)),typeof o=="string"&&(o=X9(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+i.length);if(d.set(o),d.set(i,o.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,s){f=f||0;for(var a=0;a<16;++a)s[f+a]=d[a];return s}return B1(d)}try{n.name=e}catch{}return n.DNS=TL,n.URL=IL,n}function EL(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return xL(SL(BL(e),e.length*8))}function xL(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(s)}return t}function Q9(e){return(e+64>>>9<<4)+14+1}function SL(e,t){e[t>>5]|=128<<t%32,e[Q9(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var f=r,d=n,a=i,c=o;r=sn(r,n,i,o,e[s],7,-680876936),o=sn(o,r,n,i,e[s+1],12,-389564586),i=sn(i,o,r,n,e[s+2],17,606105819),n=sn(n,i,o,r,e[s+3],22,-1044525330),r=sn(r,n,i,o,e[s+4],7,-176418897),o=sn(o,r,n,i,e[s+5],12,1200080426),i=sn(i,o,r,n,e[s+6],17,-1473231341),n=sn(n,i,o,r,e[s+7],22,-45705983),r=sn(r,n,i,o,e[s+8],7,1770035416),o=sn(o,r,n,i,e[s+9],12,-1958414417),i=sn(i,o,r,n,e[s+10],17,-42063),n=sn(n,i,o,r,e[s+11],22,-1990404162),r=sn(r,n,i,o,e[s+12],7,1804603682),o=sn(o,r,n,i,e[s+13],12,-40341101),i=sn(i,o,r,n,e[s+14],17,-1502002290),n=sn(n,i,o,r,e[s+15],22,1236535329),r=an(r,n,i,o,e[s+1],5,-165796510),o=an(o,r,n,i,e[s+6],9,-1069501632),i=an(i,o,r,n,e[s+11],14,643717713),n=an(n,i,o,r,e[s],20,-373897302),r=an(r,n,i,o,e[s+5],5,-701558691),o=an(o,r,n,i,e[s+10],9,38016083),i=an(i,o,r,n,e[s+15],14,-660478335),n=an(n,i,o,r,e[s+4],20,-405537848),r=an(r,n,i,o,e[s+9],5,568446438),o=an(o,r,n,i,e[s+14],9,-1019803690),i=an(i,o,r,n,e[s+3],14,-187363961),n=an(n,i,o,r,e[s+8],20,1163531501),r=an(r,n,i,o,e[s+13],5,-1444681467),o=an(o,r,n,i,e[s+2],9,-51403784),i=an(i,o,r,n,e[s+7],14,1735328473),n=an(n,i,o,r,e[s+12],20,-1926607734),r=fn(r,n,i,o,e[s+5],4,-378558),o=fn(o,r,n,i,e[s+8],11,-2022574463),i=fn(i,o,r,n,e[s+11],16,1839030562),n=fn(n,i,o,r,e[s+14],23,-35309556),r=fn(r,n,i,o,e[s+1],4,-1530992060),o=fn(o,r,n,i,e[s+4],11,1272893353),i=fn(i,o,r,n,e[s+7],16,-155497632),n=fn(n,i,o,r,e[s+10],23,-1094730640),r=fn(r,n,i,o,e[s+13],4,681279174),o=fn(o,r,n,i,e[s],11,-358537222),i=fn(i,o,r,n,e[s+3],16,-722521979),n=fn(n,i,o,r,e[s+6],23,76029189),r=fn(r,n,i,o,e[s+9],4,-640364487),o=fn(o,r,n,i,e[s+12],11,-421815835),i=fn(i,o,r,n,e[s+15],16,530742520),n=fn(n,i,o,r,e[s+2],23,-995338651),r=un(r,n,i,o,e[s],6,-198630844),o=un(o,r,n,i,e[s+7],10,1126891415),i=un(i,o,r,n,e[s+14],15,-1416354905),n=un(n,i,o,r,e[s+5],21,-57434055),r=un(r,n,i,o,e[s+12],6,1700485571),o=un(o,r,n,i,e[s+3],10,-1894986606),i=un(i,o,r,n,e[s+10],15,-1051523),n=un(n,i,o,r,e[s+1],21,-2054922799),r=un(r,n,i,o,e[s+8],6,1873313359),o=un(o,r,n,i,e[s+15],10,-30611744),i=un(i,o,r,n,e[s+6],15,-1560198380),n=un(n,i,o,r,e[s+13],21,1309151649),r=un(r,n,i,o,e[s+4],6,-145523070),o=un(o,r,n,i,e[s+11],10,-1120210379),i=un(i,o,r,n,e[s+2],15,718787259),n=un(n,i,o,r,e[s+9],21,-343485551),r=Oa(r,f),n=Oa(n,d),i=Oa(i,a),o=Oa(o,c)}return[r,n,i,o]}function BL(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(Q9(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function Oa(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function CL(e,t){return e<<t|e>>>32-t}function C1(e,t,r,n,i,o){return Oa(CL(Oa(Oa(t,e),Oa(n,o)),i),r)}function sn(e,t,r,n,i,o,s){return C1(t&r|~t&n,e,t,i,o,s)}function an(e,t,r,n,i,o,s){return C1(t&n|r&~n,e,t,i,o,s)}function fn(e,t,r,n,i,o,s){return C1(t^r^n,e,t,i,o,s)}function un(e,t,r,n,i,o,s){return C1(r^(t|~n),e,t,i,o,s)}var DL=Z9("v3",48,EL);const RL=DL;function OL(e,t,r){e=e||{};var n=e.random||(e.rng||W9)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return B1(n)}function AL(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function x2(e,t){return e<<t|e>>>32-t}function PL(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),f=new Array(s),d=0;d<s;++d){for(var a=new Uint32Array(16),c=0;c<16;++c)a[c]=e[d*64+c*4]<<24|e[d*64+c*4+1]<<16|e[d*64+c*4+2]<<8|e[d*64+c*4+3];f[d]=a}f[s-1][14]=(e.length-1)*8/Math.pow(2,32),f[s-1][14]=Math.floor(f[s-1][14]),f[s-1][15]=(e.length-1)*8&4294967295;for(var p=0;p<s;++p){for(var h=new Uint32Array(80),y=0;y<16;++y)h[y]=f[p][y];for(var g=16;g<80;++g)h[g]=x2(h[g-3]^h[g-8]^h[g-14]^h[g-16],1);for(var v=r[0],T=r[1],I=r[2],_=r[3],C=r[4],w=0;w<80;++w){var P=Math.floor(w/20),D=x2(v,5)+AL(P,T,I,_)+C+t[P]+h[w]>>>0;C=_,_=I,I=x2(T,30)>>>0,T=v,v=D}r[0]=r[0]+v>>>0,r[1]=r[1]+T>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+_>>>0,r[4]=r[4]+C>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var NL=Z9("v5",80,PL);const ML=NL,UL="00000000-0000-0000-0000-000000000000";function kL(e){if(!S1(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const $L=Object.freeze(Object.defineProperty({__proto__:null,NIL:UL,parse:X9,stringify:B1,v1:_L,v3:RL,v4:OL,v5:ML,validate:S1,version:kL},Symbol.toStringTag,{value:"Module"})),FL=hi($L);var S2={};const LL="elliptic",jL="6.5.4",KL="EC cryptography",HL="lib/elliptic.js",qL=["lib"],VL={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},zL={type:"git",url:"git@github.com:indutny/elliptic"},YL=["EC","Elliptic","curve","Cryptography"],GL="Fedor Indutny <fedor@indutny.com>",JL="MIT",WL={url:"https://github.com/indutny/elliptic/issues"},XL="https://github.com/indutny/elliptic",ZL={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},QL={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},ej={name:LL,version:jL,description:KL,main:HL,files:qL,scripts:VL,repository:zL,keywords:YL,author:GL,license:JL,bugs:WL,homepage:XL,devDependencies:ZL,dependencies:QL};var B2={},Oy={exports:{}};Oy.exports;var q8;function fa(){return q8||(q8=1,function(e){(function(t,r){function n(B,b){if(!B)throw new Error(b||"Assertion failed")}function i(B,b){B.super_=b;var E=function(){};E.prototype=b.prototype,B.prototype=new E,B.prototype.constructor=B}function o(B,b,E){if(o.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((b==="le"||b==="be")&&(E=b,b=10),this._init(B||0,b||10,E||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=md.Buffer}catch{}o.isBN=function(b){return b instanceof o?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===o.wordSize&&Array.isArray(b.words)},o.max=function(b,E){return b.cmp(E)>0?b:E},o.min=function(b,E){return b.cmp(E)<0?b:E},o.prototype._init=function(b,E,k){if(typeof b=="number")return this._initNumber(b,E,k);if(typeof b=="object")return this._initArray(b,E,k);E==="hex"&&(E=16),n(E===(E|0)&&E>=2&&E<=36),b=b.toString().replace(/\s+/g,"");var L=0;b[0]==="-"&&(L++,this.negative=1),L<b.length&&(E===16?this._parseHex(b,L,k):(this._parseBase(b,E,L),k==="le"&&this._initArray(this.toArray(),E,k)))},o.prototype._initNumber=function(b,E,k){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(n(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),E,k)},o.prototype._initArray=function(b,E,k){if(n(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var L=0;L<this.length;L++)this.words[L]=0;var $,G,oe=0;if(k==="be")for(L=b.length-1,$=0;L>=0;L-=3)G=b[L]|b[L-1]<<8|b[L-2]<<16,this.words[$]|=G<<oe&67108863,this.words[$+1]=G>>>26-oe&67108863,oe+=24,oe>=26&&(oe-=26,$++);else if(k==="le")for(L=0,$=0;L<b.length;L+=3)G=b[L]|b[L+1]<<8|b[L+2]<<16,this.words[$]|=G<<oe&67108863,this.words[$+1]=G>>>26-oe&67108863,oe+=24,oe>=26&&(oe-=26,$++);return this.strip()};function f(B,b){var E=B.charCodeAt(b);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function d(B,b,E){var k=f(B,E);return E-1>=b&&(k|=f(B,E-1)<<4),k}o.prototype._parseHex=function(b,E,k){this.length=Math.ceil((b.length-E)/6),this.words=new Array(this.length);for(var L=0;L<this.length;L++)this.words[L]=0;var $=0,G=0,oe;if(k==="be")for(L=b.length-1;L>=E;L-=2)oe=d(b,E,L)<<$,this.words[G]|=oe&67108863,$>=18?($-=18,G+=1,this.words[G]|=oe>>>26):$+=8;else{var M=b.length-E;for(L=M%2===0?E+1:E;L<b.length;L+=2)oe=d(b,E,L)<<$,this.words[G]|=oe&67108863,$>=18?($-=18,G+=1,this.words[G]|=oe>>>26):$+=8}this.strip()};function a(B,b,E,k){for(var L=0,$=Math.min(B.length,E),G=b;G<$;G++){var oe=B.charCodeAt(G)-48;L*=k,oe>=49?L+=oe-49+10:oe>=17?L+=oe-17+10:L+=oe}return L}o.prototype._parseBase=function(b,E,k){this.words=[0],this.length=1;for(var L=0,$=1;$<=67108863;$*=E)L++;L--,$=$/E|0;for(var G=b.length-k,oe=G%L,M=Math.min(G,G-oe)+k,S=0,K=k;K<M;K+=L)S=a(b,K,K+L,E),this.imuln($),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(oe!==0){var he=1;for(S=a(b,K,b.length,E),K=0;K<oe;K++)he*=E;this.imuln(he),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}this.strip()},o.prototype.copy=function(b){b.words=new Array(this.length);for(var E=0;E<this.length;E++)b.words[E]=this.words[E];b.length=this.length,b.negative=this.negative,b.red=this.red},o.prototype.clone=function(){var b=new o(null);return this.copy(b),b},o.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(b,E){b=b||10,E=E|0||1;var k;if(b===16||b==="hex"){k="";for(var L=0,$=0,G=0;G<this.length;G++){var oe=this.words[G],M=((oe<<L|$)&16777215).toString(16);$=oe>>>24-L&16777215,$!==0||G!==this.length-1?k=c[6-M.length]+M+k:k=M+k,L+=2,L>=26&&(L-=26,G--)}for($!==0&&(k=$.toString(16)+k);k.length%E!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(b===(b|0)&&b>=2&&b<=36){var S=p[b],K=h[b];k="";var he=this.clone();for(he.negative=0;!he.isZero();){var ie=he.modn(K).toString(b);he=he.idivn(K),he.isZero()?k=ie+k:k=c[S-ie.length]+ie+k}for(this.isZero()&&(k="0"+k);k.length%E!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(b,E){return n(typeof s<"u"),this.toArrayLike(s,b,E)},o.prototype.toArray=function(b,E){return this.toArrayLike(Array,b,E)},o.prototype.toArrayLike=function(b,E,k){var L=this.byteLength(),$=k||Math.max(1,L);n(L<=$,"byte array longer than desired length"),n($>0,"Requested array length <= 0"),this.strip();var G=E==="le",oe=new b($),M,S,K=this.clone();if(G){for(S=0;!K.isZero();S++)M=K.andln(255),K.iushrn(8),oe[S]=M;for(;S<$;S++)oe[S]=0}else{for(S=0;S<$-L;S++)oe[S]=0;for(S=0;!K.isZero();S++)M=K.andln(255),K.iushrn(8),oe[$-S-1]=M}return oe},Math.clz32?o.prototype._countBits=function(b){return 32-Math.clz32(b)}:o.prototype._countBits=function(b){var E=b,k=0;return E>=4096&&(k+=13,E>>>=13),E>=64&&(k+=7,E>>>=7),E>=8&&(k+=4,E>>>=4),E>=2&&(k+=2,E>>>=2),k+E},o.prototype._zeroBits=function(b){if(b===0)return 26;var E=b,k=0;return E&8191||(k+=13,E>>>=13),E&127||(k+=7,E>>>=7),E&15||(k+=4,E>>>=4),E&3||(k+=2,E>>>=2),E&1||k++,k},o.prototype.bitLength=function(){var b=this.words[this.length-1],E=this._countBits(b);return(this.length-1)*26+E};function y(B){for(var b=new Array(B.bitLength()),E=0;E<b.length;E++){var k=E/26|0,L=E%26;b[E]=(B.words[k]&1<<L)>>>L}return b}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,E=0;E<this.length;E++){var k=this._zeroBits(this.words[E]);if(b+=k,k!==26)break}return b},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},o.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var E=0;E<b.length;E++)this.words[E]=this.words[E]|b.words[E];return this.strip()},o.prototype.ior=function(b){return n((this.negative|b.negative)===0),this.iuor(b)},o.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},o.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},o.prototype.iuand=function(b){var E;this.length>b.length?E=b:E=this;for(var k=0;k<E.length;k++)this.words[k]=this.words[k]&b.words[k];return this.length=E.length,this.strip()},o.prototype.iand=function(b){return n((this.negative|b.negative)===0),this.iuand(b)},o.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},o.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},o.prototype.iuxor=function(b){var E,k;this.length>b.length?(E=this,k=b):(E=b,k=this);for(var L=0;L<k.length;L++)this.words[L]=E.words[L]^k.words[L];if(this!==E)for(;L<E.length;L++)this.words[L]=E.words[L];return this.length=E.length,this.strip()},o.prototype.ixor=function(b){return n((this.negative|b.negative)===0),this.iuxor(b)},o.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},o.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},o.prototype.inotn=function(b){n(typeof b=="number"&&b>=0);var E=Math.ceil(b/26)|0,k=b%26;this._expand(E),k>0&&E--;for(var L=0;L<E;L++)this.words[L]=~this.words[L]&67108863;return k>0&&(this.words[L]=~this.words[L]&67108863>>26-k),this.strip()},o.prototype.notn=function(b){return this.clone().inotn(b)},o.prototype.setn=function(b,E){n(typeof b=="number"&&b>=0);var k=b/26|0,L=b%26;return this._expand(k+1),E?this.words[k]=this.words[k]|1<<L:this.words[k]=this.words[k]&~(1<<L),this.strip()},o.prototype.iadd=function(b){var E;if(this.negative!==0&&b.negative===0)return this.negative=0,E=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,E=this.isub(b),b.negative=1,E._normSign();var k,L;this.length>b.length?(k=this,L=b):(k=b,L=this);for(var $=0,G=0;G<L.length;G++)E=(k.words[G]|0)+(L.words[G]|0)+$,this.words[G]=E&67108863,$=E>>>26;for(;$!==0&&G<k.length;G++)E=(k.words[G]|0)+$,this.words[G]=E&67108863,$=E>>>26;if(this.length=k.length,$!==0)this.words[this.length]=$,this.length++;else if(k!==this)for(;G<k.length;G++)this.words[G]=k.words[G];return this},o.prototype.add=function(b){var E;return b.negative!==0&&this.negative===0?(b.negative=0,E=this.sub(b),b.negative^=1,E):b.negative===0&&this.negative!==0?(this.negative=0,E=b.sub(this),this.negative=1,E):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},o.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var E=this.iadd(b);return b.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var k=this.cmp(b);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;var L,$;k>0?(L=this,$=b):(L=b,$=this);for(var G=0,oe=0;oe<$.length;oe++)E=(L.words[oe]|0)-($.words[oe]|0)+G,G=E>>26,this.words[oe]=E&67108863;for(;G!==0&&oe<L.length;oe++)E=(L.words[oe]|0)+G,G=E>>26,this.words[oe]=E&67108863;if(G===0&&oe<L.length&&L!==this)for(;oe<L.length;oe++)this.words[oe]=L.words[oe];return this.length=Math.max(this.length,oe),L!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(b){return this.clone().isub(b)};function g(B,b,E){E.negative=b.negative^B.negative;var k=B.length+b.length|0;E.length=k,k=k-1|0;var L=B.words[0]|0,$=b.words[0]|0,G=L*$,oe=G&67108863,M=G/67108864|0;E.words[0]=oe;for(var S=1;S<k;S++){for(var K=M>>>26,he=M&67108863,ie=Math.min(S,b.length-1),fe=Math.max(0,S-B.length+1);fe<=ie;fe++){var pe=S-fe|0;L=B.words[pe]|0,$=b.words[fe]|0,G=L*$+he,K+=G/67108864|0,he=G&67108863}E.words[S]=he|0,M=K|0}return M!==0?E.words[S]=M|0:E.length--,E.strip()}var v=function(b,E,k){var L=b.words,$=E.words,G=k.words,oe=0,M,S,K,he=L[0]|0,ie=he&8191,fe=he>>>13,pe=L[1]|0,se=pe&8191,ee=pe>>>13,te=L[2]|0,ae=te&8191,X=te>>>13,V=L[3]|0,Y=V&8191,ce=V>>>13,_e=L[4]|0,Ce=_e&8191,Q=_e>>>13,U=L[5]|0,F=U&8191,W=U>>>13,be=L[6]|0,Ee=be&8191,xe=be>>>13,Ue=L[7]|0,de=Ue&8191,ge=Ue>>>13,j=L[8]|0,O=j&8191,x=j>>>13,A=L[9]|0,H=A&8191,Z=A>>>13,ue=$[0]|0,le=ue&8191,Te=ue>>>13,Ne=$[1]|0,Pe=Ne&8191,Ae=Ne>>>13,Me=$[2]|0,Ve=Me&8191,Ye=Me>>>13,Ts=$[3]|0,mt=Ts&8191,St=Ts>>>13,Cp=$[4]|0,Bt=Cp&8191,Ct=Cp>>>13,Dp=$[5]|0,Dt=Dp&8191,Rt=Dp>>>13,Rp=$[6]|0,Ot=Rp&8191,At=Rp>>>13,Op=$[7]|0,Pt=Op&8191,Nt=Op>>>13,Ap=$[8]|0,Mt=Ap&8191,Ut=Ap>>>13,Pp=$[9]|0,kt=Pp&8191,$t=Pp>>>13;k.negative=b.negative^E.negative,k.length=19,M=Math.imul(ie,le),S=Math.imul(ie,Te),S=S+Math.imul(fe,le)|0,K=Math.imul(fe,Te);var N=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(N>>>26)|0,N&=67108863,M=Math.imul(se,le),S=Math.imul(se,Te),S=S+Math.imul(ee,le)|0,K=Math.imul(ee,Te),M=M+Math.imul(ie,Pe)|0,S=S+Math.imul(ie,Ae)|0,S=S+Math.imul(fe,Pe)|0,K=K+Math.imul(fe,Ae)|0;var q=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(q>>>26)|0,q&=67108863,M=Math.imul(ae,le),S=Math.imul(ae,Te),S=S+Math.imul(X,le)|0,K=Math.imul(X,Te),M=M+Math.imul(se,Pe)|0,S=S+Math.imul(se,Ae)|0,S=S+Math.imul(ee,Pe)|0,K=K+Math.imul(ee,Ae)|0,M=M+Math.imul(ie,Ve)|0,S=S+Math.imul(ie,Ye)|0,S=S+Math.imul(fe,Ve)|0,K=K+Math.imul(fe,Ye)|0;var z=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(z>>>26)|0,z&=67108863,M=Math.imul(Y,le),S=Math.imul(Y,Te),S=S+Math.imul(ce,le)|0,K=Math.imul(ce,Te),M=M+Math.imul(ae,Pe)|0,S=S+Math.imul(ae,Ae)|0,S=S+Math.imul(X,Pe)|0,K=K+Math.imul(X,Ae)|0,M=M+Math.imul(se,Ve)|0,S=S+Math.imul(se,Ye)|0,S=S+Math.imul(ee,Ve)|0,K=K+Math.imul(ee,Ye)|0,M=M+Math.imul(ie,mt)|0,S=S+Math.imul(ie,St)|0,S=S+Math.imul(fe,mt)|0,K=K+Math.imul(fe,St)|0;var J=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(J>>>26)|0,J&=67108863,M=Math.imul(Ce,le),S=Math.imul(Ce,Te),S=S+Math.imul(Q,le)|0,K=Math.imul(Q,Te),M=M+Math.imul(Y,Pe)|0,S=S+Math.imul(Y,Ae)|0,S=S+Math.imul(ce,Pe)|0,K=K+Math.imul(ce,Ae)|0,M=M+Math.imul(ae,Ve)|0,S=S+Math.imul(ae,Ye)|0,S=S+Math.imul(X,Ve)|0,K=K+Math.imul(X,Ye)|0,M=M+Math.imul(se,mt)|0,S=S+Math.imul(se,St)|0,S=S+Math.imul(ee,mt)|0,K=K+Math.imul(ee,St)|0,M=M+Math.imul(ie,Bt)|0,S=S+Math.imul(ie,Ct)|0,S=S+Math.imul(fe,Bt)|0,K=K+Math.imul(fe,Ct)|0;var re=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(re>>>26)|0,re&=67108863,M=Math.imul(F,le),S=Math.imul(F,Te),S=S+Math.imul(W,le)|0,K=Math.imul(W,Te),M=M+Math.imul(Ce,Pe)|0,S=S+Math.imul(Ce,Ae)|0,S=S+Math.imul(Q,Pe)|0,K=K+Math.imul(Q,Ae)|0,M=M+Math.imul(Y,Ve)|0,S=S+Math.imul(Y,Ye)|0,S=S+Math.imul(ce,Ve)|0,K=K+Math.imul(ce,Ye)|0,M=M+Math.imul(ae,mt)|0,S=S+Math.imul(ae,St)|0,S=S+Math.imul(X,mt)|0,K=K+Math.imul(X,St)|0,M=M+Math.imul(se,Bt)|0,S=S+Math.imul(se,Ct)|0,S=S+Math.imul(ee,Bt)|0,K=K+Math.imul(ee,Ct)|0,M=M+Math.imul(ie,Dt)|0,S=S+Math.imul(ie,Rt)|0,S=S+Math.imul(fe,Dt)|0,K=K+Math.imul(fe,Rt)|0;var ne=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(ne>>>26)|0,ne&=67108863,M=Math.imul(Ee,le),S=Math.imul(Ee,Te),S=S+Math.imul(xe,le)|0,K=Math.imul(xe,Te),M=M+Math.imul(F,Pe)|0,S=S+Math.imul(F,Ae)|0,S=S+Math.imul(W,Pe)|0,K=K+Math.imul(W,Ae)|0,M=M+Math.imul(Ce,Ve)|0,S=S+Math.imul(Ce,Ye)|0,S=S+Math.imul(Q,Ve)|0,K=K+Math.imul(Q,Ye)|0,M=M+Math.imul(Y,mt)|0,S=S+Math.imul(Y,St)|0,S=S+Math.imul(ce,mt)|0,K=K+Math.imul(ce,St)|0,M=M+Math.imul(ae,Bt)|0,S=S+Math.imul(ae,Ct)|0,S=S+Math.imul(X,Bt)|0,K=K+Math.imul(X,Ct)|0,M=M+Math.imul(se,Dt)|0,S=S+Math.imul(se,Rt)|0,S=S+Math.imul(ee,Dt)|0,K=K+Math.imul(ee,Rt)|0,M=M+Math.imul(ie,Ot)|0,S=S+Math.imul(ie,At)|0,S=S+Math.imul(fe,Ot)|0,K=K+Math.imul(fe,At)|0;var ye=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(ye>>>26)|0,ye&=67108863,M=Math.imul(de,le),S=Math.imul(de,Te),S=S+Math.imul(ge,le)|0,K=Math.imul(ge,Te),M=M+Math.imul(Ee,Pe)|0,S=S+Math.imul(Ee,Ae)|0,S=S+Math.imul(xe,Pe)|0,K=K+Math.imul(xe,Ae)|0,M=M+Math.imul(F,Ve)|0,S=S+Math.imul(F,Ye)|0,S=S+Math.imul(W,Ve)|0,K=K+Math.imul(W,Ye)|0,M=M+Math.imul(Ce,mt)|0,S=S+Math.imul(Ce,St)|0,S=S+Math.imul(Q,mt)|0,K=K+Math.imul(Q,St)|0,M=M+Math.imul(Y,Bt)|0,S=S+Math.imul(Y,Ct)|0,S=S+Math.imul(ce,Bt)|0,K=K+Math.imul(ce,Ct)|0,M=M+Math.imul(ae,Dt)|0,S=S+Math.imul(ae,Rt)|0,S=S+Math.imul(X,Dt)|0,K=K+Math.imul(X,Rt)|0,M=M+Math.imul(se,Ot)|0,S=S+Math.imul(se,At)|0,S=S+Math.imul(ee,Ot)|0,K=K+Math.imul(ee,At)|0,M=M+Math.imul(ie,Pt)|0,S=S+Math.imul(ie,Nt)|0,S=S+Math.imul(fe,Pt)|0,K=K+Math.imul(fe,Nt)|0;var me=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(me>>>26)|0,me&=67108863,M=Math.imul(O,le),S=Math.imul(O,Te),S=S+Math.imul(x,le)|0,K=Math.imul(x,Te),M=M+Math.imul(de,Pe)|0,S=S+Math.imul(de,Ae)|0,S=S+Math.imul(ge,Pe)|0,K=K+Math.imul(ge,Ae)|0,M=M+Math.imul(Ee,Ve)|0,S=S+Math.imul(Ee,Ye)|0,S=S+Math.imul(xe,Ve)|0,K=K+Math.imul(xe,Ye)|0,M=M+Math.imul(F,mt)|0,S=S+Math.imul(F,St)|0,S=S+Math.imul(W,mt)|0,K=K+Math.imul(W,St)|0,M=M+Math.imul(Ce,Bt)|0,S=S+Math.imul(Ce,Ct)|0,S=S+Math.imul(Q,Bt)|0,K=K+Math.imul(Q,Ct)|0,M=M+Math.imul(Y,Dt)|0,S=S+Math.imul(Y,Rt)|0,S=S+Math.imul(ce,Dt)|0,K=K+Math.imul(ce,Rt)|0,M=M+Math.imul(ae,Ot)|0,S=S+Math.imul(ae,At)|0,S=S+Math.imul(X,Ot)|0,K=K+Math.imul(X,At)|0,M=M+Math.imul(se,Pt)|0,S=S+Math.imul(se,Nt)|0,S=S+Math.imul(ee,Pt)|0,K=K+Math.imul(ee,Nt)|0,M=M+Math.imul(ie,Mt)|0,S=S+Math.imul(ie,Ut)|0,S=S+Math.imul(fe,Mt)|0,K=K+Math.imul(fe,Ut)|0;var we=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(we>>>26)|0,we&=67108863,M=Math.imul(H,le),S=Math.imul(H,Te),S=S+Math.imul(Z,le)|0,K=Math.imul(Z,Te),M=M+Math.imul(O,Pe)|0,S=S+Math.imul(O,Ae)|0,S=S+Math.imul(x,Pe)|0,K=K+Math.imul(x,Ae)|0,M=M+Math.imul(de,Ve)|0,S=S+Math.imul(de,Ye)|0,S=S+Math.imul(ge,Ve)|0,K=K+Math.imul(ge,Ye)|0,M=M+Math.imul(Ee,mt)|0,S=S+Math.imul(Ee,St)|0,S=S+Math.imul(xe,mt)|0,K=K+Math.imul(xe,St)|0,M=M+Math.imul(F,Bt)|0,S=S+Math.imul(F,Ct)|0,S=S+Math.imul(W,Bt)|0,K=K+Math.imul(W,Ct)|0,M=M+Math.imul(Ce,Dt)|0,S=S+Math.imul(Ce,Rt)|0,S=S+Math.imul(Q,Dt)|0,K=K+Math.imul(Q,Rt)|0,M=M+Math.imul(Y,Ot)|0,S=S+Math.imul(Y,At)|0,S=S+Math.imul(ce,Ot)|0,K=K+Math.imul(ce,At)|0,M=M+Math.imul(ae,Pt)|0,S=S+Math.imul(ae,Nt)|0,S=S+Math.imul(X,Pt)|0,K=K+Math.imul(X,Nt)|0,M=M+Math.imul(se,Mt)|0,S=S+Math.imul(se,Ut)|0,S=S+Math.imul(ee,Mt)|0,K=K+Math.imul(ee,Ut)|0,M=M+Math.imul(ie,kt)|0,S=S+Math.imul(ie,$t)|0,S=S+Math.imul(fe,kt)|0,K=K+Math.imul(fe,$t)|0;var ve=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(ve>>>26)|0,ve&=67108863,M=Math.imul(H,Pe),S=Math.imul(H,Ae),S=S+Math.imul(Z,Pe)|0,K=Math.imul(Z,Ae),M=M+Math.imul(O,Ve)|0,S=S+Math.imul(O,Ye)|0,S=S+Math.imul(x,Ve)|0,K=K+Math.imul(x,Ye)|0,M=M+Math.imul(de,mt)|0,S=S+Math.imul(de,St)|0,S=S+Math.imul(ge,mt)|0,K=K+Math.imul(ge,St)|0,M=M+Math.imul(Ee,Bt)|0,S=S+Math.imul(Ee,Ct)|0,S=S+Math.imul(xe,Bt)|0,K=K+Math.imul(xe,Ct)|0,M=M+Math.imul(F,Dt)|0,S=S+Math.imul(F,Rt)|0,S=S+Math.imul(W,Dt)|0,K=K+Math.imul(W,Rt)|0,M=M+Math.imul(Ce,Ot)|0,S=S+Math.imul(Ce,At)|0,S=S+Math.imul(Q,Ot)|0,K=K+Math.imul(Q,At)|0,M=M+Math.imul(Y,Pt)|0,S=S+Math.imul(Y,Nt)|0,S=S+Math.imul(ce,Pt)|0,K=K+Math.imul(ce,Nt)|0,M=M+Math.imul(ae,Mt)|0,S=S+Math.imul(ae,Ut)|0,S=S+Math.imul(X,Mt)|0,K=K+Math.imul(X,Ut)|0,M=M+Math.imul(se,kt)|0,S=S+Math.imul(se,$t)|0,S=S+Math.imul(ee,kt)|0,K=K+Math.imul(ee,$t)|0;var Se=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(Se>>>26)|0,Se&=67108863,M=Math.imul(H,Ve),S=Math.imul(H,Ye),S=S+Math.imul(Z,Ve)|0,K=Math.imul(Z,Ye),M=M+Math.imul(O,mt)|0,S=S+Math.imul(O,St)|0,S=S+Math.imul(x,mt)|0,K=K+Math.imul(x,St)|0,M=M+Math.imul(de,Bt)|0,S=S+Math.imul(de,Ct)|0,S=S+Math.imul(ge,Bt)|0,K=K+Math.imul(ge,Ct)|0,M=M+Math.imul(Ee,Dt)|0,S=S+Math.imul(Ee,Rt)|0,S=S+Math.imul(xe,Dt)|0,K=K+Math.imul(xe,Rt)|0,M=M+Math.imul(F,Ot)|0,S=S+Math.imul(F,At)|0,S=S+Math.imul(W,Ot)|0,K=K+Math.imul(W,At)|0,M=M+Math.imul(Ce,Pt)|0,S=S+Math.imul(Ce,Nt)|0,S=S+Math.imul(Q,Pt)|0,K=K+Math.imul(Q,Nt)|0,M=M+Math.imul(Y,Mt)|0,S=S+Math.imul(Y,Ut)|0,S=S+Math.imul(ce,Mt)|0,K=K+Math.imul(ce,Ut)|0,M=M+Math.imul(ae,kt)|0,S=S+Math.imul(ae,$t)|0,S=S+Math.imul(X,kt)|0,K=K+Math.imul(X,$t)|0;var De=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(De>>>26)|0,De&=67108863,M=Math.imul(H,mt),S=Math.imul(H,St),S=S+Math.imul(Z,mt)|0,K=Math.imul(Z,St),M=M+Math.imul(O,Bt)|0,S=S+Math.imul(O,Ct)|0,S=S+Math.imul(x,Bt)|0,K=K+Math.imul(x,Ct)|0,M=M+Math.imul(de,Dt)|0,S=S+Math.imul(de,Rt)|0,S=S+Math.imul(ge,Dt)|0,K=K+Math.imul(ge,Rt)|0,M=M+Math.imul(Ee,Ot)|0,S=S+Math.imul(Ee,At)|0,S=S+Math.imul(xe,Ot)|0,K=K+Math.imul(xe,At)|0,M=M+Math.imul(F,Pt)|0,S=S+Math.imul(F,Nt)|0,S=S+Math.imul(W,Pt)|0,K=K+Math.imul(W,Nt)|0,M=M+Math.imul(Ce,Mt)|0,S=S+Math.imul(Ce,Ut)|0,S=S+Math.imul(Q,Mt)|0,K=K+Math.imul(Q,Ut)|0,M=M+Math.imul(Y,kt)|0,S=S+Math.imul(Y,$t)|0,S=S+Math.imul(ce,kt)|0,K=K+Math.imul(ce,$t)|0;var Re=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(Re>>>26)|0,Re&=67108863,M=Math.imul(H,Bt),S=Math.imul(H,Ct),S=S+Math.imul(Z,Bt)|0,K=Math.imul(Z,Ct),M=M+Math.imul(O,Dt)|0,S=S+Math.imul(O,Rt)|0,S=S+Math.imul(x,Dt)|0,K=K+Math.imul(x,Rt)|0,M=M+Math.imul(de,Ot)|0,S=S+Math.imul(de,At)|0,S=S+Math.imul(ge,Ot)|0,K=K+Math.imul(ge,At)|0,M=M+Math.imul(Ee,Pt)|0,S=S+Math.imul(Ee,Nt)|0,S=S+Math.imul(xe,Pt)|0,K=K+Math.imul(xe,Nt)|0,M=M+Math.imul(F,Mt)|0,S=S+Math.imul(F,Ut)|0,S=S+Math.imul(W,Mt)|0,K=K+Math.imul(W,Ut)|0,M=M+Math.imul(Ce,kt)|0,S=S+Math.imul(Ce,$t)|0,S=S+Math.imul(Q,kt)|0,K=K+Math.imul(Q,$t)|0;var ke=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(ke>>>26)|0,ke&=67108863,M=Math.imul(H,Dt),S=Math.imul(H,Rt),S=S+Math.imul(Z,Dt)|0,K=Math.imul(Z,Rt),M=M+Math.imul(O,Ot)|0,S=S+Math.imul(O,At)|0,S=S+Math.imul(x,Ot)|0,K=K+Math.imul(x,At)|0,M=M+Math.imul(de,Pt)|0,S=S+Math.imul(de,Nt)|0,S=S+Math.imul(ge,Pt)|0,K=K+Math.imul(ge,Nt)|0,M=M+Math.imul(Ee,Mt)|0,S=S+Math.imul(Ee,Ut)|0,S=S+Math.imul(xe,Mt)|0,K=K+Math.imul(xe,Ut)|0,M=M+Math.imul(F,kt)|0,S=S+Math.imul(F,$t)|0,S=S+Math.imul(W,kt)|0,K=K+Math.imul(W,$t)|0;var Ge=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,M=Math.imul(H,Ot),S=Math.imul(H,At),S=S+Math.imul(Z,Ot)|0,K=Math.imul(Z,At),M=M+Math.imul(O,Pt)|0,S=S+Math.imul(O,Nt)|0,S=S+Math.imul(x,Pt)|0,K=K+Math.imul(x,Nt)|0,M=M+Math.imul(de,Mt)|0,S=S+Math.imul(de,Ut)|0,S=S+Math.imul(ge,Mt)|0,K=K+Math.imul(ge,Ut)|0,M=M+Math.imul(Ee,kt)|0,S=S+Math.imul(Ee,$t)|0,S=S+Math.imul(xe,kt)|0,K=K+Math.imul(xe,$t)|0;var Le=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(Le>>>26)|0,Le&=67108863,M=Math.imul(H,Pt),S=Math.imul(H,Nt),S=S+Math.imul(Z,Pt)|0,K=Math.imul(Z,Nt),M=M+Math.imul(O,Mt)|0,S=S+Math.imul(O,Ut)|0,S=S+Math.imul(x,Mt)|0,K=K+Math.imul(x,Ut)|0,M=M+Math.imul(de,kt)|0,S=S+Math.imul(de,$t)|0,S=S+Math.imul(ge,kt)|0,K=K+Math.imul(ge,$t)|0;var Xt=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,M=Math.imul(H,Mt),S=Math.imul(H,Ut),S=S+Math.imul(Z,Mt)|0,K=Math.imul(Z,Ut),M=M+Math.imul(O,kt)|0,S=S+Math.imul(O,$t)|0,S=S+Math.imul(x,kt)|0,K=K+Math.imul(x,$t)|0;var st=(oe+M|0)+((S&8191)<<13)|0;oe=(K+(S>>>13)|0)+(st>>>26)|0,st&=67108863,M=Math.imul(H,kt),S=Math.imul(H,$t),S=S+Math.imul(Z,kt)|0,K=Math.imul(Z,$t);var Mn=(oe+M|0)+((S&8191)<<13)|0;return oe=(K+(S>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,G[0]=N,G[1]=q,G[2]=z,G[3]=J,G[4]=re,G[5]=ne,G[6]=ye,G[7]=me,G[8]=we,G[9]=ve,G[10]=Se,G[11]=De,G[12]=Re,G[13]=ke,G[14]=Ge,G[15]=Le,G[16]=Xt,G[17]=st,G[18]=Mn,oe!==0&&(G[19]=oe,k.length++),k};Math.imul||(v=g);function T(B,b,E){E.negative=b.negative^B.negative,E.length=B.length+b.length;for(var k=0,L=0,$=0;$<E.length-1;$++){var G=L;L=0;for(var oe=k&67108863,M=Math.min($,b.length-1),S=Math.max(0,$-B.length+1);S<=M;S++){var K=$-S,he=B.words[K]|0,ie=b.words[S]|0,fe=he*ie,pe=fe&67108863;G=G+(fe/67108864|0)|0,pe=pe+oe|0,oe=pe&67108863,G=G+(pe>>>26)|0,L+=G>>>26,G&=67108863}E.words[$]=oe,k=G,G=L}return k!==0?E.words[$]=k:E.length--,E.strip()}function I(B,b,E){var k=new _;return k.mulp(B,b,E)}o.prototype.mulTo=function(b,E){var k,L=this.length+b.length;return this.length===10&&b.length===10?k=v(this,b,E):L<63?k=g(this,b,E):L<1024?k=T(this,b,E):k=I(this,b,E),k};function _(B,b){this.x=B,this.y=b}_.prototype.makeRBT=function(b){for(var E=new Array(b),k=o.prototype._countBits(b)-1,L=0;L<b;L++)E[L]=this.revBin(L,k,b);return E},_.prototype.revBin=function(b,E,k){if(b===0||b===k-1)return b;for(var L=0,$=0;$<E;$++)L|=(b&1)<<E-$-1,b>>=1;return L},_.prototype.permute=function(b,E,k,L,$,G){for(var oe=0;oe<G;oe++)L[oe]=E[b[oe]],$[oe]=k[b[oe]]},_.prototype.transform=function(b,E,k,L,$,G){this.permute(G,b,E,k,L,$);for(var oe=1;oe<$;oe<<=1)for(var M=oe<<1,S=Math.cos(2*Math.PI/M),K=Math.sin(2*Math.PI/M),he=0;he<$;he+=M)for(var ie=S,fe=K,pe=0;pe<oe;pe++){var se=k[he+pe],ee=L[he+pe],te=k[he+pe+oe],ae=L[he+pe+oe],X=ie*te-fe*ae;ae=ie*ae+fe*te,te=X,k[he+pe]=se+te,L[he+pe]=ee+ae,k[he+pe+oe]=se-te,L[he+pe+oe]=ee-ae,pe!==M&&(X=S*ie-K*fe,fe=S*fe+K*ie,ie=X)}},_.prototype.guessLen13b=function(b,E){var k=Math.max(E,b)|1,L=k&1,$=0;for(k=k/2|0;k;k=k>>>1)$++;return 1<<$+1+L},_.prototype.conjugate=function(b,E,k){if(!(k<=1))for(var L=0;L<k/2;L++){var $=b[L];b[L]=b[k-L-1],b[k-L-1]=$,$=E[L],E[L]=-E[k-L-1],E[k-L-1]=-$}},_.prototype.normalize13b=function(b,E){for(var k=0,L=0;L<E/2;L++){var $=Math.round(b[2*L+1]/E)*8192+Math.round(b[2*L]/E)+k;b[L]=$&67108863,$<67108864?k=0:k=$/67108864|0}return b},_.prototype.convert13b=function(b,E,k,L){for(var $=0,G=0;G<E;G++)$=$+(b[G]|0),k[2*G]=$&8191,$=$>>>13,k[2*G+1]=$&8191,$=$>>>13;for(G=2*E;G<L;++G)k[G]=0;n($===0),n(($&-8192)===0)},_.prototype.stub=function(b){for(var E=new Array(b),k=0;k<b;k++)E[k]=0;return E},_.prototype.mulp=function(b,E,k){var L=2*this.guessLen13b(b.length,E.length),$=this.makeRBT(L),G=this.stub(L),oe=new Array(L),M=new Array(L),S=new Array(L),K=new Array(L),he=new Array(L),ie=new Array(L),fe=k.words;fe.length=L,this.convert13b(b.words,b.length,oe,L),this.convert13b(E.words,E.length,K,L),this.transform(oe,G,M,S,L,$),this.transform(K,G,he,ie,L,$);for(var pe=0;pe<L;pe++){var se=M[pe]*he[pe]-S[pe]*ie[pe];S[pe]=M[pe]*ie[pe]+S[pe]*he[pe],M[pe]=se}return this.conjugate(M,S,L),this.transform(M,S,fe,G,L,$),this.conjugate(fe,G,L),this.normalize13b(fe,L),k.negative=b.negative^E.negative,k.length=b.length+E.length,k.strip()},o.prototype.mul=function(b){var E=new o(null);return E.words=new Array(this.length+b.length),this.mulTo(b,E)},o.prototype.mulf=function(b){var E=new o(null);return E.words=new Array(this.length+b.length),I(this,b,E)},o.prototype.imul=function(b){return this.clone().mulTo(b,this)},o.prototype.imuln=function(b){n(typeof b=="number"),n(b<67108864);for(var E=0,k=0;k<this.length;k++){var L=(this.words[k]|0)*b,$=(L&67108863)+(E&67108863);E>>=26,E+=L/67108864|0,E+=$>>>26,this.words[k]=$&67108863}return E!==0&&(this.words[k]=E,this.length++),this},o.prototype.muln=function(b){return this.clone().imuln(b)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(b){var E=y(b);if(E.length===0)return new o(1);for(var k=this,L=0;L<E.length&&E[L]===0;L++,k=k.sqr());if(++L<E.length)for(var $=k.sqr();L<E.length;L++,$=$.sqr())E[L]!==0&&(k=k.mul($));return k},o.prototype.iushln=function(b){n(typeof b=="number"&&b>=0);var E=b%26,k=(b-E)/26,L=67108863>>>26-E<<26-E,$;if(E!==0){var G=0;for($=0;$<this.length;$++){var oe=this.words[$]&L,M=(this.words[$]|0)-oe<<E;this.words[$]=M|G,G=oe>>>26-E}G&&(this.words[$]=G,this.length++)}if(k!==0){for($=this.length-1;$>=0;$--)this.words[$+k]=this.words[$];for($=0;$<k;$++)this.words[$]=0;this.length+=k}return this.strip()},o.prototype.ishln=function(b){return n(this.negative===0),this.iushln(b)},o.prototype.iushrn=function(b,E,k){n(typeof b=="number"&&b>=0);var L;E?L=(E-E%26)/26:L=0;var $=b%26,G=Math.min((b-$)/26,this.length),oe=67108863^67108863>>>$<<$,M=k;if(L-=G,L=Math.max(0,L),M){for(var S=0;S<G;S++)M.words[S]=this.words[S];M.length=G}if(G!==0)if(this.length>G)for(this.length-=G,S=0;S<this.length;S++)this.words[S]=this.words[S+G];else this.words[0]=0,this.length=1;var K=0;for(S=this.length-1;S>=0&&(K!==0||S>=L);S--){var he=this.words[S]|0;this.words[S]=K<<26-$|he>>>$,K=he&oe}return M&&K!==0&&(M.words[M.length++]=K),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(b,E,k){return n(this.negative===0),this.iushrn(b,E,k)},o.prototype.shln=function(b){return this.clone().ishln(b)},o.prototype.ushln=function(b){return this.clone().iushln(b)},o.prototype.shrn=function(b){return this.clone().ishrn(b)},o.prototype.ushrn=function(b){return this.clone().iushrn(b)},o.prototype.testn=function(b){n(typeof b=="number"&&b>=0);var E=b%26,k=(b-E)/26,L=1<<E;if(this.length<=k)return!1;var $=this.words[k];return!!($&L)},o.prototype.imaskn=function(b){n(typeof b=="number"&&b>=0);var E=b%26,k=(b-E)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(E!==0&&k++,this.length=Math.min(k,this.length),E!==0){var L=67108863^67108863>>>E<<E;this.words[this.length-1]&=L}return this.strip()},o.prototype.maskn=function(b){return this.clone().imaskn(b)},o.prototype.iaddn=function(b){return n(typeof b=="number"),n(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},o.prototype._iaddn=function(b){this.words[0]+=b;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},o.prototype.isubn=function(b){if(n(typeof b=="number"),n(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},o.prototype.addn=function(b){return this.clone().iaddn(b)},o.prototype.subn=function(b){return this.clone().isubn(b)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(b,E,k){var L=b.length+k,$;this._expand(L);var G,oe=0;for($=0;$<b.length;$++){G=(this.words[$+k]|0)+oe;var M=(b.words[$]|0)*E;G-=M&67108863,oe=(G>>26)-(M/67108864|0),this.words[$+k]=G&67108863}for(;$<this.length-k;$++)G=(this.words[$+k]|0)+oe,oe=G>>26,this.words[$+k]=G&67108863;if(oe===0)return this.strip();for(n(oe===-1),oe=0,$=0;$<this.length;$++)G=-(this.words[$]|0)+oe,oe=G>>26,this.words[$]=G&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(b,E){var k=this.length-b.length,L=this.clone(),$=b,G=$.words[$.length-1]|0,oe=this._countBits(G);k=26-oe,k!==0&&($=$.ushln(k),L.iushln(k),G=$.words[$.length-1]|0);var M=L.length-$.length,S;if(E!=="mod"){S=new o(null),S.length=M+1,S.words=new Array(S.length);for(var K=0;K<S.length;K++)S.words[K]=0}var he=L.clone()._ishlnsubmul($,1,M);he.negative===0&&(L=he,S&&(S.words[M]=1));for(var ie=M-1;ie>=0;ie--){var fe=(L.words[$.length+ie]|0)*67108864+(L.words[$.length+ie-1]|0);for(fe=Math.min(fe/G|0,67108863),L._ishlnsubmul($,fe,ie);L.negative!==0;)fe--,L.negative=0,L._ishlnsubmul($,1,ie),L.isZero()||(L.negative^=1);S&&(S.words[ie]=fe)}return S&&S.strip(),L.strip(),E!=="div"&&k!==0&&L.iushrn(k),{div:S||null,mod:L}},o.prototype.divmod=function(b,E,k){if(n(!b.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var L,$,G;return this.negative!==0&&b.negative===0?(G=this.neg().divmod(b,E),E!=="mod"&&(L=G.div.neg()),E!=="div"&&($=G.mod.neg(),k&&$.negative!==0&&$.iadd(b)),{div:L,mod:$}):this.negative===0&&b.negative!==0?(G=this.divmod(b.neg(),E),E!=="mod"&&(L=G.div.neg()),{div:L,mod:G.mod}):this.negative&b.negative?(G=this.neg().divmod(b.neg(),E),E!=="div"&&($=G.mod.neg(),k&&$.negative!==0&&$.isub(b)),{div:G.div,mod:$}):b.length>this.length||this.cmp(b)<0?{div:new o(0),mod:this}:b.length===1?E==="div"?{div:this.divn(b.words[0]),mod:null}:E==="mod"?{div:null,mod:new o(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new o(this.modn(b.words[0]))}:this._wordDiv(b,E)},o.prototype.div=function(b){return this.divmod(b,"div",!1).div},o.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},o.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},o.prototype.divRound=function(b){var E=this.divmod(b);if(E.mod.isZero())return E.div;var k=E.div.negative!==0?E.mod.isub(b):E.mod,L=b.ushrn(1),$=b.andln(1),G=k.cmp(L);return G<0||$===1&&G===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},o.prototype.modn=function(b){n(b<=67108863);for(var E=(1<<26)%b,k=0,L=this.length-1;L>=0;L--)k=(E*k+(this.words[L]|0))%b;return k},o.prototype.idivn=function(b){n(b<=67108863);for(var E=0,k=this.length-1;k>=0;k--){var L=(this.words[k]|0)+E*67108864;this.words[k]=L/b|0,E=L%b}return this.strip()},o.prototype.divn=function(b){return this.clone().idivn(b)},o.prototype.egcd=function(b){n(b.negative===0),n(!b.isZero());var E=this,k=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var L=new o(1),$=new o(0),G=new o(0),oe=new o(1),M=0;E.isEven()&&k.isEven();)E.iushrn(1),k.iushrn(1),++M;for(var S=k.clone(),K=E.clone();!E.isZero();){for(var he=0,ie=1;!(E.words[0]&ie)&&he<26;++he,ie<<=1);if(he>0)for(E.iushrn(he);he-- >0;)(L.isOdd()||$.isOdd())&&(L.iadd(S),$.isub(K)),L.iushrn(1),$.iushrn(1);for(var fe=0,pe=1;!(k.words[0]&pe)&&fe<26;++fe,pe<<=1);if(fe>0)for(k.iushrn(fe);fe-- >0;)(G.isOdd()||oe.isOdd())&&(G.iadd(S),oe.isub(K)),G.iushrn(1),oe.iushrn(1);E.cmp(k)>=0?(E.isub(k),L.isub(G),$.isub(oe)):(k.isub(E),G.isub(L),oe.isub($))}return{a:G,b:oe,gcd:k.iushln(M)}},o.prototype._invmp=function(b){n(b.negative===0),n(!b.isZero());var E=this,k=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var L=new o(1),$=new o(0),G=k.clone();E.cmpn(1)>0&&k.cmpn(1)>0;){for(var oe=0,M=1;!(E.words[0]&M)&&oe<26;++oe,M<<=1);if(oe>0)for(E.iushrn(oe);oe-- >0;)L.isOdd()&&L.iadd(G),L.iushrn(1);for(var S=0,K=1;!(k.words[0]&K)&&S<26;++S,K<<=1);if(S>0)for(k.iushrn(S);S-- >0;)$.isOdd()&&$.iadd(G),$.iushrn(1);E.cmp(k)>=0?(E.isub(k),L.isub($)):(k.isub(E),$.isub(L))}var he;return E.cmpn(1)===0?he=L:he=$,he.cmpn(0)<0&&he.iadd(b),he},o.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var E=this.clone(),k=b.clone();E.negative=0,k.negative=0;for(var L=0;E.isEven()&&k.isEven();L++)E.iushrn(1),k.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;k.isEven();)k.iushrn(1);var $=E.cmp(k);if($<0){var G=E;E=k,k=G}else if($===0||k.cmpn(1)===0)break;E.isub(k)}while(!0);return k.iushln(L)},o.prototype.invm=function(b){return this.egcd(b).a.umod(b)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(b){return this.words[0]&b},o.prototype.bincn=function(b){n(typeof b=="number");var E=b%26,k=(b-E)/26,L=1<<E;if(this.length<=k)return this._expand(k+1),this.words[k]|=L,this;for(var $=L,G=k;$!==0&&G<this.length;G++){var oe=this.words[G]|0;oe+=$,$=oe>>>26,oe&=67108863,this.words[G]=oe}return $!==0&&(this.words[G]=$,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(b){var E=b<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this.strip();var k;if(this.length>1)k=1;else{E&&(b=-b),n(b<=67108863,"Number is too big");var L=this.words[0]|0;k=L===b?0:L<b?-1:1}return this.negative!==0?-k|0:k},o.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var E=this.ucmp(b);return this.negative!==0?-E|0:E},o.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var E=0,k=this.length-1;k>=0;k--){var L=this.words[k]|0,$=b.words[k]|0;if(L!==$){L<$?E=-1:L>$&&(E=1);break}}return E},o.prototype.gtn=function(b){return this.cmpn(b)===1},o.prototype.gt=function(b){return this.cmp(b)===1},o.prototype.gten=function(b){return this.cmpn(b)>=0},o.prototype.gte=function(b){return this.cmp(b)>=0},o.prototype.ltn=function(b){return this.cmpn(b)===-1},o.prototype.lt=function(b){return this.cmp(b)===-1},o.prototype.lten=function(b){return this.cmpn(b)<=0},o.prototype.lte=function(b){return this.cmp(b)<=0},o.prototype.eqn=function(b){return this.cmpn(b)===0},o.prototype.eq=function(b){return this.cmp(b)===0},o.red=function(b){return new m(b)},o.prototype.toRed=function(b){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(b){return this.red=b,this},o.prototype.forceRed=function(b){return n(!this.red,"Already a number in reduction context"),this._forceRed(b)},o.prototype.redAdd=function(b){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},o.prototype.redIAdd=function(b){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},o.prototype.redSub=function(b){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},o.prototype.redISub=function(b){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},o.prototype.redShl=function(b){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},o.prototype.redMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},o.prototype.redIMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(b){return n(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var C={k256:null,p224:null,p192:null,p25519:null};function w(B,b){this.name=B,this.p=new o(b,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}w.prototype._tmp=function(){var b=new o(null);return b.words=new Array(Math.ceil(this.n/13)),b},w.prototype.ireduce=function(b){var E=b,k;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),k=E.bitLength();while(k>this.n);var L=k<this.n?-1:E.ucmp(this.p);return L===0?(E.words[0]=0,E.length=1):L>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},w.prototype.split=function(b,E){b.iushrn(this.n,0,E)},w.prototype.imulK=function(b){return b.imul(this.k)};function P(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(P,w),P.prototype.split=function(b,E){for(var k=4194303,L=Math.min(b.length,9),$=0;$<L;$++)E.words[$]=b.words[$];if(E.length=L,b.length<=9){b.words[0]=0,b.length=1;return}var G=b.words[9];for(E.words[E.length++]=G&k,$=10;$<b.length;$++){var oe=b.words[$]|0;b.words[$-10]=(oe&k)<<4|G>>>22,G=oe}G>>>=22,b.words[$-10]=G,G===0&&b.length>10?b.length-=10:b.length-=9},P.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var E=0,k=0;k<b.length;k++){var L=b.words[k]|0;E+=L*977,b.words[k]=E&67108863,E=L*64+(E/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function D(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(D,w);function u(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(u,w);function l(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(l,w),l.prototype.imulK=function(b){for(var E=0,k=0;k<b.length;k++){var L=(b.words[k]|0)*19+E,$=L&67108863;L>>>=26,b.words[k]=$,E=L}return E!==0&&(b.words[b.length++]=E),b},o._prime=function(b){if(C[b])return C[b];var E;if(b==="k256")E=new P;else if(b==="p224")E=new D;else if(b==="p192")E=new u;else if(b==="p25519")E=new l;else throw new Error("Unknown prime "+b);return C[b]=E,E};function m(B){if(typeof B=="string"){var b=o._prime(B);this.m=b.p,this.prime=b}else n(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}m.prototype._verify1=function(b){n(b.negative===0,"red works only with positives"),n(b.red,"red works only with red numbers")},m.prototype._verify2=function(b,E){n((b.negative|E.negative)===0,"red works only with positives"),n(b.red&&b.red===E.red,"red works only with red numbers")},m.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},m.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},m.prototype.add=function(b,E){this._verify2(b,E);var k=b.add(E);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},m.prototype.iadd=function(b,E){this._verify2(b,E);var k=b.iadd(E);return k.cmp(this.m)>=0&&k.isub(this.m),k},m.prototype.sub=function(b,E){this._verify2(b,E);var k=b.sub(E);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},m.prototype.isub=function(b,E){this._verify2(b,E);var k=b.isub(E);return k.cmpn(0)<0&&k.iadd(this.m),k},m.prototype.shl=function(b,E){return this._verify1(b),this.imod(b.ushln(E))},m.prototype.imul=function(b,E){return this._verify2(b,E),this.imod(b.imul(E))},m.prototype.mul=function(b,E){return this._verify2(b,E),this.imod(b.mul(E))},m.prototype.isqr=function(b){return this.imul(b,b.clone())},m.prototype.sqr=function(b){return this.mul(b,b)},m.prototype.sqrt=function(b){if(b.isZero())return b.clone();var E=this.m.andln(3);if(n(E%2===1),E===3){var k=this.m.add(new o(1)).iushrn(2);return this.pow(b,k)}for(var L=this.m.subn(1),$=0;!L.isZero()&&L.andln(1)===0;)$++,L.iushrn(1);n(!L.isZero());var G=new o(1).toRed(this),oe=G.redNeg(),M=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new o(2*S*S).toRed(this);this.pow(S,M).cmp(oe)!==0;)S.redIAdd(oe);for(var K=this.pow(S,L),he=this.pow(b,L.addn(1).iushrn(1)),ie=this.pow(b,L),fe=$;ie.cmp(G)!==0;){for(var pe=ie,se=0;pe.cmp(G)!==0;se++)pe=pe.redSqr();n(se<fe);var ee=this.pow(K,new o(1).iushln(fe-se-1));he=he.redMul(ee),K=ee.redSqr(),ie=ie.redMul(K),fe=se}return he},m.prototype.invm=function(b){var E=b._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},m.prototype.pow=function(b,E){if(E.isZero())return new o(1).toRed(this);if(E.cmpn(1)===0)return b.clone();var k=4,L=new Array(1<<k);L[0]=new o(1).toRed(this),L[1]=b;for(var $=2;$<L.length;$++)L[$]=this.mul(L[$-1],b);var G=L[0],oe=0,M=0,S=E.bitLength()%26;for(S===0&&(S=26),$=E.length-1;$>=0;$--){for(var K=E.words[$],he=S-1;he>=0;he--){var ie=K>>he&1;if(G!==L[0]&&(G=this.sqr(G)),ie===0&&oe===0){M=0;continue}oe<<=1,oe|=ie,M++,!(M!==k&&($!==0||he!==0))&&(G=this.mul(G,L[oe]),M=0,oe=0)}S=26}return G},m.prototype.convertTo=function(b){var E=b.umod(this.m);return E===b?E.clone():E},m.prototype.convertFrom=function(b){var E=b.clone();return E.red=null,E},o.mont=function(b){return new R(b)};function R(B){m.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(R,m),R.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},R.prototype.convertFrom=function(b){var E=this.imod(b.mul(this.rinv));return E.red=null,E},R.prototype.imul=function(b,E){if(b.isZero()||E.isZero())return b.words[0]=0,b.length=1,b;var k=b.imul(E),L=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=k.isub(L).iushrn(this.shift),G=$;return $.cmp(this.m)>=0?G=$.isub(this.m):$.cmpn(0)<0&&(G=$.iadd(this.m)),G._forceRed(this)},R.prototype.mul=function(b,E){if(b.isZero()||E.isZero())return new o(0)._forceRed(this);var k=b.mul(E),L=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=k.isub(L).iushrn(this.shift),G=$;return $.cmp(this.m)>=0?G=$.isub(this.m):$.cmpn(0)<0&&(G=$.iadd(this.m)),G._forceRed(this)},R.prototype.invm=function(b){var E=this.imod(b._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(e,Be)}(Oy)),Oy.exports}var C2,V8;function Lu(){if(V8)return C2;V8=1,C2=e;function e(t,r){if(!t)throw new Error(r||"Assertion failed")}return e.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},C2}var D2={},z8;function e7(){return z8||(z8=1,function(e){var t=e;function r(o,s){if(Array.isArray(o))return o.slice();if(!o)return[];var f=[];if(typeof o!="string"){for(var d=0;d<o.length;d++)f[d]=o[d]|0;return f}if(s==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var d=0;d<o.length;d+=2)f.push(parseInt(o[d]+o[d+1],16))}else for(var d=0;d<o.length;d++){var a=o.charCodeAt(d),c=a>>8,p=a&255;c?f.push(c,p):f.push(p)}return f}t.toArray=r;function n(o){return o.length===1?"0"+o:o}t.zero2=n;function i(o){for(var s="",f=0;f<o.length;f++)s+=n(o[f].toString(16));return s}t.toHex=i,t.encode=function(s,f){return f==="hex"?i(s):s}}(D2)),D2}var Y8;function Ai(){return Y8||(Y8=1,function(e){var t=e,r=fa(),n=Lu(),i=e7();t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode;function o(c,p,h){var y=new Array(Math.max(c.bitLength(),h)+1);y.fill(0);for(var g=1<<p+1,v=c.clone(),T=0;T<y.length;T++){var I,_=v.andln(g-1);v.isOdd()?(_>(g>>1)-1?I=(g>>1)-_:I=_,v.isubn(I)):I=0,y[T]=I,v.iushrn(1)}return y}t.getNAF=o;function s(c,p){var h=[[],[]];c=c.clone(),p=p.clone();for(var y=0,g=0,v;c.cmpn(-y)>0||p.cmpn(-g)>0;){var T=c.andln(3)+y&3,I=p.andln(3)+g&3;T===3&&(T=-1),I===3&&(I=-1);var _;T&1?(v=c.andln(7)+y&7,(v===3||v===5)&&I===2?_=-T:_=T):_=0,h[0].push(_);var C;I&1?(v=p.andln(7)+g&7,(v===3||v===5)&&T===2?C=-I:C=I):C=0,h[1].push(C),2*y===_+1&&(y=1-y),2*g===C+1&&(g=1-g),c.iushrn(1),p.iushrn(1)}return h}t.getJSF=s;function f(c,p,h){var y="_"+p;c.prototype[p]=function(){return this[y]!==void 0?this[y]:this[y]=h.call(this)}}t.cachedProperty=f;function d(c){return typeof c=="string"?t.toArray(c,"hex"):c}t.parseBytes=d;function a(c){return new r(c,"hex","le")}t.intFromLE=a}(B2)),B2}var Xp={exports:{}},G8;function t7(){if(G8)return Xp.exports;G8=1;var e;Xp.exports=function(i){return e||(e=new t(null)),e.generate(i)};function t(n){this.rand=n}if(Xp.exports.Rand=t,t.prototype.generate=function(i){return this._rand(i)},t.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var o=new Uint8Array(i),s=0;s<o.length;s++)o[s]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?t.prototype._rand=function(i){var o=new Uint8Array(i);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=function(i){var o=new Uint8Array(i);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=md;if(typeof r.randomBytes!="function")throw new Error("Not supported");t.prototype._rand=function(i){return r.randomBytes(i)}}catch{}return Xp.exports}var R2={},O2,J8;function D1(){if(J8)return O2;J8=1;var e=fa(),t=Ai(),r=t.getNAF,n=t.getJSF,i=t.assert;function o(f,d){this.type=f,this.p=new e(d.p,16),this.red=d.prime?e.red(d.prime):e.mont(this.p),this.zero=new e(0).toRed(this.red),this.one=new e(1).toRed(this.red),this.two=new e(2).toRed(this.red),this.n=d.n&&new e(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var a=this.n&&this.p.div(this.n);!a||a.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}O2=o,o.prototype.point=function(){throw new Error("Not implemented")},o.prototype.validate=function(){throw new Error("Not implemented")},o.prototype._fixedNafMul=function(d,a){i(d.precomputed);var c=d._getDoubles(),p=r(a,1,this._bitLength),h=(1<<c.step+1)-(c.step%2===0?2:1);h/=3;var y=[],g,v;for(g=0;g<p.length;g+=c.step){v=0;for(var T=g+c.step-1;T>=g;T--)v=(v<<1)+p[T];y.push(v)}for(var I=this.jpoint(null,null,null),_=this.jpoint(null,null,null),C=h;C>0;C--){for(g=0;g<y.length;g++)v=y[g],v===C?_=_.mixedAdd(c.points[g]):v===-C&&(_=_.mixedAdd(c.points[g].neg()));I=I.add(_)}return I.toP()},o.prototype._wnafMul=function(d,a){var c=4,p=d._getNAFPoints(c);c=p.wnd;for(var h=p.points,y=r(a,c,this._bitLength),g=this.jpoint(null,null,null),v=y.length-1;v>=0;v--){for(var T=0;v>=0&&y[v]===0;v--)T++;if(v>=0&&T++,g=g.dblp(T),v<0)break;var I=y[v];i(I!==0),d.type==="affine"?I>0?g=g.mixedAdd(h[I-1>>1]):g=g.mixedAdd(h[-I-1>>1].neg()):I>0?g=g.add(h[I-1>>1]):g=g.add(h[-I-1>>1].neg())}return d.type==="affine"?g.toP():g},o.prototype._wnafMulAdd=function(d,a,c,p,h){var y=this._wnafT1,g=this._wnafT2,v=this._wnafT3,T=0,I,_,C;for(I=0;I<p;I++){C=a[I];var w=C._getNAFPoints(d);y[I]=w.wnd,g[I]=w.points}for(I=p-1;I>=1;I-=2){var P=I-1,D=I;if(y[P]!==1||y[D]!==1){v[P]=r(c[P],y[P],this._bitLength),v[D]=r(c[D],y[D],this._bitLength),T=Math.max(v[P].length,T),T=Math.max(v[D].length,T);continue}var u=[a[P],null,null,a[D]];a[P].y.cmp(a[D].y)===0?(u[1]=a[P].add(a[D]),u[2]=a[P].toJ().mixedAdd(a[D].neg())):a[P].y.cmp(a[D].y.redNeg())===0?(u[1]=a[P].toJ().mixedAdd(a[D]),u[2]=a[P].add(a[D].neg())):(u[1]=a[P].toJ().mixedAdd(a[D]),u[2]=a[P].toJ().mixedAdd(a[D].neg()));var l=[-3,-1,-5,-7,0,7,5,1,3],m=n(c[P],c[D]);for(T=Math.max(m[0].length,T),v[P]=new Array(T),v[D]=new Array(T),_=0;_<T;_++){var R=m[0][_]|0,B=m[1][_]|0;v[P][_]=l[(R+1)*3+(B+1)],v[D][_]=0,g[P]=u}}var b=this.jpoint(null,null,null),E=this._wnafT4;for(I=T;I>=0;I--){for(var k=0;I>=0;){var L=!0;for(_=0;_<p;_++)E[_]=v[_][I]|0,E[_]!==0&&(L=!1);if(!L)break;k++,I--}if(I>=0&&k++,b=b.dblp(k),I<0)break;for(_=0;_<p;_++){var $=E[_];$!==0&&($>0?C=g[_][$-1>>1]:$<0&&(C=g[_][-$-1>>1].neg()),C.type==="affine"?b=b.mixedAdd(C):b=b.add(C))}}for(I=0;I<p;I++)g[I]=null;return h?b:b.toP()};function s(f,d){this.curve=f,this.type=d,this.precomputed=null}return o.BasePoint=s,s.prototype.eq=function(){throw new Error("Not implemented")},s.prototype.validate=function(){return this.curve.validate(this)},o.prototype.decodePoint=function(d,a){d=t.toArray(d,a);var c=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1===2*c){d[0]===6?i(d[d.length-1]%2===0):d[0]===7&&i(d[d.length-1]%2===1);var p=this.point(d.slice(1,1+c),d.slice(1+c,1+2*c));return p}else if((d[0]===2||d[0]===3)&&d.length-1===c)return this.pointFromX(d.slice(1,1+c),d[0]===3);throw new Error("Unknown point format")},s.prototype.encodeCompressed=function(d){return this.encode(d,!0)},s.prototype._encode=function(d){var a=this.curve.p.byteLength(),c=this.getX().toArray("be",a);return d?[this.getY().isEven()?2:3].concat(c):[4].concat(c,this.getY().toArray("be",a))},s.prototype.encode=function(d,a){return t.encode(this._encode(a),d)},s.prototype.precompute=function(d){if(this.precomputed)return this;var a={doubles:null,naf:null,beta:null};return a.naf=this._getNAFPoints(8),a.doubles=this._getDoubles(4,d),a.beta=this._getBeta(),this.precomputed=a,this},s.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var a=this.precomputed.doubles;return a?a.points.length>=Math.ceil((d.bitLength()+1)/a.step):!1},s.prototype._getDoubles=function(d,a){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var c=[this],p=this,h=0;h<a;h+=d){for(var y=0;y<d;y++)p=p.dbl();c.push(p)}return{step:d,points:c}},s.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var a=[this],c=(1<<d)-1,p=c===1?null:this.dbl(),h=1;h<c;h++)a[h]=a[h-1].add(p);return{wnd:d,points:a}},s.prototype._getBeta=function(){return null},s.prototype.dblp=function(d){for(var a=this,c=0;c<d;c++)a=a.dbl();return a},O2}var A2,W8;function tj(){if(W8)return A2;W8=1;var e=Ai(),t=fa(),r=Gt,n=D1(),i=e.assert;function o(d){n.call(this,"short",d),this.a=new t(d.a,16).toRed(this.red),this.b=new t(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}r(o,n),A2=o,o.prototype._getEndomorphism=function(a){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var c,p;if(a.beta)c=new t(a.beta,16).toRed(this.red);else{var h=this._getEndoRoots(this.p);c=h[0].cmp(h[1])<0?h[0]:h[1],c=c.toRed(this.red)}if(a.lambda)p=new t(a.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(c))===0?p=y[0]:(p=y[1],i(this.g.mul(p).x.cmp(this.g.x.redMul(c))===0))}var g;return a.basis?g=a.basis.map(function(v){return{a:new t(v.a,16),b:new t(v.b,16)}}):g=this._getEndoBasis(p),{beta:c,lambda:p,basis:g}}},o.prototype._getEndoRoots=function(a){var c=a===this.p?this.red:t.mont(a),p=new t(2).toRed(c).redInvm(),h=p.redNeg(),y=new t(3).toRed(c).redNeg().redSqrt().redMul(p),g=h.redAdd(y).fromRed(),v=h.redSub(y).fromRed();return[g,v]},o.prototype._getEndoBasis=function(a){for(var c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),p=a,h=this.n.clone(),y=new t(1),g=new t(0),v=new t(0),T=new t(1),I,_,C,w,P,D,u,l=0,m,R;p.cmpn(0)!==0;){var B=h.div(p);m=h.sub(B.mul(p)),R=v.sub(B.mul(y));var b=T.sub(B.mul(g));if(!C&&m.cmp(c)<0)I=u.neg(),_=y,C=m.neg(),w=R;else if(C&&++l===2)break;u=m,h=p,p=m,v=y,y=R,T=g,g=b}P=m.neg(),D=R;var E=C.sqr().add(w.sqr()),k=P.sqr().add(D.sqr());return k.cmp(E)>=0&&(P=I,D=_),C.negative&&(C=C.neg(),w=w.neg()),P.negative&&(P=P.neg(),D=D.neg()),[{a:C,b:w},{a:P,b:D}]},o.prototype._endoSplit=function(a){var c=this.endo.basis,p=c[0],h=c[1],y=h.b.mul(a).divRound(this.n),g=p.b.neg().mul(a).divRound(this.n),v=y.mul(p.a),T=g.mul(h.a),I=y.mul(p.b),_=g.mul(h.b),C=a.sub(v).sub(T),w=I.add(_).neg();return{k1:C,k2:w}},o.prototype.pointFromX=function(a,c){a=new t(a,16),a.red||(a=a.toRed(this.red));var p=a.redSqr().redMul(a).redIAdd(a.redMul(this.a)).redIAdd(this.b),h=p.redSqrt();if(h.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");var y=h.fromRed().isOdd();return(c&&!y||!c&&y)&&(h=h.redNeg()),this.point(a,h)},o.prototype.validate=function(a){if(a.inf)return!0;var c=a.x,p=a.y,h=this.a.redMul(c),y=c.redSqr().redMul(c).redIAdd(h).redIAdd(this.b);return p.redSqr().redISub(y).cmpn(0)===0},o.prototype._endoWnafMulAdd=function(a,c,p){for(var h=this._endoWnafT1,y=this._endoWnafT2,g=0;g<a.length;g++){var v=this._endoSplit(c[g]),T=a[g],I=T._getBeta();v.k1.negative&&(v.k1.ineg(),T=T.neg(!0)),v.k2.negative&&(v.k2.ineg(),I=I.neg(!0)),h[g*2]=T,h[g*2+1]=I,y[g*2]=v.k1,y[g*2+1]=v.k2}for(var _=this._wnafMulAdd(1,h,y,g*2,p),C=0;C<g*2;C++)h[C]=null,y[C]=null;return _};function s(d,a,c,p){n.BasePoint.call(this,d,"affine"),a===null&&c===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new t(a,16),this.y=new t(c,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}r(s,n.BasePoint),o.prototype.point=function(a,c,p){return new s(this,a,c,p)},o.prototype.pointFromJSON=function(a,c){return s.fromJSON(this,a,c)},s.prototype._getBeta=function(){if(this.curve.endo){var a=this.precomputed;if(a&&a.beta)return a.beta;var c=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(a){var p=this.curve,h=function(y){return p.point(y.x.redMul(p.endo.beta),y.y)};a.beta=c,c.precomputed={beta:null,naf:a.naf&&{wnd:a.naf.wnd,points:a.naf.points.map(h)},doubles:a.doubles&&{step:a.doubles.step,points:a.doubles.points.map(h)}}}return c}},s.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},s.fromJSON=function(a,c,p){typeof c=="string"&&(c=JSON.parse(c));var h=a.point(c[0],c[1],p);if(!c[2])return h;function y(v){return a.point(v[0],v[1],p)}var g=c[2];return h.precomputed={beta:null,doubles:g.doubles&&{step:g.doubles.step,points:[h].concat(g.doubles.points.map(y))},naf:g.naf&&{wnd:g.naf.wnd,points:[h].concat(g.naf.points.map(y))}},h},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.inf},s.prototype.add=function(a){if(this.inf)return a;if(a.inf)return this;if(this.eq(a))return this.dbl();if(this.neg().eq(a))return this.curve.point(null,null);if(this.x.cmp(a.x)===0)return this.curve.point(null,null);var c=this.y.redSub(a.y);c.cmpn(0)!==0&&(c=c.redMul(this.x.redSub(a.x).redInvm()));var p=c.redSqr().redISub(this.x).redISub(a.x),h=c.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,h)},s.prototype.dbl=function(){if(this.inf)return this;var a=this.y.redAdd(this.y);if(a.cmpn(0)===0)return this.curve.point(null,null);var c=this.curve.a,p=this.x.redSqr(),h=a.redInvm(),y=p.redAdd(p).redIAdd(p).redIAdd(c).redMul(h),g=y.redSqr().redISub(this.x.redAdd(this.x)),v=y.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,v)},s.prototype.getX=function(){return this.x.fromRed()},s.prototype.getY=function(){return this.y.fromRed()},s.prototype.mul=function(a){return a=new t(a,16),this.isInfinity()?this:this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve.endo?this.curve._endoWnafMulAdd([this],[a]):this.curve._wnafMul(this,a)},s.prototype.mulAdd=function(a,c,p){var h=[this,c],y=[a,p];return this.curve.endo?this.curve._endoWnafMulAdd(h,y):this.curve._wnafMulAdd(1,h,y,2)},s.prototype.jmulAdd=function(a,c,p){var h=[this,c],y=[a,p];return this.curve.endo?this.curve._endoWnafMulAdd(h,y,!0):this.curve._wnafMulAdd(1,h,y,2,!0)},s.prototype.eq=function(a){return this===a||this.inf===a.inf&&(this.inf||this.x.cmp(a.x)===0&&this.y.cmp(a.y)===0)},s.prototype.neg=function(a){if(this.inf)return this;var c=this.curve.point(this.x,this.y.redNeg());if(a&&this.precomputed){var p=this.precomputed,h=function(y){return y.neg()};c.precomputed={naf:p.naf&&{wnd:p.naf.wnd,points:p.naf.points.map(h)},doubles:p.doubles&&{step:p.doubles.step,points:p.doubles.points.map(h)}}}return c},s.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var a=this.curve.jpoint(this.x,this.y,this.curve.one);return a};function f(d,a,c,p){n.BasePoint.call(this,d,"jacobian"),a===null&&c===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t(0)):(this.x=new t(a,16),this.y=new t(c,16),this.z=new t(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return r(f,n.BasePoint),o.prototype.jpoint=function(a,c,p){return new f(this,a,c,p)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var a=this.z.redInvm(),c=a.redSqr(),p=this.x.redMul(c),h=this.y.redMul(c).redMul(a);return this.curve.point(p,h)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(a){if(this.isInfinity())return a;if(a.isInfinity())return this;var c=a.z.redSqr(),p=this.z.redSqr(),h=this.x.redMul(c),y=a.x.redMul(p),g=this.y.redMul(c.redMul(a.z)),v=a.y.redMul(p.redMul(this.z)),T=h.redSub(y),I=g.redSub(v);if(T.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var _=T.redSqr(),C=_.redMul(T),w=h.redMul(_),P=I.redSqr().redIAdd(C).redISub(w).redISub(w),D=I.redMul(w.redISub(P)).redISub(g.redMul(C)),u=this.z.redMul(a.z).redMul(T);return this.curve.jpoint(P,D,u)},f.prototype.mixedAdd=function(a){if(this.isInfinity())return a.toJ();if(a.isInfinity())return this;var c=this.z.redSqr(),p=this.x,h=a.x.redMul(c),y=this.y,g=a.y.redMul(c).redMul(this.z),v=p.redSub(h),T=y.redSub(g);if(v.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=v.redSqr(),_=I.redMul(v),C=p.redMul(I),w=T.redSqr().redIAdd(_).redISub(C).redISub(C),P=T.redMul(C.redISub(w)).redISub(y.redMul(_)),D=this.z.redMul(v);return this.curve.jpoint(w,P,D)},f.prototype.dblp=function(a){if(a===0)return this;if(this.isInfinity())return this;if(!a)return this.dbl();var c;if(this.curve.zeroA||this.curve.threeA){var p=this;for(c=0;c<a;c++)p=p.dbl();return p}var h=this.curve.a,y=this.curve.tinv,g=this.x,v=this.y,T=this.z,I=T.redSqr().redSqr(),_=v.redAdd(v);for(c=0;c<a;c++){var C=g.redSqr(),w=_.redSqr(),P=w.redSqr(),D=C.redAdd(C).redIAdd(C).redIAdd(h.redMul(I)),u=g.redMul(w),l=D.redSqr().redISub(u.redAdd(u)),m=u.redISub(l),R=D.redMul(m);R=R.redIAdd(R).redISub(P);var B=_.redMul(T);c+1<a&&(I=I.redMul(P)),g=l,T=B,_=R}return this.curve.jpoint(g,_.redMul(y),T)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var a,c,p;if(this.zOne){var h=this.x.redSqr(),y=this.y.redSqr(),g=y.redSqr(),v=this.x.redAdd(y).redSqr().redISub(h).redISub(g);v=v.redIAdd(v);var T=h.redAdd(h).redIAdd(h),I=T.redSqr().redISub(v).redISub(v),_=g.redIAdd(g);_=_.redIAdd(_),_=_.redIAdd(_),a=I,c=T.redMul(v.redISub(I)).redISub(_),p=this.y.redAdd(this.y)}else{var C=this.x.redSqr(),w=this.y.redSqr(),P=w.redSqr(),D=this.x.redAdd(w).redSqr().redISub(C).redISub(P);D=D.redIAdd(D);var u=C.redAdd(C).redIAdd(C),l=u.redSqr(),m=P.redIAdd(P);m=m.redIAdd(m),m=m.redIAdd(m),a=l.redISub(D).redISub(D),c=u.redMul(D.redISub(a)).redISub(m),p=this.y.redMul(this.z),p=p.redIAdd(p)}return this.curve.jpoint(a,c,p)},f.prototype._threeDbl=function(){var a,c,p;if(this.zOne){var h=this.x.redSqr(),y=this.y.redSqr(),g=y.redSqr(),v=this.x.redAdd(y).redSqr().redISub(h).redISub(g);v=v.redIAdd(v);var T=h.redAdd(h).redIAdd(h).redIAdd(this.curve.a),I=T.redSqr().redISub(v).redISub(v);a=I;var _=g.redIAdd(g);_=_.redIAdd(_),_=_.redIAdd(_),c=T.redMul(v.redISub(I)).redISub(_),p=this.y.redAdd(this.y)}else{var C=this.z.redSqr(),w=this.y.redSqr(),P=this.x.redMul(w),D=this.x.redSub(C).redMul(this.x.redAdd(C));D=D.redAdd(D).redIAdd(D);var u=P.redIAdd(P);u=u.redIAdd(u);var l=u.redAdd(u);a=D.redSqr().redISub(l),p=this.y.redAdd(this.z).redSqr().redISub(w).redISub(C);var m=w.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m),c=D.redMul(u.redISub(a)).redISub(m)}return this.curve.jpoint(a,c,p)},f.prototype._dbl=function(){var a=this.curve.a,c=this.x,p=this.y,h=this.z,y=h.redSqr().redSqr(),g=c.redSqr(),v=p.redSqr(),T=g.redAdd(g).redIAdd(g).redIAdd(a.redMul(y)),I=c.redAdd(c);I=I.redIAdd(I);var _=I.redMul(v),C=T.redSqr().redISub(_.redAdd(_)),w=_.redISub(C),P=v.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P);var D=T.redMul(w).redISub(P),u=p.redAdd(p).redMul(h);return this.curve.jpoint(C,D,u)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var a=this.x.redSqr(),c=this.y.redSqr(),p=this.z.redSqr(),h=c.redSqr(),y=a.redAdd(a).redIAdd(a),g=y.redSqr(),v=this.x.redAdd(c).redSqr().redISub(a).redISub(h);v=v.redIAdd(v),v=v.redAdd(v).redIAdd(v),v=v.redISub(g);var T=v.redSqr(),I=h.redIAdd(h);I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var _=y.redIAdd(v).redSqr().redISub(g).redISub(T).redISub(I),C=c.redMul(_);C=C.redIAdd(C),C=C.redIAdd(C);var w=this.x.redMul(T).redISub(C);w=w.redIAdd(w),w=w.redIAdd(w);var P=this.y.redMul(_.redMul(I.redISub(_)).redISub(v.redMul(T)));P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P);var D=this.z.redAdd(v).redSqr().redISub(p).redISub(T);return this.curve.jpoint(w,P,D)},f.prototype.mul=function(a,c){return a=new t(a,c),this.curve._wnafMul(this,a)},f.prototype.eq=function(a){if(a.type==="affine")return this.eq(a.toJ());if(this===a)return!0;var c=this.z.redSqr(),p=a.z.redSqr();if(this.x.redMul(p).redISub(a.x.redMul(c)).cmpn(0)!==0)return!1;var h=c.redMul(this.z),y=p.redMul(a.z);return this.y.redMul(y).redISub(a.y.redMul(h)).cmpn(0)===0},f.prototype.eqXToP=function(a){var c=this.z.redSqr(),p=a.toRed(this.curve.red).redMul(c);if(this.x.cmp(p)===0)return!0;for(var h=a.clone(),y=this.curve.redN.redMul(c);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(p.redIAdd(y),this.x.cmp(p)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0},A2}var P2,X8;function rj(){if(X8)return P2;X8=1;var e=fa(),t=Gt,r=D1(),n=Ai();function i(s){r.call(this,"mont",s),this.a=new e(s.a,16).toRed(this.red),this.b=new e(s.b,16).toRed(this.red),this.i4=new e(4).toRed(this.red).redInvm(),this.two=new e(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}t(i,r),P2=i,i.prototype.validate=function(f){var d=f.normalize().x,a=d.redSqr(),c=a.redMul(d).redAdd(a.redMul(this.a)).redAdd(d),p=c.redSqrt();return p.redSqr().cmp(c)===0};function o(s,f,d){r.BasePoint.call(this,s,"projective"),f===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new e(f,16),this.z=new e(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return t(o,r.BasePoint),i.prototype.decodePoint=function(f,d){return this.point(n.toArray(f,d),1)},i.prototype.point=function(f,d){return new o(this,f,d)},i.prototype.pointFromJSON=function(f){return o.fromJSON(this,f)},o.prototype.precompute=function(){},o.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},o.fromJSON=function(f,d){return new o(f,d[0],d[1]||f.one)},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0},o.prototype.dbl=function(){var f=this.x.redAdd(this.z),d=f.redSqr(),a=this.x.redSub(this.z),c=a.redSqr(),p=d.redSub(c),h=d.redMul(c),y=p.redMul(c.redAdd(this.curve.a24.redMul(p)));return this.curve.point(h,y)},o.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.diffAdd=function(f,d){var a=this.x.redAdd(this.z),c=this.x.redSub(this.z),p=f.x.redAdd(f.z),h=f.x.redSub(f.z),y=h.redMul(a),g=p.redMul(c),v=d.z.redMul(y.redAdd(g).redSqr()),T=d.x.redMul(y.redISub(g).redSqr());return this.curve.point(v,T)},o.prototype.mul=function(f){for(var d=f.clone(),a=this,c=this.curve.point(null,null),p=this,h=[];d.cmpn(0)!==0;d.iushrn(1))h.push(d.andln(1));for(var y=h.length-1;y>=0;y--)h[y]===0?(a=a.diffAdd(c,p),c=c.dbl()):(c=a.diffAdd(c,p),a=a.dbl());return c},o.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},o.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},P2}var N2,Z8;function nj(){if(Z8)return N2;Z8=1;var e=Ai(),t=fa(),r=Gt,n=D1(),i=e.assert;function o(f){this.twisted=(f.a|0)!==1,this.mOneA=this.twisted&&(f.a|0)===-1,this.extended=this.mOneA,n.call(this,"edwards",f),this.a=new t(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new t(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new t(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(f.c|0)===1}r(o,n),N2=o,o.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},o.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},o.prototype.jpoint=function(d,a,c,p){return this.point(d,a,c,p)},o.prototype.pointFromX=function(d,a){d=new t(d,16),d.red||(d=d.toRed(this.red));var c=d.redSqr(),p=this.c2.redSub(this.a.redMul(c)),h=this.one.redSub(this.c2.redMul(this.d).redMul(c)),y=p.redMul(h.redInvm()),g=y.redSqrt();if(g.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var v=g.fromRed().isOdd();return(a&&!v||!a&&v)&&(g=g.redNeg()),this.point(d,g)},o.prototype.pointFromY=function(d,a){d=new t(d,16),d.red||(d=d.toRed(this.red));var c=d.redSqr(),p=c.redSub(this.c2),h=c.redMul(this.d).redMul(this.c2).redSub(this.a),y=p.redMul(h.redInvm());if(y.cmp(this.zero)===0){if(a)throw new Error("invalid point");return this.point(this.zero,d)}var g=y.redSqrt();if(g.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return g.fromRed().isOdd()!==a&&(g=g.redNeg()),this.point(g,d)},o.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var a=d.x.redSqr(),c=d.y.redSqr(),p=a.redMul(this.a).redAdd(c),h=this.c2.redMul(this.one.redAdd(this.d.redMul(a).redMul(c)));return p.cmp(h)===0};function s(f,d,a,c,p){n.BasePoint.call(this,f,"projective"),d===null&&a===null&&c===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new t(d,16),this.y=new t(a,16),this.z=c?new t(c,16):this.curve.one,this.t=p&&new t(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return r(s,n.BasePoint),o.prototype.pointFromJSON=function(d){return s.fromJSON(this,d)},o.prototype.point=function(d,a,c,p){return new s(this,d,a,c,p)},s.fromJSON=function(d,a){return new s(d,a[0],a[1],a[2])},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},s.prototype._extDbl=function(){var d=this.x.redSqr(),a=this.y.redSqr(),c=this.z.redSqr();c=c.redIAdd(c);var p=this.curve._mulA(d),h=this.x.redAdd(this.y).redSqr().redISub(d).redISub(a),y=p.redAdd(a),g=y.redSub(c),v=p.redSub(a),T=h.redMul(g),I=y.redMul(v),_=h.redMul(v),C=g.redMul(y);return this.curve.point(T,I,C,_)},s.prototype._projDbl=function(){var d=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr(),p,h,y,g,v,T;if(this.curve.twisted){g=this.curve._mulA(a);var I=g.redAdd(c);this.zOne?(p=d.redSub(a).redSub(c).redMul(I.redSub(this.curve.two)),h=I.redMul(g.redSub(c)),y=I.redSqr().redSub(I).redSub(I)):(v=this.z.redSqr(),T=I.redSub(v).redISub(v),p=d.redSub(a).redISub(c).redMul(T),h=I.redMul(g.redSub(c)),y=I.redMul(T))}else g=a.redAdd(c),v=this.curve._mulC(this.z).redSqr(),T=g.redSub(v).redSub(v),p=this.curve._mulC(d.redISub(g)).redMul(T),h=this.curve._mulC(g).redMul(a.redISub(c)),y=g.redMul(T);return this.curve.point(p,h,y)},s.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},s.prototype._extAdd=function(d){var a=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),c=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),p=this.t.redMul(this.curve.dd).redMul(d.t),h=this.z.redMul(d.z.redAdd(d.z)),y=c.redSub(a),g=h.redSub(p),v=h.redAdd(p),T=c.redAdd(a),I=y.redMul(g),_=v.redMul(T),C=y.redMul(T),w=g.redMul(v);return this.curve.point(I,_,w,C)},s.prototype._projAdd=function(d){var a=this.z.redMul(d.z),c=a.redSqr(),p=this.x.redMul(d.x),h=this.y.redMul(d.y),y=this.curve.d.redMul(p).redMul(h),g=c.redSub(y),v=c.redAdd(y),T=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(p).redISub(h),I=a.redMul(g).redMul(T),_,C;return this.curve.twisted?(_=a.redMul(v).redMul(h.redSub(this.curve._mulA(p))),C=g.redMul(v)):(_=a.redMul(v).redMul(h.redSub(p)),C=this.curve._mulC(g).redMul(v)),this.curve.point(I,_,C)},s.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},s.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},s.prototype.mulAdd=function(d,a,c){return this.curve._wnafMulAdd(1,[this,a],[d,c],2,!1)},s.prototype.jmulAdd=function(d,a,c){return this.curve._wnafMulAdd(1,[this,a],[d,c],2,!0)},s.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},s.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},s.prototype.getY=function(){return this.normalize(),this.y.fromRed()},s.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},s.prototype.eqXToP=function(d){var a=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(a)===0)return!0;for(var c=d.clone(),p=this.curve.redN.redMul(this.z);;){if(c.iadd(this.curve.n),c.cmp(this.curve.p)>=0)return!1;if(a.redIAdd(p),this.x.cmp(a)===0)return!0}},s.prototype.toP=s.prototype.normalize,s.prototype.mixedAdd=s.prototype.add,N2}var Q8;function r7(){return Q8||(Q8=1,function(e){var t=e;t.base=D1(),t.short=tj(),t.mont=rj(),t.edwards=nj()}(R2)),R2}var M2={},U2={},it={},eT;function _s(){if(eT)return it;eT=1;var e=Lu(),t=Gt;it.inherits=t;function r(b,E){return(b.charCodeAt(E)&64512)!==55296||E<0||E+1>=b.length?!1:(b.charCodeAt(E+1)&64512)===56320}function n(b,E){if(Array.isArray(b))return b.slice();if(!b)return[];var k=[];if(typeof b=="string")if(E){if(E==="hex")for(b=b.replace(/[^a-z0-9]+/ig,""),b.length%2!==0&&(b="0"+b),$=0;$<b.length;$+=2)k.push(parseInt(b[$]+b[$+1],16))}else for(var L=0,$=0;$<b.length;$++){var G=b.charCodeAt($);G<128?k[L++]=G:G<2048?(k[L++]=G>>6|192,k[L++]=G&63|128):r(b,$)?(G=65536+((G&1023)<<10)+(b.charCodeAt(++$)&1023),k[L++]=G>>18|240,k[L++]=G>>12&63|128,k[L++]=G>>6&63|128,k[L++]=G&63|128):(k[L++]=G>>12|224,k[L++]=G>>6&63|128,k[L++]=G&63|128)}else for($=0;$<b.length;$++)k[$]=b[$]|0;return k}it.toArray=n;function i(b){for(var E="",k=0;k<b.length;k++)E+=f(b[k].toString(16));return E}it.toHex=i;function o(b){var E=b>>>24|b>>>8&65280|b<<8&16711680|(b&255)<<24;return E>>>0}it.htonl=o;function s(b,E){for(var k="",L=0;L<b.length;L++){var $=b[L];E==="little"&&($=o($)),k+=d($.toString(16))}return k}it.toHex32=s;function f(b){return b.length===1?"0"+b:b}it.zero2=f;function d(b){return b.length===7?"0"+b:b.length===6?"00"+b:b.length===5?"000"+b:b.length===4?"0000"+b:b.length===3?"00000"+b:b.length===2?"000000"+b:b.length===1?"0000000"+b:b}it.zero8=d;function a(b,E,k,L){var $=k-E;e($%4===0);for(var G=new Array($/4),oe=0,M=E;oe<G.length;oe++,M+=4){var S;L==="big"?S=b[M]<<24|b[M+1]<<16|b[M+2]<<8|b[M+3]:S=b[M+3]<<24|b[M+2]<<16|b[M+1]<<8|b[M],G[oe]=S>>>0}return G}it.join32=a;function c(b,E){for(var k=new Array(b.length*4),L=0,$=0;L<b.length;L++,$+=4){var G=b[L];E==="big"?(k[$]=G>>>24,k[$+1]=G>>>16&255,k[$+2]=G>>>8&255,k[$+3]=G&255):(k[$+3]=G>>>24,k[$+2]=G>>>16&255,k[$+1]=G>>>8&255,k[$]=G&255)}return k}it.split32=c;function p(b,E){return b>>>E|b<<32-E}it.rotr32=p;function h(b,E){return b<<E|b>>>32-E}it.rotl32=h;function y(b,E){return b+E>>>0}it.sum32=y;function g(b,E,k){return b+E+k>>>0}it.sum32_3=g;function v(b,E,k,L){return b+E+k+L>>>0}it.sum32_4=v;function T(b,E,k,L,$){return b+E+k+L+$>>>0}it.sum32_5=T;function I(b,E,k,L){var $=b[E],G=b[E+1],oe=L+G>>>0,M=(oe<L?1:0)+k+$;b[E]=M>>>0,b[E+1]=oe}it.sum64=I;function _(b,E,k,L){var $=E+L>>>0,G=($<E?1:0)+b+k;return G>>>0}it.sum64_hi=_;function C(b,E,k,L){var $=E+L;return $>>>0}it.sum64_lo=C;function w(b,E,k,L,$,G,oe,M){var S=0,K=E;K=K+L>>>0,S+=K<E?1:0,K=K+G>>>0,S+=K<G?1:0,K=K+M>>>0,S+=K<M?1:0;var he=b+k+$+oe+S;return he>>>0}it.sum64_4_hi=w;function P(b,E,k,L,$,G,oe,M){var S=E+L+G+M;return S>>>0}it.sum64_4_lo=P;function D(b,E,k,L,$,G,oe,M,S,K){var he=0,ie=E;ie=ie+L>>>0,he+=ie<E?1:0,ie=ie+G>>>0,he+=ie<G?1:0,ie=ie+M>>>0,he+=ie<M?1:0,ie=ie+K>>>0,he+=ie<K?1:0;var fe=b+k+$+oe+S+he;return fe>>>0}it.sum64_5_hi=D;function u(b,E,k,L,$,G,oe,M,S,K){var he=E+L+G+M+K;return he>>>0}it.sum64_5_lo=u;function l(b,E,k){var L=E<<32-k|b>>>k;return L>>>0}it.rotr64_hi=l;function m(b,E,k){var L=b<<32-k|E>>>k;return L>>>0}it.rotr64_lo=m;function R(b,E,k){return b>>>k}it.shr64_hi=R;function B(b,E,k){var L=b<<32-k|E>>>k;return L>>>0}return it.shr64_lo=B,it}var k2={},tT;function ep(){if(tT)return k2;tT=1;var e=_s(),t=Lu();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return k2.BlockHash=r,r.prototype.update=function(i,o){if(i=e.toArray(i,o),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var s=i.length%this._delta8;this.pending=i.slice(i.length-s,i.length),this.pending.length===0&&(this.pending=null),i=e.join32(i,0,i.length-s,this.endian);for(var f=0;f<i.length;f+=this._delta32)this._update(i,f,f+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),t(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,o=this._delta8,s=o-(i+this.padLength)%o,f=new Array(s+this.padLength);f[0]=128;for(var d=1;d<s;d++)f[d]=0;if(i<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)f[d++]=0;f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=i>>>24&255,f[d++]=i>>>16&255,f[d++]=i>>>8&255,f[d++]=i&255}else for(f[d++]=i&255,f[d++]=i>>>8&255,f[d++]=i>>>16&255,f[d++]=i>>>24&255,f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=0,a=8;a<this.padLength;a++)f[d++]=0;return f},k2}var $f={},po={},rT;function n7(){if(rT)return po;rT=1;var e=_s(),t=e.rotr32;function r(c,p,h,y){if(c===0)return n(p,h,y);if(c===1||c===3)return o(p,h,y);if(c===2)return i(p,h,y)}po.ft_1=r;function n(c,p,h){return c&p^~c&h}po.ch32=n;function i(c,p,h){return c&p^c&h^p&h}po.maj32=i;function o(c,p,h){return c^p^h}po.p32=o;function s(c){return t(c,2)^t(c,13)^t(c,22)}po.s0_256=s;function f(c){return t(c,6)^t(c,11)^t(c,25)}po.s1_256=f;function d(c){return t(c,7)^t(c,18)^c>>>3}po.g0_256=d;function a(c){return t(c,17)^t(c,19)^c>>>10}return po.g1_256=a,po}var $2,nT;function ij(){if(nT)return $2;nT=1;var e=_s(),t=ep(),r=n7(),n=e.rotl32,i=e.sum32,o=e.sum32_5,s=r.ft_1,f=t.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function a(){if(!(this instanceof a))return new a;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(a,f),$2=a,a.blockSize=512,a.outSize=160,a.hmacStrength=80,a.padLength=64,a.prototype._update=function(p,h){for(var y=this.W,g=0;g<16;g++)y[g]=p[h+g];for(;g<y.length;g++)y[g]=n(y[g-3]^y[g-8]^y[g-14]^y[g-16],1);var v=this.h[0],T=this.h[1],I=this.h[2],_=this.h[3],C=this.h[4];for(g=0;g<y.length;g++){var w=~~(g/20),P=o(n(v,5),s(w,T,I,_),C,y[g],d[w]);C=_,_=I,I=n(T,30),T=v,v=P}this.h[0]=i(this.h[0],v),this.h[1]=i(this.h[1],T),this.h[2]=i(this.h[2],I),this.h[3]=i(this.h[3],_),this.h[4]=i(this.h[4],C)},a.prototype._digest=function(p){return p==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},$2}var F2,iT;function i7(){if(iT)return F2;iT=1;var e=_s(),t=ep(),r=n7(),n=Lu(),i=e.sum32,o=e.sum32_4,s=e.sum32_5,f=r.ch32,d=r.maj32,a=r.s0_256,c=r.s1_256,p=r.g0_256,h=r.g1_256,y=t.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}return e.inherits(v,y),F2=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(I,_){for(var C=this.W,w=0;w<16;w++)C[w]=I[_+w];for(;w<C.length;w++)C[w]=o(h(C[w-2]),C[w-7],p(C[w-15]),C[w-16]);var P=this.h[0],D=this.h[1],u=this.h[2],l=this.h[3],m=this.h[4],R=this.h[5],B=this.h[6],b=this.h[7];for(n(this.k.length===C.length),w=0;w<C.length;w++){var E=s(b,c(m),f(m,R,B),this.k[w],C[w]),k=i(a(P),d(P,D,u));b=B,B=R,R=m,m=i(l,E),l=u,u=D,D=P,P=i(E,k)}this.h[0]=i(this.h[0],P),this.h[1]=i(this.h[1],D),this.h[2]=i(this.h[2],u),this.h[3]=i(this.h[3],l),this.h[4]=i(this.h[4],m),this.h[5]=i(this.h[5],R),this.h[6]=i(this.h[6],B),this.h[7]=i(this.h[7],b)},v.prototype._digest=function(I){return I==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},F2}var L2,oT;function oj(){if(oT)return L2;oT=1;var e=_s(),t=i7();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),L2=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},L2}var j2,sT;function o7(){if(sT)return j2;sT=1;var e=_s(),t=ep(),r=Lu(),n=e.rotr64_hi,i=e.rotr64_lo,o=e.shr64_hi,s=e.shr64_lo,f=e.sum64,d=e.sum64_hi,a=e.sum64_lo,c=e.sum64_4_hi,p=e.sum64_4_lo,h=e.sum64_5_hi,y=e.sum64_5_lo,g=t.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function T(){if(!(this instanceof T))return new T;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}e.inherits(T,g),j2=T,T.blockSize=1024,T.outSize=512,T.hmacStrength=192,T.padLength=128,T.prototype._prepareBlock=function(k,L){for(var $=this.W,G=0;G<32;G++)$[G]=k[L+G];for(;G<$.length;G+=2){var oe=B($[G-4],$[G-3]),M=b($[G-4],$[G-3]),S=$[G-14],K=$[G-13],he=m($[G-30],$[G-29]),ie=R($[G-30],$[G-29]),fe=$[G-32],pe=$[G-31];$[G]=c(oe,M,S,K,he,ie,fe,pe),$[G+1]=p(oe,M,S,K,he,ie,fe,pe)}},T.prototype._update=function(k,L){this._prepareBlock(k,L);var $=this.W,G=this.h[0],oe=this.h[1],M=this.h[2],S=this.h[3],K=this.h[4],he=this.h[5],ie=this.h[6],fe=this.h[7],pe=this.h[8],se=this.h[9],ee=this.h[10],te=this.h[11],ae=this.h[12],X=this.h[13],V=this.h[14],Y=this.h[15];r(this.k.length===$.length);for(var ce=0;ce<$.length;ce+=2){var _e=V,Ce=Y,Q=u(pe,se),U=l(pe,se),F=I(pe,se,ee,te,ae),W=_(pe,se,ee,te,ae,X),be=this.k[ce],Ee=this.k[ce+1],xe=$[ce],Ue=$[ce+1],de=h(_e,Ce,Q,U,F,W,be,Ee,xe,Ue),ge=y(_e,Ce,Q,U,F,W,be,Ee,xe,Ue);_e=P(G,oe),Ce=D(G,oe),Q=C(G,oe,M,S,K),U=w(G,oe,M,S,K,he);var j=d(_e,Ce,Q,U),O=a(_e,Ce,Q,U);V=ae,Y=X,ae=ee,X=te,ee=pe,te=se,pe=d(ie,fe,de,ge),se=a(fe,fe,de,ge),ie=K,fe=he,K=M,he=S,M=G,S=oe,G=d(de,ge,j,O),oe=a(de,ge,j,O)}f(this.h,0,G,oe),f(this.h,2,M,S),f(this.h,4,K,he),f(this.h,6,ie,fe),f(this.h,8,pe,se),f(this.h,10,ee,te),f(this.h,12,ae,X),f(this.h,14,V,Y)},T.prototype._digest=function(k){return k==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function I(E,k,L,$,G){var oe=E&L^~E&G;return oe<0&&(oe+=4294967296),oe}function _(E,k,L,$,G,oe){var M=k&$^~k&oe;return M<0&&(M+=4294967296),M}function C(E,k,L,$,G){var oe=E&L^E&G^L&G;return oe<0&&(oe+=4294967296),oe}function w(E,k,L,$,G,oe){var M=k&$^k&oe^$&oe;return M<0&&(M+=4294967296),M}function P(E,k){var L=n(E,k,28),$=n(k,E,2),G=n(k,E,7),oe=L^$^G;return oe<0&&(oe+=4294967296),oe}function D(E,k){var L=i(E,k,28),$=i(k,E,2),G=i(k,E,7),oe=L^$^G;return oe<0&&(oe+=4294967296),oe}function u(E,k){var L=n(E,k,14),$=n(E,k,18),G=n(k,E,9),oe=L^$^G;return oe<0&&(oe+=4294967296),oe}function l(E,k){var L=i(E,k,14),$=i(E,k,18),G=i(k,E,9),oe=L^$^G;return oe<0&&(oe+=4294967296),oe}function m(E,k){var L=n(E,k,1),$=n(E,k,8),G=o(E,k,7),oe=L^$^G;return oe<0&&(oe+=4294967296),oe}function R(E,k){var L=i(E,k,1),$=i(E,k,8),G=s(E,k,7),oe=L^$^G;return oe<0&&(oe+=4294967296),oe}function B(E,k){var L=n(E,k,19),$=n(k,E,29),G=o(E,k,6),oe=L^$^G;return oe<0&&(oe+=4294967296),oe}function b(E,k){var L=i(E,k,19),$=i(k,E,29),G=s(E,k,6),oe=L^$^G;return oe<0&&(oe+=4294967296),oe}return j2}var K2,aT;function sj(){if(aT)return K2;aT=1;var e=_s(),t=o7();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),K2=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},K2}var fT;function aj(){return fT||(fT=1,$f.sha1=ij(),$f.sha224=oj(),$f.sha256=i7(),$f.sha384=sj(),$f.sha512=o7()),$f}var H2={},uT;function fj(){if(uT)return H2;uT=1;var e=_s(),t=ep(),r=e.rotl32,n=e.sum32,i=e.sum32_3,o=e.sum32_4,s=t.BlockHash;function f(){if(!(this instanceof f))return new f;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(f,s),H2.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(T,I){for(var _=this.h[0],C=this.h[1],w=this.h[2],P=this.h[3],D=this.h[4],u=_,l=C,m=w,R=P,B=D,b=0;b<80;b++){var E=n(r(o(_,d(b,C,w,P),T[p[b]+I],a(b)),y[b]),D);_=D,D=P,P=r(w,10),w=C,C=E,E=n(r(o(u,d(79-b,l,m,R),T[h[b]+I],c(b)),g[b]),B),u=B,B=R,R=r(m,10),m=l,l=E}E=i(this.h[1],w,R),this.h[1]=i(this.h[2],P,B),this.h[2]=i(this.h[3],D,u),this.h[3]=i(this.h[4],_,l),this.h[4]=i(this.h[0],C,m),this.h[0]=E},f.prototype._digest=function(T){return T==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function d(v,T,I,_){return v<=15?T^I^_:v<=31?T&I|~T&_:v<=47?(T|~I)^_:v<=63?T&_|I&~_:T^(I|~_)}function a(v){return v<=15?0:v<=31?1518500249:v<=47?1859775393:v<=63?2400959708:2840853838}function c(v){return v<=15?1352829926:v<=31?1548603684:v<=47?1836072691:v<=63?2053994217:0}var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return H2}var q2,cT;function uj(){if(cT)return q2;cT=1;var e=_s(),t=Lu();function r(n,i,o){if(!(this instanceof r))return new r(n,i,o);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(i,o))}return q2=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),t(i.length<=this.blockSize);for(var o=i.length;o<this.blockSize;o++)i.push(0);for(o=0;o<i.length;o++)i[o]^=54;for(this.inner=new this.Hash().update(i),o=0;o<i.length;o++)i[o]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,o){return this.inner.update(i,o),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},q2}var dT;function P6(){return dT||(dT=1,function(e){var t=e;t.utils=_s(),t.common=ep(),t.sha=aj(),t.ripemd=fj(),t.hmac=uj(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(U2)),U2}var V2,lT;function cj(){return lT||(lT=1,V2={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),V2}var hT;function N6(){return hT||(hT=1,function(e){var t=e,r=P6(),n=r7(),i=Ai(),o=i.assert;function s(a){a.type==="short"?this.curve=new n.short(a):a.type==="edwards"?this.curve=new n.edwards(a):this.curve=new n.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=s;function f(a,c){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var p=new s(c);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:p}),p}})}f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var d;try{d=cj()}catch{d=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",d]})}(M2)),M2}var z2,pT;function dj(){if(pT)return z2;pT=1;var e=P6(),t=e7(),r=Lu();function n(i){if(!(this instanceof n))return new n(i);this.hash=i.hash,this.predResist=!!i.predResist,this.outLen=this.hash.outSize,this.minEntropy=i.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var o=t.toArray(i.entropy,i.entropyEnc||"hex"),s=t.toArray(i.nonce,i.nonceEnc||"hex"),f=t.toArray(i.pers,i.persEnc||"hex");r(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(o,s,f)}return z2=n,n.prototype._init=function(o,s,f){var d=o.concat(s).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new e.hmac(this.hash,this.K)},n.prototype._update=function(o){var s=this._hmac().update(this.V).update([0]);o&&(s=s.update(o)),this.K=s.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(o,s,f,d){typeof s!="string"&&(d=f,f=s,s=null),o=t.toArray(o,s),f=t.toArray(f,d),r(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(f||[])),this._reseed=1},n.prototype.generate=function(o,s,f,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof s!="string"&&(d=f,f=s,s=null),f&&(f=t.toArray(f,d||"hex"),this._update(f));for(var a=[];a.length<o;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var c=a.slice(0,o);return this._update(f),this._reseed++,t.encode(c,s)},z2}var Y2,yT;function lj(){if(yT)return Y2;yT=1;var e=fa(),t=Ai(),r=t.assert;function n(i,o){this.ec=i,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}return Y2=n,n.fromPublic=function(o,s,f){return s instanceof n?s:new n(o,{pub:s,pubEnc:f})},n.fromPrivate=function(o,s,f){return s instanceof n?s:new n(o,{priv:s,privEnc:f})},n.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(o,s){return typeof o=="string"&&(s=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),s?this.pub.encode(s,o):this.pub},n.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(o,s){this.priv=new e(o,s||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(o,s){if(o.x||o.y){this.ec.curve.type==="mont"?r(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&r(o.x&&o.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(o.x,o.y);return}this.pub=this.ec.curve.decodePoint(o,s)},n.prototype.derive=function(o){return o.validate()||r(o.validate(),"public point not validated"),o.mul(this.priv).getX()},n.prototype.sign=function(o,s,f){return this.ec.sign(o,this,s,f)},n.prototype.verify=function(o,s){return this.ec.verify(o,s,this)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},Y2}var G2,gT;function hj(){if(gT)return G2;gT=1;var e=fa(),t=Ai(),r=t.assert;function n(d,a){if(d instanceof n)return d;this._importDER(d,a)||(r(d.r&&d.s,"Signature without r or s"),this.r=new e(d.r,16),this.s=new e(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}G2=n;function i(){this.place=0}function o(d,a){var c=d[a.place++];if(!(c&128))return c;var p=c&15;if(p===0||p>4)return!1;for(var h=0,y=0,g=a.place;y<p;y++,g++)h<<=8,h|=d[g],h>>>=0;return h<=127?!1:(a.place=g,h)}function s(d){for(var a=0,c=d.length-1;!d[a]&&!(d[a+1]&128)&&a<c;)a++;return a===0?d:d.slice(a)}n.prototype._importDER=function(a,c){a=t.toArray(a,c);var p=new i;if(a[p.place++]!==48)return!1;var h=o(a,p);if(h===!1||h+p.place!==a.length||a[p.place++]!==2)return!1;var y=o(a,p);if(y===!1)return!1;var g=a.slice(p.place,y+p.place);if(p.place+=y,a[p.place++]!==2)return!1;var v=o(a,p);if(v===!1||a.length!==v+p.place)return!1;var T=a.slice(p.place,v+p.place);if(g[0]===0)if(g[1]&128)g=g.slice(1);else return!1;if(T[0]===0)if(T[1]&128)T=T.slice(1);else return!1;return this.r=new e(g),this.s=new e(T),this.recoveryParam=null,!0};function f(d,a){if(a<128){d.push(a);return}var c=1+(Math.log(a)/Math.LN2>>>3);for(d.push(c|128);--c;)d.push(a>>>(c<<3)&255);d.push(a)}return n.prototype.toDER=function(a){var c=this.r.toArray(),p=this.s.toArray();for(c[0]&128&&(c=[0].concat(c)),p[0]&128&&(p=[0].concat(p)),c=s(c),p=s(p);!p[0]&&!(p[1]&128);)p=p.slice(1);var h=[2];f(h,c.length),h=h.concat(c),h.push(2),f(h,p.length);var y=h.concat(p),g=[48];return f(g,y.length),g=g.concat(y),t.encode(g,a)},G2}var J2,mT;function pj(){if(mT)return J2;mT=1;var e=fa(),t=dj(),r=Ai(),n=N6(),i=t7(),o=r.assert,s=lj(),f=hj();function d(a){if(!(this instanceof d))return new d(a);typeof a=="string"&&(o(Object.prototype.hasOwnProperty.call(n,a),"Unknown curve "+a),a=n[a]),a instanceof n.PresetCurve&&(a={curve:a}),this.curve=a.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=a.curve.g,this.g.precompute(a.curve.n.bitLength()+1),this.hash=a.hash||a.curve.hash}return J2=d,d.prototype.keyPair=function(c){return new s(this,c)},d.prototype.keyFromPrivate=function(c,p){return s.fromPrivate(this,c,p)},d.prototype.keyFromPublic=function(c,p){return s.fromPublic(this,c,p)},d.prototype.genKeyPair=function(c){c||(c={});for(var p=new t({hash:this.hash,pers:c.pers,persEnc:c.persEnc||"utf8",entropy:c.entropy||i(this.hash.hmacStrength),entropyEnc:c.entropy&&c.entropyEnc||"utf8",nonce:this.n.toArray()}),h=this.n.byteLength(),y=this.n.sub(new e(2));;){var g=new e(p.generate(h));if(!(g.cmp(y)>0))return g.iaddn(1),this.keyFromPrivate(g)}},d.prototype._truncateToN=function(c,p){var h=c.byteLength()*8-this.n.bitLength();return h>0&&(c=c.ushrn(h)),!p&&c.cmp(this.n)>=0?c.sub(this.n):c},d.prototype.sign=function(c,p,h,y){typeof h=="object"&&(y=h,h=null),y||(y={}),p=this.keyFromPrivate(p,h),c=this._truncateToN(new e(c,16));for(var g=this.n.byteLength(),v=p.getPrivate().toArray("be",g),T=c.toArray("be",g),I=new t({hash:this.hash,entropy:v,nonce:T,pers:y.pers,persEnc:y.persEnc||"utf8"}),_=this.n.sub(new e(1)),C=0;;C++){var w=y.k?y.k(C):new e(I.generate(this.n.byteLength()));if(w=this._truncateToN(w,!0),!(w.cmpn(1)<=0||w.cmp(_)>=0)){var P=this.g.mul(w);if(!P.isInfinity()){var D=P.getX(),u=D.umod(this.n);if(u.cmpn(0)!==0){var l=w.invm(this.n).mul(u.mul(p.getPrivate()).iadd(c));if(l=l.umod(this.n),l.cmpn(0)!==0){var m=(P.getY().isOdd()?1:0)|(D.cmp(u)!==0?2:0);return y.canonical&&l.cmp(this.nh)>0&&(l=this.n.sub(l),m^=1),new f({r:u,s:l,recoveryParam:m})}}}}}},d.prototype.verify=function(c,p,h,y){c=this._truncateToN(new e(c,16)),h=this.keyFromPublic(h,y),p=new f(p,"hex");var g=p.r,v=p.s;if(g.cmpn(1)<0||g.cmp(this.n)>=0||v.cmpn(1)<0||v.cmp(this.n)>=0)return!1;var T=v.invm(this.n),I=T.mul(c).umod(this.n),_=T.mul(g).umod(this.n),C;return this.curve._maxwellTrick?(C=this.g.jmulAdd(I,h.getPublic(),_),C.isInfinity()?!1:C.eqXToP(g)):(C=this.g.mulAdd(I,h.getPublic(),_),C.isInfinity()?!1:C.getX().umod(this.n).cmp(g)===0)},d.prototype.recoverPubKey=function(a,c,p,h){o((3&p)===p,"The recovery param is more than two bits"),c=new f(c,h);var y=this.n,g=new e(a),v=c.r,T=c.s,I=p&1,_=p>>1;if(v.cmp(this.curve.p.umod(this.curve.n))>=0&&_)throw new Error("Unable to find sencond key candinate");_?v=this.curve.pointFromX(v.add(this.curve.n),I):v=this.curve.pointFromX(v,I);var C=c.r.invm(y),w=y.sub(g).mul(C).umod(y),P=T.mul(C).umod(y);return this.g.mulAdd(w,v,P)},d.prototype.getKeyRecoveryParam=function(a,c,p,h){if(c=new f(c,h),c.recoveryParam!==null)return c.recoveryParam;for(var y=0;y<4;y++){var g;try{g=this.recoverPubKey(a,c,y)}catch{continue}if(g.eq(p))return y}throw new Error("Unable to find valid recovery factor")},J2}var W2,bT;function yj(){if(bT)return W2;bT=1;var e=Ai(),t=e.assert,r=e.parseBytes,n=e.cachedProperty;function i(o,s){this.eddsa=o,this._secret=r(s.secret),o.isPoint(s.pub)?this._pub=s.pub:this._pubBytes=r(s.pub)}return i.fromPublic=function(s,f){return f instanceof i?f:new i(s,{pub:f})},i.fromSecret=function(s,f){return f instanceof i?f:new i(s,{secret:f})},i.prototype.secret=function(){return this._secret},n(i,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(i,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(i,"privBytes",function(){var s=this.eddsa,f=this.hash(),d=s.encodingLength-1,a=f.slice(0,s.encodingLength);return a[0]&=248,a[d]&=127,a[d]|=64,a}),n(i,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(i,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(i,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),i.prototype.sign=function(s){return t(this._secret,"KeyPair can only verify"),this.eddsa.sign(s,this)},i.prototype.verify=function(s,f){return this.eddsa.verify(s,f,this)},i.prototype.getSecret=function(s){return t(this._secret,"KeyPair is public only"),e.encode(this.secret(),s)},i.prototype.getPublic=function(s){return e.encode(this.pubBytes(),s)},W2=i,W2}var X2,vT;function gj(){if(vT)return X2;vT=1;var e=fa(),t=Ai(),r=t.assert,n=t.cachedProperty,i=t.parseBytes;function o(s,f){this.eddsa=s,typeof f!="object"&&(f=i(f)),Array.isArray(f)&&(f={R:f.slice(0,s.encodingLength),S:f.slice(s.encodingLength)}),r(f.R&&f.S,"Signature without R or S"),s.isPoint(f.R)&&(this._R=f.R),f.S instanceof e&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}return n(o,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(o,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(o,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(o,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),o.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},o.prototype.toHex=function(){return t.encode(this.toBytes(),"hex").toUpperCase()},X2=o,X2}var Z2,_T;function mj(){if(_T)return Z2;_T=1;var e=P6(),t=N6(),r=Ai(),n=r.assert,i=r.parseBytes,o=yj(),s=gj();function f(d){if(n(d==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(d);d=t[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=e.sha512}return Z2=f,f.prototype.sign=function(a,c){a=i(a);var p=this.keyFromSecret(c),h=this.hashInt(p.messagePrefix(),a),y=this.g.mul(h),g=this.encodePoint(y),v=this.hashInt(g,p.pubBytes(),a).mul(p.priv()),T=h.add(v).umod(this.curve.n);return this.makeSignature({R:y,S:T,Rencoded:g})},f.prototype.verify=function(a,c,p){a=i(a),c=this.makeSignature(c);var h=this.keyFromPublic(p),y=this.hashInt(c.Rencoded(),h.pubBytes(),a),g=this.g.mul(c.S()),v=c.R().add(h.pub().mul(y));return v.eq(g)},f.prototype.hashInt=function(){for(var a=this.hash(),c=0;c<arguments.length;c++)a.update(arguments[c]);return r.intFromLE(a.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(a){return o.fromPublic(this,a)},f.prototype.keyFromSecret=function(a){return o.fromSecret(this,a)},f.prototype.makeSignature=function(a){return a instanceof s?a:new s(this,a)},f.prototype.encodePoint=function(a){var c=a.getY().toArray("le",this.encodingLength);return c[this.encodingLength-1]|=a.getX().isOdd()?128:0,c},f.prototype.decodePoint=function(a){a=r.parseBytes(a);var c=a.length-1,p=a.slice(0,c).concat(a[c]&-129),h=(a[c]&128)!==0,y=r.intFromLE(p);return this.curve.pointFromY(y,h)},f.prototype.encodeInt=function(a){return a.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(a){return r.intFromLE(a)},f.prototype.isPoint=function(a){return a instanceof this.pointClass},Z2}var wT;function bj(){return wT||(wT=1,function(e){var t=e;t.version=ej.version,t.utils=Ai(),t.rand=t7(),t.curve=r7(),t.curves=N6(),t.ec=pj(),t.eddsa=mj()}(S2)),S2}var Q2,TT;function vj(){if(TT)return Q2;TT=1;const e=bj().ec,t=new e("secp256k1"),r=t.curve,n=r.n.constructor;function i(d,a){let c=new n(a);if(c.cmp(r.p)>=0)return null;c=c.toRed(r.red);let p=c.redSqr().redIMul(c).redIAdd(r.b).redSqrt();return d===3!==p.isOdd()&&(p=p.redNeg()),t.keyPair({pub:{x:c,y:p}})}function o(d,a,c){let p=new n(a),h=new n(c);if(p.cmp(r.p)>=0||h.cmp(r.p)>=0||(p=p.toRed(r.red),h=h.toRed(r.red),(d===6||d===7)&&h.isOdd()!==(d===7)))return null;const y=p.redSqr().redIMul(p);return h.redSqr().redISub(y.redIAdd(r.b)).isZero()?t.keyPair({pub:{x:p,y:h}}):null}function s(d){const a=d[0];switch(a){case 2:case 3:return d.length!==33?null:i(a,d.subarray(1,33));case 4:case 6:case 7:return d.length!==65?null:o(a,d.subarray(1,33),d.subarray(33,65));default:return null}}function f(d,a){const c=a.encode(null,d.length===33);for(let p=0;p<d.length;++p)d[p]=c[p]}return Q2={contextRandomize(){return 0},privateKeyVerify(d){const a=new n(d);return a.cmp(r.n)<0&&!a.isZero()?0:1},privateKeyNegate(d){const a=new n(d),c=r.n.sub(a).umod(r.n).toArrayLike(Uint8Array,"be",32);return d.set(c),0},privateKeyTweakAdd(d,a){const c=new n(a);if(c.cmp(r.n)>=0||(c.iadd(new n(d)),c.cmp(r.n)>=0&&c.isub(r.n),c.isZero()))return 1;const p=c.toArrayLike(Uint8Array,"be",32);return d.set(p),0},privateKeyTweakMul(d,a){let c=new n(a);if(c.cmp(r.n)>=0||c.isZero())return 1;c.imul(new n(d)),c.cmp(r.n)>=0&&(c=c.umod(r.n));const p=c.toArrayLike(Uint8Array,"be",32);return d.set(p),0},publicKeyVerify(d){return s(d)===null?1:0},publicKeyCreate(d,a){const c=new n(a);if(c.cmp(r.n)>=0||c.isZero())return 1;const p=t.keyFromPrivate(a).getPublic();return f(d,p),0},publicKeyConvert(d,a){const c=s(a);if(c===null)return 1;const p=c.getPublic();return f(d,p),0},publicKeyNegate(d,a){const c=s(a);if(c===null)return 1;const p=c.getPublic();return p.y=p.y.redNeg(),f(d,p),0},publicKeyCombine(d,a){const c=new Array(a.length);for(let h=0;h<a.length;++h)if(c[h]=s(a[h]),c[h]===null)return 1;let p=c[0].getPublic();for(let h=1;h<c.length;++h)p=p.add(c[h].pub);return p.isInfinity()?2:(f(d,p),0)},publicKeyTweakAdd(d,a,c){const p=s(a);if(p===null)return 1;if(c=new n(c),c.cmp(r.n)>=0)return 2;const h=p.getPublic().add(r.g.mul(c));return h.isInfinity()?2:(f(d,h),0)},publicKeyTweakMul(d,a,c){const p=s(a);if(p===null)return 1;if(c=new n(c),c.cmp(r.n)>=0||c.isZero())return 2;const h=p.getPublic().mul(c);return f(d,h),0},signatureNormalize(d){const a=new n(d.subarray(0,32)),c=new n(d.subarray(32,64));return a.cmp(r.n)>=0||c.cmp(r.n)>=0?1:(c.cmp(t.nh)===1&&d.set(r.n.sub(c).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(d,a){const c=a.subarray(0,32),p=a.subarray(32,64);if(new n(c).cmp(r.n)>=0||new n(p).cmp(r.n)>=0)return 1;const{output:h}=d;let y=h.subarray(4,37);y[0]=0,y.set(c,1);let g=33,v=0;for(;g>1&&y[v]===0&&!(y[v+1]&128);--g,++v);if(y=y.subarray(v),y[0]&128||g>1&&y[0]===0&&!(y[1]&128))return 1;let T=h.subarray(39,72);T[0]=0,T.set(p,1);let I=33,_=0;for(;I>1&&T[_]===0&&!(T[_+1]&128);--I,++_);return T=T.subarray(_),T[0]&128||I>1&&T[0]===0&&!(T[1]&128)?1:(d.outputlen=6+g+I,h[0]=48,h[1]=d.outputlen-2,h[2]=2,h[3]=y.length,h.set(y,4),h[4+g]=2,h[5+g]=T.length,h.set(T,6+g),0)},signatureImport(d,a){if(a.length<8||a.length>72||a[0]!==48||a[1]!==a.length-2||a[2]!==2)return 1;const c=a[3];if(c===0||5+c>=a.length||a[4+c]!==2)return 1;const p=a[5+c];if(p===0||6+c+p!==a.length||a[4]&128||c>1&&a[4]===0&&!(a[5]&128)||a[c+6]&128||p>1&&a[c+6]===0&&!(a[c+7]&128))return 1;let h=a.subarray(4,4+c);if(h.length===33&&h[0]===0&&(h=h.subarray(1)),h.length>32)return 1;let y=a.subarray(6+c);if(y.length===33&&y[0]===0&&(y=y.slice(1)),y.length>32)throw new Error("S length is too long");let g=new n(h);g.cmp(r.n)>=0&&(g=new n(0));let v=new n(a.subarray(6+c));return v.cmp(r.n)>=0&&(v=new n(0)),d.set(g.toArrayLike(Uint8Array,"be",32),0),d.set(v.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(d,a,c,p,h){if(h){const v=h;h=T=>{const I=v(a,c,null,p,T);if(!(I instanceof Uint8Array&&I.length===32))throw new Error("This is the way");return new n(I)}}const y=new n(c);if(y.cmp(r.n)>=0||y.isZero())return 1;let g;try{g=t.sign(a,c,{canonical:!0,k:h,pers:p})}catch{return 1}return d.signature.set(g.r.toArrayLike(Uint8Array,"be",32),0),d.signature.set(g.s.toArrayLike(Uint8Array,"be",32),32),d.recid=g.recoveryParam,0},ecdsaVerify(d,a,c){const p={r:d.subarray(0,32),s:d.subarray(32,64)},h=new n(p.r),y=new n(p.s);if(h.cmp(r.n)>=0||y.cmp(r.n)>=0)return 1;if(y.cmp(t.nh)===1||h.isZero()||y.isZero())return 3;const g=s(c);if(g===null)return 2;const v=g.getPublic();return t.verify(a,p,v)?0:3},ecdsaRecover(d,a,c,p){const h={r:a.slice(0,32),s:a.slice(32,64)},y=new n(h.r),g=new n(h.s);if(y.cmp(r.n)>=0||g.cmp(r.n)>=0)return 1;if(y.isZero()||g.isZero())return 2;let v;try{v=t.recoverPubKey(p,h,c)}catch{return 2}return f(d,v),0},ecdh(d,a,c,p,h,y,g){const v=s(a);if(v===null)return 1;const T=new n(c);if(T.cmp(r.n)>=0||T.isZero())return 2;const I=v.getPublic().mul(T);if(h===void 0){const _=I.encode(null,!0),C=t.hash().update(_).digest();for(let w=0;w<32;++w)d[w]=C[w]}else{y||(y=new Uint8Array(32));const _=I.getX().toArray("be",32);for(let D=0;D<32;++D)y[D]=_[D];g||(g=new Uint8Array(32));const C=I.getY().toArray("be",32);for(let D=0;D<32;++D)g[D]=C[D];const w=h(y,g,p);if(!(w instanceof Uint8Array&&w.length===d.length))return 2;d.set(w)}return 0}},Q2}var ev,IT;function _j(){if(IT)return ev;IT=1;const e={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function t(s,f){if(!s)throw new Error(f)}function r(s,f,d){if(t(f instanceof Uint8Array,`Expected ${s} to be an Uint8Array`),d!==void 0)if(Array.isArray(d)){const a=d.join(", "),c=`Expected ${s} to be an Uint8Array with length [${a}]`;t(d.includes(f.length),c)}else{const a=`Expected ${s} to be an Uint8Array with length ${d}`;t(f.length===d,a)}}function n(s){t(o(s)==="Boolean","Expected compressed to be a Boolean")}function i(s=d=>new Uint8Array(d),f){return typeof s=="function"&&(s=s(f)),r("output",s,f),s}function o(s){return Object.prototype.toString.call(s).slice(8,-1)}return ev=s=>({contextRandomize(f){switch(t(f===null||f instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),f!==null&&r("seed",f,32),s.contextRandomize(f)){case 1:throw new Error(e.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(f){return r("private key",f,32),s.privateKeyVerify(f)===0},privateKeyNegate(f){switch(r("private key",f,32),s.privateKeyNegate(f)){case 0:return f;case 1:throw new Error(e.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(f,d){switch(r("private key",f,32),r("tweak",d,32),s.privateKeyTweakAdd(f,d)){case 0:return f;case 1:throw new Error(e.TWEAK_ADD)}},privateKeyTweakMul(f,d){switch(r("private key",f,32),r("tweak",d,32),s.privateKeyTweakMul(f,d)){case 0:return f;case 1:throw new Error(e.TWEAK_MUL)}},publicKeyVerify(f){return r("public key",f,[33,65]),s.publicKeyVerify(f)===0},publicKeyCreate(f,d=!0,a){switch(r("private key",f,32),n(d),a=i(a,d?33:65),s.publicKeyCreate(a,f)){case 0:return a;case 1:throw new Error(e.SECKEY_INVALID);case 2:throw new Error(e.PUBKEY_SERIALIZE)}},publicKeyConvert(f,d=!0,a){switch(r("public key",f,[33,65]),n(d),a=i(a,d?33:65),s.publicKeyConvert(a,f)){case 0:return a;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.PUBKEY_SERIALIZE)}},publicKeyNegate(f,d=!0,a){switch(r("public key",f,[33,65]),n(d),a=i(a,d?33:65),s.publicKeyNegate(a,f)){case 0:return a;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.IMPOSSIBLE_CASE);case 3:throw new Error(e.PUBKEY_SERIALIZE)}},publicKeyCombine(f,d=!0,a){t(Array.isArray(f),"Expected public keys to be an Array"),t(f.length>0,"Expected public keys array will have more than zero items");for(const c of f)r("public key",c,[33,65]);switch(n(d),a=i(a,d?33:65),s.publicKeyCombine(a,f)){case 0:return a;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.PUBKEY_COMBINE);case 3:throw new Error(e.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(f,d,a=!0,c){switch(r("public key",f,[33,65]),r("tweak",d,32),n(a),c=i(c,a?33:65),s.publicKeyTweakAdd(c,f,d)){case 0:return c;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.TWEAK_ADD)}},publicKeyTweakMul(f,d,a=!0,c){switch(r("public key",f,[33,65]),r("tweak",d,32),n(a),c=i(c,a?33:65),s.publicKeyTweakMul(c,f,d)){case 0:return c;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.TWEAK_MUL)}},signatureNormalize(f){switch(r("signature",f,64),s.signatureNormalize(f)){case 0:return f;case 1:throw new Error(e.SIG_PARSE)}},signatureExport(f,d){r("signature",f,64),d=i(d,72);const a={output:d,outputlen:72};switch(s.signatureExport(a,f)){case 0:return d.slice(0,a.outputlen);case 1:throw new Error(e.SIG_PARSE);case 2:throw new Error(e.IMPOSSIBLE_CASE)}},signatureImport(f,d){switch(r("signature",f),d=i(d,64),s.signatureImport(d,f)){case 0:return d;case 1:throw new Error(e.SIG_PARSE);case 2:throw new Error(e.IMPOSSIBLE_CASE)}},ecdsaSign(f,d,a={},c){r("message",f,32),r("private key",d,32),t(o(a)==="Object","Expected options to be an Object"),a.data!==void 0&&r("options.data",a.data),a.noncefn!==void 0&&t(o(a.noncefn)==="Function","Expected options.noncefn to be a Function"),c=i(c,64);const p={signature:c,recid:null};switch(s.ecdsaSign(p,f,d,a.data,a.noncefn)){case 0:return p;case 1:throw new Error(e.SIGN);case 2:throw new Error(e.IMPOSSIBLE_CASE)}},ecdsaVerify(f,d,a){switch(r("signature",f,64),r("message",d,32),r("public key",a,[33,65]),s.ecdsaVerify(f,d,a)){case 0:return!0;case 3:return!1;case 1:throw new Error(e.SIG_PARSE);case 2:throw new Error(e.PUBKEY_PARSE)}},ecdsaRecover(f,d,a,c=!0,p){switch(r("signature",f,64),t(o(d)==="Number"&&d>=0&&d<=3,"Expected recovery id to be a Number within interval [0, 3]"),r("message",a,32),n(c),p=i(p,c?33:65),s.ecdsaRecover(p,f,d,a)){case 0:return p;case 1:throw new Error(e.SIG_PARSE);case 2:throw new Error(e.RECOVER);case 3:throw new Error(e.IMPOSSIBLE_CASE)}},ecdh(f,d,a={},c){switch(r("public key",f,[33,65]),r("private key",d,32),t(o(a)==="Object","Expected options to be an Object"),a.data!==void 0&&r("options.data",a.data),a.hashfn!==void 0?(t(o(a.hashfn)==="Function","Expected options.hashfn to be a Function"),a.xbuf!==void 0&&r("options.xbuf",a.xbuf,32),a.ybuf!==void 0&&r("options.ybuf",a.ybuf,32),r("output",c)):c=i(c,32),s.ecdh(c,f,d,a.data,a.hashfn,a.xbuf,a.ybuf)){case 0:return c;case 1:throw new Error(e.PUBKEY_PARSE);case 2:throw new Error(e.ECDH)}}}),ev}var tv,ET;function wj(){return ET||(ET=1,tv=_j()(vj())),tv}var rv,xT;function Tj(){if(xT)return rv;xT=1;var e=Di(),t=Hn.Buffer,r=md,n=Rf,i=bx,o=wj(),s=t.from("Bitcoin seed","utf8"),f=2147483648,d=78,a={private:76066276,public:76067358};function c(g){this.versions=g||a,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}Object.defineProperty(c.prototype,"fingerprint",{get:function(){return this._fingerprint}}),Object.defineProperty(c.prototype,"identifier",{get:function(){return this._identifier}}),Object.defineProperty(c.prototype,"pubKeyHash",{get:function(){return this.identifier}}),Object.defineProperty(c.prototype,"privateKey",{get:function(){return this._privateKey},set:function(g){e.equal(g.length,32,"Private key must be 32 bytes."),e(o.privateKeyVerify(g)===!0,"Invalid private key"),this._privateKey=g,this._publicKey=t.from(o.publicKeyCreate(g,!0)),this._identifier=y(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}});function p(g,v){g._publicKey=t.from(v),g._identifier=y(v),g._fingerprint=g._identifier.slice(0,4).readUInt32BE(0),g._privateKey=null}Object.defineProperty(c.prototype,"publicKey",{get:function(){return this._publicKey},set:function(g){e(g.length===33||g.length===65,"Public key must be 33 or 65 bytes."),e(o.publicKeyVerify(g)===!0,"Invalid public key");const v=g.length===65?o.publicKeyConvert(g,!0):g;p(this,v)}}),Object.defineProperty(c.prototype,"privateExtendedKey",{get:function(){return this._privateKey?n.encode(h(this,this.versions.private,t.concat([t.alloc(1,0),this.privateKey]))):null}}),Object.defineProperty(c.prototype,"publicExtendedKey",{get:function(){return n.encode(h(this,this.versions.public,this.publicKey))}}),c.prototype.derive=function(g){if(g==="m"||g==="M"||g==="m'"||g==="M'")return this;var v=g.split("/"),T=this;return v.forEach(function(I,_){if(_===0){e(/^[mM]{1}/.test(I),'Path must start with "m" or "M"');return}var C=I.length>1&&I[I.length-1]==="'",w=parseInt(I,10);e(w<f,"Invalid index"),C&&(w+=f),T=T.deriveChild(w)}),T},c.prototype.deriveChild=function(g){var v=g>=f,T=t.allocUnsafe(4);T.writeUInt32BE(g,0);var I;if(v){e(this.privateKey,"Could not derive hardened child key");var _=this.privateKey,C=t.alloc(1,0);_=t.concat([C,_]),I=t.concat([_,T])}else I=t.concat([this.publicKey,T]);var w=r.createHmac("sha512",this.chainCode).update(I).digest(),P=w.slice(0,32),D=w.slice(32),u=new c(this.versions);if(this.privateKey)try{u.privateKey=t.from(o.privateKeyTweakAdd(t.from(this.privateKey),P))}catch{return this.deriveChild(g+1)}else try{u.publicKey=t.from(o.publicKeyTweakAdd(t.from(this.publicKey),P,!0))}catch{return this.deriveChild(g+1)}return u.chainCode=D,u.depth=this.depth+1,u.parentFingerprint=this.fingerprint,u.index=g,u},c.prototype.sign=function(g){return t.from(o.ecdsaSign(Uint8Array.from(g),Uint8Array.from(this.privateKey)).signature)},c.prototype.verify=function(g,v){return o.ecdsaVerify(Uint8Array.from(v),Uint8Array.from(g),Uint8Array.from(this.publicKey))},c.prototype.wipePrivateData=function(){return this._privateKey&&r.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this},c.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}},c.fromMasterSeed=function(g,v){var T=r.createHmac("sha512",s).update(g).digest(),I=T.slice(0,32),_=T.slice(32),C=new c(v);return C.chainCode=_,C.privateKey=I,C},c.fromExtendedKey=function(g,v,T){v=v||a,T=T||!1;var I=new c(v),_=n.decode(g),C=_.readUInt32BE(0);e(C===v.private||C===v.public,"Version mismatch: does not match private or public"),I.depth=_.readUInt8(4),I.parentFingerprint=_.readUInt32BE(5),I.index=_.readUInt32BE(9),I.chainCode=_.slice(13,45);var w=_.slice(45);return w.readUInt8(0)===0?(e(C===v.private,"Version mismatch: version does not match private"),I.privateKey=w.slice(1)):(e(C===v.public,"Version mismatch: version does not match public"),T?p(I,w):I.publicKey=w),I},c.fromJSON=function(g){return c.fromExtendedKey(g.xpriv)};function h(g,v,T){var I=t.allocUnsafe(d);I.writeUInt32BE(v,0),I.writeUInt8(g.depth,4);var _=g.depth?g.parentFingerprint:0;return I.writeUInt32BE(_,5),I.writeUInt32BE(g.index,9),g.chainCode.copy(I,13),T.copy(I,45),I}function y(g){var v=r.createHash("sha256").update(g).digest();return new i().update(v).digest()}return c.HARDENED_OFFSET=f,rv=c,rv}var s7={},ju={},R1={},a7={},Iu={},O1={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.output=cr.exists=cr.hash=cr.bytes=cr.bool=cr.number=void 0;function ig(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}cr.number=ig;function f7(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}cr.bool=f7;function Ij(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function M6(e,...t){if(!Ij(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}cr.bytes=M6;function u7(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ig(e.outputLen),ig(e.blockLen)}cr.hash=u7;function c7(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}cr.exists=c7;function d7(e,t){M6(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}cr.output=d7;const Ej={number:ig,bool:f7,bytes:M6,hash:u7,exists:c7,output:d7};cr.default=Ej;var ms={},A1={};Object.defineProperty(A1,"__esModule",{value:!0});A1.crypto=void 0;A1.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=A1,r=l=>new Uint8Array(l.buffer,l.byteOffset,l.byteLength);e.u8=r;const n=l=>new Uint32Array(l.buffer,l.byteOffset,Math.floor(l.byteLength/4));e.u32=n;function i(l){return l instanceof Uint8Array||l!=null&&typeof l=="object"&&l.constructor.name==="Uint8Array"}const o=l=>new DataView(l.buffer,l.byteOffset,l.byteLength);e.createView=o;const s=(l,m)=>l<<32-m|l>>>m;if(e.rotr=s,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const f=Array.from({length:256},(l,m)=>m.toString(16).padStart(2,"0"));function d(l){if(!i(l))throw new Error("Uint8Array expected");let m="";for(let R=0;R<l.length;R++)m+=f[l[R]];return m}e.bytesToHex=d;const a={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function c(l){if(l>=a._0&&l<=a._9)return l-a._0;if(l>=a._A&&l<=a._F)return l-(a._A-10);if(l>=a._a&&l<=a._f)return l-(a._a-10)}function p(l){if(typeof l!="string")throw new Error("hex string expected, got "+typeof l);const m=l.length,R=m/2;if(m%2)throw new Error("padded hex string expected, got unpadded hex of length "+m);const B=new Uint8Array(R);for(let b=0,E=0;b<R;b++,E+=2){const k=c(l.charCodeAt(E)),L=c(l.charCodeAt(E+1));if(k===void 0||L===void 0){const $=l[E]+l[E+1];throw new Error('hex string expected, got non-hex character "'+$+'" at index '+E)}B[b]=k*16+L}return B}e.hexToBytes=p;const h=async()=>{};e.nextTick=h;async function y(l,m,R){let B=Date.now();for(let b=0;b<l;b++){R(b);const E=Date.now()-B;E>=0&&E<m||(await(0,e.nextTick)(),B+=E)}}e.asyncLoop=y;function g(l){if(typeof l!="string")throw new Error(`utf8ToBytes expected string, got ${typeof l}`);return new Uint8Array(new TextEncoder().encode(l))}e.utf8ToBytes=g;function v(l){if(typeof l=="string"&&(l=g(l)),!i(l))throw new Error(`expected Uint8Array, got ${typeof l}`);return l}e.toBytes=v;function T(...l){let m=0;for(let B=0;B<l.length;B++){const b=l[B];if(!i(b))throw new Error("Uint8Array expected");m+=b.length}const R=new Uint8Array(m);for(let B=0,b=0;B<l.length;B++){const E=l[B];R.set(E,b),b+=E.length}return R}e.concatBytes=T;class I{clone(){return this._cloneInto()}}e.Hash=I;const _={}.toString;function C(l,m){if(m!==void 0&&_.call(m)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(l,m)}e.checkOpts=C;function w(l){const m=B=>l().update(v(B)).digest(),R=l();return m.outputLen=R.outputLen,m.blockLen=R.blockLen,m.create=()=>l(),m}e.wrapConstructor=w;function P(l){const m=(B,b)=>l(b).update(v(B)).digest(),R=l({});return m.outputLen=R.outputLen,m.blockLen=R.blockLen,m.create=B=>l(B),m}e.wrapConstructorWithOpts=P;function D(l){const m=(B,b)=>l(b).update(v(B)).digest(),R=l({});return m.outputLen=R.outputLen,m.blockLen=R.blockLen,m.create=B=>l(B),m}e.wrapXOFConstructorWithOpts=D;function u(l=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(l));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=u})(ms);Object.defineProperty(O1,"__esModule",{value:!0});O1.SHA2=void 0;const nv=cr,c0=ms;function xj(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),f=Number(r&o),d=n?4:0,a=n?0:4;e.setUint32(t+d,s,n),e.setUint32(t+a,f,n)}class Sj extends c0.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,c0.createView)(this.buffer)}update(t){(0,nv.exists)(this);const{view:r,buffer:n,blockLen:i}=this;t=(0,c0.toBytes)(t);const o=t.length;for(let s=0;s<o;){const f=Math.min(i-this.pos,o-s);if(f===i){const d=(0,c0.createView)(t);for(;i<=o-s;s+=i)this.process(d,s);continue}n.set(t.subarray(s,s+f),this.pos),this.pos+=f,s+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,nv.exists)(this),(0,nv.output)(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:o}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let p=s;p<i;p++)r[p]=0;xj(n,i-8,BigInt(this.length*8),o),this.process(n,0);const f=(0,c0.createView)(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const a=d/4,c=this.get();if(a>c.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<a;p++)f.setUint32(4*p,c[p],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:f}=this;return t.length=i,t.pos=f,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}}O1.SHA2=Sj;Object.defineProperty(Iu,"__esModule",{value:!0});Iu.sha224=Iu.sha256=void 0;const Bj=O1,pi=ms,Cj=(e,t,r)=>e&t^~e&r,Dj=(e,t,r)=>e&t^e&r^t&r,Rj=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ha=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),pa=new Uint32Array(64);let l7=class extends Bj.SHA2{constructor(){super(64,32,8,!1),this.A=ha[0]|0,this.B=ha[1]|0,this.C=ha[2]|0,this.D=ha[3]|0,this.E=ha[4]|0,this.F=ha[5]|0,this.G=ha[6]|0,this.H=ha[7]|0}get(){const{A:t,B:r,C:n,D:i,E:o,F:s,G:f,H:d}=this;return[t,r,n,i,o,s,f,d]}set(t,r,n,i,o,s,f,d){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=f|0,this.H=d|0}process(t,r){for(let p=0;p<16;p++,r+=4)pa[p]=t.getUint32(r,!1);for(let p=16;p<64;p++){const h=pa[p-15],y=pa[p-2],g=(0,pi.rotr)(h,7)^(0,pi.rotr)(h,18)^h>>>3,v=(0,pi.rotr)(y,17)^(0,pi.rotr)(y,19)^y>>>10;pa[p]=v+pa[p-7]+g+pa[p-16]|0}let{A:n,B:i,C:o,D:s,E:f,F:d,G:a,H:c}=this;for(let p=0;p<64;p++){const h=(0,pi.rotr)(f,6)^(0,pi.rotr)(f,11)^(0,pi.rotr)(f,25),y=c+h+Cj(f,d,a)+Rj[p]+pa[p]|0,v=((0,pi.rotr)(n,2)^(0,pi.rotr)(n,13)^(0,pi.rotr)(n,22))+Dj(n,i,o)|0;c=a,a=d,d=f,f=s+y|0,s=o,o=i,i=n,n=y+v|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,f=f+this.E|0,d=d+this.F|0,a=a+this.G|0,c=c+this.H|0,this.set(n,i,o,s,f,d,a,c)}roundClean(){pa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Oj=class extends l7{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Iu.sha256=(0,pi.wrapConstructor)(()=>new l7);Iu.sha224=(0,pi.wrapConstructor)(()=>new Oj);var qe={},He={};Object.defineProperty(He,"__esModule",{value:!0});He.validateObject=He.createHmacDrbg=He.bitMask=He.bitSet=He.bitGet=He.bitLen=He.utf8ToBytes=He.equalBytes=He.concatBytes=He.ensureBytes=He.numberToVarBytesBE=He.numberToBytesLE=He.numberToBytesBE=He.bytesToNumberLE=He.bytesToNumberBE=He.hexToBytes=He.hexToNumber=He.numberToHexUnpadded=He.bytesToHex=He.isBytes=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const h7=BigInt(0),P1=BigInt(1),Aj=BigInt(2);function Sd(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}He.isBytes=Sd;const Pj=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function U6(e){if(!Sd(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Pj[e[r]];return t}He.bytesToHex=U6;function p7(e){const t=e.toString(16);return t.length&1?`0${t}`:t}He.numberToHexUnpadded=p7;function k6(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}He.hexToNumber=k6;const Es={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ST(e){if(e>=Es._0&&e<=Es._9)return e-Es._0;if(e>=Es._A&&e<=Es._F)return e-(Es._A-10);if(e>=Es._a&&e<=Es._f)return e-(Es._a-10)}function N1(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const s=ST(e.charCodeAt(o)),f=ST(e.charCodeAt(o+1));if(s===void 0||f===void 0){const d=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}n[i]=s*16+f}return n}He.hexToBytes=N1;function Nj(e){return k6(U6(e))}He.bytesToNumberBE=Nj;function Mj(e){if(!Sd(e))throw new Error("Uint8Array expected");return k6(U6(Uint8Array.from(e).reverse()))}He.bytesToNumberLE=Mj;function y7(e,t){return N1(e.toString(16).padStart(t*2,"0"))}He.numberToBytesBE=y7;function Uj(e,t){return y7(e,t).reverse()}He.numberToBytesLE=Uj;function kj(e){return N1(p7(e))}He.numberToVarBytesBE=kj;function $j(e,t,r){let n;if(typeof t=="string")try{n=N1(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Sd(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}He.ensureBytes=$j;function g7(...e){let t=0;for(let i=0;i<e.length;i++){const o=e[i];if(!Sd(o))throw new Error("Uint8Array expected");t+=o.length}let r=new Uint8Array(t),n=0;for(let i=0;i<e.length;i++){const o=e[i];r.set(o,n),n+=o.length}return r}He.concatBytes=g7;function Fj(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}He.equalBytes=Fj;function Lj(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}He.utf8ToBytes=Lj;function jj(e){let t;for(t=0;e>h7;e>>=P1,t+=1);return t}He.bitLen=jj;function Kj(e,t){return e>>BigInt(t)&P1}He.bitGet=Kj;const Hj=(e,t,r)=>e|(r?P1:h7)<<BigInt(t);He.bitSet=Hj;const qj=e=>(Aj<<BigInt(e-1))-P1;He.bitMask=qj;const iv=e=>new Uint8Array(e),BT=e=>Uint8Array.from(e);function Vj(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=iv(e),i=iv(e),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},f=(...p)=>r(i,n,...p),d=(p=iv())=>{i=f(BT([0]),p),n=f(),p.length!==0&&(i=f(BT([1]),p),n=f())},a=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const h=[];for(;p<t;){n=f();const y=n.slice();h.push(y),p+=n.length}return g7(...h)};return(p,h)=>{s(),d(p);let y;for(;!(y=h(a()));)d();return s(),y}}He.createHmacDrbg=Vj;const zj={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Sd(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Yj(e,t,r={}){const n=(i,o,s)=>{const f=zj[o];if(typeof f!="function")throw new Error(`Invalid validator "${o}", expected function`);const d=e[i];if(!(s&&d===void 0)&&!f(d,e))throw new Error(`Invalid param ${String(i)}=${d} (${typeof d}), expected ${o}`)};for(const[i,o]of Object.entries(t))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return e}He.validateObject=Yj;Object.defineProperty(qe,"__esModule",{value:!0});qe.mapHashToField=qe.getMinHashLength=qe.getFieldBytesLength=qe.hashToPrivateScalar=qe.FpSqrtEven=qe.FpSqrtOdd=qe.Field=qe.nLength=qe.FpIsSquare=qe.FpDiv=qe.FpInvertBatch=qe.FpPow=qe.validateField=qe.isNegativeLE=qe.FpSqrt=qe.tonelliShanks=qe.invert=qe.pow2=qe.pow=qe.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ui=He,dr=BigInt(0),wt=BigInt(1),xa=BigInt(2),Gj=BigInt(3),h3=BigInt(4),CT=BigInt(5),DT=BigInt(8);BigInt(9);BigInt(16);function oi(e,t){const r=e%t;return r>=dr?r:t+r}qe.mod=oi;function m7(e,t,r){if(r<=dr||t<dr)throw new Error("Expected power/modulo > 0");if(r===wt)return dr;let n=wt;for(;t>dr;)t&wt&&(n=n*e%r),e=e*e%r,t>>=wt;return n}qe.pow=m7;function Jj(e,t,r){let n=e;for(;t-- >dr;)n*=n,n%=r;return n}qe.pow2=Jj;function og(e,t){if(e===dr||t<=dr)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=oi(e,t),n=t,i=dr,o=wt;for(;r!==dr;){const f=n/r,d=n%r,a=i-o*f;n=r,r=d,i=o,o=a}if(n!==wt)throw new Error("invert: does not exist");return oi(i,t)}qe.invert=og;function b7(e){const t=(e-wt)/xa;let r,n,i;for(r=e-wt,n=0;r%xa===dr;r/=xa,n++);for(i=xa;i<e&&m7(i,t,e)!==e-wt;i++);if(n===1){const s=(e+wt)/h3;return function(d,a){const c=d.pow(a,s);if(!d.eql(d.sqr(c),a))throw new Error("Cannot find square root");return c}}const o=(r+wt)/xa;return function(f,d){if(f.pow(d,t)===f.neg(f.ONE))throw new Error("Cannot find square root");let a=n,c=f.pow(f.mul(f.ONE,i),r),p=f.pow(d,o),h=f.pow(d,r);for(;!f.eql(h,f.ONE);){if(f.eql(h,f.ZERO))return f.ZERO;let y=1;for(let v=f.sqr(h);y<a&&!f.eql(v,f.ONE);y++)v=f.sqr(v);const g=f.pow(c,wt<<BigInt(a-y-1));c=f.sqr(g),p=f.mul(p,g),h=f.mul(h,c),a=y}return p}}qe.tonelliShanks=b7;function v7(e){if(e%h3===Gj){const t=(e+wt)/h3;return function(n,i){const o=n.pow(i,t);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%DT===CT){const t=(e-CT)/DT;return function(n,i){const o=n.mul(i,xa),s=n.pow(o,t),f=n.mul(i,s),d=n.mul(n.mul(f,xa),s),a=n.mul(f,n.sub(d,n.ONE));if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}return b7(e)}qe.FpSqrt=v7;const Wj=(e,t)=>(oi(e,t)&wt)===wt;qe.isNegativeLE=Wj;const Xj=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Zj(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Xj.reduce((n,i)=>(n[i]="function",n),t);return(0,ui.validateObject)(e,r)}qe.validateField=Zj;function _7(e,t,r){if(r<dr)throw new Error("Expected power > 0");if(r===dr)return e.ONE;if(r===wt)return t;let n=e.ONE,i=t;for(;r>dr;)r&wt&&(n=e.mul(n,i)),i=e.sqr(i),r>>=wt;return n}qe.FpPow=_7;function w7(e,t){const r=new Array(t.length),n=t.reduce((o,s,f)=>e.is0(s)?o:(r[f]=o,e.mul(o,s)),e.ONE),i=e.inv(n);return t.reduceRight((o,s,f)=>e.is0(s)?o:(r[f]=e.mul(o,r[f]),e.mul(o,s)),i),r}qe.FpInvertBatch=w7;function Qj(e,t,r){return e.mul(t,typeof r=="bigint"?og(r,e.ORDER):e.inv(r))}qe.FpDiv=Qj;function eK(e){const t=(e.ORDER-wt)/xa;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}}qe.FpIsSquare=eK;function $6(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}qe.nLength=$6;function tK(e,t,r=!1,n={}){if(e<=dr)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=$6(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=v7(e),f=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:(0,ui.bitMask)(i),ZERO:dr,ONE:wt,create:d=>oi(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return dr<=d&&d<e},is0:d=>d===dr,isOdd:d=>(d&wt)===wt,neg:d=>oi(-d,e),eql:(d,a)=>d===a,sqr:d=>oi(d*d,e),add:(d,a)=>oi(d+a,e),sub:(d,a)=>oi(d-a,e),mul:(d,a)=>oi(d*a,e),pow:(d,a)=>_7(f,d,a),div:(d,a)=>oi(d*og(a,e),e),sqrN:d=>d*d,addN:(d,a)=>d+a,subN:(d,a)=>d-a,mulN:(d,a)=>d*a,inv:d=>og(d,e),sqrt:n.sqrt||(d=>s(f,d)),invertBatch:d=>w7(f,d),cmov:(d,a,c)=>c?a:d,toBytes:d=>r?(0,ui.numberToBytesLE)(d,o):(0,ui.numberToBytesBE)(d,o),fromBytes:d=>{if(d.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${d.length}`);return r?(0,ui.bytesToNumberLE)(d):(0,ui.bytesToNumberBE)(d)}});return Object.freeze(f)}qe.Field=tK;function rK(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)}qe.FpSqrtOdd=rK;function nK(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}qe.FpSqrtEven=nK;function iK(e,t,r=!1){e=(0,ui.ensureBytes)("privateHash",e);const n=e.length,i=$6(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const o=r?(0,ui.bytesToNumberLE)(e):(0,ui.bytesToNumberBE)(e);return oi(o,t-wt)+wt}qe.hashToPrivateScalar=iK;function F6(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}qe.getFieldBytesLength=F6;function T7(e){const t=F6(e);return t+Math.ceil(t/2)}qe.getMinHashLength=T7;function oK(e,t,r=!1){const n=e.length,i=F6(t),o=T7(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const s=r?(0,ui.bytesToNumberBE)(e):(0,ui.bytesToNumberLE)(e),f=oi(s,t-wt)+wt;return r?(0,ui.numberToBytesLE)(f,i):(0,ui.numberToBytesBE)(f,i)}qe.mapHashToField=oK;var L6={},zc={};Object.defineProperty(zc,"__esModule",{value:!0});zc.validateBasic=zc.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RT=qe,sK=He,aK=BigInt(0),ov=BigInt(1);function fK(e,t){const r=(i,o)=>{const s=o.negate();return i?s:o},n=i=>{const o=Math.ceil(t/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=e.ZERO,f=i;for(;o>aK;)o&ov&&(s=s.add(f)),f=f.double(),o>>=ov;return s},precomputeWindow(i,o){const{windows:s,windowSize:f}=n(o),d=[];let a=i,c=a;for(let p=0;p<s;p++){c=a,d.push(c);for(let h=1;h<f;h++)c=c.add(a),d.push(c);a=c.double()}return d},wNAF(i,o,s){const{windows:f,windowSize:d}=n(i);let a=e.ZERO,c=e.BASE;const p=BigInt(2**i-1),h=2**i,y=BigInt(i);for(let g=0;g<f;g++){const v=g*d;let T=Number(s&p);s>>=y,T>d&&(T-=h,s+=ov);const I=v,_=v+Math.abs(T)-1,C=g%2!==0,w=T<0;T===0?c=c.add(r(C,o[I])):a=a.add(r(w,o[_]))}return{p:a,f:c}},wNAFCached(i,o,s,f){const d=i._WINDOW_SIZE||1;let a=o.get(i);return a||(a=this.precomputeWindow(i,d),d!==1&&o.set(i,f(a))),this.wNAF(d,a,s)}}}zc.wNAF=fK;function uK(e){return(0,RT.validateField)(e.Fp),(0,sK.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,RT.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}zc.validateBasic=uK;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mapToCurveSimpleSWU=e.SWUFpSqrtRatio=e.weierstrass=e.weierstrassPoints=e.DER=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=qe,r=He,n=He,i=zc;function o(_){const C=(0,i.validateBasic)(_);r.validateObject(C,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:w,Fp:P,a:D}=C;if(w){if(!P.eql(D,P.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof w!="object"||typeof w.beta!="bigint"||typeof w.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...C})}const{bytesToNumberBE:s,hexToBytes:f}=r;e.DER={Err:class extends Error{constructor(C=""){super(C)}},_parseInt(_){const{Err:C}=e.DER;if(_.length<2||_[0]!==2)throw new C("Invalid signature integer tag");const w=_[1],P=_.subarray(2,w+2);if(!w||P.length!==w)throw new C("Invalid signature integer: wrong length");if(P[0]&128)throw new C("Invalid signature integer: negative");if(P[0]===0&&!(P[1]&128))throw new C("Invalid signature integer: unnecessary leading zero");return{d:s(P),l:_.subarray(w+2)}},toSig(_){const{Err:C}=e.DER,w=typeof _=="string"?f(_):_;if(!r.isBytes(w))throw new Error("ui8a expected");let P=w.length;if(P<2||w[0]!=48)throw new C("Invalid signature tag");if(w[1]!==P-2)throw new C("Invalid signature: incorrect length");const{d:D,l:u}=e.DER._parseInt(w.subarray(2)),{d:l,l:m}=e.DER._parseInt(u);if(m.length)throw new C("Invalid signature: left bytes after parsing");return{r:D,s:l}},hexFromSig(_){const C=B=>Number.parseInt(B[0],16)&8?"00"+B:B,w=B=>{const b=B.toString(16);return b.length&1?`0${b}`:b},P=C(w(_.s)),D=C(w(_.r)),u=P.length/2,l=D.length/2,m=w(u),R=w(l);return`30${w(l+u+4)}02${R}${D}02${m}${P}`}};const d=BigInt(0),a=BigInt(1),c=BigInt(2),p=BigInt(3),h=BigInt(4);function y(_){const C=o(_),{Fp:w}=C,P=C.toBytes||(($,G,oe)=>{const M=G.toAffine();return r.concatBytes(Uint8Array.from([4]),w.toBytes(M.x),w.toBytes(M.y))}),D=C.fromBytes||($=>{const G=$.subarray(1),oe=w.fromBytes(G.subarray(0,w.BYTES)),M=w.fromBytes(G.subarray(w.BYTES,2*w.BYTES));return{x:oe,y:M}});function u($){const{a:G,b:oe}=C,M=w.sqr($),S=w.mul(M,$);return w.add(w.add(S,w.mul($,G)),oe)}if(!w.eql(w.sqr(C.Gy),u(C.Gx)))throw new Error("bad generator point: equation left != right");function l($){return typeof $=="bigint"&&d<$&&$<C.n}function m($){if(!l($))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function R($){const{allowedPrivateKeyLengths:G,nByteLength:oe,wrapPrivateKey:M,n:S}=C;if(G&&typeof $!="bigint"){if(r.isBytes($)&&($=r.bytesToHex($)),typeof $!="string"||!G.includes($.length))throw new Error("Invalid key");$=$.padStart(oe*2,"0")}let K;try{K=typeof $=="bigint"?$:r.bytesToNumberBE((0,n.ensureBytes)("private key",$,oe))}catch{throw new Error(`private key must be ${oe} bytes, hex or bigint, not ${typeof $}`)}return M&&(K=t.mod(K,S)),m(K),K}const B=new Map;function b($){if(!($ instanceof E))throw new Error("ProjectivePoint expected")}class E{constructor(G,oe,M){if(this.px=G,this.py=oe,this.pz=M,G==null||!w.isValid(G))throw new Error("x required");if(oe==null||!w.isValid(oe))throw new Error("y required");if(M==null||!w.isValid(M))throw new Error("z required")}static fromAffine(G){const{x:oe,y:M}=G||{};if(!G||!w.isValid(oe)||!w.isValid(M))throw new Error("invalid affine point");if(G instanceof E)throw new Error("projective point not allowed");const S=K=>w.eql(K,w.ZERO);return S(oe)&&S(M)?E.ZERO:new E(oe,M,w.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(G){const oe=w.invertBatch(G.map(M=>M.pz));return G.map((M,S)=>M.toAffine(oe[S])).map(E.fromAffine)}static fromHex(G){const oe=E.fromAffine(D((0,n.ensureBytes)("pointHex",G)));return oe.assertValidity(),oe}static fromPrivateKey(G){return E.BASE.multiply(R(G))}_setWindowSize(G){this._WINDOW_SIZE=G,B.delete(this)}assertValidity(){if(this.is0()){if(C.allowInfinityPoint&&!w.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:G,y:oe}=this.toAffine();if(!w.isValid(G)||!w.isValid(oe))throw new Error("bad point: x or y not FE");const M=w.sqr(oe),S=u(G);if(!w.eql(M,S))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:G}=this.toAffine();if(w.isOdd)return!w.isOdd(G);throw new Error("Field doesn't support isOdd")}equals(G){b(G);const{px:oe,py:M,pz:S}=this,{px:K,py:he,pz:ie}=G,fe=w.eql(w.mul(oe,ie),w.mul(K,S)),pe=w.eql(w.mul(M,ie),w.mul(he,S));return fe&&pe}negate(){return new E(this.px,w.neg(this.py),this.pz)}double(){const{a:G,b:oe}=C,M=w.mul(oe,p),{px:S,py:K,pz:he}=this;let ie=w.ZERO,fe=w.ZERO,pe=w.ZERO,se=w.mul(S,S),ee=w.mul(K,K),te=w.mul(he,he),ae=w.mul(S,K);return ae=w.add(ae,ae),pe=w.mul(S,he),pe=w.add(pe,pe),ie=w.mul(G,pe),fe=w.mul(M,te),fe=w.add(ie,fe),ie=w.sub(ee,fe),fe=w.add(ee,fe),fe=w.mul(ie,fe),ie=w.mul(ae,ie),pe=w.mul(M,pe),te=w.mul(G,te),ae=w.sub(se,te),ae=w.mul(G,ae),ae=w.add(ae,pe),pe=w.add(se,se),se=w.add(pe,se),se=w.add(se,te),se=w.mul(se,ae),fe=w.add(fe,se),te=w.mul(K,he),te=w.add(te,te),se=w.mul(te,ae),ie=w.sub(ie,se),pe=w.mul(te,ee),pe=w.add(pe,pe),pe=w.add(pe,pe),new E(ie,fe,pe)}add(G){b(G);const{px:oe,py:M,pz:S}=this,{px:K,py:he,pz:ie}=G;let fe=w.ZERO,pe=w.ZERO,se=w.ZERO;const ee=C.a,te=w.mul(C.b,p);let ae=w.mul(oe,K),X=w.mul(M,he),V=w.mul(S,ie),Y=w.add(oe,M),ce=w.add(K,he);Y=w.mul(Y,ce),ce=w.add(ae,X),Y=w.sub(Y,ce),ce=w.add(oe,S);let _e=w.add(K,ie);return ce=w.mul(ce,_e),_e=w.add(ae,V),ce=w.sub(ce,_e),_e=w.add(M,S),fe=w.add(he,ie),_e=w.mul(_e,fe),fe=w.add(X,V),_e=w.sub(_e,fe),se=w.mul(ee,ce),fe=w.mul(te,V),se=w.add(fe,se),fe=w.sub(X,se),se=w.add(X,se),pe=w.mul(fe,se),X=w.add(ae,ae),X=w.add(X,ae),V=w.mul(ee,V),ce=w.mul(te,ce),X=w.add(X,V),V=w.sub(ae,V),V=w.mul(ee,V),ce=w.add(ce,V),ae=w.mul(X,ce),pe=w.add(pe,ae),ae=w.mul(_e,ce),fe=w.mul(Y,fe),fe=w.sub(fe,ae),ae=w.mul(Y,X),se=w.mul(_e,se),se=w.add(se,ae),new E(fe,pe,se)}subtract(G){return this.add(G.negate())}is0(){return this.equals(E.ZERO)}wNAF(G){return L.wNAFCached(this,B,G,oe=>{const M=w.invertBatch(oe.map(S=>S.pz));return oe.map((S,K)=>S.toAffine(M[K])).map(E.fromAffine)})}multiplyUnsafe(G){const oe=E.ZERO;if(G===d)return oe;if(m(G),G===a)return this;const{endo:M}=C;if(!M)return L.unsafeLadder(this,G);let{k1neg:S,k1:K,k2neg:he,k2:ie}=M.splitScalar(G),fe=oe,pe=oe,se=this;for(;K>d||ie>d;)K&a&&(fe=fe.add(se)),ie&a&&(pe=pe.add(se)),se=se.double(),K>>=a,ie>>=a;return S&&(fe=fe.negate()),he&&(pe=pe.negate()),pe=new E(w.mul(pe.px,M.beta),pe.py,pe.pz),fe.add(pe)}multiply(G){m(G);let oe=G,M,S;const{endo:K}=C;if(K){const{k1neg:he,k1:ie,k2neg:fe,k2:pe}=K.splitScalar(oe);let{p:se,f:ee}=this.wNAF(ie),{p:te,f:ae}=this.wNAF(pe);se=L.constTimeNegate(he,se),te=L.constTimeNegate(fe,te),te=new E(w.mul(te.px,K.beta),te.py,te.pz),M=se.add(te),S=ee.add(ae)}else{const{p:he,f:ie}=this.wNAF(oe);M=he,S=ie}return E.normalizeZ([M,S])[0]}multiplyAndAddUnsafe(G,oe,M){const S=E.BASE,K=(ie,fe)=>fe===d||fe===a||!ie.equals(S)?ie.multiplyUnsafe(fe):ie.multiply(fe),he=K(this,oe).add(K(G,M));return he.is0()?void 0:he}toAffine(G){const{px:oe,py:M,pz:S}=this,K=this.is0();G==null&&(G=K?w.ONE:w.inv(S));const he=w.mul(oe,G),ie=w.mul(M,G),fe=w.mul(S,G);if(K)return{x:w.ZERO,y:w.ZERO};if(!w.eql(fe,w.ONE))throw new Error("invZ was invalid");return{x:he,y:ie}}isTorsionFree(){const{h:G,isTorsionFree:oe}=C;if(G===a)return!0;if(oe)return oe(E,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:G,clearCofactor:oe}=C;return G===a?this:oe?oe(E,this):this.multiplyUnsafe(C.h)}toRawBytes(G=!0){return this.assertValidity(),P(E,this,G)}toHex(G=!0){return r.bytesToHex(this.toRawBytes(G))}}E.BASE=new E(C.Gx,C.Gy,w.ONE),E.ZERO=new E(w.ZERO,w.ONE,w.ZERO);const k=C.nBitLength,L=(0,i.wNAF)(E,C.endo?Math.ceil(k/2):k);return{CURVE:C,ProjectivePoint:E,normPrivateKeyToScalar:R,weierstrassEquation:u,isWithinCurveOrder:l}}e.weierstrassPoints=y;function g(_){const C=(0,i.validateBasic)(_);return r.validateObject(C,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...C})}function v(_){const C=g(_),{Fp:w,n:P}=C,D=w.BYTES+1,u=2*w.BYTES+1;function l(ce){return d<ce&&ce<w.ORDER}function m(ce){return t.mod(ce,P)}function R(ce){return t.invert(ce,P)}const{ProjectivePoint:B,normPrivateKeyToScalar:b,weierstrassEquation:E,isWithinCurveOrder:k}=y({...C,toBytes(ce,_e,Ce){const Q=_e.toAffine(),U=w.toBytes(Q.x),F=r.concatBytes;return Ce?F(Uint8Array.from([_e.hasEvenY()?2:3]),U):F(Uint8Array.from([4]),U,w.toBytes(Q.y))},fromBytes(ce){const _e=ce.length,Ce=ce[0],Q=ce.subarray(1);if(_e===D&&(Ce===2||Ce===3)){const U=r.bytesToNumberBE(Q);if(!l(U))throw new Error("Point is not on curve");const F=E(U);let W=w.sqrt(F);const be=(W&a)===a;return(Ce&1)===1!==be&&(W=w.neg(W)),{x:U,y:W}}else if(_e===u&&Ce===4){const U=w.fromBytes(Q.subarray(0,w.BYTES)),F=w.fromBytes(Q.subarray(w.BYTES,2*w.BYTES));return{x:U,y:F}}else throw new Error(`Point of length ${_e} was invalid. Expected ${D} compressed bytes or ${u} uncompressed bytes`)}}),L=ce=>r.bytesToHex(r.numberToBytesBE(ce,C.nByteLength));function $(ce){const _e=P>>a;return ce>_e}function G(ce){return $(ce)?m(-ce):ce}const oe=(ce,_e,Ce)=>r.bytesToNumberBE(ce.slice(_e,Ce));class M{constructor(_e,Ce,Q){this.r=_e,this.s=Ce,this.recovery=Q,this.assertValidity()}static fromCompact(_e){const Ce=C.nByteLength;return _e=(0,n.ensureBytes)("compactSignature",_e,Ce*2),new M(oe(_e,0,Ce),oe(_e,Ce,2*Ce))}static fromDER(_e){const{r:Ce,s:Q}=e.DER.toSig((0,n.ensureBytes)("DER",_e));return new M(Ce,Q)}assertValidity(){if(!k(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!k(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(_e){return new M(this.r,this.s,_e)}recoverPublicKey(_e){const{r:Ce,s:Q,recovery:U}=this,F=pe((0,n.ensureBytes)("msgHash",_e));if(U==null||![0,1,2,3].includes(U))throw new Error("recovery id invalid");const W=U===2||U===3?Ce+C.n:Ce;if(W>=w.ORDER)throw new Error("recovery id 2 or 3 invalid");const be=U&1?"03":"02",Ee=B.fromHex(be+L(W)),xe=R(W),Ue=m(-F*xe),de=m(Q*xe),ge=B.BASE.multiplyAndAddUnsafe(Ee,Ue,de);if(!ge)throw new Error("point at infinify");return ge.assertValidity(),ge}hasHighS(){return $(this.s)}normalizeS(){return this.hasHighS()?new M(this.r,m(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return L(this.r)+L(this.s)}}const S={isValidPrivateKey(ce){try{return b(ce),!0}catch{return!1}},normPrivateKeyToScalar:b,randomPrivateKey:()=>{const ce=t.getMinHashLength(C.n);return t.mapHashToField(C.randomBytes(ce),C.n)},precompute(ce=8,_e=B.BASE){return _e._setWindowSize(ce),_e.multiply(BigInt(3)),_e}};function K(ce,_e=!0){return B.fromPrivateKey(ce).toRawBytes(_e)}function he(ce){const _e=r.isBytes(ce),Ce=typeof ce=="string",Q=(_e||Ce)&&ce.length;return _e?Q===D||Q===u:Ce?Q===2*D||Q===2*u:ce instanceof B}function ie(ce,_e,Ce=!0){if(he(ce))throw new Error("first arg must be private key");if(!he(_e))throw new Error("second arg must be public key");return B.fromHex(_e).multiply(b(ce)).toRawBytes(Ce)}const fe=C.bits2int||function(ce){const _e=r.bytesToNumberBE(ce),Ce=ce.length*8-C.nBitLength;return Ce>0?_e>>BigInt(Ce):_e},pe=C.bits2int_modN||function(ce){return m(fe(ce))},se=r.bitMask(C.nBitLength);function ee(ce){if(typeof ce!="bigint")throw new Error("bigint expected");if(!(d<=ce&&ce<se))throw new Error(`bigint expected < 2^${C.nBitLength}`);return r.numberToBytesBE(ce,C.nByteLength)}function te(ce,_e,Ce=ae){if(["recovered","canonical"].some(O=>O in Ce))throw new Error("sign() legacy options not supported");const{hash:Q,randomBytes:U}=C;let{lowS:F,prehash:W,extraEntropy:be}=Ce;F==null&&(F=!0),ce=(0,n.ensureBytes)("msgHash",ce),W&&(ce=(0,n.ensureBytes)("prehashed msgHash",Q(ce)));const Ee=pe(ce),xe=b(_e),Ue=[ee(xe),ee(Ee)];if(be!=null){const O=be===!0?U(w.BYTES):be;Ue.push((0,n.ensureBytes)("extraEntropy",O))}const de=r.concatBytes(...Ue),ge=Ee;function j(O){const x=fe(O);if(!k(x))return;const A=R(x),H=B.BASE.multiply(x).toAffine(),Z=m(H.x);if(Z===d)return;const ue=m(A*m(ge+Z*xe));if(ue===d)return;let le=(H.x===Z?0:2)|Number(H.y&a),Te=ue;return F&&$(ue)&&(Te=G(ue),le^=1),new M(Z,Te,le)}return{seed:de,k2sig:j}}const ae={lowS:C.lowS,prehash:!1},X={lowS:C.lowS,prehash:!1};function V(ce,_e,Ce=ae){const{seed:Q,k2sig:U}=te(ce,_e,Ce),F=C;return r.createHmacDrbg(F.hash.outputLen,F.nByteLength,F.hmac)(Q,U)}B.BASE._setWindowSize(8);function Y(ce,_e,Ce,Q=X){var H;const U=ce;if(_e=(0,n.ensureBytes)("msgHash",_e),Ce=(0,n.ensureBytes)("publicKey",Ce),"strict"in Q)throw new Error("options.strict was renamed to lowS");const{lowS:F,prehash:W}=Q;let be,Ee;try{if(typeof U=="string"||r.isBytes(U))try{be=M.fromDER(U)}catch(Z){if(!(Z instanceof e.DER.Err))throw Z;be=M.fromCompact(U)}else if(typeof U=="object"&&typeof U.r=="bigint"&&typeof U.s=="bigint"){const{r:Z,s:ue}=U;be=new M(Z,ue)}else throw new Error("PARSE");Ee=B.fromHex(Ce)}catch(Z){if(Z.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(F&&be.hasHighS())return!1;W&&(_e=C.hash(_e));const{r:xe,s:Ue}=be,de=pe(_e),ge=R(Ue),j=m(de*ge),O=m(xe*ge),x=(H=B.BASE.multiplyAndAddUnsafe(Ee,j,O))==null?void 0:H.toAffine();return x?m(x.x)===xe:!1}return{CURVE:C,getPublicKey:K,getSharedSecret:ie,sign:V,verify:Y,ProjectivePoint:B,Signature:M,utils:S}}e.weierstrass=v;function T(_,C){const w=_.ORDER;let P=d;for(let $=w-a;$%c===d;$/=c)P+=a;const D=P,u=c<<D-a-a,l=u*c,m=(w-a)/l,R=(m-a)/c,B=l-a,b=u,E=_.pow(C,m),k=_.pow(C,(m+a)/c);let L=($,G)=>{let oe=E,M=_.pow(G,B),S=_.sqr(M);S=_.mul(S,G);let K=_.mul($,S);K=_.pow(K,R),K=_.mul(K,M),M=_.mul(K,G),S=_.mul(K,$);let he=_.mul(S,M);K=_.pow(he,b);let ie=_.eql(K,_.ONE);M=_.mul(S,k),K=_.mul(he,oe),S=_.cmov(M,S,ie),he=_.cmov(K,he,ie);for(let fe=D;fe>a;fe--){let pe=fe-c;pe=c<<pe-a;let se=_.pow(he,pe);const ee=_.eql(se,_.ONE);M=_.mul(S,oe),oe=_.mul(oe,oe),se=_.mul(he,oe),S=_.cmov(M,S,ee),he=_.cmov(se,he,ee)}return{isValid:ie,value:S}};if(_.ORDER%h===p){const $=(_.ORDER-p)/h,G=_.sqrt(_.neg(C));L=(oe,M)=>{let S=_.sqr(M);const K=_.mul(oe,M);S=_.mul(S,K);let he=_.pow(S,$);he=_.mul(he,K);const ie=_.mul(he,G),fe=_.mul(_.sqr(he),M),pe=_.eql(fe,oe);let se=_.cmov(ie,he,pe);return{isValid:pe,value:se}}}return L}e.SWUFpSqrtRatio=T;function I(_,C){if(t.validateField(_),!_.isValid(C.A)||!_.isValid(C.B)||!_.isValid(C.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const w=T(_,C.Z);if(!_.isOdd)throw new Error("Fp.isOdd is not implemented!");return P=>{let D,u,l,m,R,B,b,E;D=_.sqr(P),D=_.mul(D,C.Z),u=_.sqr(D),u=_.add(u,D),l=_.add(u,_.ONE),l=_.mul(l,C.B),m=_.cmov(C.Z,_.neg(u),!_.eql(u,_.ZERO)),m=_.mul(m,C.A),u=_.sqr(l),B=_.sqr(m),R=_.mul(B,C.A),u=_.add(u,R),u=_.mul(u,l),B=_.mul(B,m),R=_.mul(B,C.B),u=_.add(u,R),b=_.mul(D,l);const{isValid:k,value:L}=w(u,B);E=_.mul(D,P),E=_.mul(E,L),b=_.cmov(b,l,k),E=_.cmov(E,L,k);const $=_.isOdd(P)===_.isOdd(E);return E=_.cmov(_.neg(E),E,$),b=_.div(b,m),{x:b,y:E}}}e.mapToCurveSimpleSWU=I})(L6);var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.createHasher=Ti.isogenyMap=Ti.hash_to_field=Ti.expand_message_xof=Ti.expand_message_xmd=void 0;const cK=qe,si=He;function dK(e){if((0,si.isBytes)(e))return e;if(typeof e=="string")return(0,si.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}const lK=si.bytesToNumberBE;function Ta(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function hK(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Gl(e){if(!(0,si.isBytes)(e))throw new Error("Uint8Array expected")}function j6(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function I7(e,t,r,n){Gl(e),Gl(t),j6(r),t.length>255&&(t=n((0,si.concatBytes)((0,si.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:o}=n,s=Math.ceil(r/i);if(s>255)throw new Error("Invalid xmd length");const f=(0,si.concatBytes)(t,Ta(t.length,1)),d=Ta(0,o),a=Ta(r,2),c=new Array(s),p=n((0,si.concatBytes)(d,e,a,Ta(0,1),f));c[0]=n((0,si.concatBytes)(p,Ta(1,1),f));for(let y=1;y<=s;y++){const g=[hK(p,c[y-1]),Ta(y+1,1),f];c[y]=n((0,si.concatBytes)(...g))}return(0,si.concatBytes)(...c).slice(0,r)}Ti.expand_message_xmd=I7;function E7(e,t,r,n,i){if(Gl(e),Gl(t),j6(r),t.length>255){const o=Math.ceil(2*n/8);t=i.create({dkLen:o}).update((0,si.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(Ta(r,2)).update(t).update(Ta(t.length,1)).digest()}Ti.expand_message_xof=E7;function p3(e,t,r){(0,si.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:o,hash:s,expand:f,DST:d}=r;Gl(e),j6(t);const a=dK(d),c=n.toString(2).length,p=Math.ceil((c+i)/8),h=t*o*p;let y;if(f==="xmd")y=I7(e,a,h,s);else if(f==="xof")y=E7(e,a,h,i,s);else if(f==="_internal_pass")y=e;else throw new Error('expand must be "xmd" or "xof"');const g=new Array(t);for(let v=0;v<t;v++){const T=new Array(o);for(let I=0;I<o;I++){const _=p*(I+v*o),C=y.subarray(_,_+p);T[I]=(0,cK.mod)(lK(C),n)}g[v]=T}return g}Ti.hash_to_field=p3;function pK(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[o,s,f,d]=r.map(a=>a.reduce((c,p)=>e.add(e.mul(c,n),p)));return n=e.div(o,s),i=e.mul(i,e.div(f,d)),{x:n,y:i}}}Ti.isogenyMap=pK;function yK(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const o=p3(n,2,{...r,DST:r.DST,...i}),s=e.fromAffine(t(o[0])),f=e.fromAffine(t(o[1])),d=s.add(f).clearCofactor();return d.assertValidity(),d},encodeToCurve(n,i){const o=p3(n,1,{...r,DST:r.encodeDST,...i}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s}}}Ti.createHasher=yK;var Yc={},x7={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const t=cr,r=ms;class n extends r.Hash{constructor(s,f){super(),this.finished=!1,this.destroyed=!1,(0,t.hash)(s);const d=(0,r.toBytes)(f);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,c=new Uint8Array(a);c.set(d.length>a?s.create().update(d).digest():d);for(let p=0;p<c.length;p++)c[p]^=54;this.iHash.update(c),this.oHash=s.create();for(let p=0;p<c.length;p++)c[p]^=106;this.oHash.update(c),c.fill(0)}update(s){return(0,t.exists)(this),this.iHash.update(s),this}digestInto(s){(0,t.exists)(this),(0,t.bytes)(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:f,iHash:d,finished:a,destroyed:c,blockLen:p,outputLen:h}=this;return s=s,s.finished=a,s.destroyed=c,s.blockLen=p,s.outputLen=h,s.oHash=f._cloneInto(s.oHash),s.iHash=d._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=n;const i=(o,s,f)=>new n(o,s).update(f).digest();e.hmac=i,e.hmac.create=(o,s)=>new n(o,s)})(x7);Object.defineProperty(Yc,"__esModule",{value:!0});Yc.createCurve=Yc.getHash=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gK=x7,OT=ms,mK=L6;function S7(e){return{hash:e,hmac:(t,...r)=>(0,gK.hmac)(e,t,(0,OT.concatBytes)(...r)),randomBytes:OT.randomBytes}}Yc.getHash=S7;function bK(e,t){const r=n=>(0,mK.weierstrass)({...e,...S7(n)});return Object.freeze({...r(t),create:r})}Yc.createCurve=bK;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Iu,r=ms,n=qe,i=L6,o=He,s=Ti,f=Yc,d=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),a=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),c=BigInt(1),p=BigInt(2),h=(M,S)=>(M+S/p)/S;function y(M){const S=d,K=BigInt(3),he=BigInt(6),ie=BigInt(11),fe=BigInt(22),pe=BigInt(23),se=BigInt(44),ee=BigInt(88),te=M*M*M%S,ae=te*te*M%S,X=(0,n.pow2)(ae,K,S)*ae%S,V=(0,n.pow2)(X,K,S)*ae%S,Y=(0,n.pow2)(V,p,S)*te%S,ce=(0,n.pow2)(Y,ie,S)*Y%S,_e=(0,n.pow2)(ce,fe,S)*ce%S,Ce=(0,n.pow2)(_e,se,S)*_e%S,Q=(0,n.pow2)(Ce,ee,S)*Ce%S,U=(0,n.pow2)(Q,se,S)*_e%S,F=(0,n.pow2)(U,K,S)*ae%S,W=(0,n.pow2)(F,pe,S)*ce%S,be=(0,n.pow2)(W,he,S)*te%S,Ee=(0,n.pow2)(be,p,S);if(!g.eql(g.sqr(Ee),M))throw new Error("Cannot find square root");return Ee}const g=(0,n.Field)(d,void 0,void 0,{sqrt:y});e.secp256k1=(0,f.createCurve)({a:BigInt(0),b:BigInt(7),Fp:g,n:a,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:M=>{const S=a,K=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),he=-c*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ie=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),fe=K,pe=BigInt("0x100000000000000000000000000000000"),se=h(fe*M,S),ee=h(-he*M,S);let te=(0,n.mod)(M-se*K-ee*ie,S),ae=(0,n.mod)(-se*he-ee*fe,S);const X=te>pe,V=ae>pe;if(X&&(te=S-te),V&&(ae=S-ae),te>pe||ae>pe)throw new Error("splitScalar: Endomorphism failed, k="+M);return{k1neg:X,k1:te,k2neg:V,k2:ae}}}},t.sha256);const v=BigInt(0),T=M=>typeof M=="bigint"&&v<M&&M<d,I=M=>typeof M=="bigint"&&v<M&&M<a,_={};function C(M,...S){let K=_[M];if(K===void 0){const he=(0,t.sha256)(Uint8Array.from(M,ie=>ie.charCodeAt(0)));K=(0,o.concatBytes)(he,he),_[M]=K}return(0,t.sha256)((0,o.concatBytes)(K,...S))}const w=M=>M.toRawBytes(!0).slice(1),P=M=>(0,o.numberToBytesBE)(M,32),D=M=>(0,n.mod)(M,d),u=M=>(0,n.mod)(M,a),l=e.secp256k1.ProjectivePoint,m=(M,S,K)=>l.BASE.multiplyAndAddUnsafe(M,S,K);function R(M){let S=e.secp256k1.utils.normPrivateKeyToScalar(M),K=l.fromPrivateKey(S);return{scalar:K.hasEvenY()?S:u(-S),bytes:w(K)}}function B(M){if(!T(M))throw new Error("bad x: need 0 < x < p");const S=D(M*M),K=D(S*M+BigInt(7));let he=y(K);he%p!==v&&(he=D(-he));const ie=new l(M,he,c);return ie.assertValidity(),ie}function b(...M){return u((0,o.bytesToNumberBE)(C("BIP0340/challenge",...M)))}function E(M){return R(M).bytes}function k(M,S,K=(0,r.randomBytes)(32)){const he=(0,o.ensureBytes)("message",M),{bytes:ie,scalar:fe}=R(S),pe=(0,o.ensureBytes)("auxRand",K,32),se=P(fe^(0,o.bytesToNumberBE)(C("BIP0340/aux",pe))),ee=C("BIP0340/nonce",se,ie,he),te=u((0,o.bytesToNumberBE)(ee));if(te===v)throw new Error("sign failed: k is zero");const{bytes:ae,scalar:X}=R(te),V=b(ae,ie,he),Y=new Uint8Array(64);if(Y.set(ae,0),Y.set(P(u(X+V*fe)),32),!L(Y,he,ie))throw new Error("sign: Invalid signature produced");return Y}function L(M,S,K){const he=(0,o.ensureBytes)("signature",M,64),ie=(0,o.ensureBytes)("message",S),fe=(0,o.ensureBytes)("publicKey",K,32);try{const pe=B((0,o.bytesToNumberBE)(fe)),se=(0,o.bytesToNumberBE)(he.subarray(0,32));if(!T(se))return!1;const ee=(0,o.bytesToNumberBE)(he.subarray(32,64));if(!I(ee))return!1;const te=b(P(se),w(pe),ie),ae=m(pe,ee,u(-te));return!(!ae||!ae.hasEvenY()||ae.toAffine().x!==se)}catch{return!1}}e.schnorr={getPublicKey:E,sign:k,verify:L,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:B,pointToBytes:w,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:C,mod:n.mod}};const $=(0,s.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(M=>M.map(S=>BigInt(S)))),G=(0,i.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}),oe=(0,s.createHasher)(e.secp256k1.ProjectivePoint,M=>{const{x:S,y:K}=G(g.create(M[0]));return $(S,K)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256});e.hashToCurve=oe.hashToCurve,e.encodeToCurve=oe.encodeToCurve})(a7);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=void 0;var t=a7;Object.defineProperty(e,"secp256k1",{enumerable:!0,get:function(){return t.secp256k1}})})(R1);var sv={},Gc={};Object.defineProperty(Gc,"__esModule",{value:!0});Gc.getRandomBytes=Gc.getRandomBytesSync=void 0;const B7=ms;function vK(e){return(0,B7.randomBytes)(e)}Gc.getRandomBytesSync=vK;async function _K(e){return(0,B7.randomBytes)(e)}Gc.getRandomBytes=_K;var sg={exports:{}};sg.exports;(function(e,t){var r=Be&&Be.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=t.wrapHash=t.equalsBytes=t.hexToBytes=t.bytesToUtf8=t.utf8ToBytes=t.createView=t.concatBytes=t.toHex=t.bytesToHex=t.assertBytes=t.assertBool=void 0;const n=r(cr),i=ms,o=n.default.bool;t.assertBool=o;const s=n.default.bytes;t.assertBytes=s;var f=ms;Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return f.bytesToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return f.bytesToHex}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return f.concatBytes}}),Object.defineProperty(t,"createView",{enumerable:!0,get:function(){return f.createView}}),Object.defineProperty(t,"utf8ToBytes",{enumerable:!0,get:function(){return f.utf8ToBytes}});function d(h){if(!(h instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof h}`);return new TextDecoder().decode(h)}t.bytesToUtf8=d;function a(h){const y=h.startsWith("0x")?h.substring(2):h;return(0,i.hexToBytes)(y)}t.hexToBytes=a;function c(h,y){if(h.length!==y.length)return!1;for(let g=0;g<h.length;g++)if(h[g]!==y[g])return!1;return!0}t.equalsBytes=c;function p(h){return y=>(n.default.bytes(y),h(y))}t.wrapHash=p,t.crypto=(()=>{const h=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,y=typeof Sw=="function"&&Sw.bind(e);return{node:y&&!h?y("crypto"):void 0,web:h}})()})(sg,sg.exports);var ag=sg.exports,Mi={},Et={},AT;function Bd(){if(AT)return Et;AT=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.isHexString=Et.getKeys=Et.fromAscii=Et.fromUtf8=Et.toAscii=Et.arrayContainsArray=Et.getBinarySize=Et.padToEven=Et.stripHexPrefix=Et.isHexPrefixed=void 0;const e=ao();function t(p){if(typeof p!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof p}`);return p[0]==="0"&&p[1]==="x"}Et.isHexPrefixed=t;const r=p=>{if(typeof p!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof p}`);return t(p)?p.slice(2):p};Et.stripHexPrefix=r;function n(p){let h=p;if(typeof h!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof h}`);return h.length%2&&(h=`0${h}`),h}Et.padToEven=n;function i(p){if(typeof p!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof p}`);return(0,e.utf8ToBytes)(p).byteLength}Et.getBinarySize=i;function o(p,h,y){if(Array.isArray(p)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof p}'`);if(Array.isArray(h)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof h}'`);return h[y===!0?"some":"every"](g=>p.indexOf(g)>=0)}Et.arrayContainsArray=o;function s(p){let h="",y=0;const g=p.length;for(p.substring(0,2)==="0x"&&(y=2);y<g;y+=2){const v=parseInt(p.substr(y,2),16);h+=String.fromCharCode(v)}return h}Et.toAscii=s;function f(p){const h=(0,e.utf8ToBytes)(p);return`0x${n((0,e.bytesToUnprefixedHex)(h)).replace(/^0+|0+$/g,"")}`}Et.fromUtf8=f;function d(p){let h="";for(let y=0;y<p.length;y++){const v=p.charCodeAt(y).toString(16);h+=v.length<2?`0${v}`:v}return`0x${h}`}Et.fromAscii=d;function a(p,h,y){if(!Array.isArray(p))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof p}`);if(typeof h!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof p}`);const g=[];for(let v=0;v<p.length;v++){let T=p[v][h];if(y===!0&&!T)T="";else if(typeof T!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof T}`);g.push(T)}return g}Et.getKeys=a;function c(p,h){return!(typeof p!="string"||!p.match(/^0x[0-9A-Fa-f]*$/)||typeof h<"u"&&h>0&&p.length!==2+2*h)}return Et.isHexString=c,Et}var PT;function K6(){if(PT)return Mi;PT=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.assertIsString=Mi.assertIsArray=Mi.assertIsBytes=Mi.assertIsHexString=void 0;const e=Bd(),t=function(o){if(!(0,e.isHexString)(o)){const s=`This method only supports 0x-prefixed hex strings but input was: ${o}`;throw new Error(s)}};Mi.assertIsHexString=t;const r=function(o){if(!(o instanceof Uint8Array)){const s=`This method only supports Uint8Array but input was: ${o}`;throw new Error(s)}};Mi.assertIsBytes=r;const n=function(o){if(!Array.isArray(o)){const s=`This method only supports number arrays but input was: ${o}`;throw new Error(s)}};Mi.assertIsArray=n;const i=function(o){if(typeof o!="string"){const s=`This method only supports strings but input was: ${o}`;throw new Error(s)}};return Mi.assertIsString=i,Mi}var NT;function ao(){return NT||(NT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.utf8ToBytes=e.equalsBytes=e.bytesToUtf8=e.bigInt64ToBytes=e.int32ToBytes=e.bytesToBigInt64=e.bytesToInt32=e.concatBytes=e.randomBytes=e.compareBytes=e.intToUnpaddedBytes=e.bigIntToUnpaddedBytes=e.bigIntMin=e.bigIntMax=e.bigIntToHex=e.validateNoLeadingZeroes=e.short=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.toBytes=e.unpadHex=e.unpadArray=e.unpadBytes=e.setLengthRight=e.setLengthLeft=e.zeros=e.bigIntToBytes=e.intToBytes=e.intToHex=e.hexToBytes=e.bytesToInt=e.bytesToBigInt=e.bytesToHex=e.unprefixedHexToBytes=e.bytesToUnprefixedHex=void 0;const t=Gc,r=ag,n=K6(),i=Bd(),o=BigInt(0);e.bytesToUnprefixedHex=r.bytesToHex;const s={},f={};for(let X=0;X<16;X++){const V=X,Y=X*16,ce=X.toString(16).toLowerCase();f[ce]=V,f[ce.toUpperCase()]=V,s[ce]=Y,s[ce.toUpperCase()]=Y}function d(X){const V=X.length,Y=new Uint8Array(V/2);for(let ce=0;ce<V;ce+=2)Y[ce/2]=s[X[ce]]+f[X[ce+1]];return Y}const a=X=>{if(X.slice(0,2)==="0x")throw new Error("hex string is prefixed with 0x, should be unprefixed");return d((0,i.padToEven)(X))};e.unprefixedHexToBytes=a;const c=Array.from({length:256},(X,V)=>V.toString(16).padStart(2,"0")),p=X=>{let V="0x";if(X===void 0||X.length===0)return V;for(const Y of X)V+=c[Y];return V};e.bytesToHex=p;const h=[];for(let X=0;X<=256*256-1;X++)h[X]=BigInt(X);const y=(X,V=!1)=>{V&&X.reverse();const Y=(0,e.bytesToHex)(X);return Y==="0x"?o:Y.length===4?h[X[0]]:Y.length===6?h[X[0]*256+X[1]]:BigInt(Y)};e.bytesToBigInt=y;const g=X=>{const V=Number((0,e.bytesToBigInt)(X));if(!Number.isSafeInteger(V))throw new Error("Number exceeds 53 bits");return V};e.bytesToInt=g;const v=X=>{if(typeof X!="string")throw new Error(`hex argument type ${typeof X} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(X))throw new Error(`Input must be a 0x-prefixed hexadecimal string, got ${X}`);return X=X.slice(2),X.length%2!==0&&(X=(0,i.padToEven)(X)),d(X)};e.hexToBytes=v;const T=X=>{if(!Number.isSafeInteger(X)||X<0)throw new Error(`Received an invalid integer type: ${X}`);return`0x${X.toString(16)}`};e.intToHex=T;const I=X=>{const V=(0,e.intToHex)(X);return(0,e.hexToBytes)(V)};e.intToBytes=I;const _=(X,V=!1)=>{const Y=(0,e.toBytes)("0x"+(0,i.padToEven)(X.toString(16)));return V?Y.reverse():Y};e.bigIntToBytes=_;const C=X=>new Uint8Array(X);e.zeros=C;const w=(X,V,Y)=>Y?X.length<V?new Uint8Array([...X,...(0,e.zeros)(V-X.length)]):X.subarray(0,V):X.length<V?new Uint8Array([...(0,e.zeros)(V-X.length),...X]):X.subarray(-V),P=(X,V)=>((0,n.assertIsBytes)(X),w(X,V,!1));e.setLengthLeft=P;const D=(X,V)=>((0,n.assertIsBytes)(X),w(X,V,!0));e.setLengthRight=D;const u=X=>{let V=X[0];for(;X.length>0&&V.toString()==="0";)X=X.slice(1),V=X[0];return X},l=X=>((0,n.assertIsBytes)(X),u(X));e.unpadBytes=l;const m=X=>((0,n.assertIsArray)(X),u(X));e.unpadArray=m;const R=X=>((0,n.assertIsHexString)(X),X=(0,i.stripHexPrefix)(X),"0x"+u(X));e.unpadHex=R;const B=X=>{if(X==null)return new Uint8Array;if(Array.isArray(X)||X instanceof Uint8Array)return Uint8Array.from(X);if(typeof X=="string"){if(!(0,i.isHexString)(X))throw new Error(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${X}`);return(0,e.hexToBytes)(X)}if(typeof X=="number")return(0,e.intToBytes)(X);if(typeof X=="bigint"){if(X<o)throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${X}`);let V=X.toString(16);return V.length%2&&(V="0"+V),(0,e.unprefixedHexToBytes)(V)}if(X.toBytes!==void 0)return X.toBytes();throw new Error("invalid type")};e.toBytes=B;const b=X=>BigInt.asIntN(256,(0,e.bytesToBigInt)(X));e.fromSigned=b;const E=X=>(0,e.bigIntToBytes)(BigInt.asUintN(256,X));e.toUnsigned=E;const k=X=>typeof X!="string"||(0,i.isHexPrefixed)(X)?X:"0x"+X;e.addHexPrefix=k;const L=(X,V=50)=>{const Y=X instanceof Uint8Array?(0,e.bytesToHex)(X):X,ce=Y.slice(0,2)==="0x"?V+2:V;return Y.length<=ce?Y:Y.slice(0,ce)+""};e.short=L;const $=X=>{for(const[V,Y]of Object.entries(X))if(Y!==void 0&&Y.length>0&&Y[0]===0)throw new Error(`${V} cannot have leading zeroes, received: ${(0,e.bytesToHex)(Y)}`)};e.validateNoLeadingZeroes=$;const G=X=>"0x"+X.toString(16);e.bigIntToHex=G;const oe=(...X)=>X.reduce((V,Y)=>Y>V?Y:V);e.bigIntMax=oe;const M=(...X)=>X.reduce((V,Y)=>Y<V?Y:V);e.bigIntMin=M;const S=X=>(0,e.unpadBytes)((0,e.bigIntToBytes)(X));e.bigIntToUnpaddedBytes=S;const K=X=>(0,e.unpadBytes)((0,e.intToBytes)(X));e.intToUnpaddedBytes=K;const he=(X,V)=>{const Y=(0,e.bytesToBigInt)(X),ce=(0,e.bytesToBigInt)(V);return Y>ce?1:Y<ce?-1:0};e.compareBytes=he;const ie=X=>(0,t.getRandomBytesSync)(X);e.randomBytes=ie;const fe=(...X)=>{if(X.length===1)return X[0];const V=X.reduce((ce,_e)=>ce+_e.length,0),Y=new Uint8Array(V);for(let ce=0,_e=0;ce<X.length;ce++){const Ce=X[ce];Y.set(Ce,_e),_e+=Ce.length}return Y};e.concatBytes=fe;function pe(X,V=!1){return X.length<4&&(X=w(X,4,V)),new DataView(X.buffer,X.byteOffset,X.byteLength).getUint32(0,V)}e.bytesToInt32=pe;function se(X,V=!1){return X.length<8&&(X=w(X,8,V)),new DataView(X.buffer,X.byteOffset,X.byteLength).getBigUint64(0,V)}e.bytesToBigInt64=se;function ee(X,V=!1){const Y=new ArrayBuffer(4);return new DataView(Y).setUint32(0,X,V),new Uint8Array(Y)}e.int32ToBytes=ee;function te(X,V=!1){const Y=new ArrayBuffer(8);return new DataView(Y).setBigUint64(0,X,V),new Uint8Array(Y)}e.bigInt64ToBytes=te;var ae=ag;Object.defineProperty(e,"bytesToUtf8",{enumerable:!0,get:function(){return ae.bytesToUtf8}}),Object.defineProperty(e,"equalsBytes",{enumerable:!0,get:function(){return ae.equalsBytes}}),Object.defineProperty(e,"utf8ToBytes",{enumerable:!0,get:function(){return ae.utf8ToBytes}})}(sv)),sv}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BIGINT_2EXP256=e.BIGINT_2EXP224=e.BIGINT_2EXP160=e.BIGINT_2EXP96=e.BIGINT_224=e.BIGINT_160=e.BIGINT_100=e.BIGINT_96=e.BIGINT_256=e.BIGINT_255=e.BIGINT_128=e.BIGINT_64=e.BIGINT_32=e.BIGINT_31=e.BIGINT_28=e.BIGINT_27=e.BIGINT_8=e.BIGINT_7=e.BIGINT_3=e.BIGINT_2=e.BIGINT_1=e.BIGINT_0=e.BIGINT_NEG1=e.RIPEMD160_ADDRESS_STRING=e.MAX_WITHDRAWALS_PER_PAYLOAD=e.RLP_EMPTY_STRING=e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.SECP256K1_ORDER_DIV_2=e.SECP256K1_ORDER=e.MAX_INTEGER_BIGINT=e.MAX_INTEGER=e.MAX_UINT64=void 0;const t=R1,r=ao();e.MAX_UINT64=BigInt("0xffffffffffffffff"),e.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),e.SECP256K1_ORDER=t.secp256k1.CURVE.n,e.SECP256K1_ORDER_DIV_2=t.secp256k1.CURVE.n/BigInt(2),e.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e.KECCAK256_NULL_S="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=(0,r.hexToBytes)(e.KECCAK256_NULL_S),e.KECCAK256_RLP_ARRAY_S="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=(0,r.hexToBytes)(e.KECCAK256_RLP_ARRAY_S),e.KECCAK256_RLP_S="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=(0,r.hexToBytes)(e.KECCAK256_RLP_S),e.RLP_EMPTY_STRING=Uint8Array.from([128]),e.MAX_WITHDRAWALS_PER_PAYLOAD=16,e.RIPEMD160_ADDRESS_STRING="0000000000000000000000000000000000000003",e.BIGINT_NEG1=BigInt(-1),e.BIGINT_0=BigInt(0),e.BIGINT_1=BigInt(1),e.BIGINT_2=BigInt(2),e.BIGINT_3=BigInt(3),e.BIGINT_7=BigInt(7),e.BIGINT_8=BigInt(8),e.BIGINT_27=BigInt(27),e.BIGINT_28=BigInt(28),e.BIGINT_31=BigInt(31),e.BIGINT_32=BigInt(32),e.BIGINT_64=BigInt(64),e.BIGINT_128=BigInt(128),e.BIGINT_255=BigInt(255),e.BIGINT_256=BigInt(256),e.BIGINT_96=BigInt(96),e.BIGINT_100=BigInt(100),e.BIGINT_160=BigInt(160),e.BIGINT_224=BigInt(224),e.BIGINT_2EXP96=BigInt(7922816251426434e13),e.BIGINT_2EXP160=BigInt(1461501637330903e33),e.BIGINT_2EXP224=BigInt(2695994666715064e52),e.BIGINT_2EXP256=e.BIGINT_2**e.BIGINT_256})(ju);var Jc={};Object.defineProperty(Jc,"__esModule",{value:!0});Jc.formatBigDecimal=Jc.GWEI_TO_WEI=void 0;const MT=ju;Jc.GWEI_TO_WEI=BigInt(1e9);function wK(e,t,r){t===MT.BIGINT_0&&(t=MT.BIGINT_1);const n=e/t,i=(e-n*t)*r/t,o=String(r).length-1-String(i).length;return`${n}.${"0".repeat(o)}${i}`}Jc.formatBigDecimal=wK;var H6={},Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.RLP=Bo.utils=Bo.decode=Bo.encode=void 0;function q6(e){if(Array.isArray(e)){const r=[];let n=0;for(let i=0;i<e.length;i++){const o=q6(e[i]);r.push(o),n+=o.length}return g3(kT(n,192),...r)}const t=P7(e);return t.length===1&&t[0]<128?t:g3(kT(t.length,128),t)}Bo.encode=q6;function Qu(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function UT(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return R7(D7(e))}function kT(e,t){if(e<56)return Uint8Array.from([e+t]);const r=m3(e),n=r.length/2,i=m3(t+55+n);return Uint8Array.from(fg(i+r))}function C7(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);const r=P7(e),n=y3(r);if(t)return{data:n.data,remainder:n.remainder.slice()};if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}Bo.decode=C7;function y3(e){let t,r,n,i,o;const s=[],f=e[0];if(f<=127)return{data:e.slice(0,1),remainder:e.subarray(1)};if(f<=183){if(t=f-127,f===128?n=Uint8Array.from([]):n=Qu(e,1,t),t===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.subarray(t)}}else if(f<=191){if(r=f-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=UT(Qu(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=Qu(e,r,t+r),{data:n,remainder:e.subarray(t+r)}}else if(f<=247){for(t=f-191,i=Qu(e,1,t);i.length;)o=y3(i),s.push(o.data),i=o.remainder;return{data:s,remainder:e.subarray(t)}}else{if(r=f-246,t=UT(Qu(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const d=r+t;if(d>e.length)throw new Error("invalid RLP: total length is larger than the data");for(i=Qu(e,r,d);i.length;)o=y3(i),s.push(o.data),i=o.remainder;return{data:s,remainder:e.subarray(d)}}}const TK=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function D7(e){let t="";for(let r=0;r<e.length;r++)t+=TK[e[r]];return t}function R7(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function fg(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=r*2;t[r]=R7(e.slice(n,n+2))}return t}function g3(...e){if(e.length===1)return e[0];const t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}function O7(e){return new TextEncoder().encode(e)}function m3(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function IK(e){return e.length%2?`0${e}`:e}function A7(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function EK(e){return typeof e!="string"?e:A7(e)?e.slice(2):e}function P7(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return A7(e)?fg(IK(EK(e))):O7(e);if(typeof e=="number"||typeof e=="bigint")return e?fg(m3(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}Bo.utils={bytesToHex:D7,concatBytes:g3,hexToBytes:fg,utf8ToBytes:O7};Bo.RLP={encode:q6,decode:C7};var Fi={},vt={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.add5L=Ke.add5H=Ke.add4H=Ke.add4L=Ke.add3H=Ke.add3L=Ke.add=Ke.rotlBL=Ke.rotlBH=Ke.rotlSL=Ke.rotlSH=Ke.rotr32L=Ke.rotr32H=Ke.rotrBL=Ke.rotrBH=Ke.rotrSL=Ke.rotrSH=Ke.shrSL=Ke.shrSH=Ke.toBig=Ke.split=Ke.fromBig=void 0;const Zp=BigInt(2**32-1),b3=BigInt(32);function V6(e,t=!1){return t?{h:Number(e&Zp),l:Number(e>>b3&Zp)}:{h:Number(e>>b3&Zp)|0,l:Number(e&Zp)|0}}Ke.fromBig=V6;function N7(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=V6(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}Ke.split=N7;const M7=(e,t)=>BigInt(e>>>0)<<b3|BigInt(t>>>0);Ke.toBig=M7;const U7=(e,t,r)=>e>>>r;Ke.shrSH=U7;const k7=(e,t,r)=>e<<32-r|t>>>r;Ke.shrSL=k7;const $7=(e,t,r)=>e>>>r|t<<32-r;Ke.rotrSH=$7;const F7=(e,t,r)=>e<<32-r|t>>>r;Ke.rotrSL=F7;const L7=(e,t,r)=>e<<64-r|t>>>r-32;Ke.rotrBH=L7;const j7=(e,t,r)=>e>>>r-32|t<<64-r;Ke.rotrBL=j7;const K7=(e,t)=>t;Ke.rotr32H=K7;const H7=(e,t)=>e;Ke.rotr32L=H7;const q7=(e,t,r)=>e<<r|t>>>32-r;Ke.rotlSH=q7;const V7=(e,t,r)=>t<<r|e>>>32-r;Ke.rotlSL=V7;const z7=(e,t,r)=>t<<r-32|e>>>64-r;Ke.rotlBH=z7;const Y7=(e,t,r)=>e<<r-32|t>>>64-r;Ke.rotlBL=Y7;function G7(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}Ke.add=G7;const J7=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);Ke.add3L=J7;const W7=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;Ke.add3H=W7;const X7=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);Ke.add4L=X7;const Z7=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;Ke.add4H=Z7;const Q7=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);Ke.add5L=Q7;const eB=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;Ke.add5H=eB;const xK={fromBig:V6,split:N7,toBig:M7,shrSH:U7,shrSL:k7,rotrSH:$7,rotrSL:F7,rotrBH:L7,rotrBL:j7,rotr32H:K7,rotr32L:H7,rotlSH:q7,rotlSL:V7,rotlBH:z7,rotlBL:Y7,add:G7,add3L:J7,add3H:W7,add4L:X7,add4H:Z7,add5H:eB,add5L:Q7};Ke.default=xK;Object.defineProperty(vt,"__esModule",{value:!0});vt.shake256=vt.shake128=vt.keccak_512=vt.keccak_384=vt.keccak_256=vt.keccak_224=vt.sha3_512=vt.sha3_384=vt.sha3_256=vt.sha3_224=vt.Keccak=vt.keccakP=void 0;const ec=cr,Jl=Ke,k0=ms,[tB,rB,nB]=[[],[],[]],SK=BigInt(0),d0=BigInt(1),BK=BigInt(2),CK=BigInt(7),DK=BigInt(256),RK=BigInt(113);for(let e=0,t=d0,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],tB.push(2*(5*n+r)),rB.push((e+1)*(e+2)/2%64);let i=SK;for(let o=0;o<7;o++)t=(t<<d0^(t>>CK)*RK)%DK,t&BK&&(i^=d0<<(d0<<BigInt(o))-d0);nB.push(i)}const[OK,AK]=(0,Jl.split)(nB,!0),$T=(e,t,r)=>r>32?(0,Jl.rotlBH)(e,t,r):(0,Jl.rotlSH)(e,t,r),FT=(e,t,r)=>r>32?(0,Jl.rotlBL)(e,t,r):(0,Jl.rotlSL)(e,t,r);function iB(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const f=(s+8)%10,d=(s+2)%10,a=r[d],c=r[d+1],p=$T(a,c,1)^r[f],h=FT(a,c,1)^r[f+1];for(let y=0;y<50;y+=10)e[s+y]^=p,e[s+y+1]^=h}let i=e[2],o=e[3];for(let s=0;s<24;s++){const f=rB[s],d=$T(i,o,f),a=FT(i,o,f),c=tB[s];i=e[c],o=e[c+1],e[c]=d,e[c+1]=a}for(let s=0;s<50;s+=10){for(let f=0;f<10;f++)r[f]=e[s+f];for(let f=0;f<10;f++)e[s+f]^=~r[(f+2)%10]&r[(f+4)%10]}e[0]^=OK[n],e[1]^=AK[n]}r.fill(0)}vt.keccakP=iB;class tp extends k0.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,ec.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,k0.u32)(this.state)}keccak(){iB(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){(0,ec.exists)(this);const{blockLen:r,state:n}=this;t=(0,k0.toBytes)(t);const i=t.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);for(let f=0;f<s;f++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,ec.exists)(this,!1),(0,ec.bytes)(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,ec.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,ec.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new tp(r,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}}vt.Keccak=tp;const Af=(e,t,r)=>(0,k0.wrapConstructor)(()=>new tp(t,e,r));vt.sha3_224=Af(6,144,224/8);vt.sha3_256=Af(6,136,256/8);vt.sha3_384=Af(6,104,384/8);vt.sha3_512=Af(6,72,512/8);vt.keccak_224=Af(1,144,224/8);vt.keccak_256=Af(1,136,256/8);vt.keccak_384=Af(1,104,384/8);vt.keccak_512=Af(1,72,512/8);const oB=(e,t,r)=>(0,k0.wrapXOFConstructorWithOpts)((n={})=>new tp(t,e,n.dkLen===void 0?r:n.dkLen,!0));vt.shake128=oB(31,168,128/8);vt.shake256=oB(31,136,256/8);Object.defineProperty(Fi,"__esModule",{value:!0});Fi.keccak512=Fi.keccak384=Fi.keccak256=Fi.keccak224=void 0;const Wl=vt,M1=ag;Fi.keccak224=(0,M1.wrapHash)(Wl.keccak_224);Fi.keccak256=(()=>{const e=(0,M1.wrapHash)(Wl.keccak_256);return e.create=Wl.keccak_256.create,e})();Fi.keccak384=(0,M1.wrapHash)(Wl.keccak_384);Fi.keccak512=(0,M1.wrapHash)(Wl.keccak_512);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.accountBodyToRLP=e.accountBodyToSlim=e.accountBodyFromSlim=e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;const t=Bo,r=Fi,n=R1,i=ao(),o=ju,s=K6(),f=Bd();class d{constructor(B=o.BIGINT_0,b=o.BIGINT_0,E=o.KECCAK256_RLP,k=o.KECCAK256_NULL){this.nonce=B,this.balance=b,this.storageRoot=E,this.codeHash=k,this._validate()}static fromAccountData(B){const{nonce:b,balance:E,storageRoot:k,codeHash:L}=B;return new d(b!==void 0?(0,i.bytesToBigInt)((0,i.toBytes)(b)):void 0,E!==void 0?(0,i.bytesToBigInt)((0,i.toBytes)(E)):void 0,k!==void 0?(0,i.toBytes)(k):void 0,L!==void 0?(0,i.toBytes)(L):void 0)}static fromRlpSerializedAccount(B){const b=t.RLP.decode(B);if(!Array.isArray(b))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(b)}static fromValuesArray(B){const[b,E,k,L]=B;return new d((0,i.bytesToBigInt)(b),(0,i.bytesToBigInt)(E),k,L)}_validate(){if(this.nonce<o.BIGINT_0)throw new Error("nonce must be greater than zero");if(this.balance<o.BIGINT_0)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,i.bigIntToUnpaddedBytes)(this.nonce),(0,i.bigIntToUnpaddedBytes)(this.balance),this.storageRoot,this.codeHash]}serialize(){return t.RLP.encode(this.raw())}isContract(){return!(0,i.equalsBytes)(this.codeHash,o.KECCAK256_NULL)}isEmpty(){return this.balance===o.BIGINT_0&&this.nonce===o.BIGINT_0&&(0,i.equalsBytes)(this.codeHash,o.KECCAK256_NULL)}}e.Account=d;const a=function(R){try{(0,s.assertIsString)(R)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(R)};e.isValidAddress=a;const c=function(R,B){(0,s.assertIsHexString)(R);const b=(0,f.stripHexPrefix)(R).toLowerCase();let E="";B!==void 0&&(E=(0,i.bytesToBigInt)((0,i.toBytes)(B)).toString()+"0x");const k=(0,i.utf8ToBytes)(E+b),L=(0,i.bytesToHex)((0,r.keccak256)(k)).slice(2);let $="0x";for(let G=0;G<b.length;G++)parseInt(L[G],16)>=8?$+=b[G].toUpperCase():$+=b[G];return $};e.toChecksumAddress=c;const p=function(R,B){return(0,e.isValidAddress)(R)&&(0,e.toChecksumAddress)(R,B)===R};e.isValidChecksumAddress=p;const h=function(R,B){return(0,s.assertIsBytes)(R),(0,s.assertIsBytes)(B),(0,i.bytesToBigInt)(B)===o.BIGINT_0?(0,r.keccak256)(t.RLP.encode([R,Uint8Array.from([])])).subarray(-20):(0,r.keccak256)(t.RLP.encode([R,B])).subarray(-20)};e.generateAddress=h;const y=function(R,B,b){if((0,s.assertIsBytes)(R),(0,s.assertIsBytes)(B),(0,s.assertIsBytes)(b),R.length!==20)throw new Error("Expected from to be of length 20");if(B.length!==32)throw new Error("Expected salt to be of length 32");return(0,r.keccak256)((0,i.concatBytes)((0,i.hexToBytes)("0xff"),R,B,(0,r.keccak256)(b))).subarray(-20)};e.generateAddress2=y;const g=function(R){return n.secp256k1.utils.isValidPrivateKey(R)};e.isValidPrivate=g;const v=function(R,B=!1){if((0,s.assertIsBytes)(R),R.length===64)try{return n.secp256k1.ProjectivePoint.fromHex((0,i.concatBytes)(Uint8Array.from([4]),R)),!0}catch{return!1}if(!B)return!1;try{return n.secp256k1.ProjectivePoint.fromHex(R),!0}catch{return!1}};e.isValidPublic=v;const T=function(R,B=!1){if((0,s.assertIsBytes)(R),B&&R.length!==64&&(R=n.secp256k1.ProjectivePoint.fromHex(R).toRawBytes(!1).slice(1)),R.length!==64)throw new Error("Expected pubKey to be of length 64");return(0,r.keccak256)(R).subarray(-20)};e.pubToAddress=T,e.publicToAddress=e.pubToAddress;const I=function(R){return(0,s.assertIsBytes)(R),n.secp256k1.ProjectivePoint.fromPrivateKey(R).toRawBytes(!1).slice(1)};e.privateToPublic=I;const _=function(R){return(0,e.publicToAddress)((0,e.privateToPublic)(R))};e.privateToAddress=_;const C=function(R){return(0,s.assertIsBytes)(R),R.length!==64&&(R=n.secp256k1.ProjectivePoint.fromHex(R).toRawBytes(!1).slice(1)),R};e.importPublic=C;const w=function(){const B=(0,i.zeros)(20);return(0,i.bytesToHex)(B)};e.zeroAddress=w;const P=function(R){try{(0,s.assertIsString)(R)}catch{return!1}return(0,e.zeroAddress)()===R};e.isZeroAddress=P;function D(R){const[B,b,E,k]=R;return[B,b,E.length===0?o.KECCAK256_RLP:E,k.length===0?o.KECCAK256_NULL:k]}e.accountBodyFromSlim=D;const u=new Uint8Array(0);function l(R){const[B,b,E,k]=R;return[B,b,(0,i.equalsBytes)(E,o.KECCAK256_RLP)?u:E,(0,i.equalsBytes)(k,o.KECCAK256_NULL)?u:k]}e.accountBodyToSlim=l;function m(R,B=!0){const b=B?D(R):R;return t.RLP.encode(b)}e.accountBodyToRLP=m})(H6);var rp={};Object.defineProperty(rp,"__esModule",{value:!0});rp.Address=void 0;const l0=H6,tc=ao(),PK=ju;class Rs{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.bytes=t}static zero(){return new Rs((0,tc.zeros)(20))}static fromString(t){if(!(0,l0.isValidAddress)(t))throw new Error("Invalid address");return new Rs((0,tc.toBytes)(t))}static fromPublicKey(t){if(!(t instanceof Uint8Array))throw new Error("Public key should be Uint8Array");const r=(0,l0.pubToAddress)(t);return new Rs(r)}static fromPrivateKey(t){if(!(t instanceof Uint8Array))throw new Error("Private key should be Uint8Array");const r=(0,l0.privateToAddress)(t);return new Rs(r)}static generate(t,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new Rs((0,l0.generateAddress)(t.bytes,(0,tc.bigIntToBytes)(r)))}static generate2(t,r,n){if(!(r instanceof Uint8Array))throw new Error("Expected salt to be a Uint8Array");if(!(n instanceof Uint8Array))throw new Error("Expected initCode to be a Uint8Array");return new Rs((0,l0.generateAddress2)(t.bytes,r,n))}equals(t){return(0,tc.equalsBytes)(this.bytes,t.bytes)}isZero(){return this.equals(Rs.zero())}isPrecompileOrSystemAddress(){const t=(0,tc.bytesToBigInt)(this.bytes),r=PK.BIGINT_0,n=BigInt("0xffff");return t>=r&&t<=n}toString(){return(0,tc.bytesToHex)(this.bytes)}toBytes(){return new Uint8Array(this.bytes)}}rp.Address=Rs;var sB={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueEncoding=e.KeyEncoding=void 0,function(t){t.String="string",t.Bytes="view",t.Number="number"}(e.KeyEncoding||(e.KeyEncoding={})),function(t){t.String="string",t.Bytes="view",t.JSON="json"}(e.ValueEncoding||(e.ValueEncoding={}))})(sB);var U1={},z6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=void 0;const t=ao(),r=Bd();var n;(function(o){o[o.Number=0]="Number",o[o.BigInt=1]="BigInt",o[o.Uint8Array=2]="Uint8Array",o[o.PrefixedHexString=3]="PrefixedHexString"})(n=e.TypeOutput||(e.TypeOutput={}));function i(o,s){if(o===null)return null;if(o===void 0)return;if(typeof o=="string"&&!(0,r.isHexString)(o))throw new Error(`A string must be provided with a 0x-prefix, given: ${o}`);if(typeof o=="number"&&!Number.isSafeInteger(o))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const f=(0,t.toBytes)(o);switch(s){case n.Uint8Array:return f;case n.BigInt:return(0,t.bytesToBigInt)(f);case n.Number:{const d=(0,t.bytesToBigInt)(f);if(d>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(d)}case n.PrefixedHexString:return(0,t.bytesToHex)(f);default:throw new Error("unknown outputType")}}e.toType=i})(z6);Object.defineProperty(U1,"__esModule",{value:!0});U1.Withdrawal=void 0;const av=rp,h0=ao(),fv=ju,Jt=z6;class $0{constructor(t,r,n,i){this.index=t,this.validatorIndex=r,this.address=n,this.amount=i}static fromWithdrawalData(t){const{index:r,validatorIndex:n,address:i,amount:o}=t,s=(0,Jt.toType)(r,Jt.TypeOutput.BigInt),f=(0,Jt.toType)(n,Jt.TypeOutput.BigInt),d=i instanceof av.Address?i:new av.Address((0,h0.toBytes)(i)),a=(0,Jt.toType)(o,Jt.TypeOutput.BigInt);return new $0(s,f,d,a)}static fromValuesArray(t){if(t.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${t.length}`);const[r,n,i,o]=t;return $0.fromWithdrawalData({index:r,validatorIndex:n,address:i,amount:o})}static toBytesArray(t){const{index:r,validatorIndex:n,address:i,amount:o}=t,s=(0,Jt.toType)(r,Jt.TypeOutput.BigInt)===fv.BIGINT_0?new Uint8Array:(0,Jt.toType)(r,Jt.TypeOutput.Uint8Array),f=(0,Jt.toType)(n,Jt.TypeOutput.BigInt)===fv.BIGINT_0?new Uint8Array:(0,Jt.toType)(n,Jt.TypeOutput.Uint8Array),d=i instanceof av.Address?i.bytes:(0,Jt.toType)(i,Jt.TypeOutput.Uint8Array),a=(0,Jt.toType)(o,Jt.TypeOutput.BigInt)===fv.BIGINT_0?new Uint8Array:(0,Jt.toType)(o,Jt.TypeOutput.Uint8Array);return[s,f,d,a]}raw(){return $0.toBytesArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.bytes,amount:this.amount}}toJSON(){return{index:(0,h0.bigIntToHex)(this.index),validatorIndex:(0,h0.bigIntToHex)(this.validatorIndex),address:(0,h0.bytesToHex)(this.address.bytes),amount:(0,h0.bigIntToHex)(this.amount)}}}U1.Withdrawal=$0;var ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.hashPersonalMessage=ar.isValidSignature=ar.fromRpcSig=ar.toCompactSig=ar.toRpcSig=ar.ecrecover=ar.calculateSigRecovery=ar.ecsign=void 0;const NK=Fi,aB=R1,er=ao(),On=ju,MK=K6();function UK(e,t,r){const n=aB.secp256k1.sign(e,t),i=n.toCompactRawBytes(),o=i.slice(0,32),s=i.slice(32,64),f=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*On.BIGINT_2;return{r:o,s,v:f}}ar.ecsign=UK;function np(e,t){return e===On.BIGINT_0||e===On.BIGINT_1?e:t===void 0?e-On.BIGINT_27:e-(t*On.BIGINT_2+BigInt(35))}ar.calculateSigRecovery=np;function k1(e){return e===On.BIGINT_0||e===On.BIGINT_1}const kK=function(e,t,r,n,i){const o=(0,er.concatBytes)((0,er.setLengthLeft)(r,32),(0,er.setLengthLeft)(n,32)),s=np(t,i);if(!k1(s))throw new Error("Invalid signature v value");return aB.secp256k1.Signature.fromCompact(o).addRecoveryBit(Number(s)).recoverPublicKey(e).toRawBytes(!1).slice(1)};ar.ecrecover=kK;const $K=function(e,t,r,n){const i=np(e,n);if(!k1(i))throw new Error("Invalid signature v value");return(0,er.bytesToHex)((0,er.concatBytes)((0,er.setLengthLeft)(t,32),(0,er.setLengthLeft)(r,32),(0,er.toBytes)(e)))};ar.toRpcSig=$K;const FK=function(e,t,r,n){const i=np(e,n);if(!k1(i))throw new Error("Invalid signature v value");const o=Uint8Array.from([...r]);return(e>BigInt(28)&&e%On.BIGINT_2===On.BIGINT_1||e===On.BIGINT_1||e===BigInt(28))&&(o[0]|=128),(0,er.bytesToHex)((0,er.concatBytes)((0,er.setLengthLeft)(t,32),(0,er.setLengthLeft)(o,32)))};ar.toCompactSig=FK;const LK=function(e){const t=(0,er.toBytes)(e);let r,n,i;if(t.length>=65)r=t.subarray(0,32),n=t.subarray(32,64),i=(0,er.bytesToBigInt)(t.subarray(64));else if(t.length===64)r=t.subarray(0,32),n=t.subarray(32,64),i=BigInt((0,er.bytesToInt)(t.subarray(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i=i+On.BIGINT_27),{v:i,r,s:n}};ar.fromRpcSig=LK;const jK=function(e,t,r,n=!0,i){if(t.length!==32||r.length!==32||!k1(np(e,i)))return!1;const o=(0,er.bytesToBigInt)(t),s=(0,er.bytesToBigInt)(r);return!(o===On.BIGINT_0||o>=On.SECP256K1_ORDER||s===On.BIGINT_0||s>=On.SECP256K1_ORDER||n&&s>=On.SECP256K1_ORDER_DIV_2)};ar.isValidSignature=jK;const KK=function(e){(0,MK.assertIsBytes)(e);const t=(0,er.utf8ToBytes)(`Ethereum Signed Message:
${e.length}`);return(0,NK.keccak256)((0,er.concatBytes)(t,e))};ar.hashPersonalMessage=KK;var $1={};Object.defineProperty($1,"__esModule",{value:!0});$1.AsyncEventEmitter=void 0;const HK=o6;async function qK(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise((o,s)=>{i.call(e,r,f=>{f?s(f):o()})})}catch(o){n=o}if(n)throw n}class VK extends HK.EventEmitter{emit(t,...r){let[n,i]=r;const o=this;let s=o._events[t]??[];return i===void 0&&typeof n=="function"&&(i=n,n=void 0),(t==="newListener"||t==="removeListener")&&(n={event:n,fn:i},i=void 0),s=Array.isArray(s)?s:[s],qK(o,s.slice(),n).then(i).catch(i),o.listenerCount(t)>0}once(t,r){const n=this;let i;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?i=function(o,s){n.removeListener(t,i),r(o,s)}:i=function(o){n.removeListener(t,i),r(o,i)},n.on(t,i),n}first(t,r){let n=this._events[t]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[t]=n=[n]),n.unshift(r),this}before(t,r,n){return this.beforeOrAfter(t,r,n)}after(t,r,n){return this.beforeOrAfter(t,r,n,"after")}beforeOrAfter(t,r,n,i){let o=this._events[t]??[],s,f;const d=i==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[t]=o=[o]),f=o.length,s=o.length;s--;)if(o[s]===r){f=s+d;break}return o.splice(f,0,n),this}on(t,r){return super.on(t,r)}addListener(t,r){return super.addListener(t,r)}prependListener(t,r){return super.prependListener(t,r)}prependOnceListener(t,r){return super.prependOnceListener(t,r)}removeAllListeners(t){return super.removeAllListeners(t)}removeListener(t,r){return super.removeListener(t,r)}eventNames(){return super.eventNames()}listeners(t){return super.listeners(t)}listenerCount(t){return super.listenerCount(t)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(t){return super.setMaxListeners(t)}}$1.AsyncEventEmitter=VK;var fB={},F1={};Object.defineProperty(F1,"__esModule",{value:!0});F1.sha256=void 0;const zK=Iu,YK=ag;F1.sha256=(0,YK.wrapHash)(zK.sha256);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.commitmentsToVersionedHashes=e.computeVersionedHash=e.blobsToProofs=e.blobsToCommitments=e.getBlobs=void 0;const t=F1,r=ao(),n=32,i=4096,o=32*i,f=o*2-1,d=n*i;function a(T,I){const _=new Uint8Array(I*o).fill(0);return _.set(T),_[T.byteLength]=128,_}function c(T){const I=new Uint8Array(d);for(let _=0;_<i;_++){const C=new Uint8Array(32);C.set(T.subarray(_*31,(_+1)*31),0),I.set(C,_*32)}return I}const p=T=>{const I=(0,r.utf8ToBytes)(T),_=I.byteLength;if(_===0)throw Error("invalid blob data");if(_>f)throw Error("blob data is too large");const C=Math.ceil(_/o),w=a(I,C),P=[];for(let D=0;D<C;D++){const u=w.subarray(D*o,(D+1)*o),l=c(u);P.push(l)}return P};e.getBlobs=p;const h=(T,I)=>{const _=[];for(const C of I)_.push(T.blobToKzgCommitment(C));return _};e.blobsToCommitments=h;const y=(T,I,_)=>I.map((w,P)=>T.computeBlobKzgProof(w,_[P]));e.blobsToProofs=y;const g=(T,I)=>{const _=new Uint8Array(32);return _.set([I],0),_.set((0,t.sha256)(T).subarray(1),1),_};e.computeVersionedHash=g;const v=T=>{const I=[];for(const _ of T)I.push((0,e.computeVersionedHash)(_,1));return I};e.commitmentsToVersionedHashes=v})(fB);var L1={};Object.defineProperty(L1,"__esModule",{value:!0});L1.parseGethGenesisState=void 0;const Qp=ao(),GK=Bd();function JK(e){const t={};for(let r of Object.keys(e.alloc)){let{balance:n,code:i,storage:o,nonce:s}=e.alloc[r];r=(0,Qp.addHexPrefix)(r.toLowerCase()),n=(0,GK.isHexPrefixed)(n)?n:(0,Qp.bigIntToHex)(BigInt(n)),i=i!==void 0?(0,Qp.addHexPrefix)(i):void 0,o=o!==void 0?Object.entries(o):void 0,s=s!==void 0?(0,Qp.addHexPrefix)(s):void 0,t[r]=[n,i,o,s]}return t}L1.parseGethGenesisState=JK;var j1={};Object.defineProperty(j1,"__esModule",{value:!0});j1.initKZG=void 0;function WK(e,t){e.loadTrustedSetup()}j1.initKZG=WK;var K1={};Object.defineProperty(K1,"__esModule",{value:!0});K1.Lock=void 0;class XK{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(t=>this.promiseResolverQueue.push(t))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const t=this.promiseResolverQueue.shift();t&&t(!0)}}}K1.Lock=XK;var H1={};Object.defineProperty(H1,"__esModule",{value:!0});H1.MapDB=void 0;const uv=ao();class Y6{constructor(t){this._database=t??new Map}async get(t){const r=t instanceof Uint8Array?(0,uv.bytesToUnprefixedHex)(t):t.toString();return this._database.get(r)}async put(t,r){const n=t instanceof Uint8Array?(0,uv.bytesToUnprefixedHex)(t):t.toString();this._database.set(n,r)}async del(t){const r=t instanceof Uint8Array?(0,uv.bytesToUnprefixedHex)(t):t.toString();this._database.delete(r)}async batch(t){for(const r of t)r.type==="del"&&await this.del(r.key),r.type==="put"&&await this.put(r.key,r.value)}shallowCopy(){return new Y6(this._database)}open(){return Promise.resolve()}}H1.MapDB=Y6;var Wc={};Object.defineProperty(Wc,"__esModule",{value:!0});Wc.getProvider=Wc.fetchFromProvider=void 0;const ZK=async(e,t)=>{const r=JSON.stringify({method:t.method,params:t.params,jsonrpc:"2.0",id:1}),n=await fetch(e,{headers:{"content-type":"application/json"},method:"POST",body:r});if(!n.ok)throw new Error(`JSONRpcError: ${JSON.stringify({method:t.method,status:n.status,message:await n.text().catch(()=>"Could not parse error message likely because of a network error")},null,2)}`);return(await n.json()).result};Wc.fetchFromProvider=ZK;const QK=e=>{if(typeof e=="string")return e;if(typeof e=="object"&&e._getConnection!==void 0)return e._getConnection().url;throw new Error("Must provide valid provider URL or Web3Provider")};Wc.getProvider=QK;(function(e){var t=Be&&Be.__createBinding||(Object.create?function(i,o,s,f){f===void 0&&(f=s);var d=Object.getOwnPropertyDescriptor(o,s);(!d||("get"in d?!o.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(i,f,d)}:function(i,o,s,f){f===void 0&&(f=s),i[f]=o[s]}),r=Be&&Be.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,i,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.toAscii=e.stripHexPrefix=e.padToEven=e.isHexString=e.isHexPrefixed=e.getKeys=e.getBinarySize=e.fromUtf8=e.fromAscii=e.arrayContainsArray=void 0,r(ju,e),r(Jc,e),r(H6,e),r(rp,e),r(sB,e),r(U1,e),r(ar,e),r(ao(),e),r(z6,e),r($1,e),r(fB,e),r(L1,e);var n=Bd();Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),r(j1,e),r(K1,e),r(H1,e),r(Wc,e)})(s7);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t,r=A6(),n=FL,i=(t=Tj())&&typeof t=="object"&&"default"in t?t.default:t,o=s7;const s={ETH_SIGN_REQUEST:new r.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new r.RegistryType("eth-signature",402),ETH_NFT_ITEM:new r.RegistryType("eth-nft-item",403)},{decodeToDataItem:f,RegistryTypes:d}=r.extend;var a,c;(function(w){w[w.requestId=1]="requestId",w[w.signData=2]="signData",w[w.dataType=3]="dataType",w[w.chainId=4]="chainId",w[w.derivationPath=5]="derivationPath",w[w.address=6]="address",w[w.origin=7]="origin"})(a||(a={})),(c=e.DataType||(e.DataType={}))[c.transaction=1]="transaction",c[c.typedData=2]="typedData",c[c.personalMessage=3]="personalMessage",c[c.typedTransaction=4]="typedTransaction";class p extends r.RegistryItem{constructor(P){super(),this.getRegistryType=()=>s.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const D={};this.requestId&&(D[a.requestId]=new r.DataItem(this.requestId,d.UUID.getTag())),this.address&&(D[a.address]=this.address),this.chainId&&(D[a.chainId]=Number(this.chainId)),this.origin&&(D[a.origin]=this.origin),D[a.signData]=this.signData,D[a.dataType]=this.dataType;const u=this.derivationPath.toDataItem();return u.setTag(this.derivationPath.getRegistryType().getTag()),D[a.derivationPath]=u,new r.DataItem(D)},this.requestId=P.requestId,this.signData=P.signData,this.dataType=P.dataType,this.chainId=P.chainId,this.derivationPath=P.derivationPath,this.address=P.address,this.origin=P.origin}static constructETHRequest(P,D,u,l,m,R,B,b){const E=u.replace(/[m|M]\//,"").split("/"),k=new r.CryptoKeypath(E.map(L=>{const $=parseInt(L.replace("'",""));let G=!1;return L.endsWith("'")&&(G=!0),new r.PathComponent({index:$,hardened:G})}),Buffer.from(l,"hex"));return new p({requestId:m?Buffer.from(n.parse(m)):void 0,signData:P,dataType:D,derivationPath:k,chainId:R,address:B?Buffer.from(B.replace("0x",""),"hex"):void 0,origin:b||void 0})}}p.fromDataItem=w=>{const P=w.getData(),D=P[a.signData],u=P[a.dataType],l=r.CryptoKeypath.fromDataItem(P[a.derivationPath]),m=P[a.chainId]?P[a.chainId]:void 0,R=P[a.address]?P[a.address]:void 0,B=P[a.requestId]?P[a.requestId].getData():void 0;return new p({requestId:B,signData:D,dataType:u,chainId:m,derivationPath:l,address:R,origin:P[a.origin]?P[a.origin]:void 0})},p.fromCBOR=w=>{const P=f(w);return p.fromDataItem(P)};const{RegistryTypes:h,decodeToDataItem:y}=r.extend;var g;(function(w){w[w.requestId=1]="requestId",w[w.signature=2]="signature",w[w.origin=3]="origin"})(g||(g={}));class v extends r.RegistryItem{constructor(P,D,u){super(),this.getRegistryType=()=>s.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const l={};return this.requestId&&(l[g.requestId]=new r.DataItem(this.requestId,h.UUID.getTag())),this.origin&&(l[g.origin]=this.origin),l[g.signature]=this.signature,new r.DataItem(l)},this.signature=P,this.requestId=D,this.origin=u}}v.fromDataItem=w=>{const P=w.getData(),D=P[g.signature],u=P[g.requestId]?P[g.requestId].getData():void 0;return new v(D,u,P[g.origin])},v.fromCBOR=w=>{const P=y(w);return v.fromDataItem(P)};const{decodeToDataItem:T}=r.extend;var I;(function(w){w[w.chainId=1]="chainId",w[w.contractAddress=2]="contractAddress",w[w.contractName=3]="contractName",w[w.name=4]="name",w[w.mediaData=5]="mediaData"})(I||(I={}));class _ extends r.RegistryItem{constructor(P){super(),this.getRegistryType=()=>s.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const D={};return D[I.chainId]=this.chainId,D[I.name]=this.name,D[I.contractAddress]=this.contractAddress,D[I.contractName]=this.contractName,D[I.mediaData]=this.mediaData,new r.DataItem(D)},this.chainId=P.chainId,this.name=P.name,this.contractAddress=P.contractAddress,this.contractName=P.contractName,this.mediaData=P.mediaData}static constructETHNFTItem(P,D,u,l,m){return new _({chainId:P,contractAddress:D,contractName:u,mediaData:m,name:l})}}_.fromDataItem=w=>{const P=w.getData();return new _({chainId:P[I.chainId],name:P[I.name],contractAddress:P[I.contractAddress],contractName:P[I.contractName],mediaData:P[I.mediaData]})},_.fromCBOR=w=>{const P=T(w);return _.fromDataItem(P)};const C=(w,P)=>{const D=i.fromExtendedKey(w).derive(P),u="0x"+Buffer.from(o.publicToAddress(D.publicKey,!0)).toString("hex");return o.toChecksumAddress(u)};r.patchTags(Object.values(s).filter(w=>!!w.getTag()).map(w=>w.getTag())),Object.keys(r).forEach(function(w){w!=="default"&&Object.defineProperty(e,w,{enumerable:!0,get:function(){return r[w]}})}),e.ETHNFTItem=_,e.ETHSignature=v,e.EthSignRequest=p,e.findHDPathFromAddress=(w,P,D,u)=>{for(let l=0;l<D;l++){const m=C(P,"M/0/"+l);if(w.toLowerCase()==m.toLowerCase())return`${u}/0/${l}`}return null},e.generateAddressFromXpub=C})(N9);P9.exports=N9;var eH=P9.exports;Object.defineProperty(I1,"__esModule",{value:!0});I1.KeystoneEthereumSDK=void 0;const R0=eH,Ff=ir,tH=qn;class uB{constructor(t){this.config=t}parseSignature(t){if(t.type!==tH.URType.EthSignature)throw new Error("type not match");const r=R0.ETHSignature.fromCBOR(t.cbor),n=r.getRequestId();return{requestId:n===void 0?void 0:(0,Ff.uuidStringify)(n),signature:(0,Ff.toHex)(r.getSignature()),origin:r.getOrigin()}}generateSignRequest({requestId:t,signData:r,dataType:n,path:i,xfp:o,chainId:s,address:f,origin:d}){var a;return new R0.EthSignRequest({requestId:(0,Ff.uuidParse)(t),signData:(0,Ff.toBuffer)(r),dataType:n,derivationPath:new R0.CryptoKeypath((0,Ff.parsePath)(i).map(c=>new R0.PathComponent(c)),(0,Ff.toBuffer)(o)),chainId:s,address:f!==void 0?(0,Ff.toBuffer)(f):void 0,origin:d??((a=this.config)===null||a===void 0?void 0:a.origin)}).toUR()}}uB.DataType=R0.DataType;I1.KeystoneEthereumSDK=uB;var q1={},cB={exports:{}},dB={},ey,rH=new Uint8Array(16);function lB(){if(!ey&&(ey=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ey))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ey(rH)}const nH=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function V1(e){return typeof e=="string"&&nH.test(e)}var Tr=[];for(var cv=0;cv<256;++cv)Tr.push((cv+256).toString(16).substr(1));function z1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Tr[e[t+0]]+Tr[e[t+1]]+Tr[e[t+2]]+Tr[e[t+3]]+"-"+Tr[e[t+4]]+Tr[e[t+5]]+"-"+Tr[e[t+6]]+Tr[e[t+7]]+"-"+Tr[e[t+8]]+Tr[e[t+9]]+"-"+Tr[e[t+10]]+Tr[e[t+11]]+Tr[e[t+12]]+Tr[e[t+13]]+Tr[e[t+14]]+Tr[e[t+15]]).toLowerCase();if(!V1(r))throw TypeError("Stringified UUID is invalid");return r}var LT,dv,lv=0,hv=0;function iH(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var o=e.node||LT,s=e.clockseq!==void 0?e.clockseq:dv;if(o==null||s==null){var f=e.random||(e.rng||lB)();o==null&&(o=LT=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=dv=(f[6]<<8|f[7])&16383)}var d=e.msecs!==void 0?e.msecs:Date.now(),a=e.nsecs!==void 0?e.nsecs:hv+1,c=d-lv+(a-hv)/1e4;if(c<0&&e.clockseq===void 0&&(s=s+1&16383),(c<0||d>lv)&&e.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");lv=d,hv=a,dv=s,d+=122192928e5;var p=((d&268435455)*1e4+a)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var h=d/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=h&255,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var y=0;y<6;++y)i[n+y]=o[y];return t||z1(i)}function hB(e){if(!V1(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function oH(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var sH="6ba7b810-9dad-11d1-80b4-00c04fd430c8",aH="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function pB(e,t,r){function n(i,o,s,f){if(typeof i=="string"&&(i=oH(i)),typeof o=="string"&&(o=hB(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+i.length);if(d.set(o),d.set(i,o.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,s){f=f||0;for(var a=0;a<16;++a)s[f+a]=d[a];return s}return z1(d)}try{n.name=e}catch{}return n.DNS=sH,n.URL=aH,n}function fH(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return uH(cH(dH(e),e.length*8))}function uH(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(s)}return t}function yB(e){return(e+64>>>9<<4)+14+1}function cH(e,t){e[t>>5]|=128<<t%32,e[yB(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var f=r,d=n,a=i,c=o;r=cn(r,n,i,o,e[s],7,-680876936),o=cn(o,r,n,i,e[s+1],12,-389564586),i=cn(i,o,r,n,e[s+2],17,606105819),n=cn(n,i,o,r,e[s+3],22,-1044525330),r=cn(r,n,i,o,e[s+4],7,-176418897),o=cn(o,r,n,i,e[s+5],12,1200080426),i=cn(i,o,r,n,e[s+6],17,-1473231341),n=cn(n,i,o,r,e[s+7],22,-45705983),r=cn(r,n,i,o,e[s+8],7,1770035416),o=cn(o,r,n,i,e[s+9],12,-1958414417),i=cn(i,o,r,n,e[s+10],17,-42063),n=cn(n,i,o,r,e[s+11],22,-1990404162),r=cn(r,n,i,o,e[s+12],7,1804603682),o=cn(o,r,n,i,e[s+13],12,-40341101),i=cn(i,o,r,n,e[s+14],17,-1502002290),n=cn(n,i,o,r,e[s+15],22,1236535329),r=dn(r,n,i,o,e[s+1],5,-165796510),o=dn(o,r,n,i,e[s+6],9,-1069501632),i=dn(i,o,r,n,e[s+11],14,643717713),n=dn(n,i,o,r,e[s],20,-373897302),r=dn(r,n,i,o,e[s+5],5,-701558691),o=dn(o,r,n,i,e[s+10],9,38016083),i=dn(i,o,r,n,e[s+15],14,-660478335),n=dn(n,i,o,r,e[s+4],20,-405537848),r=dn(r,n,i,o,e[s+9],5,568446438),o=dn(o,r,n,i,e[s+14],9,-1019803690),i=dn(i,o,r,n,e[s+3],14,-187363961),n=dn(n,i,o,r,e[s+8],20,1163531501),r=dn(r,n,i,o,e[s+13],5,-1444681467),o=dn(o,r,n,i,e[s+2],9,-51403784),i=dn(i,o,r,n,e[s+7],14,1735328473),n=dn(n,i,o,r,e[s+12],20,-1926607734),r=ln(r,n,i,o,e[s+5],4,-378558),o=ln(o,r,n,i,e[s+8],11,-2022574463),i=ln(i,o,r,n,e[s+11],16,1839030562),n=ln(n,i,o,r,e[s+14],23,-35309556),r=ln(r,n,i,o,e[s+1],4,-1530992060),o=ln(o,r,n,i,e[s+4],11,1272893353),i=ln(i,o,r,n,e[s+7],16,-155497632),n=ln(n,i,o,r,e[s+10],23,-1094730640),r=ln(r,n,i,o,e[s+13],4,681279174),o=ln(o,r,n,i,e[s],11,-358537222),i=ln(i,o,r,n,e[s+3],16,-722521979),n=ln(n,i,o,r,e[s+6],23,76029189),r=ln(r,n,i,o,e[s+9],4,-640364487),o=ln(o,r,n,i,e[s+12],11,-421815835),i=ln(i,o,r,n,e[s+15],16,530742520),n=ln(n,i,o,r,e[s+2],23,-995338651),r=hn(r,n,i,o,e[s],6,-198630844),o=hn(o,r,n,i,e[s+7],10,1126891415),i=hn(i,o,r,n,e[s+14],15,-1416354905),n=hn(n,i,o,r,e[s+5],21,-57434055),r=hn(r,n,i,o,e[s+12],6,1700485571),o=hn(o,r,n,i,e[s+3],10,-1894986606),i=hn(i,o,r,n,e[s+10],15,-1051523),n=hn(n,i,o,r,e[s+1],21,-2054922799),r=hn(r,n,i,o,e[s+8],6,1873313359),o=hn(o,r,n,i,e[s+15],10,-30611744),i=hn(i,o,r,n,e[s+6],15,-1560198380),n=hn(n,i,o,r,e[s+13],21,1309151649),r=hn(r,n,i,o,e[s+4],6,-145523070),o=hn(o,r,n,i,e[s+11],10,-1120210379),i=hn(i,o,r,n,e[s+2],15,718787259),n=hn(n,i,o,r,e[s+9],21,-343485551),r=Aa(r,f),n=Aa(n,d),i=Aa(i,a),o=Aa(o,c)}return[r,n,i,o]}function dH(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(yB(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function Aa(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function lH(e,t){return e<<t|e>>>32-t}function Y1(e,t,r,n,i,o){return Aa(lH(Aa(Aa(t,e),Aa(n,o)),i),r)}function cn(e,t,r,n,i,o,s){return Y1(t&r|~t&n,e,t,i,o,s)}function dn(e,t,r,n,i,o,s){return Y1(t&n|r&~n,e,t,i,o,s)}function ln(e,t,r,n,i,o,s){return Y1(t^r^n,e,t,i,o,s)}function hn(e,t,r,n,i,o,s){return Y1(r^(t|~n),e,t,i,o,s)}var hH=pB("v3",48,fH);const pH=hH;function yH(e,t,r){e=e||{};var n=e.random||(e.rng||lB)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return z1(n)}function gH(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function pv(e,t){return e<<t|e>>>32-t}function mH(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),f=new Array(s),d=0;d<s;++d){for(var a=new Uint32Array(16),c=0;c<16;++c)a[c]=e[d*64+c*4]<<24|e[d*64+c*4+1]<<16|e[d*64+c*4+2]<<8|e[d*64+c*4+3];f[d]=a}f[s-1][14]=(e.length-1)*8/Math.pow(2,32),f[s-1][14]=Math.floor(f[s-1][14]),f[s-1][15]=(e.length-1)*8&4294967295;for(var p=0;p<s;++p){for(var h=new Uint32Array(80),y=0;y<16;++y)h[y]=f[p][y];for(var g=16;g<80;++g)h[g]=pv(h[g-3]^h[g-8]^h[g-14]^h[g-16],1);for(var v=r[0],T=r[1],I=r[2],_=r[3],C=r[4],w=0;w<80;++w){var P=Math.floor(w/20),D=pv(v,5)+gH(P,T,I,_)+C+t[P]+h[w]>>>0;C=_,_=I,I=pv(T,30)>>>0,T=v,v=D}r[0]=r[0]+v>>>0,r[1]=r[1]+T>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+_>>>0,r[4]=r[4]+C>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var bH=pB("v5",80,mH);const vH=bH,_H="00000000-0000-0000-0000-000000000000";function wH(e){if(!V1(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const TH=Object.freeze(Object.defineProperty({__proto__:null,NIL:_H,parse:hB,stringify:z1,v1:iH,v3:pH,v4:yH,v5:vH,validate:V1,version:wH},Symbol.toStringTag,{value:"Module"})),IH=hi(TH);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Of(),r=IH;const n={SOL_SIGN_REQUEST:new t.RegistryType("sol-sign-request",1101),SOL_SIGNATURE:new t.RegistryType("sol-signature",1102),SOL_NFT_ITEM:new t.RegistryType("sol-nft-item",1104)},{decodeToDataItem:i,RegistryTypes:o}=t.extend;var s,f;(s=e.SignType||(e.SignType={}))[s.Transaction=1]="Transaction",s[s.Message=2]="Message",function(T){T[T.requestId=1]="requestId",T[T.signData=2]="signData",T[T.derivationPath=3]="derivationPath",T[T.address=4]="address",T[T.origin=5]="origin",T[T.signType=6]="signType"}(f||(f={}));class d extends t.RegistryItem{constructor(I){super(),this.getRegistryType=()=>n.SOL_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.getSignType=()=>this.signType,this.toDataItem=()=>{const _={};this.requestId&&(_[f.requestId]=new t.DataItem(this.requestId,o.UUID.getTag())),this.address&&(_[f.address]=this.address),this.origin&&(_[f.origin]=this.origin),_[f.signData]=this.signData,_[f.signType]=this.signType;const C=this.derivationPath.toDataItem();return C.setTag(this.derivationPath.getRegistryType().getTag()),_[f.derivationPath]=C,new t.DataItem(_)},this.requestId=I.requestId,this.signData=I.signData,this.derivationPath=I.derivationPath,this.address=I.address,this.origin=I.origin,this.signType=I.signType}static constructSOLRequest(I,_,C,w,P,D,u){const l=_.replace(/[m|M]\//,"").split("/"),m=new t.CryptoKeypath(l.map(R=>{const B=parseInt(R.replace("'",""));let b=!1;return R.endsWith("'")&&(b=!0),new t.PathComponent({index:B,hardened:b})}),Buffer.from(C,"hex"));return new d({requestId:P?Buffer.from(r.parse(P)):void 0,signData:I,derivationPath:m,address:D?Buffer.from(D.replace("0x",""),"hex"):void 0,origin:u||void 0,signType:w})}}d.fromDataItem=T=>{const I=T.getData(),_=I[f.signData],C=t.CryptoKeypath.fromDataItem(I[f.derivationPath]),w=I[f.address]?I[f.address]:void 0,P=I[f.requestId]?I[f.requestId].getData():void 0;return new d({requestId:P,signData:_,derivationPath:C,address:w,origin:I[f.origin]?I[f.origin]:void 0,signType:I[f.signType]})},d.fromCBOR=T=>{const I=i(T);return d.fromDataItem(I)};const{RegistryTypes:a,decodeToDataItem:c}=t.extend;var p;(function(T){T[T.requestId=1]="requestId",T[T.signature=2]="signature"})(p||(p={}));class h extends t.RegistryItem{constructor(I,_){super(),this.getRegistryType=()=>n.SOL_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{const C={};return this.requestId&&(C[p.requestId]=new t.DataItem(this.requestId,a.UUID.getTag())),C[p.signature]=this.signature,new t.DataItem(C)},this.signature=I,this.requestId=_}}h.fromDataItem=T=>{const I=T.getData(),_=I[p.signature],C=I[p.requestId]?I[p.requestId].getData():void 0;return new h(_,C)},h.fromCBOR=T=>{const I=c(T);return h.fromDataItem(I)};const{decodeToDataItem:y}=t.extend;var g;(function(T){T[T.mintAddress=1]="mintAddress",T[T.collectionName=2]="collectionName",T[T.name=3]="name",T[T.mediaData=4]="mediaData"})(g||(g={}));class v extends t.RegistryItem{constructor(I){super(),this.getRegistryType=()=>n.SOL_NFT_ITEM,this.getName=()=>this.name,this.getMediaData=()=>this.mediaData,this.getMintAddress=()=>this.mintAddress,this.getCollectionName=()=>this.collectionName,this.toDataItem=()=>{const _={};return _[g.name]=this.name,_[g.mintAddress]=this.mintAddress,_[g.collectionName]=this.collectionName,_[g.mediaData]=this.mediaData,new t.DataItem(_)},this.name=I.name,this.mintAddress=I.mintAddress,this.collectionName=I.collectionName,this.mediaData=I.mediaData}static constructETHNFTItem(I,_,C,w){return new v({mintAddress:I,collectionName:_,mediaData:w,name:C})}}v.fromDataItem=T=>{const I=T.getData();return new v({name:I[g.name],mintAddress:I[g.mintAddress],collectionName:I[g.collectionName],mediaData:I[g.mediaData]})},v.fromCBOR=T=>{const I=y(T);return v.fromDataItem(I)},t.patchTags(Object.values(n).filter(T=>!!T.getTag()).map(T=>T.getTag())),Object.keys(t).forEach(function(T){T!=="default"&&Object.defineProperty(e,T,{enumerable:!0,get:function(){return t[T]}})}),e.SOLNFTItem=v,e.SolSignRequest=d,e.SolSignature=h})(dB);cB.exports=dB;var EH=cB.exports;Object.defineProperty(q1,"__esModule",{value:!0});q1.KeystoneSolanaSDK=void 0;const O0=EH,Lf=ir,xH=qn;class gB{parseSignature(t){if(t.type!==xH.URType.SolSignature)throw new Error("type not match");const r=O0.SolSignature.fromCBOR(t.cbor),n=r.getRequestId();return{requestId:n===void 0?void 0:(0,Lf.uuidStringify)(n),signature:(0,Lf.toHex)(r.getSignature())}}generateSignRequest({requestId:t,signData:r,dataType:n,path:i,xfp:o,address:s,origin:f}){return new O0.SolSignRequest({requestId:(0,Lf.uuidParse)(t),signData:(0,Lf.toBuffer)(r),signType:n,derivationPath:new O0.CryptoKeypath((0,Lf.parsePath)(i).map(d=>new O0.PathComponent(d)),(0,Lf.toBuffer)(o)),address:s!==void 0?(0,Lf.toBuffer)(s):void 0,origin:f}).toUR()}}gB.DataType=O0.SignType;q1.KeystoneSolanaSDK=gB;var G1={},J1={},Xc={},Za={},fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.output=fr.exists=fr.hash=fr.bytes=fr.bool=fr.number=fr.isBytes=void 0;function ug(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}fr.number=ug;function mB(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}fr.bool=mB;function bB(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}fr.isBytes=bB;function G6(e,...t){if(!bB(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}fr.bytes=G6;function vB(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ug(e.outputLen),ug(e.blockLen)}fr.hash=vB;function _B(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}fr.exists=_B;function wB(e,t){G6(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}fr.output=wB;const SH={number:ug,bool:mB,bytes:G6,hash:vB,exists:_B,output:wB};fr.default=SH;var J6={},W1={};Object.defineProperty(W1,"__esModule",{value:!0});W1.crypto=void 0;W1.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.byteSwap32=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=e.isBytes=void 0;const t=W1,r=fr;function n(b){return b instanceof Uint8Array||b!=null&&typeof b=="object"&&b.constructor.name==="Uint8Array"}e.isBytes=n;const i=b=>new Uint8Array(b.buffer,b.byteOffset,b.byteLength);e.u8=i;const o=b=>new Uint32Array(b.buffer,b.byteOffset,Math.floor(b.byteLength/4));e.u32=o;const s=b=>new DataView(b.buffer,b.byteOffset,b.byteLength);e.createView=s;const f=(b,E)=>b<<32-E|b>>>E;e.rotr=f;const d=(b,E)=>b<<E|b>>>32-E>>>0;e.rotl=d,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const a=b=>b<<24&4278190080|b<<8&16711680|b>>>8&65280|b>>>24&255;e.byteSwap=a,e.byteSwapIfBE=e.isLE?b=>b:b=>(0,e.byteSwap)(b);function c(b){for(let E=0;E<b.length;E++)b[E]=(0,e.byteSwap)(b[E])}e.byteSwap32=c;const p=Array.from({length:256},(b,E)=>E.toString(16).padStart(2,"0"));function h(b){(0,r.bytes)(b);let E="";for(let k=0;k<b.length;k++)E+=p[b[k]];return E}e.bytesToHex=h;const y={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function g(b){if(b>=y._0&&b<=y._9)return b-y._0;if(b>=y._A&&b<=y._F)return b-(y._A-10);if(b>=y._a&&b<=y._f)return b-(y._a-10)}function v(b){if(typeof b!="string")throw new Error("hex string expected, got "+typeof b);const E=b.length,k=E/2;if(E%2)throw new Error("padded hex string expected, got unpadded hex of length "+E);const L=new Uint8Array(k);for(let $=0,G=0;$<k;$++,G+=2){const oe=g(b.charCodeAt(G)),M=g(b.charCodeAt(G+1));if(oe===void 0||M===void 0){const S=b[G]+b[G+1];throw new Error('hex string expected, got non-hex character "'+S+'" at index '+G)}L[$]=oe*16+M}return L}e.hexToBytes=v;const T=async()=>{};e.nextTick=T;async function I(b,E,k){let L=Date.now();for(let $=0;$<b;$++){k($);const G=Date.now()-L;G>=0&&G<E||(await(0,e.nextTick)(),L+=G)}}e.asyncLoop=I;function _(b){if(typeof b!="string")throw new Error(`utf8ToBytes expected string, got ${typeof b}`);return new Uint8Array(new TextEncoder().encode(b))}e.utf8ToBytes=_;function C(b){return typeof b=="string"&&(b=_(b)),(0,r.bytes)(b),b}e.toBytes=C;function w(...b){let E=0;for(let L=0;L<b.length;L++){const $=b[L];(0,r.bytes)($),E+=$.length}const k=new Uint8Array(E);for(let L=0,$=0;L<b.length;L++){const G=b[L];k.set(G,$),$+=G.length}return k}e.concatBytes=w;class P{clone(){return this._cloneInto()}}e.Hash=P;const D={}.toString;function u(b,E){if(E!==void 0&&D.call(E)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(b,E)}e.checkOpts=u;function l(b){const E=L=>b().update(C(L)).digest(),k=b();return E.outputLen=k.outputLen,E.blockLen=k.blockLen,E.create=()=>b(),E}e.wrapConstructor=l;function m(b){const E=(L,$)=>b($).update(C(L)).digest(),k=b({});return E.outputLen=k.outputLen,E.blockLen=k.blockLen,E.create=L=>b(L),E}e.wrapConstructorWithOpts=m;function R(b){const E=(L,$)=>b($).update(C(L)).digest(),k=b({});return E.outputLen=k.outputLen,E.blockLen=k.blockLen,E.create=L=>b(L),E}e.wrapXOFConstructorWithOpts=R;function B(b=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(b));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=B})(J6);Object.defineProperty(Za,"__esModule",{value:!0});Za.HashMD=Za.Maj=Za.Chi=void 0;const yv=fr,p0=J6;function BH(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),f=Number(r&o),d=n?4:0,a=n?0:4;e.setUint32(t+d,s,n),e.setUint32(t+a,f,n)}const CH=(e,t,r)=>e&t^~e&r;Za.Chi=CH;const DH=(e,t,r)=>e&t^e&r^t&r;Za.Maj=DH;class RH extends p0.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,p0.createView)(this.buffer)}update(t){(0,yv.exists)(this);const{view:r,buffer:n,blockLen:i}=this;t=(0,p0.toBytes)(t);const o=t.length;for(let s=0;s<o;){const f=Math.min(i-this.pos,o-s);if(f===i){const d=(0,p0.createView)(t);for(;i<=o-s;s+=i)this.process(d,s);continue}n.set(t.subarray(s,s+f),this.pos),this.pos+=f,s+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,yv.exists)(this),(0,yv.output)(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:o}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let p=s;p<i;p++)r[p]=0;BH(n,i-8,BigInt(this.length*8),o),this.process(n,0);const f=(0,p0.createView)(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const a=d/4,c=this.get();if(a>c.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<a;p++)f.setUint32(4*p,c[p],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:f}=this;return t.length=i,t.pos=f,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}}Za.HashMD=RH;Object.defineProperty(Xc,"__esModule",{value:!0});Xc.sha224=Xc.sha256=void 0;const gv=Za,yi=J6,OH=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ya=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ga=new Uint32Array(64);class TB extends gv.HashMD{constructor(){super(64,32,8,!1),this.A=ya[0]|0,this.B=ya[1]|0,this.C=ya[2]|0,this.D=ya[3]|0,this.E=ya[4]|0,this.F=ya[5]|0,this.G=ya[6]|0,this.H=ya[7]|0}get(){const{A:t,B:r,C:n,D:i,E:o,F:s,G:f,H:d}=this;return[t,r,n,i,o,s,f,d]}set(t,r,n,i,o,s,f,d){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=f|0,this.H=d|0}process(t,r){for(let p=0;p<16;p++,r+=4)ga[p]=t.getUint32(r,!1);for(let p=16;p<64;p++){const h=ga[p-15],y=ga[p-2],g=(0,yi.rotr)(h,7)^(0,yi.rotr)(h,18)^h>>>3,v=(0,yi.rotr)(y,17)^(0,yi.rotr)(y,19)^y>>>10;ga[p]=v+ga[p-7]+g+ga[p-16]|0}let{A:n,B:i,C:o,D:s,E:f,F:d,G:a,H:c}=this;for(let p=0;p<64;p++){const h=(0,yi.rotr)(f,6)^(0,yi.rotr)(f,11)^(0,yi.rotr)(f,25),y=c+h+(0,gv.Chi)(f,d,a)+OH[p]+ga[p]|0,v=((0,yi.rotr)(n,2)^(0,yi.rotr)(n,13)^(0,yi.rotr)(n,22))+(0,gv.Maj)(n,i,o)|0;c=a,a=d,d=f,f=s+y|0,s=o,o=i,i=n,n=y+v|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,f=f+this.E|0,d=d+this.F|0,a=a+this.G|0,c=c+this.H|0,this.set(n,i,o,s,f,d,a,c)}roundClean(){ga.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class AH extends TB{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Xc.sha256=(0,yi.wrapConstructor)(()=>new TB);Xc.sha224=(0,yi.wrapConstructor)(()=>new AH);function PH(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,f=e.charAt(0),d=Math.log(s)/Math.log(256),a=Math.log(256)/Math.log(s);function c(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var g=0,v=0,T=0,I=y.length;T!==I&&y[T]===0;)T++,g++;for(var _=(I-T)*a+1>>>0,C=new Uint8Array(_);T!==I;){for(var w=y[T],P=0,D=_-1;(w!==0||P<v)&&D!==-1;D--,P++)w+=256*C[D]>>>0,C[D]=w%s>>>0,w=w/s>>>0;if(w!==0)throw new Error("Non-zero carry");v=P,T++}for(var u=_-v;u!==_&&C[u]===0;)u++;for(var l=f.repeat(g);u<_;++u)l+=e.charAt(C[u]);return l}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;for(var g=0,v=0,T=0;y[g]===f;)v++,g++;for(var I=(y.length-g)*d+1>>>0,_=new Uint8Array(I);y[g];){var C=t[y.charCodeAt(g)];if(C===255)return;for(var w=0,P=I-1;(C!==0||w<T)&&P!==-1;P--,w++)C+=s*_[P]>>>0,_[P]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");T=w,g++}for(var D=I-T;D!==I&&_[D]===0;)D++;for(var u=new Uint8Array(v+(I-D)),l=v;D!==I;)u[l++]=_[D++];return u}function h(y){var g=p(y);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:c,decodeUnsafe:p,decode:h}}var NH=PH;const MH=NH,UH="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var kH=MH(UH),mv=kH,$H=function(e){function t(o){var s=Uint8Array.from(o),f=e(s),d=s.length+4,a=new Uint8Array(d);return a.set(s,0),a.set(f.subarray(0,4),s.length),mv.encode(a,d)}function r(o){var s=o.slice(0,-4),f=o.slice(-4),d=e(s);if(!(f[0]^d[0]|f[1]^d[1]|f[2]^d[2]|f[3]^d[3]))return s}function n(o){var s=mv.decodeUnsafe(o);if(s)return r(s)}function i(o){var s=mv.decode(o),f=r(s);if(!f)throw new Error("Invalid checksum");return f}return{encode:t,decode:i,decodeUnsafe:n}},{sha256:jT}=Xc,FH=$H;function LH(e){return jT(jT(e))}var jH=FH(LH),Qa={},Pi={},Vn={},ip={},xi={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.assertFloat32=tr.assertUInt32=tr.assertInt32=tr.assert=void 0;function KH(e,t){if(!e)throw new Error(t)}tr.assert=KH;const HH=34028234663852886e22,qH=-34028234663852886e22,VH=4294967295,zH=2147483647,YH=-2147483648;function GH(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>zH||e<YH)throw new Error("invalid int 32: "+e)}tr.assertInt32=GH;function JH(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>VH||e<0)throw new Error("invalid uint 32: "+e)}tr.assertUInt32=JH;function WH(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>HH||e<qH))throw new Error("invalid float 32: "+e)}tr.assertFloat32=WH;Object.defineProperty(xi,"__esModule",{value:!0});xi.makeEnum=xi.makeEnumType=xi.setEnumType=xi.getEnumType=void 0;const XH=tr,IB=Symbol("@bufbuild/protobuf/enum-type");function ZH(e){const t=e[IB];return(0,XH.assert)(t,"missing enum type on enum object"),t}xi.getEnumType=ZH;function EB(e,t,r,n){e[IB]=xB(t,r.map(i=>({no:i.no,name:i.name,localName:e[i.no]})))}xi.setEnumType=EB;function xB(e,t,r){const n=Object.create(null),i=Object.create(null),o=[];for(const s of t){const f=SB(s);o.push(f),n[s.name]=f,i[s.no]=f}return{typeName:e,values:o,findName(s){return n[s]},findNumber(s){return i[s]}}}xi.makeEnumType=xB;function QH(e,t,r){const n={};for(const i of t){const o=SB(i);n[o.localName]=o.no,n[o.no]=o.localName}return EB(n,e,t),n}xi.makeEnum=QH;function SB(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}var X1={},br={};Object.defineProperty(br,"__esModule",{value:!0});br.Message=void 0;class eq{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,r){const n=this.getType(),i=n.runtime.bin,o=i.makeReadOptions(r);return i.readMessage(this,o.readerFactory(t),t.byteLength,o),this}fromJson(t,r){const n=this.getType(),i=n.runtime.json,o=i.makeReadOptions(r);return i.readMessage(n,t,o,this),this}fromJsonString(t,r){let n;try{n=JSON.parse(t)}catch(i){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${i instanceof Error?i.message:String(i)}`)}return this.fromJson(n,r)}toBinary(t){const r=this.getType(),n=r.runtime.bin,i=n.makeWriteOptions(t),o=i.writerFactory();return n.writeMessage(this,o,i),o.finish()}toJson(t){const r=this.getType(),n=r.runtime.json,i=n.makeWriteOptions(t);return n.writeMessage(this,i)}toJsonString(t){var r;const n=this.toJson(t);return JSON.stringify(n,null,(r=t==null?void 0:t.prettySpaces)!==null&&r!==void 0?r:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}br.Message=eq;Object.defineProperty(X1,"__esModule",{value:!0});X1.makeMessageType=void 0;const tq=br;function rq(e,t,r,n){var i;const o=(i=n==null?void 0:n.localName)!==null&&i!==void 0?i:t.substring(t.lastIndexOf(".")+1),s={[o]:function(f){e.util.initFields(this),e.util.initPartial(f,this)}}[o];return Object.setPrototypeOf(s.prototype,new tq.Message),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(r),fromBinary(f,d){return new s().fromBinary(f,d)},fromJson(f,d){return new s().fromJson(f,d)},fromJsonString(f,d){return new s().fromJsonString(f,d)},equals(f,d){return e.util.equals(s,f,d)}}),s}X1.makeMessageType=rq;var hs={},Ln={},fo={},Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.varint32read=Cr.varint32write=Cr.uInt64ToString=Cr.int64ToString=Cr.int64FromString=Cr.varint64write=Cr.varint64read=void 0;function nq(){let e=0,t=0;for(let n=0;n<28;n+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<n,!(i&128))return this.assertBounds(),[e,t]}let r=this.buf[this.pos++];if(e|=(r&15)<<28,t=(r&112)>>4,!(r&128))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<n,!(i&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}Cr.varint64read=nq;function iq(e,t,r){for(let o=0;o<28;o=o+7){const s=e>>>o,f=!(!(s>>>7)&&t==0),d=(f?s|128:s)&255;if(r.push(d),!f)return}const n=e>>>28&15|(t&7)<<4,i=!!(t>>3);if(r.push((i?n|128:n)&255),!!i){for(let o=3;o<31;o=o+7){const s=t>>>o,f=!!(s>>>7),d=(f?s|128:s)&255;if(r.push(d),!f)return}r.push(t>>>31&1)}}Cr.varint64write=iq;const Ay=4294967296;function oq(e){const t=e[0]==="-";t&&(e=e.slice(1));const r=1e6;let n=0,i=0;function o(s,f){const d=Number(e.slice(s,f));i*=r,n=n*r+d,n>=Ay&&(i=i+(n/Ay|0),n=n%Ay)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),t?CB(n,i):W6(n,i)}Cr.int64FromString=oq;function sq(e,t){let r=W6(e,t);const n=r.hi&2147483648;n&&(r=CB(r.lo,r.hi));const i=BB(r.lo,r.hi);return n?"-"+i:i}Cr.int64ToString=sq;function BB(e,t){if({lo:e,hi:t}=aq(e,t),t<=2097151)return String(Ay*t+e);const r=e&16777215,n=(e>>>24|t<<8)&16777215,i=t>>16&65535;let o=r+n*6777216+i*6710656,s=n+i*8147497,f=i*2;const d=1e7;return o>=d&&(s+=Math.floor(o/d),o%=d),s>=d&&(f+=Math.floor(s/d),s%=d),f.toString()+KT(s)+KT(o)}Cr.uInt64ToString=BB;function aq(e,t){return{lo:e>>>0,hi:t>>>0}}function W6(e,t){return{lo:e|0,hi:t|0}}function CB(e,t){return t=~t,e?e=~e+1:t+=1,W6(e,t)}const KT=e=>{const t=String(e);return"0000000".slice(t.length)+t};function fq(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let r=0;r<9;r++)t.push(e&127|128),e=e>>7;t.push(1)}}Cr.varint32write=fq;function uq(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let r=5;e&128&&r<10;r++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}Cr.varint32read=uq;var HT={};Object.defineProperty(fo,"__esModule",{value:!0});fo.protoInt64=void 0;const qT=tr,ty=Cr;function cq(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof HT!="object"||HT.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),s=BigInt("0"),f=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(d){const a=typeof d=="bigint"?d:BigInt(d);if(a>o||a<i)throw new Error(`int64 invalid: ${d}`);return a},uParse(d){const a=typeof d=="bigint"?d:BigInt(d);if(a>f||a<s)throw new Error(`uint64 invalid: ${d}`);return a},enc(d){return e.setBigInt64(0,this.parse(d),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(d){return e.setBigInt64(0,this.uParse(d),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(d,a){return e.setInt32(0,d,!0),e.setInt32(4,a,!0),e.getBigInt64(0,!0)},uDec(d,a){return e.setInt32(0,d,!0),e.setInt32(4,a,!0),e.getBigUint64(0,!0)}}}const r=i=>(0,qT.assert)(/^-?[0-9]+$/.test(i),`int64 invalid: ${i}`),n=i=>(0,qT.assert)(/^[0-9]+$/.test(i),`uint64 invalid: ${i}`);return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),r(i),(0,ty.int64FromString)(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),n(i),(0,ty.int64FromString)(i)},dec(i,o){return(0,ty.int64ToString)(i,o)},uDec(i,o){return(0,ty.uInt64ToString)(i,o)}}}fo.protoInt64=cq();var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.LongType=Pn.ScalarType=void 0;var VT;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(VT||(Pn.ScalarType=VT={}));var zT;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(zT||(Pn.LongType=zT={}));Object.defineProperty(Ln,"__esModule",{value:!0});Ln.isScalarZeroValue=Ln.scalarZeroValue=Ln.scalarEquals=void 0;const dq=fo,Zt=Pn;function lq(e,t,r){if(t===r)return!0;if(e==Zt.ScalarType.BYTES){if(!(t instanceof Uint8Array)||!(r instanceof Uint8Array)||t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==r[n])return!1;return!0}switch(e){case Zt.ScalarType.UINT64:case Zt.ScalarType.FIXED64:case Zt.ScalarType.INT64:case Zt.ScalarType.SFIXED64:case Zt.ScalarType.SINT64:return t==r}return!1}Ln.scalarEquals=lq;function hq(e,t){switch(e){case Zt.ScalarType.BOOL:return!1;case Zt.ScalarType.UINT64:case Zt.ScalarType.FIXED64:case Zt.ScalarType.INT64:case Zt.ScalarType.SFIXED64:case Zt.ScalarType.SINT64:return t==0?dq.protoInt64.zero:"0";case Zt.ScalarType.DOUBLE:case Zt.ScalarType.FLOAT:return 0;case Zt.ScalarType.BYTES:return new Uint8Array(0);case Zt.ScalarType.STRING:return"";default:return 0}}Ln.scalarZeroValue=hq;function pq(e,t){switch(e){case Zt.ScalarType.BOOL:return t===!1;case Zt.ScalarType.STRING:return t==="";case Zt.ScalarType.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}Ln.isScalarZeroValue=pq;Object.defineProperty(hs,"__esModule",{value:!0});hs.filterUnknownFields=hs.createExtensionContainer=hs.makeExtension=void 0;const yq=Ln;function gq(e,t,r,n){let i;return{typeName:t,extendee:r,get field(){if(!i){const o=typeof n=="function"?n():n;o.name=t.split(".").pop(),o.jsonName=`[${t}]`,i=e.util.newFieldList([o]).list()[0]}return i},runtime:e}}hs.makeExtension=gq;function mq(e){const t=e.field.localName,r=Object.create(null);return r[t]=bq(e),[r,()=>r[t]]}hs.createExtensionContainer=mq;function bq(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return(0,yq.scalarZeroValue)(t.T,t.L);case"message":const r=t.T,n=new r;return r.fieldWrapper?r.fieldWrapper.unwrapField(n):n;case"map":throw"map fields are not allowed to be extensions"}}function vq(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let r=e.length-1;r>=0;--r)if(e[r].no==t.no)return[e[r]];return[]}return e.filter(r=>r.no===t.no)}hs.filterUnknownFields=vq;var Z1={},Cd={};Object.defineProperty(Cd,"__esModule",{value:!0});Cd.protoBase64=void 0;let Ps="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Q1=[];for(let e=0;e<Ps.length;e++)Q1[Ps[e].charCodeAt(0)]=e;Q1[45]=Ps.indexOf("+");Q1[95]=Ps.indexOf("/");Cd.protoBase64={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let r=new Uint8Array(t),n=0,i=0,o,s=0;for(let f=0;f<e.length;f++){if(o=Q1[e.charCodeAt(f)],o===void 0)switch(e[f]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:s=o,i=1;break;case 1:r[n++]=s<<2|(o&48)>>4,s=o,i=2;break;case 2:r[n++]=(s&15)<<4|(o&60)>>2,s=o,i=3;break;case 3:r[n++]=(s&3)<<6|o,i=0;break}}if(i==1)throw Error("invalid base64 string.");return r.subarray(0,n)},enc(e){let t="",r=0,n,i=0;for(let o=0;o<e.length;o++)switch(n=e[o],r){case 0:t+=Ps[n>>2],i=(n&3)<<4,r=1;break;case 1:t+=Ps[i|n>>4],i=(n&15)<<2,r=2;break;case 2:t+=Ps[i|n>>6],t+=Ps[n&63],r=0;break}return r&&(t+=Ps[i],t+="=",r==1&&(t+="=")),t}};var Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.hasExtension=Li.clearExtension=Li.setExtension=Li.getExtension=void 0;const _q=tr,YT=hs;function wq(e,t,r){Z6(t,e);const n=t.runtime.bin.makeReadOptions(r),i=(0,YT.filterUnknownFields)(e.getType().runtime.bin.listUnknownFields(e),t.field),[o,s]=(0,YT.createExtensionContainer)(t);for(const f of i)t.runtime.bin.readField(o,n.readerFactory(f.data),t.field,f.wireType,n);return s()}Li.getExtension=wq;function Tq(e,t,r,n){Z6(t,e);const i=t.runtime.bin.makeReadOptions(n),o=t.runtime.bin.makeWriteOptions(n);if(X6(e,t)){const a=e.getType().runtime.bin.listUnknownFields(e).filter(c=>c.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const c of a)e.getType().runtime.bin.onUnknownField(e,c.no,c.wireType,c.data)}const s=o.writerFactory();let f=t.field;!f.opt&&!f.repeated&&(f.kind=="enum"||f.kind=="scalar")&&(f=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(f,r,s,o);const d=i.readerFactory(s.finish());for(;d.pos<d.len;){const[a,c]=d.tag(),p=d.skip(c);e.getType().runtime.bin.onUnknownField(e,a,c,p)}}Li.setExtension=Tq;function Iq(e,t){if(Z6(t,e),X6(e,t)){const r=e.getType().runtime.bin,n=r.listUnknownFields(e).filter(i=>i.no!=t.field.no);r.discardUnknownFields(e);for(const i of n)r.onUnknownField(e,i.no,i.wireType,i.data)}}Li.clearExtension=Iq;function X6(e,t){const r=e.getType();return t.extendee.typeName===r.typeName&&!!r.runtime.bin.listUnknownFields(e).find(n=>n.no==t.field.no)}Li.hasExtension=X6;function Z6(e,t){(0,_q.assert)(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.clearField=Eu.isFieldSet=void 0;const DB=Ln;function Eq(e,t){const r=e.localName;if(e.repeated)return t[r].length>0;if(e.oneof)return t[e.oneof.localName].case===r;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[r]!==void 0:e.kind=="enum"?t[r]!==e.T.values[0].no:!(0,DB.isScalarZeroValue)(e.T,t[r]);case"message":return t[r]!==void 0;case"map":return Object.keys(t[r]).length>0}}Eu.isFieldSet=Eq;function xq(e,t){const r=e.localName,n=!e.opt&&!e.req;if(e.repeated)t[r]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[r]={};break;case"enum":t[r]=n?e.T.values[0].no:void 0;break;case"scalar":t[r]=n?(0,DB.scalarZeroValue)(e.T,e.L):void 0;break;case"message":t[r]=void 0;break}}Eu.clearField=xq;var Tf={},uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.isMessage=void 0;const Sq=br;function Bq(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(Sq.Message.prototype).every(n=>n in e&&typeof e[n]=="function"))return!1;const r=e.getType();return r===null||typeof r!="function"||!("typeName"in r)||typeof r.typeName!="string"?!1:t===void 0?!0:r.typeName==t.typeName}uo.isMessage=Bq;Object.defineProperty(Tf,"__esModule",{value:!0});Tf.getUnwrappedFieldType=Tf.wrapField=void 0;const xs=Pn,Cq=uo;function Dq(e,t){return(0,Cq.isMessage)(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}Tf.wrapField=Dq;function Rq(e){if(e.fieldKind==="message"&&!e.repeated&&e.oneof==null)return Oq[e.message.typeName]}Tf.getUnwrappedFieldType=Rq;const Oq={"google.protobuf.DoubleValue":xs.ScalarType.DOUBLE,"google.protobuf.FloatValue":xs.ScalarType.FLOAT,"google.protobuf.Int64Value":xs.ScalarType.INT64,"google.protobuf.UInt64Value":xs.ScalarType.UINT64,"google.protobuf.Int32Value":xs.ScalarType.INT32,"google.protobuf.UInt32Value":xs.ScalarType.UINT32,"google.protobuf.BoolValue":xs.ScalarType.BOOL,"google.protobuf.StringValue":xs.ScalarType.STRING,"google.protobuf.BytesValue":xs.ScalarType.BYTES};Object.defineProperty(Z1,"__esModule",{value:!0});Z1.makeJsonFormat=void 0;const fi=tr,GT=fo,RB=Cd,Aq=hs,bv=Li,v3=Eu,Pq=Tf,Nq=Ln,Mq=Ln,Je=Pn,Uq=uo,JT={ignoreUnknownFields:!1},WT={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function kq(e){return e?Object.assign(Object.assign({},JT),e):JT}function $q(e){return e?Object.assign(Object.assign({},WT),e):WT}const cg=Symbol(),Py=Symbol();function Fq(){return{makeReadOptions:kq,makeWriteOptions:$q,readMessage(e,t,r,n){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${e.typeName} from JSON: ${_o(t)}`);n=n??new e;const i=new Map,o=r.typeRegistry;for(const[s,f]of Object.entries(t)){const d=e.fields.findJsonName(s);if(d){if(d.oneof){if(f===null&&d.kind=="scalar")continue;const a=i.get(d.oneof);if(a!==void 0)throw new Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${d.oneof.name}" present: "${a}", "${s}"`);i.set(d.oneof,s)}XT(n,f,d,r,e)}else{let a=!1;if(o!=null&&o.findExtension&&s.startsWith("[")&&s.endsWith("]")){const c=o.findExtension(s.substring(1,s.length-1));if(c&&c.extendee.typeName==e.typeName){a=!0;const[p,h]=(0,Aq.createExtensionContainer)(c);XT(p,f,c.field,r,c),(0,bv.setExtension)(n,c,h(),r)}}if(!a&&!r.ignoreUnknownFields)throw new Error(`cannot decode message ${e.typeName} from JSON: key "${s}" is unknown`)}}return n},writeMessage(e,t){const r=e.getType(),n={};let i;try{for(i of r.fields.byNumber()){if(!(0,v3.isFieldSet)(i,e)){if(i.req)throw"required field not set";if(!t.emitDefaultValues||!jq(i))continue}const s=i.oneof?e[i.oneof.localName].value:e[i.localName],f=ZT(i,s,t);f!==void 0&&(n[t.useProtoFieldName?i.name:i.jsonName]=f)}const o=t.typeRegistry;if(o!=null&&o.findExtensionFor)for(const s of r.runtime.bin.listUnknownFields(e)){const f=o.findExtensionFor(r.typeName,s.no);if(f&&(0,bv.hasExtension)(e,f)){const d=(0,bv.getExtension)(e,f,t),a=ZT(f.field,d,t);a!==void 0&&(n[f.field.jsonName]=a)}}}catch(o){const s=i?`cannot encode field ${r.typeName}.${i.name} to JSON`:`cannot encode message ${r.typeName} to JSON`,f=o instanceof Error?o.message:String(o);throw new Error(s+(f.length>0?`: ${f}`:""))}return n},readScalar(e,t,r){return F0(e,t,r??Je.LongType.BIGINT,!0)},writeScalar(e,t,r){if(t!==void 0&&(r||(0,Mq.isScalarZeroValue)(e,t)))return Ny(e,t)},debug:_o}}Z1.makeJsonFormat=Fq;function _o(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function XT(e,t,r,n,i){let o=r.localName;if(r.repeated){if((0,fi.assert)(r.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${i.typeName}.${r.name} from JSON: ${_o(t)}`);const s=e[o];for(const f of t){if(f===null)throw new Error(`cannot decode field ${i.typeName}.${r.name} from JSON: ${_o(f)}`);switch(r.kind){case"message":s.push(r.T.fromJson(f,n));break;case"enum":const d=vv(r.T,f,n.ignoreUnknownFields,!0);d!==Py&&s.push(d);break;case"scalar":try{s.push(F0(r.T,f,r.L,!0))}catch(a){let c=`cannot decode field ${i.typeName}.${r.name} from JSON: ${_o(f)}`;throw a instanceof Error&&a.message.length>0&&(c+=`: ${a.message}`),new Error(c)}break}}}else if(r.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${i.typeName}.${r.name} from JSON: ${_o(t)}`);const s=e[o];for(const[f,d]of Object.entries(t)){if(d===null)throw new Error(`cannot decode field ${i.typeName}.${r.name} from JSON: map value null`);let a;try{a=Lq(r.K,f)}catch(c){let p=`cannot decode map key for field ${i.typeName}.${r.name} from JSON: ${_o(t)}`;throw c instanceof Error&&c.message.length>0&&(p+=`: ${c.message}`),new Error(p)}switch(r.V.kind){case"message":s[a]=r.V.T.fromJson(d,n);break;case"enum":const c=vv(r.V.T,d,n.ignoreUnknownFields,!0);c!==Py&&(s[a]=c);break;case"scalar":try{s[a]=F0(r.V.T,d,Je.LongType.BIGINT,!0)}catch(p){let h=`cannot decode map value for field ${i.typeName}.${r.name} from JSON: ${_o(t)}`;throw p instanceof Error&&p.message.length>0&&(h+=`: ${p.message}`),new Error(h)}break}}}else switch(r.oneof&&(e=e[r.oneof.localName]={case:o},o="value"),r.kind){case"message":const s=r.T;if(t===null&&s.typeName!="google.protobuf.Value")return;let f=e[o];(0,Uq.isMessage)(f)?f.fromJson(t,n):(e[o]=f=s.fromJson(t,n),s.fieldWrapper&&!r.oneof&&(e[o]=s.fieldWrapper.unwrapField(f)));break;case"enum":const d=vv(r.T,t,n.ignoreUnknownFields,!1);switch(d){case cg:(0,v3.clearField)(r,e);break;case Py:break;default:e[o]=d;break}break;case"scalar":try{const a=F0(r.T,t,r.L,!1);switch(a){case cg:(0,v3.clearField)(r,e);break;default:e[o]=a;break}}catch(a){let c=`cannot decode field ${i.typeName}.${r.name} from JSON: ${_o(t)}`;throw a instanceof Error&&a.message.length>0&&(c+=`: ${a.message}`),new Error(c)}break}}function Lq(e,t){if(e===Je.ScalarType.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return F0(e,t,Je.LongType.BIGINT,!0).toString()}function F0(e,t,r,n){if(t===null)return n?(0,Nq.scalarZeroValue)(e,r):cg;switch(e){case Je.ScalarType.DOUBLE:case Je.ScalarType.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const i=Number(t);if(Number.isNaN(i)||!Number.isFinite(i))break;return e==Je.ScalarType.FLOAT&&(0,fi.assertFloat32)(i),i;case Je.ScalarType.INT32:case Je.ScalarType.FIXED32:case Je.ScalarType.SFIXED32:case Je.ScalarType.SINT32:case Je.ScalarType.UINT32:let o;if(typeof t=="number"?o=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(o=Number(t)),o===void 0)break;return e==Je.ScalarType.UINT32||e==Je.ScalarType.FIXED32?(0,fi.assertUInt32)(o):(0,fi.assertInt32)(o),o;case Je.ScalarType.INT64:case Je.ScalarType.SFIXED64:case Je.ScalarType.SINT64:if(typeof t!="number"&&typeof t!="string")break;const s=GT.protoInt64.parse(t);return r?s.toString():s;case Je.ScalarType.FIXED64:case Je.ScalarType.UINT64:if(typeof t!="number"&&typeof t!="string")break;const f=GT.protoInt64.uParse(t);return r?f.toString():f;case Je.ScalarType.BOOL:if(typeof t!="boolean")break;return t;case Je.ScalarType.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case Je.ScalarType.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return RB.protoBase64.dec(t)}throw new Error}function vv(e,t,r,n){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:n?e.values[0].no:cg;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const i=e.findName(t);if(i!==void 0)return i.no;if(r)return Py;break}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${_o(t)}`)}function jq(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function ZT(e,t,r){if(e.kind=="map"){(0,fi.assert)(typeof t=="object"&&t!=null);const n={},i=Object.entries(t);switch(e.V.kind){case"scalar":for(const[s,f]of i)n[s.toString()]=Ny(e.V.T,f);break;case"message":for(const[s,f]of i)n[s.toString()]=f.toJson(r);break;case"enum":const o=e.V.T;for(const[s,f]of i)n[s.toString()]=_v(o,f,r.enumAsInteger);break}return r.emitDefaultValues||i.length>0?n:void 0}if(e.repeated){(0,fi.assert)(Array.isArray(t));const n=[];switch(e.kind){case"scalar":for(let i=0;i<t.length;i++)n.push(Ny(e.T,t[i]));break;case"enum":for(let i=0;i<t.length;i++)n.push(_v(e.T,t[i],r.enumAsInteger));break;case"message":for(let i=0;i<t.length;i++)n.push(t[i].toJson(r));break}return r.emitDefaultValues||n.length>0?n:void 0}switch(e.kind){case"scalar":return Ny(e.T,t);case"enum":return _v(e.T,t,r.enumAsInteger);case"message":return(0,Pq.wrapField)(e.T,t).toJson(r)}}function _v(e,t,r){var n;if((0,fi.assert)(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(r)return t;const i=e.findNumber(t);return(n=i==null?void 0:i.name)!==null&&n!==void 0?n:t}function Ny(e,t){switch(e){case Je.ScalarType.INT32:case Je.ScalarType.SFIXED32:case Je.ScalarType.SINT32:case Je.ScalarType.FIXED32:case Je.ScalarType.UINT32:return(0,fi.assert)(typeof t=="number"),t;case Je.ScalarType.FLOAT:case Je.ScalarType.DOUBLE:return(0,fi.assert)(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case Je.ScalarType.STRING:return(0,fi.assert)(typeof t=="string"),t;case Je.ScalarType.BOOL:return(0,fi.assert)(typeof t=="boolean"),t;case Je.ScalarType.UINT64:case Je.ScalarType.FIXED64:case Je.ScalarType.INT64:case Je.ScalarType.SFIXED64:case Je.ScalarType.SINT64:return(0,fi.assert)(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case Je.ScalarType.BYTES:return(0,fi.assert)(t instanceof Uint8Array),RB.protoBase64.enc(t)}}var Zc={},ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.BinaryReader=ps.BinaryWriter=ps.WireType=void 0;const qf=Cr,rc=tr,Io=fo;var Ia;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(Ia||(ps.WireType=Ia={}));class Kq{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let i=0;i<this.chunks.length;i++)t+=this.chunks[i].length;let r=new Uint8Array(t),n=0;for(let i=0;i<this.chunks.length;i++)r.set(this.chunks[i],n),n+=this.chunks[i].length;return this.chunks=[],r}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),r=this.stack.pop();if(!r)throw new Error("invalid state, fork stack empty");return this.chunks=r.chunks,this.buf=r.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,r){return this.uint32((t<<3|r)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for((0,rc.assertUInt32)(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return(0,rc.assertInt32)(t),(0,qf.varint32write)(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let r=this.textEncoder.encode(t);return this.uint32(r.byteLength),this.raw(r)}float(t){(0,rc.assertFloat32)(t);let r=new Uint8Array(4);return new DataView(r.buffer).setFloat32(0,t,!0),this.raw(r)}double(t){let r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,t,!0),this.raw(r)}fixed32(t){(0,rc.assertUInt32)(t);let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t,!0),this.raw(r)}sfixed32(t){(0,rc.assertInt32)(t);let r=new Uint8Array(4);return new DataView(r.buffer).setInt32(0,t,!0),this.raw(r)}sint32(t){return(0,rc.assertInt32)(t),t=(t<<1^t>>31)>>>0,(0,qf.varint32write)(t,this.buf),this}sfixed64(t){let r=new Uint8Array(8),n=new DataView(r.buffer),i=Io.protoInt64.enc(t);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(r)}fixed64(t){let r=new Uint8Array(8),n=new DataView(r.buffer),i=Io.protoInt64.uEnc(t);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(r)}int64(t){let r=Io.protoInt64.enc(t);return(0,qf.varint64write)(r.lo,r.hi,this.buf),this}sint64(t){let r=Io.protoInt64.enc(t),n=r.hi>>31,i=r.lo<<1^n,o=(r.hi<<1|r.lo>>>31)^n;return(0,qf.varint64write)(i,o,this.buf),this}uint64(t){let r=Io.protoInt64.uEnc(t);return(0,qf.varint64write)(r.lo,r.hi,this.buf),this}}ps.BinaryWriter=Kq;class Hq{constructor(t,r){this.varint64=qf.varint64read,this.uint32=qf.varint32read,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=r??new TextDecoder}tag(){let t=this.uint32(),r=t>>>3,n=t&7;if(r<=0||n<0||n>5)throw new Error("illegal tag: field no "+r+" wire type "+n);return[r,n]}skip(t){let r=this.pos;switch(t){case Ia.Varint:for(;this.buf[this.pos++]&128;);break;case Ia.Bit64:this.pos+=4;case Ia.Bit32:this.pos+=4;break;case Ia.LengthDelimited:let n=this.uint32();this.pos+=n;break;case Ia.StartGroup:let i;for(;(i=this.tag()[1])!==Ia.EndGroup;)this.skip(i);break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return Io.protoInt64.dec(...this.varint64())}uint64(){return Io.protoInt64.uDec(...this.varint64())}sint64(){let[t,r]=this.varint64(),n=-(t&1);return t=(t>>>1|(r&1)<<31)^n,r=r>>>1^n,Io.protoInt64.dec(t,r)}bool(){let[t,r]=this.varint64();return t!==0||r!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Io.protoInt64.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Io.protoInt64.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),r=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(r,r+t)}string(){return this.textDecoder.decode(this.bytes())}}ps.BinaryReader=Hq;Object.defineProperty(Zc,"__esModule",{value:!0});Zc.writeMapEntry=Zc.makeBinaryFormat=void 0;const kn=ps,qq=Tf,QT=Ln,Xf=tr,Vq=Eu,We=Pn,zq=uo,nc=Symbol("@bufbuild/protobuf/unknown-fields"),eI={readUnknownFields:!0,readerFactory:e=>new kn.BinaryReader(e)},tI={writeUnknownFields:!0,writerFactory:()=>new kn.BinaryWriter};function Yq(e){return e?Object.assign(Object.assign({},eI),e):eI}function Gq(e){return e?Object.assign(Object.assign({},tI),e):tI}function Jq(){return{makeReadOptions:Yq,makeWriteOptions:Gq,listUnknownFields(e){var t;return(t=e[nc])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[nc]},writeUnknownFields(e,t){const n=e[nc];if(n)for(const i of n)t.tag(i.no,i.wireType).raw(i.data)},onUnknownField(e,t,r,n){const i=e;Array.isArray(i[nc])||(i[nc]=[]),i[nc].push({no:t,wireType:r,data:n})},readMessage(e,t,r,n,i){const o=e.getType(),s=i?t.len:t.pos+r;let f,d;for(;t.pos<s&&([f,d]=t.tag(),d!=kn.WireType.EndGroup);){const a=o.fields.find(f);if(!a){const c=t.skip(d);n.readUnknownFields&&this.onUnknownField(e,f,d,c);continue}rI(e,t,a,d,n)}if(i&&(d!=kn.WireType.EndGroup||f!==r))throw new Error("invalid end group tag")},readField:rI,writeMessage(e,t,r){const n=e.getType();for(const i of n.fields.byNumber()){if(!(0,Vq.isFieldSet)(i,e)){if(i.req)throw new Error(`cannot encode field ${n.typeName}.${i.name} to binary: required field not set`);continue}const o=i.oneof?e[i.oneof.localName].value:e[i.localName];nI(i,o,t,r)}return r.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,r,n){t!==void 0&&nI(e,t,r,n)}}}Zc.makeBinaryFormat=Jq;function rI(e,t,r,n,i){let{repeated:o,localName:s}=r;switch(r.oneof&&(e=e[r.oneof.localName],e.case!=s&&delete e.value,e.case=s,s="value"),r.kind){case"scalar":case"enum":const f=r.kind=="enum"?We.ScalarType.INT32:r.T;let d=dg;if(r.kind=="scalar"&&r.L>0&&(d=Xq),o){let h=e[s];if(n==kn.WireType.LengthDelimited&&f!=We.ScalarType.STRING&&f!=We.ScalarType.BYTES){let g=t.uint32()+t.pos;for(;t.pos<g;)h.push(d(t,f))}else h.push(d(t,f))}else e[s]=d(t,f);break;case"message":const a=r.T;o?e[s].push(My(t,new a,i,r)):(0,zq.isMessage)(e[s])?My(t,e[s],i,r):(e[s]=My(t,new a,i,r),a.fieldWrapper&&!r.oneof&&!r.repeated&&(e[s]=a.fieldWrapper.unwrapField(e[s])));break;case"map":let[c,p]=Wq(r,t,i);e[s][c]=p;break}}function My(e,t,r,n){const i=t.getType().runtime.bin,o=n==null?void 0:n.delimited;return i.readMessage(t,e,o?n.no:e.uint32(),r,o),t}function Wq(e,t,r){const n=t.uint32(),i=t.pos+n;let o,s;for(;t.pos<i;){const[f]=t.tag();switch(f){case 1:o=dg(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=dg(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=My(t,new e.V.T,r,void 0);break}break}}if(o===void 0&&(o=(0,QT.scalarZeroValue)(e.K,We.LongType.BIGINT)),typeof o!="string"&&typeof o!="number"&&(o=o.toString()),s===void 0)switch(e.V.kind){case"scalar":s=(0,QT.scalarZeroValue)(e.V.T,We.LongType.BIGINT);break;case"enum":s=e.V.T.values[0].no;break;case"message":s=new e.V.T;break}return[o,s]}function Xq(e,t){const r=dg(e,t);return typeof r=="bigint"?r.toString():r}function dg(e,t){switch(t){case We.ScalarType.STRING:return e.string();case We.ScalarType.BOOL:return e.bool();case We.ScalarType.DOUBLE:return e.double();case We.ScalarType.FLOAT:return e.float();case We.ScalarType.INT32:return e.int32();case We.ScalarType.INT64:return e.int64();case We.ScalarType.UINT64:return e.uint64();case We.ScalarType.FIXED64:return e.fixed64();case We.ScalarType.BYTES:return e.bytes();case We.ScalarType.FIXED32:return e.fixed32();case We.ScalarType.SFIXED32:return e.sfixed32();case We.ScalarType.SFIXED64:return e.sfixed64();case We.ScalarType.SINT64:return e.sint64();case We.ScalarType.UINT32:return e.uint32();case We.ScalarType.SINT32:return e.sint32()}}function nI(e,t,r,n){(0,Xf.assert)(t!==void 0);const i=e.repeated;switch(e.kind){case"scalar":case"enum":let o=e.kind=="enum"?We.ScalarType.INT32:e.T;if(i)if((0,Xf.assert)(Array.isArray(t)),e.packed)Zq(r,o,e.no,t);else for(const s of t)L0(r,o,e.no,s);else L0(r,o,e.no,t);break;case"message":if(i){(0,Xf.assert)(Array.isArray(t));for(const s of t)iI(r,n,e,s)}else iI(r,n,e,t);break;case"map":(0,Xf.assert)(typeof t=="object"&&t!=null);for(const[s,f]of Object.entries(t))OB(r,n,e,s,f);break}}function OB(e,t,r,n,i){e.tag(r.no,kn.WireType.LengthDelimited),e.fork();let o=n;switch(r.K){case We.ScalarType.INT32:case We.ScalarType.FIXED32:case We.ScalarType.UINT32:case We.ScalarType.SFIXED32:case We.ScalarType.SINT32:o=Number.parseInt(n);break;case We.ScalarType.BOOL:(0,Xf.assert)(n=="true"||n=="false"),o=n=="true";break}switch(L0(e,r.K,1,o),r.V.kind){case"scalar":L0(e,r.V.T,2,i);break;case"enum":L0(e,We.ScalarType.INT32,2,i);break;case"message":(0,Xf.assert)(i!==void 0),e.tag(2,kn.WireType.LengthDelimited).bytes(i.toBinary(t));break}e.join()}Zc.writeMapEntry=OB;function iI(e,t,r,n){const i=(0,qq.wrapField)(r.T,n);r.delimited?e.tag(r.no,kn.WireType.StartGroup).raw(i.toBinary(t)).tag(r.no,kn.WireType.EndGroup):e.tag(r.no,kn.WireType.LengthDelimited).bytes(i.toBinary(t))}function L0(e,t,r,n){(0,Xf.assert)(n!==void 0);let[i,o]=AB(t);e.tag(r,i)[o](n)}function Zq(e,t,r,n){if(!n.length)return;e.tag(r,kn.WireType.LengthDelimited).fork();let[,i]=AB(t);for(let o=0;o<n.length;o++)e[i](n[o]);e.join()}function AB(e){let t=kn.WireType.Varint;switch(e){case We.ScalarType.BYTES:case We.ScalarType.STRING:t=kn.WireType.LengthDelimited;break;case We.ScalarType.DOUBLE:case We.ScalarType.FIXED64:case We.ScalarType.SFIXED64:t=kn.WireType.Bit64;break;case We.ScalarType.FIXED32:case We.ScalarType.SFIXED32:case We.ScalarType.FLOAT:t=kn.WireType.Bit32;break}const r=We.ScalarType[e].toLowerCase();return[t,r]}var em={};Object.defineProperty(em,"__esModule",{value:!0});em.makeUtilCommon=void 0;const Qq=xi,ma=Ln,jf=Pn,Uy=uo;function eV(){return{setEnumType:Qq.setEnumType,initPartial(e,t){if(e===void 0)return;const r=t.getType();for(const n of r.fields.byMember()){const i=n.localName,o=t,s=e;if(s[i]!==void 0)switch(n.kind){case"oneof":const f=s[i].case;if(f===void 0)continue;const d=n.findField(f);let a=s[i].value;d&&d.kind=="message"&&!(0,Uy.isMessage)(a,d.T)?a=new d.T(a):d&&d.kind==="scalar"&&d.T===jf.ScalarType.BYTES&&(a=y0(a)),o[i]={case:f,value:a};break;case"scalar":case"enum":let c=s[i];n.T===jf.ScalarType.BYTES&&(c=n.repeated?c.map(y0):y0(c)),o[i]=c;break;case"map":switch(n.V.kind){case"scalar":case"enum":if(n.V.T===jf.ScalarType.BYTES)for(const[y,g]of Object.entries(s[i]))o[i][y]=y0(g);else Object.assign(o[i],s[i]);break;case"message":const h=n.V.T;for(const y of Object.keys(s[i])){let g=s[i][y];h.fieldWrapper||(g=new h(g)),o[i][y]=g}break}break;case"message":const p=n.T;if(n.repeated)o[i]=s[i].map(h=>(0,Uy.isMessage)(h,p)?h:new p(h));else{const h=s[i];p.fieldWrapper?p.typeName==="google.protobuf.BytesValue"?o[i]=y0(h):o[i]=h:o[i]=(0,Uy.isMessage)(h,p)?h:new p(h)}break}}},equals(e,t,r){return t===r?!0:!t||!r?!1:e.fields.byMember().every(n=>{const i=t[n.localName],o=r[n.localName];if(n.repeated){if(i.length!==o.length)return!1;switch(n.kind){case"message":return i.every((s,f)=>n.T.equals(s,o[f]));case"scalar":return i.every((s,f)=>(0,ma.scalarEquals)(n.T,s,o[f]));case"enum":return i.every((s,f)=>(0,ma.scalarEquals)(jf.ScalarType.INT32,s,o[f]))}throw new Error(`repeated cannot contain ${n.kind}`)}switch(n.kind){case"message":return n.T.equals(i,o);case"enum":return(0,ma.scalarEquals)(jf.ScalarType.INT32,i,o);case"scalar":return(0,ma.scalarEquals)(n.T,i,o);case"oneof":if(i.case!==o.case)return!1;const s=n.findField(i.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(i.value,o.value);case"enum":return(0,ma.scalarEquals)(jf.ScalarType.INT32,i.value,o.value);case"scalar":return(0,ma.scalarEquals)(s.T,i.value,o.value)}throw new Error(`oneof cannot contain ${s.kind}`);case"map":const f=Object.keys(i).concat(Object.keys(o));switch(n.V.kind){case"message":const d=n.V.T;return f.every(c=>d.equals(i[c],o[c]));case"enum":return f.every(c=>(0,ma.scalarEquals)(jf.ScalarType.INT32,i[c],o[c]));case"scalar":const a=n.V.T;return f.every(c=>(0,ma.scalarEquals)(a,i[c],o[c]))}break}})},clone(e){const t=e.getType(),r=new t,n=r;for(const i of t.fields.byMember()){const o=e[i.localName];let s;if(i.repeated)s=o.map(ry);else if(i.kind=="map"){s=n[i.localName];for(const[f,d]of Object.entries(o))s[f]=ry(d)}else i.kind=="oneof"?s=i.findField(o.case)?{case:o.case,value:ry(o.value)}:{case:void 0}:s=ry(o);n[i.localName]=s}for(const i of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(n,i.no,i.wireType,i.data);return r}}}em.makeUtilCommon=eV;function ry(e){if(e===void 0)return e;if((0,Uy.isMessage)(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function y0(e){return e instanceof Uint8Array?e:new Uint8Array(e)}Object.defineProperty(ip,"__esModule",{value:!0});ip.makeProtoRuntime=void 0;const wv=xi,tV=X1,rV=hs,nV=Z1,iV=Zc,oV=em;function sV(e,t,r){return{syntax:e,json:(0,nV.makeJsonFormat)(),bin:(0,iV.makeBinaryFormat)(),util:Object.assign(Object.assign({},(0,oV.makeUtilCommon)()),{newFieldList:t,initFields:r}),makeMessageType(n,i,o){return(0,tV.makeMessageType)(this,n,i,o)},makeEnum:wv.makeEnum,makeEnumType:wv.makeEnumType,getEnumType:wv.getEnumType,makeExtension(n,i,o){return(0,rV.makeExtension)(this,n,i,o)}}}ip.makeProtoRuntime=sV;var op={};Object.defineProperty(op,"__esModule",{value:!0});op.InternalFieldList=void 0;class aV{constructor(t,r){this._fields=t,this._normalizer=r}findJsonName(t){if(!this.jsonNames){const r={};for(const n of this.list())r[n.jsonName]=r[n.name]=n;this.jsonNames=r}return this.jsonNames[t]}find(t){if(!this.numbers){const r={};for(const n of this.list())r[n.no]=n;this.numbers=r}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,r)=>t.no-r.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let r;for(const n of this.list())n.oneof?n.oneof!==r&&(r=n.oneof,t.push(r)):t.push(n)}return this.members}}op.InternalFieldList=aV;var sp={},tm={},Dd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.safeIdentifier=e.safeObjectProperty=e.findEnumSharedPrefix=e.fieldJsonName=e.localOneofName=e.localFieldName=e.localName=void 0;function t(g){switch(g.kind){case"field":return r(g.name,g.oneof!==void 0);case"oneof":return n(g.name);case"enum":case"message":case"service":case"extension":{const v=g.file.proto.package,T=v===void 0?0:v.length+1,I=g.typeName.substring(T).replace(/\./g,"_");return(0,e.safeObjectProperty)((0,e.safeIdentifier)(I))}case"enum_value":{let v=g.name;const T=g.parent.sharedPrefix;return T!==void 0&&(v=v.substring(T.length)),(0,e.safeObjectProperty)(v)}case"rpc":{let v=g.name;return v.length==0?v:(v=v[0].toLowerCase()+v.substring(1),(0,e.safeObjectProperty)(v))}}}e.localName=t;function r(g,v){const T=s(g);return v?T:(0,e.safeObjectProperty)(p(T))}e.localFieldName=r;function n(g){return r(g,!1)}e.localOneofName=n,e.fieldJsonName=s;function i(g,v){const T=o(g)+"_";for(const I of v){if(!I.toLowerCase().startsWith(T))return;const _=I.substring(T.length);if(_.length==0||/^\d/.test(_))return}return T}e.findEnumSharedPrefix=i;function o(g){return(g.substring(0,1)+g.substring(1).replace(/[A-Z]/g,v=>"_"+v)).toLowerCase()}function s(g){let v=!1;const T=[];for(let I=0;I<g.length;I++){let _=g.charAt(I);switch(_){case"_":v=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":T.push(_),v=!1;break;default:v&&(v=!1,_=_.toUpperCase()),T.push(_);break}}return T.join("")}const f=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","Object","bigint","number","boolean","string","object","globalThis","Uint8Array","Partial"]),d=new Set(["constructor","toString","toJSON","valueOf"]),a=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),c=g=>`${g}$`,p=g=>a.has(g)?c(g):g,h=g=>d.has(g)?c(g):g;e.safeObjectProperty=h;const y=g=>f.has(g)?c(g):g;e.safeIdentifier=y})(Dd);Object.defineProperty(tm,"__esModule",{value:!0});tm.InternalOneofInfo=void 0;const fV=Dd,uV=tr;class cV{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=(0,fV.localOneofName)(t)}addField(t){(0,uV.assert)(t.oneof===this,`field ${t.name} not one of ${this.name}`),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let r=0;r<this.fields.length;r++)this._lookup[this.fields[r].localName]=this.fields[r]}return this._lookup[t]}}tm.InternalOneofInfo=cV;Object.defineProperty(sp,"__esModule",{value:!0});sp.normalizeFieldInfos=void 0;const dV=tm,oI=Dd,Tv=Pn;function lV(e,t){var r,n,i,o,s,f;const d=[];let a;for(const c of typeof e=="function"?e():e){const p=c;if(p.localName=(0,oI.localFieldName)(c.name,c.oneof!==void 0),p.jsonName=(r=c.jsonName)!==null&&r!==void 0?r:(0,oI.fieldJsonName)(c.name),p.repeated=(n=c.repeated)!==null&&n!==void 0?n:!1,c.kind=="scalar"&&(p.L=(i=c.L)!==null&&i!==void 0?i:Tv.LongType.BIGINT),p.delimited=(o=c.delimited)!==null&&o!==void 0?o:!1,p.req=(s=c.req)!==null&&s!==void 0?s:!1,p.opt=(f=c.opt)!==null&&f!==void 0?f:!1,c.packed===void 0&&(t?p.packed=c.kind=="enum"||c.kind=="scalar"&&c.T!=Tv.ScalarType.BYTES&&c.T!=Tv.ScalarType.STRING:p.packed=!1),c.oneof!==void 0){const h=typeof c.oneof=="string"?c.oneof:c.oneof.name;(!a||a.name!=h)&&(a=new dV.InternalOneofInfo(h)),p.oneof=a,a.addField(p)}d.push(p)}return d}sp.normalizeFieldInfos=lV;Object.defineProperty(Vn,"__esModule",{value:!0});Vn.proto3=void 0;const hV=ip,pV=op,yV=Ln,gV=sp;Vn.proto3=(0,hV.makeProtoRuntime)("proto3",e=>new pV.InternalFieldList(e,t=>(0,gV.normalizeFieldInfos)(t,!0)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const r=t.localName,n=e;if(t.repeated){n[r]=[];continue}switch(t.kind){case"oneof":n[r]={case:void 0};break;case"enum":n[r]=0;break;case"map":n[r]={};break;case"scalar":n[r]=(0,yV.scalarZeroValue)(t.T,t.L);break}}});var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.proto2=void 0;const mV=ip,bV=op,vV=sp;Ku.proto2=(0,mV.makeProtoRuntime)("proto2",e=>new bV.InternalFieldList(e,t=>(0,vV.normalizeFieldInfos)(t,!1)),e=>{for(const t of e.getType().fields.byMember()){const r=t.localName,n=e;if(t.repeated){n[r]=[];continue}switch(t.kind){case"oneof":n[r]={case:void 0};break;case"map":n[r]={};break}}});var rm={};Object.defineProperty(rm,"__esModule",{value:!0});rm.protoDouble=void 0;rm.protoDouble={NaN:Number.NaN,POSITIVE_INFINITY:Number.POSITIVE_INFINITY,NEGATIVE_INFINITY:Number.NEGATIVE_INFINITY};var PB={};(function(e){var t=Be&&Be.__asyncValues||function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o[Symbol.asyncIterator],f;return s?s.call(o):(o=typeof __values=="function"?__values(o):o[Symbol.iterator](),f={},d("next"),d("throw"),d("return"),f[Symbol.asyncIterator]=function(){return this},f);function d(c){f[c]=o[c]&&function(p){return new Promise(function(h,y){p=o[c](p),a(h,y,p.done,p.value)})}}function a(c,p,h,y){Promise.resolve(y).then(function(g){c({value:g,done:h})},p)}},r=Be&&Be.__await||function(o){return this instanceof r?(this.v=o,this):new r(o)},n=Be&&Be.__asyncGenerator||function(o,s,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=f.apply(o,s||[]),a,c=[];return a={},h("next"),h("throw"),h("return",p),a[Symbol.asyncIterator]=function(){return this},a;function p(_){return function(C){return Promise.resolve(C).then(_,T)}}function h(_,C){d[_]&&(a[_]=function(w){return new Promise(function(P,D){c.push([_,w,P,D])>1||y(_,w)})},C&&(a[_]=C(a[_])))}function y(_,C){try{g(d[_](C))}catch(w){I(c[0][3],w)}}function g(_){_.value instanceof r?Promise.resolve(_.value.v).then(v,T):I(c[0][2],_)}function v(_){y("next",_)}function T(_){y("throw",_)}function I(_,C){_(C),c.shift(),c.length&&y(c[0][0],c[0][1])}};Object.defineProperty(e,"__esModule",{value:!0}),e.protoDelimited=void 0;const i=ps;e.protoDelimited={enc(o,s){const f=o.getType().runtime.bin.makeWriteOptions(s);return f.writerFactory().bytes(o.toBinary(f)).finish()},dec(o,s,f){const d=o.runtime.bin.makeReadOptions(f);return o.fromBinary(d.readerFactory(s).bytes(),d)},decStream(o,s){return n(this,arguments,function*(){var d,a,c,p;function h(I,_){const C=new Uint8Array(I.byteLength+_.byteLength);return C.set(I),C.set(_,I.length),C}let y=new Uint8Array(0);try{for(var g=!0,v=t(s),T;T=yield r(v.next()),d=T.done,!d;g=!0)for(p=T.value,g=!1,y=h(y,p);;){const _=e.protoDelimited.peekSize(y);if(_.eof||_.offset+_.size>y.byteLength)break;yield yield r(e.protoDelimited.dec(o,y)),y=y.subarray(_.offset+_.size)}}catch(I){a={error:I}}finally{try{!g&&!d&&(c=v.return)&&(yield r(c.call(v)))}finally{if(a)throw a.error}}if(y.byteLength>0)throw new Error("incomplete data")})},peekSize(o){const s={eof:!0,size:null,offset:null};for(let f=0;f<10;f++){if(f>o.byteLength)return s;if(!(o[f]&128)){const d=new i.BinaryReader(o);let a;try{a=d.uint32()}catch(c){if(c instanceof RangeError)return s;throw c}return{eof:!1,size:a,offset:d.pos}}}throw new Error("invalid varint")}}})(PB);var nm={},im={};Object.defineProperty(im,"__esModule",{value:!0});im.reifyWkt=void 0;const yo=Pn;function _V(e){switch(e.typeName){case"google.protobuf.Any":{const t=e.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===yo.ScalarType.STRING),r=e.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===yo.ScalarType.BYTES);if(t&&r)return{typeName:e.typeName,typeUrl:t,value:r};break}case"google.protobuf.Timestamp":{const t=e.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===yo.ScalarType.INT64),r=e.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===yo.ScalarType.INT32);if(t&&r)return{typeName:e.typeName,seconds:t,nanos:r};break}case"google.protobuf.Duration":{const t=e.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===yo.ScalarType.INT64),r=e.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===yo.ScalarType.INT32);if(t&&r)return{typeName:e.typeName,seconds:t,nanos:r};break}case"google.protobuf.Struct":{const t=e.fields.find(r=>r.number==1&&!r.repeated);if((t==null?void 0:t.fieldKind)!=="map"||t.mapValue.kind!=="message"||t.mapValue.message.typeName!=="google.protobuf.Value")break;return{typeName:e.typeName,fields:t}}case"google.protobuf.Value":{const t=e.oneofs.find(d=>d.name==="kind"),r=e.fields.find(d=>d.number==1&&d.oneof===t);if((r==null?void 0:r.fieldKind)!=="enum"||r.enum.typeName!=="google.protobuf.NullValue")return;const n=e.fields.find(d=>d.number==2&&d.fieldKind=="scalar"&&d.scalar===yo.ScalarType.DOUBLE&&d.oneof===t),i=e.fields.find(d=>d.number==3&&d.fieldKind=="scalar"&&d.scalar===yo.ScalarType.STRING&&d.oneof===t),o=e.fields.find(d=>d.number==4&&d.fieldKind=="scalar"&&d.scalar===yo.ScalarType.BOOL&&d.oneof===t),s=e.fields.find(d=>d.number==5&&d.oneof===t);if((s==null?void 0:s.fieldKind)!=="message"||s.message.typeName!=="google.protobuf.Struct")return;const f=e.fields.find(d=>d.number==6&&d.oneof===t);if((f==null?void 0:f.fieldKind)!=="message"||f.message.typeName!=="google.protobuf.ListValue")return;if(t&&n&&i&&o)return{typeName:e.typeName,kind:t,nullValue:r,numberValue:n,stringValue:i,boolValue:o,structValue:s,listValue:f};break}case"google.protobuf.ListValue":{const t=e.fields.find(r=>r.number==1&&r.repeated);if((t==null?void 0:t.fieldKind)!="message"||t.message.typeName!=="google.protobuf.Value")break;return{typeName:e.typeName,values:t}}case"google.protobuf.FieldMask":{const t=e.fields.find(r=>r.number==1&&r.fieldKind=="scalar"&&r.scalar===yo.ScalarType.STRING&&r.repeated);if(t)return{typeName:e.typeName,paths:t};break}case"google.protobuf.DoubleValue":case"google.protobuf.FloatValue":case"google.protobuf.Int64Value":case"google.protobuf.UInt64Value":case"google.protobuf.Int32Value":case"google.protobuf.UInt32Value":case"google.protobuf.BoolValue":case"google.protobuf.StringValue":case"google.protobuf.BytesValue":{const t=e.fields.find(r=>r.number==1&&r.name=="value");if(!t||t.fieldKind!=="scalar")break;return{typeName:e.typeName,value:t}}}}im.reifyWkt=_V;Object.defineProperty(nm,"__esModule",{value:!0});nm.codegenInfo=void 0;const Iv=Dd,wV=Tf,sI=Ln,TV=im,jt="@bufbuild/protobuf";nm.codegenInfo={packageName:"@bufbuild/protobuf",localName:Iv.localName,reifyWkt:TV.reifyWkt,getUnwrappedFieldType:wV.getUnwrappedFieldType,scalarDefaultValue:sI.scalarZeroValue,scalarZeroValue:sI.scalarZeroValue,safeIdentifier:Iv.safeIdentifier,safeObjectProperty:Iv.safeObjectProperty,symbols:{proto2:{typeOnly:!1,privateImportPath:"./proto2.js",publicImportPath:jt},proto3:{typeOnly:!1,privateImportPath:"./proto3.js",publicImportPath:jt},Message:{typeOnly:!1,privateImportPath:"./message.js",publicImportPath:jt},PartialMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:jt},PlainMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:jt},FieldList:{typeOnly:!0,privateImportPath:"./field-list.js",publicImportPath:jt},MessageType:{typeOnly:!0,privateImportPath:"./message-type.js",publicImportPath:jt},Extension:{typeOnly:!0,privateImportPath:"./extension.js",publicImportPath:jt},BinaryReadOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:jt},BinaryWriteOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:jt},JsonReadOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:jt},JsonWriteOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:jt},JsonValue:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:jt},JsonObject:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:jt},protoDouble:{typeOnly:!1,privateImportPath:"./proto-double.js",publicImportPath:jt},protoInt64:{typeOnly:!1,privateImportPath:"./proto-int64.js",publicImportPath:jt},ScalarType:{typeOnly:!1,privateImportPath:"./scalar.js",publicImportPath:jt},LongType:{typeOnly:!1,privateImportPath:"./scalar.js",publicImportPath:jt},MethodKind:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:jt},MethodIdempotency:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:jt},IMessageTypeRegistry:{typeOnly:!0,privateImportPath:"./type-registry.js",publicImportPath:jt}},wktSourceFiles:["google/protobuf/compiler/plugin.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/wrappers.proto"]};var xu={};Object.defineProperty(xu,"__esModule",{value:!0});xu.MethodIdempotency=xu.MethodKind=void 0;var aI;(function(e){e[e.Unary=0]="Unary",e[e.ServerStreaming=1]="ServerStreaming",e[e.ClientStreaming=2]="ClientStreaming",e[e.BiDiStreaming=3]="BiDiStreaming"})(aI||(xu.MethodKind=aI={}));var fI;(function(e){e[e.NoSideEffects=1]="NoSideEffects",e[e.Idempotent=2]="Idempotent"})(fI||(xu.MethodIdempotency=fI={}));var ap={},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.GeneratedCodeInfo_Annotation_Semantic=Oe.GeneratedCodeInfo_Annotation=Oe.GeneratedCodeInfo=Oe.SourceCodeInfo_Location=Oe.SourceCodeInfo=Oe.FeatureSetDefaults_FeatureSetEditionDefault=Oe.FeatureSetDefaults=Oe.FeatureSet_JsonFormat=Oe.FeatureSet_MessageEncoding=Oe.FeatureSet_Utf8Validation=Oe.FeatureSet_RepeatedFieldEncoding=Oe.FeatureSet_EnumType=Oe.FeatureSet_FieldPresence=Oe.FeatureSet=Oe.UninterpretedOption_NamePart=Oe.UninterpretedOption=Oe.MethodOptions_IdempotencyLevel=Oe.MethodOptions=Oe.ServiceOptions=Oe.EnumValueOptions=Oe.EnumOptions=Oe.OneofOptions=Oe.FieldOptions_EditionDefault=Oe.FieldOptions_OptionTargetType=Oe.FieldOptions_OptionRetention=Oe.FieldOptions_JSType=Oe.FieldOptions_CType=Oe.FieldOptions=Oe.MessageOptions=Oe.FileOptions_OptimizeMode=Oe.FileOptions=Oe.MethodDescriptorProto=Oe.ServiceDescriptorProto=Oe.EnumValueDescriptorProto=Oe.EnumDescriptorProto_EnumReservedRange=Oe.EnumDescriptorProto=Oe.OneofDescriptorProto=Oe.FieldDescriptorProto_Label=Oe.FieldDescriptorProto_Type=Oe.FieldDescriptorProto=Oe.ExtensionRangeOptions_Declaration=Oe.ExtensionRangeOptions_VerificationState=Oe.ExtensionRangeOptions=Oe.DescriptorProto_ReservedRange=Oe.DescriptorProto_ExtensionRange=Oe.DescriptorProto=Oe.FileDescriptorProto=Oe.FileDescriptorSet=Oe.Edition=void 0;const Ie=Ku,et=br;var If;(function(e){e[e.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",e[e.EDITION_PROTO2=998]="EDITION_PROTO2",e[e.EDITION_PROTO3=999]="EDITION_PROTO3",e[e.EDITION_2023=1e3]="EDITION_2023",e[e.EDITION_2024=1001]="EDITION_2024",e[e.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",e[e.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",e[e.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",e[e.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",e[e.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",e[e.EDITION_MAX=2147483647]="EDITION_MAX"})(If||(Oe.Edition=If={}));Ie.proto2.util.setEnumType(If,"google.protobuf.Edition",[{no:0,name:"EDITION_UNKNOWN"},{no:998,name:"EDITION_PROTO2"},{no:999,name:"EDITION_PROTO3"},{no:1e3,name:"EDITION_2023"},{no:1001,name:"EDITION_2024"},{no:1,name:"EDITION_1_TEST_ONLY"},{no:2,name:"EDITION_2_TEST_ONLY"},{no:99997,name:"EDITION_99997_TEST_ONLY"},{no:99998,name:"EDITION_99998_TEST_ONLY"},{no:99999,name:"EDITION_99999_TEST_ONLY"},{no:2147483647,name:"EDITION_MAX"}]);class Us extends et.Message{constructor(t){super(),this.file=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Us().fromBinary(t,r)}static fromJson(t,r){return new Us().fromJson(t,r)}static fromJsonString(t,r){return new Us().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Us,t,r)}}Oe.FileDescriptorSet=Us;Us.runtime=Ie.proto2;Us.typeName="google.protobuf.FileDescriptorSet";Us.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"file",kind:"message",T:Co,repeated:!0}]);class Co extends et.Message{constructor(t){super(),this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Co().fromBinary(t,r)}static fromJson(t,r){return new Co().fromJson(t,r)}static fromJsonString(t,r){return new Co().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Co,t,r)}}Oe.FileDescriptorProto=Co;Co.runtime=Ie.proto2;Co.typeName="google.protobuf.FileDescriptorProto";Co.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"package",kind:"scalar",T:9,opt:!0},{no:3,name:"dependency",kind:"scalar",T:9,repeated:!0},{no:10,name:"public_dependency",kind:"scalar",T:5,repeated:!0},{no:11,name:"weak_dependency",kind:"scalar",T:5,repeated:!0},{no:4,name:"message_type",kind:"message",T:ji,repeated:!0},{no:5,name:"enum_type",kind:"message",T:Ki,repeated:!0},{no:6,name:"service",kind:"message",T:Uo,repeated:!0},{no:7,name:"extension",kind:"message",T:Si,repeated:!0},{no:8,name:"options",kind:"message",T:$o,opt:!0},{no:9,name:"source_code_info",kind:"message",T:Jo,opt:!0},{no:12,name:"syntax",kind:"scalar",T:9,opt:!0},{no:14,name:"edition",kind:"enum",T:Ie.proto2.getEnumType(If),opt:!0}]);class ji extends et.Message{constructor(t){super(),this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new ji().fromBinary(t,r)}static fromJson(t,r){return new ji().fromJson(t,r)}static fromJsonString(t,r){return new ji().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(ji,t,r)}}Oe.DescriptorProto=ji;ji.runtime=Ie.proto2;ji.typeName="google.protobuf.DescriptorProto";ji.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"field",kind:"message",T:Si,repeated:!0},{no:6,name:"extension",kind:"message",T:Si,repeated:!0},{no:3,name:"nested_type",kind:"message",T:ji,repeated:!0},{no:4,name:"enum_type",kind:"message",T:Ki,repeated:!0},{no:5,name:"extension_range",kind:"message",T:Do,repeated:!0},{no:8,name:"oneof_decl",kind:"message",T:Po,repeated:!0},{no:7,name:"options",kind:"message",T:Fo,opt:!0},{no:9,name:"reserved_range",kind:"message",T:Ro,repeated:!0},{no:10,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class Do extends et.Message{constructor(t){super(),Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Do().fromBinary(t,r)}static fromJson(t,r){return new Do().fromJson(t,r)}static fromJsonString(t,r){return new Do().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Do,t,r)}}Oe.DescriptorProto_ExtensionRange=Do;Do.runtime=Ie.proto2;Do.typeName="google.protobuf.DescriptorProto.ExtensionRange";Do.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:Oo,opt:!0}]);class Ro extends et.Message{constructor(t){super(),Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Ro().fromBinary(t,r)}static fromJson(t,r){return new Ro().fromJson(t,r)}static fromJsonString(t,r){return new Ro().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Ro,t,r)}}Oe.DescriptorProto_ReservedRange=Ro;Ro.runtime=Ie.proto2;Ro.typeName="google.protobuf.DescriptorProto.ReservedRange";Ro.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class Oo extends et.Message{constructor(t){super(),this.uninterpretedOption=[],this.declaration=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Oo().fromBinary(t,r)}static fromJson(t,r){return new Oo().fromJson(t,r)}static fromJsonString(t,r){return new Oo().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Oo,t,r)}}Oe.ExtensionRangeOptions=Oo;Oo.runtime=Ie.proto2;Oo.typeName="google.protobuf.ExtensionRangeOptions";Oo.fields=Ie.proto2.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:lr,repeated:!0},{no:2,name:"declaration",kind:"message",T:Ao,repeated:!0},{no:50,name:"features",kind:"message",T:rr,opt:!0},{no:3,name:"verification",kind:"enum",T:Ie.proto2.getEnumType(Xl),opt:!0,default:Xl.UNVERIFIED}]);var Xl;(function(e){e[e.DECLARATION=0]="DECLARATION",e[e.UNVERIFIED=1]="UNVERIFIED"})(Xl||(Oe.ExtensionRangeOptions_VerificationState=Xl={}));Ie.proto2.util.setEnumType(Xl,"google.protobuf.ExtensionRangeOptions.VerificationState",[{no:0,name:"DECLARATION"},{no:1,name:"UNVERIFIED"}]);class Ao extends et.Message{constructor(t){super(),Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Ao().fromBinary(t,r)}static fromJson(t,r){return new Ao().fromJson(t,r)}static fromJsonString(t,r){return new Ao().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Ao,t,r)}}Oe.ExtensionRangeOptions_Declaration=Ao;Ao.runtime=Ie.proto2;Ao.typeName="google.protobuf.ExtensionRangeOptions.Declaration";Ao.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"number",kind:"scalar",T:5,opt:!0},{no:2,name:"full_name",kind:"scalar",T:9,opt:!0},{no:3,name:"type",kind:"scalar",T:9,opt:!0},{no:5,name:"reserved",kind:"scalar",T:8,opt:!0},{no:6,name:"repeated",kind:"scalar",T:8,opt:!0}]);class Si extends et.Message{constructor(t){super(),Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Si().fromBinary(t,r)}static fromJson(t,r){return new Si().fromJson(t,r)}static fromJsonString(t,r){return new Si().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Si,t,r)}}Oe.FieldDescriptorProto=Si;Si.runtime=Ie.proto2;Si.typeName="google.protobuf.FieldDescriptorProto";Si.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:3,name:"number",kind:"scalar",T:5,opt:!0},{no:4,name:"label",kind:"enum",T:Ie.proto2.getEnumType(hg),opt:!0},{no:5,name:"type",kind:"enum",T:Ie.proto2.getEnumType(lg),opt:!0},{no:6,name:"type_name",kind:"scalar",T:9,opt:!0},{no:2,name:"extendee",kind:"scalar",T:9,opt:!0},{no:7,name:"default_value",kind:"scalar",T:9,opt:!0},{no:9,name:"oneof_index",kind:"scalar",T:5,opt:!0},{no:10,name:"json_name",kind:"scalar",T:9,opt:!0},{no:8,name:"options",kind:"message",T:Lo,opt:!0},{no:17,name:"proto3_optional",kind:"scalar",T:8,opt:!0}]);var lg;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.GROUP=10]="GROUP",e[e.MESSAGE=11]="MESSAGE",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.ENUM=14]="ENUM",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(lg||(Oe.FieldDescriptorProto_Type=lg={}));Ie.proto2.util.setEnumType(lg,"google.protobuf.FieldDescriptorProto.Type",[{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var hg;(function(e){e[e.OPTIONAL=1]="OPTIONAL",e[e.REPEATED=3]="REPEATED",e[e.REQUIRED=2]="REQUIRED"})(hg||(Oe.FieldDescriptorProto_Label=hg={}));Ie.proto2.util.setEnumType(hg,"google.protobuf.FieldDescriptorProto.Label",[{no:1,name:"LABEL_OPTIONAL"},{no:3,name:"LABEL_REPEATED"},{no:2,name:"LABEL_REQUIRED"}]);class Po extends et.Message{constructor(t){super(),Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Po().fromBinary(t,r)}static fromJson(t,r){return new Po().fromJson(t,r)}static fromJsonString(t,r){return new Po().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Po,t,r)}}Oe.OneofDescriptorProto=Po;Po.runtime=Ie.proto2;Po.typeName="google.protobuf.OneofDescriptorProto";Po.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"options",kind:"message",T:Ko,opt:!0}]);class Ki extends et.Message{constructor(t){super(),this.value=[],this.reservedRange=[],this.reservedName=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Ki().fromBinary(t,r)}static fromJson(t,r){return new Ki().fromJson(t,r)}static fromJsonString(t,r){return new Ki().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Ki,t,r)}}Oe.EnumDescriptorProto=Ki;Ki.runtime=Ie.proto2;Ki.typeName="google.protobuf.EnumDescriptorProto";Ki.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"value",kind:"message",T:Mo,repeated:!0},{no:3,name:"options",kind:"message",T:Ho,opt:!0},{no:4,name:"reserved_range",kind:"message",T:No,repeated:!0},{no:5,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class No extends et.Message{constructor(t){super(),Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new No().fromBinary(t,r)}static fromJson(t,r){return new No().fromJson(t,r)}static fromJsonString(t,r){return new No().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(No,t,r)}}Oe.EnumDescriptorProto_EnumReservedRange=No;No.runtime=Ie.proto2;No.typeName="google.protobuf.EnumDescriptorProto.EnumReservedRange";No.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class Mo extends et.Message{constructor(t){super(),Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Mo().fromBinary(t,r)}static fromJson(t,r){return new Mo().fromJson(t,r)}static fromJsonString(t,r){return new Mo().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Mo,t,r)}}Oe.EnumValueDescriptorProto=Mo;Mo.runtime=Ie.proto2;Mo.typeName="google.protobuf.EnumValueDescriptorProto";Mo.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"number",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:qo,opt:!0}]);class Uo extends et.Message{constructor(t){super(),this.method=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Uo().fromBinary(t,r)}static fromJson(t,r){return new Uo().fromJson(t,r)}static fromJsonString(t,r){return new Uo().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Uo,t,r)}}Oe.ServiceDescriptorProto=Uo;Uo.runtime=Ie.proto2;Uo.typeName="google.protobuf.ServiceDescriptorProto";Uo.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"method",kind:"message",T:ko,repeated:!0},{no:3,name:"options",kind:"message",T:Vo,opt:!0}]);class ko extends et.Message{constructor(t){super(),Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new ko().fromBinary(t,r)}static fromJson(t,r){return new ko().fromJson(t,r)}static fromJsonString(t,r){return new ko().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(ko,t,r)}}Oe.MethodDescriptorProto=ko;ko.runtime=Ie.proto2;ko.typeName="google.protobuf.MethodDescriptorProto";ko.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"input_type",kind:"scalar",T:9,opt:!0},{no:3,name:"output_type",kind:"scalar",T:9,opt:!0},{no:4,name:"options",kind:"message",T:zo,opt:!0},{no:5,name:"client_streaming",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"server_streaming",kind:"scalar",T:8,opt:!0,default:!1}]);class $o extends et.Message{constructor(t){super(),this.uninterpretedOption=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new $o().fromBinary(t,r)}static fromJson(t,r){return new $o().fromJson(t,r)}static fromJsonString(t,r){return new $o().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals($o,t,r)}}Oe.FileOptions=$o;$o.runtime=Ie.proto2;$o.typeName="google.protobuf.FileOptions";$o.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"java_package",kind:"scalar",T:9,opt:!0},{no:8,name:"java_outer_classname",kind:"scalar",T:9,opt:!0},{no:10,name:"java_multiple_files",kind:"scalar",T:8,opt:!0,default:!1},{no:20,name:"java_generate_equals_and_hash",kind:"scalar",T:8,opt:!0},{no:27,name:"java_string_check_utf8",kind:"scalar",T:8,opt:!0,default:!1},{no:9,name:"optimize_for",kind:"enum",T:Ie.proto2.getEnumType(Zl),opt:!0,default:Zl.SPEED},{no:11,name:"go_package",kind:"scalar",T:9,opt:!0},{no:16,name:"cc_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"java_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:18,name:"py_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:23,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:31,name:"cc_enable_arenas",kind:"scalar",T:8,opt:!0,default:!0},{no:36,name:"objc_class_prefix",kind:"scalar",T:9,opt:!0},{no:37,name:"csharp_namespace",kind:"scalar",T:9,opt:!0},{no:39,name:"swift_prefix",kind:"scalar",T:9,opt:!0},{no:40,name:"php_class_prefix",kind:"scalar",T:9,opt:!0},{no:41,name:"php_namespace",kind:"scalar",T:9,opt:!0},{no:44,name:"php_metadata_namespace",kind:"scalar",T:9,opt:!0},{no:45,name:"ruby_package",kind:"scalar",T:9,opt:!0},{no:50,name:"features",kind:"message",T:rr,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:lr,repeated:!0}]);var Zl;(function(e){e[e.SPEED=1]="SPEED",e[e.CODE_SIZE=2]="CODE_SIZE",e[e.LITE_RUNTIME=3]="LITE_RUNTIME"})(Zl||(Oe.FileOptions_OptimizeMode=Zl={}));Ie.proto2.util.setEnumType(Zl,"google.protobuf.FileOptions.OptimizeMode",[{no:1,name:"SPEED"},{no:2,name:"CODE_SIZE"},{no:3,name:"LITE_RUNTIME"}]);class Fo extends et.Message{constructor(t){super(),this.uninterpretedOption=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Fo().fromBinary(t,r)}static fromJson(t,r){return new Fo().fromJson(t,r)}static fromJsonString(t,r){return new Fo().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Fo,t,r)}}Oe.MessageOptions=Fo;Fo.runtime=Ie.proto2;Fo.typeName="google.protobuf.MessageOptions";Fo.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"message_set_wire_format",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"no_standard_descriptor_accessor",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:7,name:"map_entry",kind:"scalar",T:8,opt:!0},{no:11,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:12,name:"features",kind:"message",T:rr,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:lr,repeated:!0}]);class Lo extends et.Message{constructor(t){super(),this.targets=[],this.editionDefaults=[],this.uninterpretedOption=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Lo().fromBinary(t,r)}static fromJson(t,r){return new Lo().fromJson(t,r)}static fromJsonString(t,r){return new Lo().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Lo,t,r)}}Oe.FieldOptions=Lo;Lo.runtime=Ie.proto2;Lo.typeName="google.protobuf.FieldOptions";Lo.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"ctype",kind:"enum",T:Ie.proto2.getEnumType(Ql),opt:!0,default:Ql.STRING},{no:2,name:"packed",kind:"scalar",T:8,opt:!0},{no:6,name:"jstype",kind:"enum",T:Ie.proto2.getEnumType(eh),opt:!0,default:eh.JS_NORMAL},{no:5,name:"lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:15,name:"unverified_lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:10,name:"weak",kind:"scalar",T:8,opt:!0,default:!1},{no:16,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"retention",kind:"enum",T:Ie.proto2.getEnumType(pg),opt:!0},{no:19,name:"targets",kind:"enum",T:Ie.proto2.getEnumType(yg),repeated:!0},{no:20,name:"edition_defaults",kind:"message",T:jo,repeated:!0},{no:21,name:"features",kind:"message",T:rr,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:lr,repeated:!0}]);var Ql;(function(e){e[e.STRING=0]="STRING",e[e.CORD=1]="CORD",e[e.STRING_PIECE=2]="STRING_PIECE"})(Ql||(Oe.FieldOptions_CType=Ql={}));Ie.proto2.util.setEnumType(Ql,"google.protobuf.FieldOptions.CType",[{no:0,name:"STRING"},{no:1,name:"CORD"},{no:2,name:"STRING_PIECE"}]);var eh;(function(e){e[e.JS_NORMAL=0]="JS_NORMAL",e[e.JS_STRING=1]="JS_STRING",e[e.JS_NUMBER=2]="JS_NUMBER"})(eh||(Oe.FieldOptions_JSType=eh={}));Ie.proto2.util.setEnumType(eh,"google.protobuf.FieldOptions.JSType",[{no:0,name:"JS_NORMAL"},{no:1,name:"JS_STRING"},{no:2,name:"JS_NUMBER"}]);var pg;(function(e){e[e.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",e[e.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",e[e.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(pg||(Oe.FieldOptions_OptionRetention=pg={}));Ie.proto2.util.setEnumType(pg,"google.protobuf.FieldOptions.OptionRetention",[{no:0,name:"RETENTION_UNKNOWN"},{no:1,name:"RETENTION_RUNTIME"},{no:2,name:"RETENTION_SOURCE"}]);var yg;(function(e){e[e.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",e[e.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",e[e.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",e[e.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",e[e.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",e[e.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",e[e.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",e[e.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",e[e.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",e[e.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(yg||(Oe.FieldOptions_OptionTargetType=yg={}));Ie.proto2.util.setEnumType(yg,"google.protobuf.FieldOptions.OptionTargetType",[{no:0,name:"TARGET_TYPE_UNKNOWN"},{no:1,name:"TARGET_TYPE_FILE"},{no:2,name:"TARGET_TYPE_EXTENSION_RANGE"},{no:3,name:"TARGET_TYPE_MESSAGE"},{no:4,name:"TARGET_TYPE_FIELD"},{no:5,name:"TARGET_TYPE_ONEOF"},{no:6,name:"TARGET_TYPE_ENUM"},{no:7,name:"TARGET_TYPE_ENUM_ENTRY"},{no:8,name:"TARGET_TYPE_SERVICE"},{no:9,name:"TARGET_TYPE_METHOD"}]);class jo extends et.Message{constructor(t){super(),Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new jo().fromBinary(t,r)}static fromJson(t,r){return new jo().fromJson(t,r)}static fromJsonString(t,r){return new jo().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(jo,t,r)}}Oe.FieldOptions_EditionDefault=jo;jo.runtime=Ie.proto2;jo.typeName="google.protobuf.FieldOptions.EditionDefault";jo.fields=Ie.proto2.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:Ie.proto2.getEnumType(If),opt:!0},{no:2,name:"value",kind:"scalar",T:9,opt:!0}]);class Ko extends et.Message{constructor(t){super(),this.uninterpretedOption=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Ko().fromBinary(t,r)}static fromJson(t,r){return new Ko().fromJson(t,r)}static fromJsonString(t,r){return new Ko().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Ko,t,r)}}Oe.OneofOptions=Ko;Ko.runtime=Ie.proto2;Ko.typeName="google.protobuf.OneofOptions";Ko.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"features",kind:"message",T:rr,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:lr,repeated:!0}]);class Ho extends et.Message{constructor(t){super(),this.uninterpretedOption=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Ho().fromBinary(t,r)}static fromJson(t,r){return new Ho().fromJson(t,r)}static fromJsonString(t,r){return new Ho().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Ho,t,r)}}Oe.EnumOptions=Ho;Ho.runtime=Ie.proto2;Ho.typeName="google.protobuf.EnumOptions";Ho.fields=Ie.proto2.util.newFieldList(()=>[{no:2,name:"allow_alias",kind:"scalar",T:8,opt:!0},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:7,name:"features",kind:"message",T:rr,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:lr,repeated:!0}]);class qo extends et.Message{constructor(t){super(),this.uninterpretedOption=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new qo().fromBinary(t,r)}static fromJson(t,r){return new qo().fromJson(t,r)}static fromJsonString(t,r){return new qo().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(qo,t,r)}}Oe.EnumValueOptions=qo;qo.runtime=Ie.proto2;qo.typeName="google.protobuf.EnumValueOptions";qo.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"features",kind:"message",T:rr,opt:!0},{no:3,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:lr,repeated:!0}]);class Vo extends et.Message{constructor(t){super(),this.uninterpretedOption=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Vo().fromBinary(t,r)}static fromJson(t,r){return new Vo().fromJson(t,r)}static fromJsonString(t,r){return new Vo().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Vo,t,r)}}Oe.ServiceOptions=Vo;Vo.runtime=Ie.proto2;Vo.typeName="google.protobuf.ServiceOptions";Vo.fields=Ie.proto2.util.newFieldList(()=>[{no:34,name:"features",kind:"message",T:rr,opt:!0},{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:lr,repeated:!0}]);class zo extends et.Message{constructor(t){super(),this.uninterpretedOption=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new zo().fromBinary(t,r)}static fromJson(t,r){return new zo().fromJson(t,r)}static fromJsonString(t,r){return new zo().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(zo,t,r)}}Oe.MethodOptions=zo;zo.runtime=Ie.proto2;zo.typeName="google.protobuf.MethodOptions";zo.fields=Ie.proto2.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:34,name:"idempotency_level",kind:"enum",T:Ie.proto2.getEnumType(th),opt:!0,default:th.IDEMPOTENCY_UNKNOWN},{no:35,name:"features",kind:"message",T:rr,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:lr,repeated:!0}]);var th;(function(e){e[e.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",e[e.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",e[e.IDEMPOTENT=2]="IDEMPOTENT"})(th||(Oe.MethodOptions_IdempotencyLevel=th={}));Ie.proto2.util.setEnumType(th,"google.protobuf.MethodOptions.IdempotencyLevel",[{no:0,name:"IDEMPOTENCY_UNKNOWN"},{no:1,name:"NO_SIDE_EFFECTS"},{no:2,name:"IDEMPOTENT"}]);class lr extends et.Message{constructor(t){super(),this.name=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new lr().fromBinary(t,r)}static fromJson(t,r){return new lr().fromJson(t,r)}static fromJsonString(t,r){return new lr().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(lr,t,r)}}Oe.UninterpretedOption=lr;lr.runtime=Ie.proto2;lr.typeName="google.protobuf.UninterpretedOption";lr.fields=Ie.proto2.util.newFieldList(()=>[{no:2,name:"name",kind:"message",T:Yo,repeated:!0},{no:3,name:"identifier_value",kind:"scalar",T:9,opt:!0},{no:4,name:"positive_int_value",kind:"scalar",T:4,opt:!0},{no:5,name:"negative_int_value",kind:"scalar",T:3,opt:!0},{no:6,name:"double_value",kind:"scalar",T:1,opt:!0},{no:7,name:"string_value",kind:"scalar",T:12,opt:!0},{no:8,name:"aggregate_value",kind:"scalar",T:9,opt:!0}]);class Yo extends et.Message{constructor(t){super(),Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Yo().fromBinary(t,r)}static fromJson(t,r){return new Yo().fromJson(t,r)}static fromJsonString(t,r){return new Yo().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Yo,t,r)}}Oe.UninterpretedOption_NamePart=Yo;Yo.runtime=Ie.proto2;Yo.typeName="google.protobuf.UninterpretedOption.NamePart";Yo.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"name_part",kind:"scalar",T:9,req:!0},{no:2,name:"is_extension",kind:"scalar",T:8,req:!0}]);class rr extends et.Message{constructor(t){super(),Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new rr().fromBinary(t,r)}static fromJson(t,r){return new rr().fromJson(t,r)}static fromJsonString(t,r){return new rr().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(rr,t,r)}}Oe.FeatureSet=rr;rr.runtime=Ie.proto2;rr.typeName="google.protobuf.FeatureSet";rr.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"field_presence",kind:"enum",T:Ie.proto2.getEnumType(gg),opt:!0},{no:2,name:"enum_type",kind:"enum",T:Ie.proto2.getEnumType(mg),opt:!0},{no:3,name:"repeated_field_encoding",kind:"enum",T:Ie.proto2.getEnumType(bg),opt:!0},{no:4,name:"utf8_validation",kind:"enum",T:Ie.proto2.getEnumType(vg),opt:!0},{no:5,name:"message_encoding",kind:"enum",T:Ie.proto2.getEnumType(_g),opt:!0},{no:6,name:"json_format",kind:"enum",T:Ie.proto2.getEnumType(wg),opt:!0}]);var gg;(function(e){e[e.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",e[e.EXPLICIT=1]="EXPLICIT",e[e.IMPLICIT=2]="IMPLICIT",e[e.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(gg||(Oe.FeatureSet_FieldPresence=gg={}));Ie.proto2.util.setEnumType(gg,"google.protobuf.FeatureSet.FieldPresence",[{no:0,name:"FIELD_PRESENCE_UNKNOWN"},{no:1,name:"EXPLICIT"},{no:2,name:"IMPLICIT"},{no:3,name:"LEGACY_REQUIRED"}]);var mg;(function(e){e[e.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",e[e.OPEN=1]="OPEN",e[e.CLOSED=2]="CLOSED"})(mg||(Oe.FeatureSet_EnumType=mg={}));Ie.proto2.util.setEnumType(mg,"google.protobuf.FeatureSet.EnumType",[{no:0,name:"ENUM_TYPE_UNKNOWN"},{no:1,name:"OPEN"},{no:2,name:"CLOSED"}]);var bg;(function(e){e[e.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",e[e.PACKED=1]="PACKED",e[e.EXPANDED=2]="EXPANDED"})(bg||(Oe.FeatureSet_RepeatedFieldEncoding=bg={}));Ie.proto2.util.setEnumType(bg,"google.protobuf.FeatureSet.RepeatedFieldEncoding",[{no:0,name:"REPEATED_FIELD_ENCODING_UNKNOWN"},{no:1,name:"PACKED"},{no:2,name:"EXPANDED"}]);var vg;(function(e){e[e.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",e[e.VERIFY=2]="VERIFY",e[e.NONE=3]="NONE"})(vg||(Oe.FeatureSet_Utf8Validation=vg={}));Ie.proto2.util.setEnumType(vg,"google.protobuf.FeatureSet.Utf8Validation",[{no:0,name:"UTF8_VALIDATION_UNKNOWN"},{no:2,name:"VERIFY"},{no:3,name:"NONE"}]);var _g;(function(e){e[e.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",e[e.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",e[e.DELIMITED=2]="DELIMITED"})(_g||(Oe.FeatureSet_MessageEncoding=_g={}));Ie.proto2.util.setEnumType(_g,"google.protobuf.FeatureSet.MessageEncoding",[{no:0,name:"MESSAGE_ENCODING_UNKNOWN"},{no:1,name:"LENGTH_PREFIXED"},{no:2,name:"DELIMITED"}]);var wg;(function(e){e[e.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",e[e.ALLOW=1]="ALLOW",e[e.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(wg||(Oe.FeatureSet_JsonFormat=wg={}));Ie.proto2.util.setEnumType(wg,"google.protobuf.FeatureSet.JsonFormat",[{no:0,name:"JSON_FORMAT_UNKNOWN"},{no:1,name:"ALLOW"},{no:2,name:"LEGACY_BEST_EFFORT"}]);class ks extends et.Message{constructor(t){super(),this.defaults=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new ks().fromBinary(t,r)}static fromJson(t,r){return new ks().fromJson(t,r)}static fromJsonString(t,r){return new ks().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(ks,t,r)}}Oe.FeatureSetDefaults=ks;ks.runtime=Ie.proto2;ks.typeName="google.protobuf.FeatureSetDefaults";ks.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"defaults",kind:"message",T:Go,repeated:!0},{no:4,name:"minimum_edition",kind:"enum",T:Ie.proto2.getEnumType(If),opt:!0},{no:5,name:"maximum_edition",kind:"enum",T:Ie.proto2.getEnumType(If),opt:!0}]);class Go extends et.Message{constructor(t){super(),Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Go().fromBinary(t,r)}static fromJson(t,r){return new Go().fromJson(t,r)}static fromJsonString(t,r){return new Go().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Go,t,r)}}Oe.FeatureSetDefaults_FeatureSetEditionDefault=Go;Go.runtime=Ie.proto2;Go.typeName="google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault";Go.fields=Ie.proto2.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:Ie.proto2.getEnumType(If),opt:!0},{no:2,name:"features",kind:"message",T:rr,opt:!0}]);class Jo extends et.Message{constructor(t){super(),this.location=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Jo().fromBinary(t,r)}static fromJson(t,r){return new Jo().fromJson(t,r)}static fromJsonString(t,r){return new Jo().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Jo,t,r)}}Oe.SourceCodeInfo=Jo;Jo.runtime=Ie.proto2;Jo.typeName="google.protobuf.SourceCodeInfo";Jo.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"location",kind:"message",T:Wo,repeated:!0}]);class Wo extends et.Message{constructor(t){super(),this.path=[],this.span=[],this.leadingDetachedComments=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Wo().fromBinary(t,r)}static fromJson(t,r){return new Wo().fromJson(t,r)}static fromJsonString(t,r){return new Wo().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Wo,t,r)}}Oe.SourceCodeInfo_Location=Wo;Wo.runtime=Ie.proto2;Wo.typeName="google.protobuf.SourceCodeInfo.Location";Wo.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"span",kind:"scalar",T:5,repeated:!0,packed:!0},{no:3,name:"leading_comments",kind:"scalar",T:9,opt:!0},{no:4,name:"trailing_comments",kind:"scalar",T:9,opt:!0},{no:6,name:"leading_detached_comments",kind:"scalar",T:9,repeated:!0}]);class $s extends et.Message{constructor(t){super(),this.annotation=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new $s().fromBinary(t,r)}static fromJson(t,r){return new $s().fromJson(t,r)}static fromJsonString(t,r){return new $s().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals($s,t,r)}}Oe.GeneratedCodeInfo=$s;$s.runtime=Ie.proto2;$s.typeName="google.protobuf.GeneratedCodeInfo";$s.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"annotation",kind:"message",T:Xo,repeated:!0}]);class Xo extends et.Message{constructor(t){super(),this.path=[],Ie.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Xo().fromBinary(t,r)}static fromJson(t,r){return new Xo().fromJson(t,r)}static fromJsonString(t,r){return new Xo().fromJsonString(t,r)}static equals(t,r){return Ie.proto2.util.equals(Xo,t,r)}}Oe.GeneratedCodeInfo_Annotation=Xo;Xo.runtime=Ie.proto2;Xo.typeName="google.protobuf.GeneratedCodeInfo.Annotation";Xo.fields=Ie.proto2.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"source_file",kind:"scalar",T:9,opt:!0},{no:3,name:"begin",kind:"scalar",T:5,opt:!0},{no:4,name:"end",kind:"scalar",T:5,opt:!0},{no:5,name:"semantic",kind:"enum",T:Ie.proto2.getEnumType(Tg),opt:!0}]);var Tg;(function(e){e[e.NONE=0]="NONE",e[e.SET=1]="SET",e[e.ALIAS=2]="ALIAS"})(Tg||(Oe.GeneratedCodeInfo_Annotation_Semantic=Tg={}));Ie.proto2.util.setEnumType(Tg,"google.protobuf.GeneratedCodeInfo.Annotation.Semantic",[{no:0,name:"NONE"},{no:1,name:"SET"},{no:2,name:"ALIAS"}]);var Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});Qc.parseTextFormatScalarValue=Qc.parseTextFormatEnumValue=void 0;const IV=tr,_3=fo,pn=Pn;function EV(e,t){const r=e.values.find(n=>n.name===t);return(0,IV.assert)(r,`cannot parse ${e.name} default value: ${t}`),r.number}Qc.parseTextFormatEnumValue=EV;function xV(e,t){switch(e){case pn.ScalarType.STRING:return t;case pn.ScalarType.BYTES:{const r=SV(t);if(r===!1)throw new Error(`cannot parse ${pn.ScalarType[e]} default value: ${t}`);return r}case pn.ScalarType.INT64:case pn.ScalarType.SFIXED64:case pn.ScalarType.SINT64:return _3.protoInt64.parse(t);case pn.ScalarType.UINT64:case pn.ScalarType.FIXED64:return _3.protoInt64.uParse(t);case pn.ScalarType.DOUBLE:case pn.ScalarType.FLOAT:switch(t){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(t)}case pn.ScalarType.BOOL:return t==="true";case pn.ScalarType.INT32:case pn.ScalarType.UINT32:case pn.ScalarType.SINT32:case pn.ScalarType.FIXED32:case pn.ScalarType.SFIXED32:return parseInt(t,10)}}Qc.parseTextFormatScalarValue=xV;function SV(e){const t=[],r={tail:e,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(n){if(this.tail.length>=n){const i=this.tail.substring(0,n);return this.tail=this.tail.substring(n),i}return!1}};for(;r.next();)switch(r.c){case"\\":if(r.next())switch(r.c){case"\\":t.push(r.c.charCodeAt(0));break;case"b":t.push(8);break;case"f":t.push(12);break;case"n":t.push(10);break;case"r":t.push(13);break;case"t":t.push(9);break;case"v":t.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const n=r.c,i=r.take(2);if(i===!1)return!1;const o=parseInt(n+i,8);if(isNaN(o))return!1;t.push(o);break}case"x":{const n=r.c,i=r.take(2);if(i===!1)return!1;const o=parseInt(n+i,16);if(isNaN(o))return!1;t.push(o);break}case"u":{const n=r.c,i=r.take(4);if(i===!1)return!1;const o=parseInt(n+i,16);if(isNaN(o))return!1;const s=new Uint8Array(4);new DataView(s.buffer).setInt32(0,o,!0),t.push(s[0],s[1],s[2],s[3]);break}case"U":{const n=r.c,i=r.take(8);if(i===!1)return!1;const o=_3.protoInt64.uEnc(n+i),s=new Uint8Array(8),f=new DataView(s.buffer);f.setInt32(0,o.lo,!0),f.setInt32(4,o.hi,!0),t.push(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7]);break}}break;default:t.push(r.c.charCodeAt(0))}return new Uint8Array(t)}var om={};Object.defineProperty(om,"__esModule",{value:!0});om.createFeatureResolver=void 0;const vo=Oe,BV=Cd;function CV(e){return vo.FeatureSetDefaults.fromBinary(BV.protoBase64.dec("ChESDAgBEAIYAiADKAEwAhjmBwoREgwIAhABGAEgAigBMAEY5wcKERIMCAEQARgBIAIoATABGOgHIOYHKOgH"),e)}function DV(e,t,r){var n,i;const o=t??CV(r),s=o.minimumEdition,f=o.maximumEdition;if(s===void 0||f===void 0||o.defaults.some(c=>c.edition===void 0))throw new Error("Invalid FeatureSetDefaults");if(e<s)throw new Error(`Edition ${vo.Edition[e]} is earlier than the minimum supported edition ${vo.Edition[s]}`);if(f<e)throw new Error(`Edition ${vo.Edition[e]} is later than the maximum supported edition ${vo.Edition[f]}`);let d;for(const c of o.defaults){const p=(n=c.edition)!==null&&n!==void 0?n:0;p>e||d!==void 0&&d.e>p||(d={e:p,f:(i=c.features)!==null&&i!==void 0?i:new vo.FeatureSet})}if(d===void 0)throw new Error(`No valid default found for edition ${vo.Edition[e]}`);const a=d.f.toBinary(r);return(...c)=>{const p=vo.FeatureSet.fromBinary(a,r);for(const h of c)h!==void 0&&p.fromBinary(h.toBinary(r),r);if(!RV(p))throw new Error(`Invalid FeatureSet for edition ${vo.Edition[e]}`);return p}}om.createFeatureResolver=DV;function RV(e){for(const t of vo.FeatureSet.fields.list()){const r=e[t.localName];if(r===void 0||t.kind=="enum"&&r===0)return!1}return!0}Object.defineProperty(ap,"__esModule",{value:!0});ap.createDescriptorSet=void 0;const $e=Oe,rt=tr,ic=xu,NB=Dd,uI=Qc,OV=om,xt=Pn,AV=uo;function PV(e,t){var r;const n={files:[],enums:new Map,messages:new Map,services:new Map,extensions:new Map,mapEntries:new Map},i=(0,AV.isMessage)(e,$e.FileDescriptorSet)?e.file:e instanceof Uint8Array?$e.FileDescriptorSet.fromBinary(e).file:e,o=new Map;for(const s of i){const f=(r=s.edition)!==null&&r!==void 0?r:$B(s.syntax,s.edition).edition;let d=o.get(f);d===void 0&&(d=(0,OV.createFeatureResolver)(f,t==null?void 0:t.featureSetDefaults,t==null?void 0:t.serializationOptions),o.set(f,d)),NV(s,n,d)}return n}ap.createDescriptorSet=PV;function NV(e,t,r){var n,i;(0,rt.assert)(e.name,"invalid FileDescriptorProto: missing name");const o=Object.assign(Object.assign({kind:"file",proto:e,deprecated:(i=(n=e.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1},$B(e.syntax,e.edition)),{name:e.name.replace(/\.proto/,""),dependencies:$V(e,t),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${this.proto.name}`},getSyntaxComments(){return bs(this.proto.sourceCodeInfo,[jn.FileDescriptorProto_Syntax])},getPackageComments(){return bs(this.proto.sourceCodeInfo,[jn.FileDescriptorProto_Package])},getFeatures(){var s;return r((s=e.options)===null||s===void 0?void 0:s.features)}});t.mapEntries.clear();for(const s of e.enumType)MB(s,o,void 0,t,r);for(const s of e.messageType)UB(s,o,void 0,t,r);for(const s of e.service)MV(s,o,t,r);w3(o,t,r);for(const s of t.mapEntries.values())T3(s,t,r);for(const s of o.messages)T3(s,t,r),w3(s,t,r);t.mapEntries.clear(),t.files.push(o)}function w3(e,t,r){switch(e.kind){case"file":for(const n of e.proto.extension){const i=cI(n,e,void 0,t,r);e.extensions.push(i),t.extensions.set(i.typeName,i)}break;case"message":for(const n of e.proto.extension){const i=cI(n,e.file,e,t,r);e.nestedExtensions.push(i),t.extensions.set(i.typeName,i)}for(const n of e.nestedMessages)w3(n,t,r);break}}function T3(e,t,r){const n=e.proto.oneofDecl.map(o=>kV(o,e,r)),i=new Set;for(const o of e.proto.field){const s=LV(o,n),f=kB(o,e.file,e,s,t,r);e.fields.push(f),s===void 0?e.members.push(f):(s.fields.push(f),i.has(s)||(i.add(s),e.members.push(s)))}for(const o of n.filter(s=>i.has(s)))e.oneofs.push(o);for(const o of e.nestedMessages)T3(o,t,r)}function MB(e,t,r,n,i){var o,s,f;(0,rt.assert)(e.name,"invalid EnumDescriptorProto: missing name");const d={kind:"enum",proto:e,deprecated:(s=(o=e.options)===null||o===void 0?void 0:o.deprecated)!==null&&s!==void 0?s:!1,file:t,parent:r,name:e.name,typeName:sm(e,r,t),values:[],sharedPrefix:(0,NB.findEnumSharedPrefix)(e.name,e.value.map(a=>{var c;return(c=a.name)!==null&&c!==void 0?c:""})),toString(){return`enum ${this.typeName}`},getComments(){const a=this.parent?[...this.parent.getComments().sourcePath,jn.DescriptorProto_EnumType,this.parent.proto.enumType.indexOf(this.proto)]:[jn.FileDescriptorProto_EnumType,this.file.proto.enumType.indexOf(this.proto)];return bs(t.proto.sourceCodeInfo,a)},getFeatures(){var a,c;return i((a=r==null?void 0:r.getFeatures())!==null&&a!==void 0?a:t.getFeatures(),(c=e.options)===null||c===void 0?void 0:c.features)}};n.enums.set(d.typeName,d),e.value.forEach(a=>{var c,p;(0,rt.assert)(a.name,"invalid EnumValueDescriptorProto: missing name"),(0,rt.assert)(a.number!==void 0,"invalid EnumValueDescriptorProto: missing number"),d.values.push({kind:"enum_value",proto:a,deprecated:(p=(c=a.options)===null||c===void 0?void 0:c.deprecated)!==null&&p!==void 0?p:!1,parent:d,name:a.name,number:a.number,toString(){return`enum value ${d.typeName}.${this.name}`},declarationString(){var h;let y=`${this.name} = ${this.number}`;return((h=this.proto.options)===null||h===void 0?void 0:h.deprecated)===!0&&(y+=" [deprecated = true]"),y},getComments(){const h=[...this.parent.getComments().sourcePath,jn.EnumDescriptorProto_Value,this.parent.proto.value.indexOf(this.proto)];return bs(t.proto.sourceCodeInfo,h)},getFeatures(){var h;return i(d.getFeatures(),(h=a.options)===null||h===void 0?void 0:h.features)}})}),((f=r==null?void 0:r.nestedEnums)!==null&&f!==void 0?f:t.enums).push(d)}function UB(e,t,r,n,i){var o,s,f,d;(0,rt.assert)(e.name,"invalid DescriptorProto: missing name");const a={kind:"message",proto:e,deprecated:(s=(o=e.options)===null||o===void 0?void 0:o.deprecated)!==null&&s!==void 0?s:!1,file:t,parent:r,name:e.name,typeName:sm(e,r,t),fields:[],oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`},getComments(){const c=this.parent?[...this.parent.getComments().sourcePath,jn.DescriptorProto_NestedType,this.parent.proto.nestedType.indexOf(this.proto)]:[jn.FileDescriptorProto_MessageType,this.file.proto.messageType.indexOf(this.proto)];return bs(t.proto.sourceCodeInfo,c)},getFeatures(){var c,p;return i((c=r==null?void 0:r.getFeatures())!==null&&c!==void 0?c:t.getFeatures(),(p=e.options)===null||p===void 0?void 0:p.features)}};((f=e.options)===null||f===void 0?void 0:f.mapEntry)===!0?n.mapEntries.set(a.typeName,a):(((d=r==null?void 0:r.nestedMessages)!==null&&d!==void 0?d:t.messages).push(a),n.messages.set(a.typeName,a));for(const c of e.enumType)MB(c,t,a,n,i);for(const c of e.nestedType)UB(c,t,a,n,i)}function MV(e,t,r,n){var i,o;(0,rt.assert)(e.name,"invalid ServiceDescriptorProto: missing name");const s={kind:"service",proto:e,deprecated:(o=(i=e.options)===null||i===void 0?void 0:i.deprecated)!==null&&o!==void 0?o:!1,file:t,name:e.name,typeName:sm(e,void 0,t),methods:[],toString(){return`service ${this.typeName}`},getComments(){const f=[jn.FileDescriptorProto_Service,this.file.proto.service.indexOf(this.proto)];return bs(t.proto.sourceCodeInfo,f)},getFeatures(){var f;return n(t.getFeatures(),(f=e.options)===null||f===void 0?void 0:f.features)}};t.services.push(s),r.services.set(s.typeName,s);for(const f of e.method)s.methods.push(UV(f,s,r,n))}function UV(e,t,r,n){var i,o,s;(0,rt.assert)(e.name,"invalid MethodDescriptorProto: missing name"),(0,rt.assert)(e.inputType,"invalid MethodDescriptorProto: missing input_type"),(0,rt.assert)(e.outputType,"invalid MethodDescriptorProto: missing output_type");let f;e.clientStreaming===!0&&e.serverStreaming===!0?f=ic.MethodKind.BiDiStreaming:e.clientStreaming===!0?f=ic.MethodKind.ClientStreaming:e.serverStreaming===!0?f=ic.MethodKind.ServerStreaming:f=ic.MethodKind.Unary;let d;switch((i=e.options)===null||i===void 0?void 0:i.idempotencyLevel){case $e.MethodOptions_IdempotencyLevel.IDEMPOTENT:d=ic.MethodIdempotency.Idempotent;break;case $e.MethodOptions_IdempotencyLevel.NO_SIDE_EFFECTS:d=ic.MethodIdempotency.NoSideEffects;break;case $e.MethodOptions_IdempotencyLevel.IDEMPOTENCY_UNKNOWN:case void 0:d=void 0;break}const a=r.messages.get(vc(e.inputType)),c=r.messages.get(vc(e.outputType));(0,rt.assert)(a,`invalid MethodDescriptorProto: input_type ${e.inputType} not found`),(0,rt.assert)(c,`invalid MethodDescriptorProto: output_type ${e.inputType} not found`);const p=e.name;return{kind:"rpc",proto:e,deprecated:(s=(o=e.options)===null||o===void 0?void 0:o.deprecated)!==null&&s!==void 0?s:!1,parent:t,name:p,methodKind:f,input:a,output:c,idempotency:d,toString(){return`rpc ${t.typeName}.${p}`},getComments(){const h=[...this.parent.getComments().sourcePath,jn.ServiceDescriptorProto_Method,this.parent.proto.method.indexOf(this.proto)];return bs(t.file.proto.sourceCodeInfo,h)},getFeatures(){var h;return n(t.getFeatures(),(h=e.options)===null||h===void 0?void 0:h.features)}}}function kV(e,t,r){return(0,rt.assert)(e.name,"invalid OneofDescriptorProto: missing name"),{kind:"oneof",proto:e,deprecated:!1,parent:t,fields:[],name:e.name,toString(){return`oneof ${t.typeName}.${this.name}`},getComments(){const n=[...this.parent.getComments().sourcePath,jn.DescriptorProto_OneofDecl,this.parent.proto.oneofDecl.indexOf(this.proto)];return bs(t.file.proto.sourceCodeInfo,n)},getFeatures(){var n;return r(t.getFeatures(),(n=e.options)===null||n===void 0?void 0:n.features)}}}function kB(e,t,r,n,i,o){var s,f,d;(0,rt.assert)(e.name,"invalid FieldDescriptorProto: missing name"),(0,rt.assert)(e.number,"invalid FieldDescriptorProto: missing number"),(0,rt.assert)(e.type,"invalid FieldDescriptorProto: missing type");const a={proto:e,deprecated:(f=(s=e.options)===null||s===void 0?void 0:s.deprecated)!==null&&f!==void 0?f:!1,name:e.name,number:e.number,parent:r,oneof:n,optional:jV(e,t.syntax),packedByDefault:KV(e,o),packed:HV(t,r,e,o),jsonName:e.jsonName===(0,NB.fieldJsonName)(e.name)?void 0:e.jsonName,scalar:void 0,longType:void 0,message:void 0,enum:void 0,mapKey:void 0,mapValue:void 0,declarationString:VV,toString(){return`field ${this.parent.typeName}.${this.name}`},getComments(){const p=[...this.parent.getComments().sourcePath,jn.DescriptorProto_Field,this.parent.proto.field.indexOf(this.proto)];return bs(t.proto.sourceCodeInfo,p)},getFeatures(){var p;return o(r.getFeatures(),(p=e.options)===null||p===void 0?void 0:p.features)}},c=e.label===$e.FieldDescriptorProto_Label.REPEATED;switch(e.type){case $e.FieldDescriptorProto_Type.MESSAGE:case $e.FieldDescriptorProto_Type.GROUP:{(0,rt.assert)(e.typeName,"invalid FieldDescriptorProto: missing type_name");const p=i.mapEntries.get(vc(e.typeName));if(p!==void 0)return(0,rt.assert)(c,"invalid FieldDescriptorProto: expected map entry to be repeated"),Object.assign(Object.assign(Object.assign({},a),{kind:"field",fieldKind:"map",repeated:!1}),FV(p));const h=i.messages.get(vc(e.typeName));return(0,rt.assert)(h!==void 0,`invalid FieldDescriptorProto: type_name ${e.typeName} not found`),Object.assign(Object.assign({},a),{kind:"field",fieldKind:"message",repeated:c,message:h})}case $e.FieldDescriptorProto_Type.ENUM:{(0,rt.assert)(e.typeName,"invalid FieldDescriptorProto: missing type_name");const p=i.enums.get(vc(e.typeName));return(0,rt.assert)(p!==void 0,`invalid FieldDescriptorProto: type_name ${e.typeName} not found`),Object.assign(Object.assign({},a),{kind:"field",fieldKind:"enum",getDefaultValue:dI,repeated:c,enum:p})}default:{const p=qV[e.type];return(0,rt.assert)(p,`invalid FieldDescriptorProto: unknown type ${e.type}`),Object.assign(Object.assign({},a),{kind:"field",fieldKind:"scalar",getDefaultValue:dI,repeated:c,scalar:p,longType:((d=e.options)===null||d===void 0?void 0:d.jstype)==$e.FieldOptions_JSType.JS_STRING?xt.LongType.STRING:xt.LongType.BIGINT})}}}function cI(e,t,r,n,i){(0,rt.assert)(e.extendee,"invalid FieldDescriptorProto: missing extendee");const o=kB(e,t,null,void 0,n,i),s=n.messages.get(vc(e.extendee));return(0,rt.assert)(s,`invalid FieldDescriptorProto: extendee ${e.extendee} not found`),Object.assign(Object.assign({},o),{kind:"extension",typeName:sm(e,r,t),parent:r,file:t,extendee:s,toString(){return`extension ${this.typeName}`},getComments(){const f=this.parent?[...this.parent.getComments().sourcePath,jn.DescriptorProto_Extension,this.parent.proto.extension.indexOf(e)]:[jn.FileDescriptorProto_Extension,this.file.proto.extension.indexOf(e)];return bs(t.proto.sourceCodeInfo,f)},getFeatures(){var f;return i((r??t).getFeatures(),(f=e.options)===null||f===void 0?void 0:f.features)}})}function $B(e,t){let r,n;switch(e){case void 0:case"proto2":n="proto2",r=$e.Edition.EDITION_PROTO2;break;case"proto3":n="proto3",r=$e.Edition.EDITION_PROTO3;break;case"editions":switch(n="editions",t){case void 0:case $e.Edition.EDITION_1_TEST_ONLY:case $e.Edition.EDITION_2_TEST_ONLY:case $e.Edition.EDITION_99997_TEST_ONLY:case $e.Edition.EDITION_99998_TEST_ONLY:case $e.Edition.EDITION_99999_TEST_ONLY:case $e.Edition.EDITION_UNKNOWN:r=$e.Edition.EDITION_UNKNOWN;break;default:r=t;break}break;default:throw new Error(`invalid FileDescriptorProto: unsupported syntax: ${e}`)}if(e==="editions"&&t===$e.Edition.EDITION_UNKNOWN)throw new Error(`invalid FileDescriptorProto: syntax ${e} cannot have edition ${String(t)}`);return{syntax:n,edition:r}}function $V(e,t){return e.dependency.map(r=>{const n=t.files.find(i=>i.proto.name===r);return(0,rt.assert)(n),n})}function sm(e,t,r){(0,rt.assert)(e.name,`invalid ${e.getType().typeName}: missing name`);let n;return t?n=`${t.typeName}.${e.name}`:r.proto.package!==void 0?n=`${r.proto.package}.${e.name}`:n=`${e.name}`,n}function vc(e){return e.startsWith(".")?e.substring(1):e}function FV(e){var t,r;(0,rt.assert)((t=e.proto.options)===null||t===void 0?void 0:t.mapEntry,`invalid DescriptorProto: expected ${e.toString()} to be a map entry`),(0,rt.assert)(e.fields.length===2,`invalid DescriptorProto: map entry ${e.toString()} has ${e.fields.length} fields`);const n=e.fields.find(s=>s.proto.number===1);(0,rt.assert)(n,`invalid DescriptorProto: map entry ${e.toString()} is missing key field`);const i=n.scalar;(0,rt.assert)(i!==void 0&&i!==xt.ScalarType.BYTES&&i!==xt.ScalarType.FLOAT&&i!==xt.ScalarType.DOUBLE,`invalid DescriptorProto: map entry ${e.toString()} has unexpected key type ${(r=n.proto.type)!==null&&r!==void 0?r:-1}`);const o=e.fields.find(s=>s.proto.number===2);switch((0,rt.assert)(o,`invalid DescriptorProto: map entry ${e.toString()} is missing value field`),o.fieldKind){case"scalar":return{mapKey:i,mapValue:Object.assign(Object.assign({},o),{kind:"scalar"})};case"message":return{mapKey:i,mapValue:Object.assign(Object.assign({},o),{kind:"message"})};case"enum":return{mapKey:i,mapValue:Object.assign(Object.assign({},o),{kind:"enum"})};default:throw new Error("invalid DescriptorProto: unsupported map entry value field")}}function LV(e,t){var r;const n=e.oneofIndex;if(n===void 0)return;let i;return e.proto3Optional!==!0&&(i=t[n],(0,rt.assert)(i,`invalid FieldDescriptorProto: oneof #${n} for field #${(r=e.number)!==null&&r!==void 0?r:-1} not found`)),i}function jV(e,t){switch(t){case"proto2":return e.oneofIndex===void 0&&e.label===$e.FieldDescriptorProto_Label.OPTIONAL;case"proto3":return e.proto3Optional===!0;case"editions":return!1}}function KV(e,t){const{repeatedFieldEncoding:r}=t();if(r!=$e.FeatureSet_RepeatedFieldEncoding.PACKED)return!1;switch(e.type){case $e.FieldDescriptorProto_Type.STRING:case $e.FieldDescriptorProto_Type.BYTES:case $e.FieldDescriptorProto_Type.GROUP:case $e.FieldDescriptorProto_Type.MESSAGE:return!1;default:return!0}}function HV(e,t,r,n){var i,o,s,f,d,a;switch(r.type){case $e.FieldDescriptorProto_Type.STRING:case $e.FieldDescriptorProto_Type.BYTES:case $e.FieldDescriptorProto_Type.GROUP:case $e.FieldDescriptorProto_Type.MESSAGE:return!1;default:switch(e.edition){case $e.Edition.EDITION_PROTO2:return(o=(i=r.options)===null||i===void 0?void 0:i.packed)!==null&&o!==void 0?o:!1;case $e.Edition.EDITION_PROTO3:return(f=(s=r.options)===null||s===void 0?void 0:s.packed)!==null&&f!==void 0?f:!0;default:{const{repeatedFieldEncoding:c}=n((d=t==null?void 0:t.getFeatures())!==null&&d!==void 0?d:e.getFeatures(),(a=r.options)===null||a===void 0?void 0:a.features);return c==$e.FeatureSet_RepeatedFieldEncoding.PACKED}}}}const qV={[$e.FieldDescriptorProto_Type.DOUBLE]:xt.ScalarType.DOUBLE,[$e.FieldDescriptorProto_Type.FLOAT]:xt.ScalarType.FLOAT,[$e.FieldDescriptorProto_Type.INT64]:xt.ScalarType.INT64,[$e.FieldDescriptorProto_Type.UINT64]:xt.ScalarType.UINT64,[$e.FieldDescriptorProto_Type.INT32]:xt.ScalarType.INT32,[$e.FieldDescriptorProto_Type.FIXED64]:xt.ScalarType.FIXED64,[$e.FieldDescriptorProto_Type.FIXED32]:xt.ScalarType.FIXED32,[$e.FieldDescriptorProto_Type.BOOL]:xt.ScalarType.BOOL,[$e.FieldDescriptorProto_Type.STRING]:xt.ScalarType.STRING,[$e.FieldDescriptorProto_Type.GROUP]:void 0,[$e.FieldDescriptorProto_Type.MESSAGE]:void 0,[$e.FieldDescriptorProto_Type.BYTES]:xt.ScalarType.BYTES,[$e.FieldDescriptorProto_Type.UINT32]:xt.ScalarType.UINT32,[$e.FieldDescriptorProto_Type.ENUM]:void 0,[$e.FieldDescriptorProto_Type.SFIXED32]:xt.ScalarType.SFIXED32,[$e.FieldDescriptorProto_Type.SFIXED64]:xt.ScalarType.SFIXED64,[$e.FieldDescriptorProto_Type.SINT32]:xt.ScalarType.SINT32,[$e.FieldDescriptorProto_Type.SINT64]:xt.ScalarType.SINT64};function bs(e,t){if(!e)return{leadingDetached:[],sourcePath:t};for(const r of e.location)if(r.path.length===t.length&&!r.path.some((n,i)=>t[i]!==n))return{leadingDetached:r.leadingDetachedComments,leading:r.leadingComments,trailing:r.trailingComments,sourcePath:t};return{leadingDetached:[],sourcePath:t}}var jn;(function(e){e[e.FileDescriptorProto_Package=2]="FileDescriptorProto_Package",e[e.FileDescriptorProto_MessageType=4]="FileDescriptorProto_MessageType",e[e.FileDescriptorProto_EnumType=5]="FileDescriptorProto_EnumType",e[e.FileDescriptorProto_Service=6]="FileDescriptorProto_Service",e[e.FileDescriptorProto_Extension=7]="FileDescriptorProto_Extension",e[e.FileDescriptorProto_Syntax=12]="FileDescriptorProto_Syntax",e[e.DescriptorProto_Field=2]="DescriptorProto_Field",e[e.DescriptorProto_NestedType=3]="DescriptorProto_NestedType",e[e.DescriptorProto_EnumType=4]="DescriptorProto_EnumType",e[e.DescriptorProto_Extension=6]="DescriptorProto_Extension",e[e.DescriptorProto_OneofDecl=8]="DescriptorProto_OneofDecl",e[e.EnumDescriptorProto_Value=2]="EnumDescriptorProto_Value",e[e.ServiceDescriptorProto_Method=2]="ServiceDescriptorProto_Method"})(jn||(jn={}));function VV(){var e,t,r;const n=[];this.repeated&&n.push("repeated"),this.optional&&n.push("optional"),(this.kind==="extension"?this.file:this.parent.file).syntax=="proto2"&&this.proto.label===$e.FieldDescriptorProto_Label.REQUIRED&&n.push("required");let o;switch(this.fieldKind){case"scalar":o=xt.ScalarType[this.scalar].toLowerCase();break;case"enum":o=this.enum.typeName;break;case"message":o=this.message.typeName;break;case"map":{const d=xt.ScalarType[this.mapKey].toLowerCase();let a;switch(this.mapValue.kind){case"scalar":a=xt.ScalarType[this.mapValue.scalar].toLowerCase();break;case"enum":a=this.mapValue.enum.typeName;break;case"message":a=this.mapValue.message.typeName;break}o=`map<${d}, ${a}>`;break}}n.push(`${o} ${this.name} = ${this.number}`);const s=[];((e=this.proto.options)===null||e===void 0?void 0:e.packed)!==void 0&&s.push(`packed = ${this.proto.options.packed.toString()}`);let f=this.proto.defaultValue;return f!==void 0&&((this.proto.type==$e.FieldDescriptorProto_Type.BYTES||this.proto.type==$e.FieldDescriptorProto_Type.STRING)&&(f='"'+f.replace('"','\\"')+'"'),s.push(`default = ${f}`)),this.jsonName!==void 0&&s.push(`json_name = "${this.jsonName}"`),((t=this.proto.options)===null||t===void 0?void 0:t.jstype)!==void 0&&s.push(`jstype = ${$e.FieldOptions_JSType[this.proto.options.jstype]}`),((r=this.proto.options)===null||r===void 0?void 0:r.deprecated)===!0&&s.push("deprecated = true"),s.length>0&&n.push("["+s.join(", ")+"]"),n.join(" ")}function dI(){const e=this.proto.defaultValue;if(e!==void 0)switch(this.fieldKind){case"enum":return(0,uI.parseTextFormatEnumValue)(this.enum,e);case"scalar":return(0,uI.parseTextFormatScalarValue)(this.scalar,e);default:return}}var am={};Object.defineProperty(am,"__esModule",{value:!0});am.createRegistry=void 0;function zV(...e){const t={},r={},n={},i=new Map,o=new Map,s={findMessage(a){return t[a]},findEnum(a){return r[a]},findService(a){return n[a]},findExtensionFor(a,c){var p,h;return(h=(p=o.get(a))===null||p===void 0?void 0:p.get(c))!==null&&h!==void 0?h:void 0},findExtension(a){var c;return(c=i.get(a))!==null&&c!==void 0?c:void 0}};function f(a){var c;if("fields"in a)s.findMessage(a.typeName)||(t[a.typeName]=a,a.fields.list().forEach(d));else if("methods"in a){if(!s.findService(a.typeName)){n[a.typeName]=a;for(const p of Object.values(a.methods))f(p.I),f(p.O)}}else if("extendee"in a){if(!i.has(a.typeName)){i.set(a.typeName,a);const p=a.extendee.typeName;o.has(p)||o.set(p,new Map),(c=o.get(p))===null||c===void 0||c.set(a.field.no,a),f(a.extendee),d(a.field)}}else r[a.typeName]=a}function d(a){a.kind=="message"?f(a.T):a.kind=="map"&&a.V.kind=="message"?f(a.V.T):a.kind=="enum"&&f(a.T)}for(const a of e)f(a);return s}am.createRegistry=zV;var fm={},fp={};Object.defineProperty(fp,"__esModule",{value:!0});fp.Timestamp=void 0;const YV=br,Ev=fo,j0=Vn;class ki extends YV.Message{constructor(t){super(),this.seconds=Ev.protoInt64.zero,this.nanos=0,j0.proto3.util.initPartial(t,this)}fromJson(t,r){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${j0.proto3.json.debug(t)}`);const n=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Ev.protoInt64.parse(i/1e3),this.nanos=0,n[7]&&(this.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),this}toJson(t){const r=Number(this.seconds)*1e3;if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let n="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?n="."+i.substring(0,3)+"Z":i.substring(6)==="000"?n="."+i.substring(0,6)+"Z":n="."+i+"Z"}return new Date(r).toISOString().replace(".000Z",n)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return ki.fromDate(new Date)}static fromDate(t){const r=t.getTime();return new ki({seconds:Ev.protoInt64.parse(Math.floor(r/1e3)),nanos:r%1e3*1e6})}static fromBinary(t,r){return new ki().fromBinary(t,r)}static fromJson(t,r){return new ki().fromJson(t,r)}static fromJsonString(t,r){return new ki().fromJsonString(t,r)}static equals(t,r){return j0.proto3.util.equals(ki,t,r)}}fp.Timestamp=ki;ki.runtime=j0.proto3;ki.typeName="google.protobuf.Timestamp";ki.fields=j0.proto3.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);var up={};Object.defineProperty(up,"__esModule",{value:!0});up.Duration=void 0;const GV=br,lI=fo,Vf=Vn;class Fs extends GV.Message{constructor(t){super(),this.seconds=lI.protoInt64.zero,this.nanos=0,Vf.proto3.util.initPartial(t,this)}fromJson(t,r){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Vf.proto3.json.debug(t)}`);const n=t.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(n===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Vf.proto3.json.debug(t)}`);const i=Number(n[1]);if(i>315576e6||i<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Vf.proto3.json.debug(t)}`);if(this.seconds=lI.protoInt64.parse(i),typeof n[2]=="string"){const o=n[2]+"0".repeat(9-n[2].length);this.nanos=parseInt(o),(i<0||Object.is(i,-0))&&(this.nanos=-this.nanos)}return this}toJson(t){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let r=this.seconds.toString();if(this.nanos!==0){let n=Math.abs(this.nanos).toString();n="0".repeat(9-n.length)+n,n.substring(3)==="000000"?n=n.substring(0,3):n.substring(6)==="000"&&(n=n.substring(0,6)),r+="."+n,this.nanos<0&&Number(this.seconds)==0&&(r="-"+r)}return r+"s"}static fromBinary(t,r){return new Fs().fromBinary(t,r)}static fromJson(t,r){return new Fs().fromJson(t,r)}static fromJsonString(t,r){return new Fs().fromJsonString(t,r)}static equals(t,r){return Vf.proto3.util.equals(Fs,t,r)}}up.Duration=Fs;Fs.runtime=Vf.proto3;Fs.typeName="google.protobuf.Duration";Fs.fields=Vf.proto3.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);var Rd={};Object.defineProperty(Rd,"__esModule",{value:!0});Rd.Any=void 0;const JV=br,Ig=Vn;class Eo extends JV.Message{constructor(t){super(),this.typeUrl="",this.value=new Uint8Array(0),Ig.proto3.util.initPartial(t,this)}toJson(t){var r;if(this.typeUrl==="")return{};const n=this.typeUrlToName(this.typeUrl),i=(r=t==null?void 0:t.typeRegistry)===null||r===void 0?void 0:r.findMessage(n);if(!i)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let s=i.fromBinary(this.value).toJson(t);return(n.startsWith("google.protobuf.")||s===null||Array.isArray(s)||typeof s!="object")&&(s={value:s}),s["@type"]=this.typeUrl,s}fromJson(t,r){var n;if(t===null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${t===null?"null":Array.isArray(t)?"array":typeof t}`);if(Object.keys(t).length==0)return this;const i=t["@type"];if(typeof i!="string"||i=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const o=this.typeUrlToName(i),s=(n=r==null?void 0:r.typeRegistry)===null||n===void 0?void 0:n.findMessage(o);if(!s)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${i} is not in the type registry`);let f;if(o.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(t,"value"))f=s.fromJson(t.value,r);else{const d=Object.assign({},t);delete d["@type"],f=s.fromJson(d,r)}return this.packFrom(f),this}packFrom(t){this.value=t.toBinary(),this.typeUrl=this.typeNameToUrl(t.getType().typeName)}unpackTo(t){return this.is(t.getType())?(t.fromBinary(this.value),!0):!1}unpack(t){if(this.typeUrl==="")return;const r=t.findMessage(this.typeUrlToName(this.typeUrl));if(r)return r.fromBinary(this.value)}is(t){if(this.typeUrl==="")return!1;const r=this.typeUrlToName(this.typeUrl);let n="";return typeof t=="string"?n=t:n=t.typeName,r===n}typeNameToUrl(t){return`type.googleapis.com/${t}`}typeUrlToName(t){if(!t.length)throw new Error(`invalid type url: ${t}`);const r=t.lastIndexOf("/"),n=r>=0?t.substring(r+1):t;if(!n.length)throw new Error(`invalid type url: ${t}`);return n}static pack(t){const r=new Eo;return r.packFrom(t),r}static fromBinary(t,r){return new Eo().fromBinary(t,r)}static fromJson(t,r){return new Eo().fromJson(t,r)}static fromJsonString(t,r){return new Eo().fromJsonString(t,r)}static equals(t,r){return Ig.proto3.util.equals(Eo,t,r)}}Rd.Any=Eo;Eo.runtime=Ig.proto3;Eo.typeName="google.protobuf.Any";Eo.fields=Ig.proto3.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);var cp={};Object.defineProperty(cp,"__esModule",{value:!0});cp.Empty=void 0;const WV=br,Eg=Vn;class Ls extends WV.Message{constructor(t){super(),Eg.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new Ls().fromBinary(t,r)}static fromJson(t,r){return new Ls().fromJson(t,r)}static fromJsonString(t,r){return new Ls().fromJsonString(t,r)}static equals(t,r){return Eg.proto3.util.equals(Ls,t,r)}}cp.Empty=Ls;Ls.runtime=Eg.proto3;Ls.typeName="google.protobuf.Empty";Ls.fields=Eg.proto3.util.newFieldList(()=>[]);var dp={};Object.defineProperty(dp,"__esModule",{value:!0});dp.FieldMask=void 0;const XV=br,K0=Vn;class js extends XV.Message{constructor(t){super(),this.paths=[],K0.proto3.util.initPartial(t,this)}toJson(t){function r(n){let i=!1;const o=[];for(let s=0;s<n.length;s++){let f=n.charAt(s);switch(f){case"_":i=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":o.push(f),i=!1;break;default:i&&(i=!1,f=f.toUpperCase()),o.push(f);break}}return o.join("")}return this.paths.map(n=>{if(n.match(/_[0-9]?_/g)||n.match(/[A-Z]/g))throw new Error('cannot encode google.protobuf.FieldMask to JSON: lowerCamelCase of path name "'+n+'" is irreversible');return r(n)}).join(",")}fromJson(t,r){if(typeof t!="string")throw new Error("cannot decode google.protobuf.FieldMask from JSON: "+K0.proto3.json.debug(t));if(t==="")return this;function n(i){if(i.includes("_"))throw new Error("cannot decode google.protobuf.FieldMask from JSON: path names must be lowerCamelCase");const o=i.replace(/[A-Z]/g,s=>"_"+s.toLowerCase());return o[0]==="_"?o.substring(1):o}return this.paths=t.split(",").map(n),this}static fromBinary(t,r){return new js().fromBinary(t,r)}static fromJson(t,r){return new js().fromJson(t,r)}static fromJsonString(t,r){return new js().fromJsonString(t,r)}static equals(t,r){return K0.proto3.util.equals(js,t,r)}}dp.FieldMask=js;js.runtime=K0.proto3;js.typeName="google.protobuf.FieldMask";js.fields=K0.proto3.util.newFieldList(()=>[{no:1,name:"paths",kind:"scalar",T:9,repeated:!0}]);var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.ListValue=Hi.Value=Hi.Struct=Hi.NullValue=void 0;const Or=Vn,Q6=br;var rh;(function(e){e[e.NULL_VALUE=0]="NULL_VALUE"})(rh||(Hi.NullValue=rh={}));Or.proto3.util.setEnumType(rh,"google.protobuf.NullValue",[{no:0,name:"NULL_VALUE"}]);class qi extends Q6.Message{constructor(t){super(),this.fields={},Or.proto3.util.initPartial(t,this)}toJson(t){const r={};for(const[n,i]of Object.entries(this.fields))r[n]=i.toJson(t);return r}fromJson(t,r){if(typeof t!="object"||t==null||Array.isArray(t))throw new Error("cannot decode google.protobuf.Struct from JSON "+Or.proto3.json.debug(t));for(const[n,i]of Object.entries(t))this.fields[n]=ci.fromJson(i);return this}static fromBinary(t,r){return new qi().fromBinary(t,r)}static fromJson(t,r){return new qi().fromJson(t,r)}static fromJsonString(t,r){return new qi().fromJsonString(t,r)}static equals(t,r){return Or.proto3.util.equals(qi,t,r)}}Hi.Struct=qi;qi.runtime=Or.proto3;qi.typeName="google.protobuf.Struct";qi.fields=Or.proto3.util.newFieldList(()=>[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:ci}}]);class ci extends Q6.Message{constructor(t){super(),this.kind={case:void 0},Or.proto3.util.initPartial(t,this)}toJson(t){switch(this.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(this.kind.value))throw new Error("google.protobuf.Value cannot be NaN or Infinity");return this.kind.value;case"boolValue":return this.kind.value;case"stringValue":return this.kind.value;case"structValue":case"listValue":return this.kind.value.toJson(Object.assign(Object.assign({},t),{emitDefaultValues:!0}))}throw new Error("google.protobuf.Value must have a value")}fromJson(t,r){switch(typeof t){case"number":this.kind={case:"numberValue",value:t};break;case"string":this.kind={case:"stringValue",value:t};break;case"boolean":this.kind={case:"boolValue",value:t};break;case"object":t===null?this.kind={case:"nullValue",value:rh.NULL_VALUE}:Array.isArray(t)?this.kind={case:"listValue",value:Vi.fromJson(t)}:this.kind={case:"structValue",value:qi.fromJson(t)};break;default:throw new Error("cannot decode google.protobuf.Value from JSON "+Or.proto3.json.debug(t))}return this}static fromBinary(t,r){return new ci().fromBinary(t,r)}static fromJson(t,r){return new ci().fromJson(t,r)}static fromJsonString(t,r){return new ci().fromJsonString(t,r)}static equals(t,r){return Or.proto3.util.equals(ci,t,r)}}Hi.Value=ci;ci.runtime=Or.proto3;ci.typeName="google.protobuf.Value";ci.fields=Or.proto3.util.newFieldList(()=>[{no:1,name:"null_value",kind:"enum",T:Or.proto3.getEnumType(rh),oneof:"kind"},{no:2,name:"number_value",kind:"scalar",T:1,oneof:"kind"},{no:3,name:"string_value",kind:"scalar",T:9,oneof:"kind"},{no:4,name:"bool_value",kind:"scalar",T:8,oneof:"kind"},{no:5,name:"struct_value",kind:"message",T:qi,oneof:"kind"},{no:6,name:"list_value",kind:"message",T:Vi,oneof:"kind"}]);class Vi extends Q6.Message{constructor(t){super(),this.values=[],Or.proto3.util.initPartial(t,this)}toJson(t){return this.values.map(r=>r.toJson())}fromJson(t,r){if(!Array.isArray(t))throw new Error("cannot decode google.protobuf.ListValue from JSON "+Or.proto3.json.debug(t));for(let n of t)this.values.push(ci.fromJson(n));return this}static fromBinary(t,r){return new Vi().fromBinary(t,r)}static fromJson(t,r){return new Vi().fromJson(t,r)}static fromJsonString(t,r){return new Vi().fromJsonString(t,r)}static equals(t,r){return Or.proto3.util.equals(Vi,t,r)}}Hi.ListValue=Vi;Vi.runtime=Or.proto3;Vi.typeName="google.protobuf.ListValue";Vi.fields=Or.proto3.util.newFieldList(()=>[{no:1,name:"values",kind:"message",T:ci,repeated:!0}]);var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.BytesValue=Kt.StringValue=Kt.BoolValue=Kt.UInt32Value=Kt.Int32Value=Kt.UInt64Value=Kt.Int64Value=Kt.FloatValue=Kt.DoubleValue=void 0;const ua=br,Fe=Vn,mr=Pn,FB=fo;class zi extends ua.Message{constructor(t){super(),this.value=0,Fe.proto3.util.initPartial(t,this)}toJson(t){return Fe.proto3.json.writeScalar(mr.ScalarType.DOUBLE,this.value,!0)}fromJson(t,r){try{this.value=Fe.proto3.json.readScalar(mr.ScalarType.DOUBLE,t)}catch(n){let i='cannot decode message google.protobuf.DoubleValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(t,r){return new zi().fromBinary(t,r)}static fromJson(t,r){return new zi().fromJson(t,r)}static fromJsonString(t,r){return new zi().fromJsonString(t,r)}static equals(t,r){return Fe.proto3.util.equals(zi,t,r)}}Kt.DoubleValue=zi;zi.runtime=Fe.proto3;zi.typeName="google.protobuf.DoubleValue";zi.fields=Fe.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);zi.fieldWrapper={wrapField(e){return new zi({value:e})},unwrapField(e){return e.value}};class Yi extends ua.Message{constructor(t){super(),this.value=0,Fe.proto3.util.initPartial(t,this)}toJson(t){return Fe.proto3.json.writeScalar(mr.ScalarType.FLOAT,this.value,!0)}fromJson(t,r){try{this.value=Fe.proto3.json.readScalar(mr.ScalarType.FLOAT,t)}catch(n){let i='cannot decode message google.protobuf.FloatValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(t,r){return new Yi().fromBinary(t,r)}static fromJson(t,r){return new Yi().fromJson(t,r)}static fromJsonString(t,r){return new Yi().fromJsonString(t,r)}static equals(t,r){return Fe.proto3.util.equals(Yi,t,r)}}Kt.FloatValue=Yi;Yi.runtime=Fe.proto3;Yi.typeName="google.protobuf.FloatValue";Yi.fields=Fe.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);Yi.fieldWrapper={wrapField(e){return new Yi({value:e})},unwrapField(e){return e.value}};class Gi extends ua.Message{constructor(t){super(),this.value=FB.protoInt64.zero,Fe.proto3.util.initPartial(t,this)}toJson(t){return Fe.proto3.json.writeScalar(mr.ScalarType.INT64,this.value,!0)}fromJson(t,r){try{this.value=Fe.proto3.json.readScalar(mr.ScalarType.INT64,t)}catch(n){let i='cannot decode message google.protobuf.Int64Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(t,r){return new Gi().fromBinary(t,r)}static fromJson(t,r){return new Gi().fromJson(t,r)}static fromJsonString(t,r){return new Gi().fromJsonString(t,r)}static equals(t,r){return Fe.proto3.util.equals(Gi,t,r)}}Kt.Int64Value=Gi;Gi.runtime=Fe.proto3;Gi.typeName="google.protobuf.Int64Value";Gi.fields=Fe.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);Gi.fieldWrapper={wrapField(e){return new Gi({value:e})},unwrapField(e){return e.value}};class Ji extends ua.Message{constructor(t){super(),this.value=FB.protoInt64.zero,Fe.proto3.util.initPartial(t,this)}toJson(t){return Fe.proto3.json.writeScalar(mr.ScalarType.UINT64,this.value,!0)}fromJson(t,r){try{this.value=Fe.proto3.json.readScalar(mr.ScalarType.UINT64,t)}catch(n){let i='cannot decode message google.protobuf.UInt64Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(t,r){return new Ji().fromBinary(t,r)}static fromJson(t,r){return new Ji().fromJson(t,r)}static fromJsonString(t,r){return new Ji().fromJsonString(t,r)}static equals(t,r){return Fe.proto3.util.equals(Ji,t,r)}}Kt.UInt64Value=Ji;Ji.runtime=Fe.proto3;Ji.typeName="google.protobuf.UInt64Value";Ji.fields=Fe.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);Ji.fieldWrapper={wrapField(e){return new Ji({value:e})},unwrapField(e){return e.value}};class Wi extends ua.Message{constructor(t){super(),this.value=0,Fe.proto3.util.initPartial(t,this)}toJson(t){return Fe.proto3.json.writeScalar(mr.ScalarType.INT32,this.value,!0)}fromJson(t,r){try{this.value=Fe.proto3.json.readScalar(mr.ScalarType.INT32,t)}catch(n){let i='cannot decode message google.protobuf.Int32Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(t,r){return new Wi().fromBinary(t,r)}static fromJson(t,r){return new Wi().fromJson(t,r)}static fromJsonString(t,r){return new Wi().fromJsonString(t,r)}static equals(t,r){return Fe.proto3.util.equals(Wi,t,r)}}Kt.Int32Value=Wi;Wi.runtime=Fe.proto3;Wi.typeName="google.protobuf.Int32Value";Wi.fields=Fe.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);Wi.fieldWrapper={wrapField(e){return new Wi({value:e})},unwrapField(e){return e.value}};class Xi extends ua.Message{constructor(t){super(),this.value=0,Fe.proto3.util.initPartial(t,this)}toJson(t){return Fe.proto3.json.writeScalar(mr.ScalarType.UINT32,this.value,!0)}fromJson(t,r){try{this.value=Fe.proto3.json.readScalar(mr.ScalarType.UINT32,t)}catch(n){let i='cannot decode message google.protobuf.UInt32Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(t,r){return new Xi().fromBinary(t,r)}static fromJson(t,r){return new Xi().fromJson(t,r)}static fromJsonString(t,r){return new Xi().fromJsonString(t,r)}static equals(t,r){return Fe.proto3.util.equals(Xi,t,r)}}Kt.UInt32Value=Xi;Xi.runtime=Fe.proto3;Xi.typeName="google.protobuf.UInt32Value";Xi.fields=Fe.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);Xi.fieldWrapper={wrapField(e){return new Xi({value:e})},unwrapField(e){return e.value}};class Zi extends ua.Message{constructor(t){super(),this.value=!1,Fe.proto3.util.initPartial(t,this)}toJson(t){return Fe.proto3.json.writeScalar(mr.ScalarType.BOOL,this.value,!0)}fromJson(t,r){try{this.value=Fe.proto3.json.readScalar(mr.ScalarType.BOOL,t)}catch(n){let i='cannot decode message google.protobuf.BoolValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(t,r){return new Zi().fromBinary(t,r)}static fromJson(t,r){return new Zi().fromJson(t,r)}static fromJsonString(t,r){return new Zi().fromJsonString(t,r)}static equals(t,r){return Fe.proto3.util.equals(Zi,t,r)}}Kt.BoolValue=Zi;Zi.runtime=Fe.proto3;Zi.typeName="google.protobuf.BoolValue";Zi.fields=Fe.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);Zi.fieldWrapper={wrapField(e){return new Zi({value:e})},unwrapField(e){return e.value}};class Qi extends ua.Message{constructor(t){super(),this.value="",Fe.proto3.util.initPartial(t,this)}toJson(t){return Fe.proto3.json.writeScalar(mr.ScalarType.STRING,this.value,!0)}fromJson(t,r){try{this.value=Fe.proto3.json.readScalar(mr.ScalarType.STRING,t)}catch(n){let i='cannot decode message google.protobuf.StringValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(t,r){return new Qi().fromBinary(t,r)}static fromJson(t,r){return new Qi().fromJson(t,r)}static fromJsonString(t,r){return new Qi().fromJsonString(t,r)}static equals(t,r){return Fe.proto3.util.equals(Qi,t,r)}}Kt.StringValue=Qi;Qi.runtime=Fe.proto3;Qi.typeName="google.protobuf.StringValue";Qi.fields=Fe.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);Qi.fieldWrapper={wrapField(e){return new Qi({value:e})},unwrapField(e){return e.value}};class eo extends ua.Message{constructor(t){super(),this.value=new Uint8Array(0),Fe.proto3.util.initPartial(t,this)}toJson(t){return Fe.proto3.json.writeScalar(mr.ScalarType.BYTES,this.value,!0)}fromJson(t,r){try{this.value=Fe.proto3.json.readScalar(mr.ScalarType.BYTES,t)}catch(n){let i='cannot decode message google.protobuf.BytesValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(t,r){return new eo().fromBinary(t,r)}static fromJson(t,r){return new eo().fromJson(t,r)}static fromJsonString(t,r){return new eo().fromJsonString(t,r)}static equals(t,r){return Fe.proto3.util.equals(eo,t,r)}}Kt.BytesValue=eo;eo.runtime=Fe.proto3;eo.typeName="google.protobuf.BytesValue";eo.fields=Fe.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);eo.fieldWrapper={wrapField(e){return new eo({value:e})},unwrapField(e){return e.value}};Object.defineProperty(fm,"__esModule",{value:!0});fm.createRegistryFromDescriptors=void 0;const LB=tr,xv=Vn,Sv=Ku,Bv=Dd,ZV=fp,hI=up,QV=Rd,ez=cp,tz=dp,ky=Hi,rz=xi,Ss=Kt,I3=Oe,nz=ap,iz=uo,oz=[QV.Any,hI.Duration,ez.Empty,tz.FieldMask,ky.Struct,ky.Value,ky.ListValue,ZV.Timestamp,hI.Duration,Ss.DoubleValue,Ss.FloatValue,Ss.Int64Value,Ss.Int32Value,Ss.UInt32Value,Ss.UInt64Value,Ss.BoolValue,Ss.StringValue,Ss.BytesValue],sz=[(0,rz.getEnumType)(ky.NullValue)];function az(e,t=!0){const r=e instanceof Uint8Array||(0,iz.isMessage)(e,I3.FileDescriptorSet)?(0,nz.createDescriptorSet)(e):e,n=new Map,i=new Map,o=new Map,s=new Map,f={};if(t){for(const d of oz)i.set(d.typeName,d);for(const d of sz)n.set(d.typeName,d)}return{findEnum(d){const a=n.get(d);if(a)return a;const c=r.enums.get(d);if(!c)return;const h=(c.file.syntax=="proto3"?xv.proto3:Sv.proto2).makeEnumType(d,c.values.map(y=>({no:y.number,name:y.name,localName:(0,Bv.localName)(y)})),{});return n.set(d,h),h},findMessage(d){const a=i.get(d);if(a)return a;const c=r.messages.get(d);if(!c)return;const p=c.file.syntax=="proto3"?xv.proto3:Sv.proto2,h=[],y=p.makeMessageType(d,()=>h,{localName:(0,Bv.localName)(c)});i.set(d,y);for(const g of c.fields)h.push(pI(g,this));return y},findService(d){const a=f[d];if(a)return a;const c=r.services.get(d);if(!c)return;const p={};for(const h of c.methods){const y=Zf(h.input,this,h),g=Zf(h.output,this,h);p[(0,Bv.localName)(h)]={name:h.name,I:y,O:g,kind:h.methodKind,idempotency:h.idempotency}}return f[d]={typeName:c.typeName,methods:p}},findExtensionFor(d,a){var c;if(!r.messages.has(d))return;let p=s.get(d);if(!p){p=new Map,s.set(d,p);for(const y of r.extensions.values())y.extendee.typeName==d&&p.set(y.number,y)}const h=(c=s.get(d))===null||c===void 0?void 0:c.get(a);return h?this.findExtension(h.typeName):void 0},findExtension(d){const a=o.get(d);if(a)return a;const c=r.extensions.get(d);if(!c)return;const p=Zf(c.extendee,this,c),y=(c.file.syntax=="proto3"?xv.proto3:Sv.proto2).makeExtension(d,p,pI(c,this));return o.set(d,y),y}}}fm.createRegistryFromDescriptors=az;function pI(e,t){var r;const n={kind:e.fieldKind,no:e.number,name:e.name,jsonName:e.jsonName,delimited:e.proto.type==I3.FieldDescriptorProto_Type.GROUP,repeated:e.repeated,packed:e.packed,oneof:(r=e.oneof)===null||r===void 0?void 0:r.name,opt:e.optional,req:e.proto.label===I3.FieldDescriptorProto_Label.REQUIRED};switch(e.fieldKind){case"map":{(0,LB.assert)(e.kind=="field");let i;switch(e.mapValue.kind){case"scalar":i=e.mapValue.scalar;break;case"enum":{i=Zf(e.mapValue.enum,t,e);break}case"message":{i=Zf(e.mapValue.message,t,e);break}}n.K=e.mapKey,n.V={kind:e.mapValue.kind,T:i};break}case"message":{n.T=Zf(e.message,t,e);break}case"enum":{n.T=Zf(e.enum,t,e),n.default=e.getDefaultValue();break}case"scalar":{n.L=e.longType,n.T=e.scalar,n.default=e.getDefaultValue();break}}return n}function Zf(e,t,r){const n=e.kind=="message"?t.findMessage(e.typeName):t.findEnum(e.typeName);return(0,LB.assert)(n,`${e.toString()}" for ${r.toString()} not found`),n}var um={};Object.defineProperty(um,"__esModule",{value:!0});um.toPlainMessage=void 0;const jB=uo;function KB(e){if(!(0,jB.isMessage)(e))return e;const t=e.getType(),r={};for(const n of t.fields.byMember()){const i=e[n.localName];let o;if(n.repeated)o=i.map(s=>ny(s));else if(n.kind=="map"){o={};for(const[s,f]of Object.entries(i))o[s]=ny(f)}else n.kind=="oneof"?o=n.findField(i.case)?{case:i.case,value:ny(i.value)}:{case:void 0}:o=ny(i);r[n.localName]=o}return r}um.toPlainMessage=KB;function ny(e){if(e===void 0)return e;if((0,jB.isMessage)(e))return KB(e);if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.CodeGeneratorResponse_File=Ii.CodeGeneratorResponse_Feature=Ii.CodeGeneratorResponse=Ii.CodeGeneratorRequest=Ii.Version=void 0;const cm=br,kr=Ku,E3=Oe;class Zo extends cm.Message{constructor(t){super(),kr.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Zo().fromBinary(t,r)}static fromJson(t,r){return new Zo().fromJson(t,r)}static fromJsonString(t,r){return new Zo().fromJsonString(t,r)}static equals(t,r){return kr.proto2.util.equals(Zo,t,r)}}Ii.Version=Zo;Zo.runtime=kr.proto2;Zo.typeName="google.protobuf.compiler.Version";Zo.fields=kr.proto2.util.newFieldList(()=>[{no:1,name:"major",kind:"scalar",T:5,opt:!0},{no:2,name:"minor",kind:"scalar",T:5,opt:!0},{no:3,name:"patch",kind:"scalar",T:5,opt:!0},{no:4,name:"suffix",kind:"scalar",T:9,opt:!0}]);class Ks extends cm.Message{constructor(t){super(),this.fileToGenerate=[],this.protoFile=[],this.sourceFileDescriptors=[],kr.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Ks().fromBinary(t,r)}static fromJson(t,r){return new Ks().fromJson(t,r)}static fromJsonString(t,r){return new Ks().fromJsonString(t,r)}static equals(t,r){return kr.proto2.util.equals(Ks,t,r)}}Ii.CodeGeneratorRequest=Ks;Ks.runtime=kr.proto2;Ks.typeName="google.protobuf.compiler.CodeGeneratorRequest";Ks.fields=kr.proto2.util.newFieldList(()=>[{no:1,name:"file_to_generate",kind:"scalar",T:9,repeated:!0},{no:2,name:"parameter",kind:"scalar",T:9,opt:!0},{no:15,name:"proto_file",kind:"message",T:E3.FileDescriptorProto,repeated:!0},{no:17,name:"source_file_descriptors",kind:"message",T:E3.FileDescriptorProto,repeated:!0},{no:3,name:"compiler_version",kind:"message",T:Zo,opt:!0}]);class Hs extends cm.Message{constructor(t){super(),this.file=[],kr.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Hs().fromBinary(t,r)}static fromJson(t,r){return new Hs().fromJson(t,r)}static fromJsonString(t,r){return new Hs().fromJsonString(t,r)}static equals(t,r){return kr.proto2.util.equals(Hs,t,r)}}Ii.CodeGeneratorResponse=Hs;Hs.runtime=kr.proto2;Hs.typeName="google.protobuf.compiler.CodeGeneratorResponse";Hs.fields=kr.proto2.util.newFieldList(()=>[{no:1,name:"error",kind:"scalar",T:9,opt:!0},{no:2,name:"supported_features",kind:"scalar",T:4,opt:!0},{no:3,name:"minimum_edition",kind:"scalar",T:5,opt:!0},{no:4,name:"maximum_edition",kind:"scalar",T:5,opt:!0},{no:15,name:"file",kind:"message",T:Qo,repeated:!0}]);var x3;(function(e){e[e.NONE=0]="NONE",e[e.PROTO3_OPTIONAL=1]="PROTO3_OPTIONAL",e[e.SUPPORTS_EDITIONS=2]="SUPPORTS_EDITIONS"})(x3||(Ii.CodeGeneratorResponse_Feature=x3={}));kr.proto2.util.setEnumType(x3,"google.protobuf.compiler.CodeGeneratorResponse.Feature",[{no:0,name:"FEATURE_NONE"},{no:1,name:"FEATURE_PROTO3_OPTIONAL"},{no:2,name:"FEATURE_SUPPORTS_EDITIONS"}]);class Qo extends cm.Message{constructor(t){super(),kr.proto2.util.initPartial(t,this)}static fromBinary(t,r){return new Qo().fromBinary(t,r)}static fromJson(t,r){return new Qo().fromJson(t,r)}static fromJsonString(t,r){return new Qo().fromJsonString(t,r)}static equals(t,r){return kr.proto2.util.equals(Qo,t,r)}}Ii.CodeGeneratorResponse_File=Qo;Qo.runtime=kr.proto2;Qo.typeName="google.protobuf.compiler.CodeGeneratorResponse.File";Qo.fields=kr.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"insertion_point",kind:"scalar",T:9,opt:!0},{no:15,name:"content",kind:"scalar",T:9,opt:!0},{no:16,name:"generated_code_info",kind:"message",T:E3.GeneratedCodeInfo,opt:!0}]);var ef={},Qt={},Od={};Object.defineProperty(Od,"__esModule",{value:!0});Od.SourceContext=void 0;const fz=br,xg=Vn;class qs extends fz.Message{constructor(t){super(),this.fileName="",xg.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new qs().fromBinary(t,r)}static fromJson(t,r){return new qs().fromJson(t,r)}static fromJsonString(t,r){return new qs().fromJsonString(t,r)}static equals(t,r){return xg.proto3.util.equals(qs,t,r)}}Od.SourceContext=qs;qs.runtime=xg.proto3;qs.typeName="google.protobuf.SourceContext";qs.fields=xg.proto3.util.newFieldList(()=>[{no:1,name:"file_name",kind:"scalar",T:9}]);Object.defineProperty(Qt,"__esModule",{value:!0});Qt.Option=Qt.EnumValue=Qt.Enum=Qt.Field_Cardinality=Qt.Field_Kind=Qt.Field=Qt.Type=Qt.Syntax=void 0;const gt=Vn,lp=br,HB=Od,uz=Rd;var Su;(function(e){e[e.PROTO2=0]="PROTO2",e[e.PROTO3=1]="PROTO3",e[e.EDITIONS=2]="EDITIONS"})(Su||(Qt.Syntax=Su={}));gt.proto3.util.setEnumType(Su,"google.protobuf.Syntax",[{no:0,name:"SYNTAX_PROTO2"},{no:1,name:"SYNTAX_PROTO3"},{no:2,name:"SYNTAX_EDITIONS"}]);class Vs extends lp.Message{constructor(t){super(),this.name="",this.fields=[],this.oneofs=[],this.options=[],this.syntax=Su.PROTO2,this.edition="",gt.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new Vs().fromBinary(t,r)}static fromJson(t,r){return new Vs().fromJson(t,r)}static fromJsonString(t,r){return new Vs().fromJsonString(t,r)}static equals(t,r){return gt.proto3.util.equals(Vs,t,r)}}Qt.Type=Vs;Vs.runtime=gt.proto3;Vs.typeName="google.protobuf.Type";Vs.fields=gt.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"fields",kind:"message",T:es,repeated:!0},{no:3,name:"oneofs",kind:"scalar",T:9,repeated:!0},{no:4,name:"options",kind:"message",T:di,repeated:!0},{no:5,name:"source_context",kind:"message",T:HB.SourceContext},{no:6,name:"syntax",kind:"enum",T:gt.proto3.getEnumType(Su)},{no:7,name:"edition",kind:"scalar",T:9}]);class es extends lp.Message{constructor(t){super(),this.kind=nh.TYPE_UNKNOWN,this.cardinality=ih.UNKNOWN,this.number=0,this.name="",this.typeUrl="",this.oneofIndex=0,this.packed=!1,this.options=[],this.jsonName="",this.defaultValue="",gt.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new es().fromBinary(t,r)}static fromJson(t,r){return new es().fromJson(t,r)}static fromJsonString(t,r){return new es().fromJsonString(t,r)}static equals(t,r){return gt.proto3.util.equals(es,t,r)}}Qt.Field=es;es.runtime=gt.proto3;es.typeName="google.protobuf.Field";es.fields=gt.proto3.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:gt.proto3.getEnumType(nh)},{no:2,name:"cardinality",kind:"enum",T:gt.proto3.getEnumType(ih)},{no:3,name:"number",kind:"scalar",T:5},{no:4,name:"name",kind:"scalar",T:9},{no:6,name:"type_url",kind:"scalar",T:9},{no:7,name:"oneof_index",kind:"scalar",T:5},{no:8,name:"packed",kind:"scalar",T:8},{no:9,name:"options",kind:"message",T:di,repeated:!0},{no:10,name:"json_name",kind:"scalar",T:9},{no:11,name:"default_value",kind:"scalar",T:9}]);var nh;(function(e){e[e.TYPE_UNKNOWN=0]="TYPE_UNKNOWN",e[e.TYPE_DOUBLE=1]="TYPE_DOUBLE",e[e.TYPE_FLOAT=2]="TYPE_FLOAT",e[e.TYPE_INT64=3]="TYPE_INT64",e[e.TYPE_UINT64=4]="TYPE_UINT64",e[e.TYPE_INT32=5]="TYPE_INT32",e[e.TYPE_FIXED64=6]="TYPE_FIXED64",e[e.TYPE_FIXED32=7]="TYPE_FIXED32",e[e.TYPE_BOOL=8]="TYPE_BOOL",e[e.TYPE_STRING=9]="TYPE_STRING",e[e.TYPE_GROUP=10]="TYPE_GROUP",e[e.TYPE_MESSAGE=11]="TYPE_MESSAGE",e[e.TYPE_BYTES=12]="TYPE_BYTES",e[e.TYPE_UINT32=13]="TYPE_UINT32",e[e.TYPE_ENUM=14]="TYPE_ENUM",e[e.TYPE_SFIXED32=15]="TYPE_SFIXED32",e[e.TYPE_SFIXED64=16]="TYPE_SFIXED64",e[e.TYPE_SINT32=17]="TYPE_SINT32",e[e.TYPE_SINT64=18]="TYPE_SINT64"})(nh||(Qt.Field_Kind=nh={}));gt.proto3.util.setEnumType(nh,"google.protobuf.Field.Kind",[{no:0,name:"TYPE_UNKNOWN"},{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var ih;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.OPTIONAL=1]="OPTIONAL",e[e.REQUIRED=2]="REQUIRED",e[e.REPEATED=3]="REPEATED"})(ih||(Qt.Field_Cardinality=ih={}));gt.proto3.util.setEnumType(ih,"google.protobuf.Field.Cardinality",[{no:0,name:"CARDINALITY_UNKNOWN"},{no:1,name:"CARDINALITY_OPTIONAL"},{no:2,name:"CARDINALITY_REQUIRED"},{no:3,name:"CARDINALITY_REPEATED"}]);class zs extends lp.Message{constructor(t){super(),this.name="",this.enumvalue=[],this.options=[],this.syntax=Su.PROTO2,this.edition="",gt.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new zs().fromBinary(t,r)}static fromJson(t,r){return new zs().fromJson(t,r)}static fromJsonString(t,r){return new zs().fromJsonString(t,r)}static equals(t,r){return gt.proto3.util.equals(zs,t,r)}}Qt.Enum=zs;zs.runtime=gt.proto3;zs.typeName="google.protobuf.Enum";zs.fields=gt.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enumvalue",kind:"message",T:ts,repeated:!0},{no:3,name:"options",kind:"message",T:di,repeated:!0},{no:4,name:"source_context",kind:"message",T:HB.SourceContext},{no:5,name:"syntax",kind:"enum",T:gt.proto3.getEnumType(Su)},{no:6,name:"edition",kind:"scalar",T:9}]);class ts extends lp.Message{constructor(t){super(),this.name="",this.number=0,this.options=[],gt.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new ts().fromBinary(t,r)}static fromJson(t,r){return new ts().fromJson(t,r)}static fromJsonString(t,r){return new ts().fromJsonString(t,r)}static equals(t,r){return gt.proto3.util.equals(ts,t,r)}}Qt.EnumValue=ts;ts.runtime=gt.proto3;ts.typeName="google.protobuf.EnumValue";ts.fields=gt.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"options",kind:"message",T:di,repeated:!0}]);class di extends lp.Message{constructor(t){super(),this.name="",gt.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new di().fromBinary(t,r)}static fromJson(t,r){return new di().fromJson(t,r)}static fromJsonString(t,r){return new di().fromJsonString(t,r)}static equals(t,r){return gt.proto3.util.equals(di,t,r)}}Qt.Option=di;di.runtime=gt.proto3;di.typeName="google.protobuf.Option";di.fields=gt.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"value",kind:"message",T:uz.Any}]);Object.defineProperty(ef,"__esModule",{value:!0});ef.Mixin=ef.Method=ef.Api=void 0;const ew=br,ed=Qt,cz=Od,Zn=Vn;class Ys extends ew.Message{constructor(t){super(),this.name="",this.methods=[],this.options=[],this.version="",this.mixins=[],this.syntax=ed.Syntax.PROTO2,Zn.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new Ys().fromBinary(t,r)}static fromJson(t,r){return new Ys().fromJson(t,r)}static fromJsonString(t,r){return new Ys().fromJsonString(t,r)}static equals(t,r){return Zn.proto3.util.equals(Ys,t,r)}}ef.Api=Ys;Ys.runtime=Zn.proto3;Ys.typeName="google.protobuf.Api";Ys.fields=Zn.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"methods",kind:"message",T:rs,repeated:!0},{no:3,name:"options",kind:"message",T:ed.Option,repeated:!0},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"source_context",kind:"message",T:cz.SourceContext},{no:6,name:"mixins",kind:"message",T:ns,repeated:!0},{no:7,name:"syntax",kind:"enum",T:Zn.proto3.getEnumType(ed.Syntax)}]);class rs extends ew.Message{constructor(t){super(),this.name="",this.requestTypeUrl="",this.requestStreaming=!1,this.responseTypeUrl="",this.responseStreaming=!1,this.options=[],this.syntax=ed.Syntax.PROTO2,Zn.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new rs().fromBinary(t,r)}static fromJson(t,r){return new rs().fromJson(t,r)}static fromJsonString(t,r){return new rs().fromJsonString(t,r)}static equals(t,r){return Zn.proto3.util.equals(rs,t,r)}}ef.Method=rs;rs.runtime=Zn.proto3;rs.typeName="google.protobuf.Method";rs.fields=Zn.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"request_type_url",kind:"scalar",T:9},{no:3,name:"request_streaming",kind:"scalar",T:8},{no:4,name:"response_type_url",kind:"scalar",T:9},{no:5,name:"response_streaming",kind:"scalar",T:8},{no:6,name:"options",kind:"message",T:ed.Option,repeated:!0},{no:7,name:"syntax",kind:"enum",T:Zn.proto3.getEnumType(ed.Syntax)}]);class ns extends ew.Message{constructor(t){super(),this.name="",this.root="",Zn.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new ns().fromBinary(t,r)}static fromJson(t,r){return new ns().fromJson(t,r)}static fromJsonString(t,r){return new ns().fromJsonString(t,r)}static equals(t,r){return Zn.proto3.util.equals(ns,t,r)}}ef.Mixin=ns;ns.runtime=Zn.proto3;ns.typeName="google.protobuf.Mixin";ns.fields=Zn.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"root",kind:"scalar",T:9}]);(function(e){var t=Be&&Be.__createBinding||(Object.create?function(w,P,D,u){u===void 0&&(u=D);var l=Object.getOwnPropertyDescriptor(P,D);(!l||("get"in l?!P.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return P[D]}}),Object.defineProperty(w,u,l)}:function(w,P,D,u){u===void 0&&(u=D),w[u]=P[D]}),r=Be&&Be.__exportStar||function(w,P){for(var D in w)D!=="default"&&!Object.prototype.hasOwnProperty.call(P,D)&&t(P,w,D)};Object.defineProperty(e,"__esModule",{value:!0}),e.toPlainMessage=e.createRegistryFromDescriptors=e.createRegistry=e.createDescriptorSet=e.BinaryReader=e.BinaryWriter=e.WireType=e.MethodIdempotency=e.MethodKind=e.clearExtension=e.hasExtension=e.setExtension=e.getExtension=e.ScalarType=e.LongType=e.isMessage=e.Message=e.codegenInfo=e.protoDelimited=e.protoBase64=e.protoInt64=e.protoDouble=e.proto2=e.proto3=void 0;var n=Vn;Object.defineProperty(e,"proto3",{enumerable:!0,get:function(){return n.proto3}});var i=Ku;Object.defineProperty(e,"proto2",{enumerable:!0,get:function(){return i.proto2}});var o=rm;Object.defineProperty(e,"protoDouble",{enumerable:!0,get:function(){return o.protoDouble}});var s=fo;Object.defineProperty(e,"protoInt64",{enumerable:!0,get:function(){return s.protoInt64}});var f=Cd;Object.defineProperty(e,"protoBase64",{enumerable:!0,get:function(){return f.protoBase64}});var d=PB;Object.defineProperty(e,"protoDelimited",{enumerable:!0,get:function(){return d.protoDelimited}});var a=nm;Object.defineProperty(e,"codegenInfo",{enumerable:!0,get:function(){return a.codegenInfo}});var c=br;Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return c.Message}});var p=uo;Object.defineProperty(e,"isMessage",{enumerable:!0,get:function(){return p.isMessage}});var h=Pn;Object.defineProperty(e,"LongType",{enumerable:!0,get:function(){return h.LongType}}),Object.defineProperty(e,"ScalarType",{enumerable:!0,get:function(){return h.ScalarType}});var y=Li;Object.defineProperty(e,"getExtension",{enumerable:!0,get:function(){return y.getExtension}}),Object.defineProperty(e,"setExtension",{enumerable:!0,get:function(){return y.setExtension}}),Object.defineProperty(e,"hasExtension",{enumerable:!0,get:function(){return y.hasExtension}}),Object.defineProperty(e,"clearExtension",{enumerable:!0,get:function(){return y.clearExtension}});var g=xu;Object.defineProperty(e,"MethodKind",{enumerable:!0,get:function(){return g.MethodKind}}),Object.defineProperty(e,"MethodIdempotency",{enumerable:!0,get:function(){return g.MethodIdempotency}});var v=ps;Object.defineProperty(e,"WireType",{enumerable:!0,get:function(){return v.WireType}}),Object.defineProperty(e,"BinaryWriter",{enumerable:!0,get:function(){return v.BinaryWriter}}),Object.defineProperty(e,"BinaryReader",{enumerable:!0,get:function(){return v.BinaryReader}});var T=ap;Object.defineProperty(e,"createDescriptorSet",{enumerable:!0,get:function(){return T.createDescriptorSet}});var I=am;Object.defineProperty(e,"createRegistry",{enumerable:!0,get:function(){return I.createRegistry}});var _=fm;Object.defineProperty(e,"createRegistryFromDescriptors",{enumerable:!0,get:function(){return _.createRegistryFromDescriptors}});var C=um;Object.defineProperty(e,"toPlainMessage",{enumerable:!0,get:function(){return C.toPlainMessage}}),r(Ii,e),r(ef,e),r(Rd,e),r(Oe,e),r(up,e),r(cp,e),r(dp,e),r(Od,e),r(Hi,e),r(fp,e),r(Qt,e),r(Kt,e)})(Pi);Object.defineProperty(Qa,"__esModule",{value:!0});Qa.TriggerSmartContract=Qa.TransferAssetContract=Qa.TransferContract=void 0;const Wt=Pi;class Gs extends Wt.Message{constructor(t){super(),this.ownerAddress=new Uint8Array(0),this.toAddress=new Uint8Array(0),this.amount=Wt.protoInt64.zero,Wt.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new Gs().fromBinary(t,r)}static fromJson(t,r){return new Gs().fromJson(t,r)}static fromJsonString(t,r){return new Gs().fromJsonString(t,r)}static equals(t,r){return Wt.proto3.util.equals(Gs,t,r)}}Gs.runtime=Wt.proto3;Gs.typeName="protocol.TransferContract";Gs.fields=Wt.proto3.util.newFieldList(()=>[{no:1,name:"owner_address",kind:"scalar",T:12},{no:2,name:"to_address",kind:"scalar",T:12},{no:3,name:"amount",kind:"scalar",T:3}]);Qa.TransferContract=Gs;class Js extends Wt.Message{constructor(t){super(),this.assetName=new Uint8Array(0),this.ownerAddress=new Uint8Array(0),this.toAddress=new Uint8Array(0),this.amount=Wt.protoInt64.zero,Wt.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new Js().fromBinary(t,r)}static fromJson(t,r){return new Js().fromJson(t,r)}static fromJsonString(t,r){return new Js().fromJsonString(t,r)}static equals(t,r){return Wt.proto3.util.equals(Js,t,r)}}Js.runtime=Wt.proto3;Js.typeName="protocol.TransferAssetContract";Js.fields=Wt.proto3.util.newFieldList(()=>[{no:1,name:"asset_name",kind:"scalar",T:12},{no:2,name:"owner_address",kind:"scalar",T:12},{no:3,name:"to_address",kind:"scalar",T:12},{no:4,name:"amount",kind:"scalar",T:3}]);Qa.TransferAssetContract=Js;class Ws extends Wt.Message{constructor(t){super(),this.ownerAddress=new Uint8Array(0),this.contractAddress=new Uint8Array(0),this.callValue=Wt.protoInt64.zero,this.data=new Uint8Array(0),this.callTokenValue=Wt.protoInt64.zero,this.tokenId=Wt.protoInt64.zero,Wt.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new Ws().fromBinary(t,r)}static fromJson(t,r){return new Ws().fromJson(t,r)}static fromJsonString(t,r){return new Ws().fromJsonString(t,r)}static equals(t,r){return Wt.proto3.util.equals(Ws,t,r)}}Ws.runtime=Wt.proto3;Ws.typeName="protocol.TriggerSmartContract";Ws.fields=Wt.proto3.util.newFieldList(()=>[{no:1,name:"owner_address",kind:"scalar",T:12},{no:2,name:"contract_address",kind:"scalar",T:12},{no:3,name:"call_value",kind:"scalar",T:3},{no:4,name:"data",kind:"scalar",T:12},{no:5,name:"call_token_value",kind:"scalar",T:3},{no:6,name:"token_id",kind:"scalar",T:3}]);Qa.TriggerSmartContract=Ws;var qB={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Transaction_raw=e.Transaction_Contract_ContractType=e.Transaction_Contract=e.Transaction=e.authority=e.AccountId=void 0;const t=Pi;class r extends t.Message{constructor(a){super(),this.name=new Uint8Array(0),this.address=new Uint8Array(0),t.proto3.util.initPartial(a,this)}static fromBinary(a,c){return new r().fromBinary(a,c)}static fromJson(a,c){return new r().fromJson(a,c)}static fromJsonString(a,c){return new r().fromJsonString(a,c)}static equals(a,c){return t.proto3.util.equals(r,a,c)}}r.runtime=t.proto3,r.typeName="protocol.AccountId",r.fields=t.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:12},{no:2,name:"address",kind:"scalar",T:12}]),e.AccountId=r;class n extends t.Message{constructor(a){super(),this.permissionName=new Uint8Array(0),t.proto3.util.initPartial(a,this)}static fromBinary(a,c){return new n().fromBinary(a,c)}static fromJson(a,c){return new n().fromJson(a,c)}static fromJsonString(a,c){return new n().fromJsonString(a,c)}static equals(a,c){return t.proto3.util.equals(n,a,c)}}n.runtime=t.proto3,n.typeName="protocol.authority",n.fields=t.proto3.util.newFieldList(()=>[{no:1,name:"account",kind:"message",T:r},{no:2,name:"permission_name",kind:"scalar",T:12}]),e.authority=n;class i extends t.Message{constructor(a){super(),this.signature=[],t.proto3.util.initPartial(a,this)}static fromBinary(a,c){return new i().fromBinary(a,c)}static fromJson(a,c){return new i().fromJson(a,c)}static fromJsonString(a,c){return new i().fromJsonString(a,c)}static equals(a,c){return t.proto3.util.equals(i,a,c)}}i.runtime=t.proto3,i.typeName="protocol.Transaction",i.fields=t.proto3.util.newFieldList(()=>[{no:1,name:"raw_data",kind:"message",T:f},{no:2,name:"signature",kind:"scalar",T:12,repeated:!0}]),e.Transaction=i;class o extends t.Message{constructor(a){super(),this.type=s.AccountCreateContract,this.provider=new Uint8Array(0),this.ContractName=new Uint8Array(0),this.PermissionId=0,t.proto3.util.initPartial(a,this)}static fromBinary(a,c){return new o().fromBinary(a,c)}static fromJson(a,c){return new o().fromJson(a,c)}static fromJsonString(a,c){return new o().fromJsonString(a,c)}static equals(a,c){return t.proto3.util.equals(o,a,c)}}o.runtime=t.proto3,o.typeName="protocol.Transaction.Contract",o.fields=t.proto3.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:t.proto3.getEnumType(s)},{no:2,name:"parameter",kind:"message",T:t.Any},{no:3,name:"provider",kind:"scalar",T:12},{no:4,name:"ContractName",kind:"scalar",T:12},{no:5,name:"Permission_id",kind:"scalar",T:5}]),e.Transaction_Contract=o;var s;(function(d){d[d.AccountCreateContract=0]="AccountCreateContract",d[d.TransferContract=1]="TransferContract",d[d.TransferAssetContract=2]="TransferAssetContract",d[d.TriggerSmartContract=31]="TriggerSmartContract"})(s=e.Transaction_Contract_ContractType||(e.Transaction_Contract_ContractType={})),t.proto3.util.setEnumType(s,"protocol.Transaction.Contract.ContractType",[{no:0,name:"AccountCreateContract"},{no:1,name:"TransferContract"},{no:2,name:"TransferAssetContract"},{no:31,name:"TriggerSmartContract"}]);class f extends t.Message{constructor(a){super(),this.refBlockBytes=new Uint8Array(0),this.refBlockNum=t.protoInt64.zero,this.refBlockHash=new Uint8Array(0),this.expiration=t.protoInt64.zero,this.auths=[],this.data=new Uint8Array(0),this.contract=[],this.scripts=new Uint8Array(0),this.timestamp=t.protoInt64.zero,this.feeLimit=t.protoInt64.zero,t.proto3.util.initPartial(a,this)}static fromBinary(a,c){return new f().fromBinary(a,c)}static fromJson(a,c){return new f().fromJson(a,c)}static fromJsonString(a,c){return new f().fromJsonString(a,c)}static equals(a,c){return t.proto3.util.equals(f,a,c)}}f.runtime=t.proto3,f.typeName="protocol.Transaction.raw",f.fields=t.proto3.util.newFieldList(()=>[{no:1,name:"ref_block_bytes",kind:"scalar",T:12},{no:3,name:"ref_block_num",kind:"scalar",T:3},{no:4,name:"ref_block_hash",kind:"scalar",T:12},{no:8,name:"expiration",kind:"scalar",T:3},{no:9,name:"auths",kind:"message",T:n,repeated:!0},{no:10,name:"data",kind:"scalar",T:12},{no:11,name:"contract",kind:"message",T:o,repeated:!0},{no:12,name:"scripts",kind:"scalar",T:12},{no:14,name:"timestamp",kind:"scalar",T:3},{no:18,name:"fee_limit",kind:"scalar",T:3}]),e.Transaction_raw=f})(qB);var oa={};Object.defineProperty(oa,"__esModule",{value:!0});oa.TronTx=oa.Override=oa.LatestBlock=void 0;const An=Pi;class is extends An.Message{constructor(t){super(),this.hash="",this.number=0,this.timestamp=An.protoInt64.zero,An.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new is().fromBinary(t,r)}static fromJson(t,r){return new is().fromJson(t,r)}static fromJsonString(t,r){return new is().fromJsonString(t,r)}static equals(t,r){return An.proto3.util.equals(is,t,r)}}is.runtime=An.proto3;is.typeName="protoc.LatestBlock";is.fields=An.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"timestamp",kind:"scalar",T:3}]);oa.LatestBlock=is;class os extends An.Message{constructor(t){super(),this.tokenShortName="",this.tokenFullName="",this.decimals=0,An.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new os().fromBinary(t,r)}static fromJson(t,r){return new os().fromJson(t,r)}static fromJsonString(t,r){return new os().fromJsonString(t,r)}static equals(t,r){return An.proto3.util.equals(os,t,r)}}os.runtime=An.proto3;os.typeName="protoc.Override";os.fields=An.proto3.util.newFieldList(()=>[{no:1,name:"tokenShortName",kind:"scalar",T:9},{no:2,name:"tokenFullName",kind:"scalar",T:9},{no:3,name:"decimals",kind:"scalar",T:5}]);oa.Override=os;class Xs extends An.Message{constructor(t){super(),this.token="",this.contractAddress="",this.from="",this.to="",this.memo="",this.value="",this.fee=0,An.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new Xs().fromBinary(t,r)}static fromJson(t,r){return new Xs().fromJson(t,r)}static fromJsonString(t,r){return new Xs().fromJsonString(t,r)}static equals(t,r){return An.proto3.util.equals(Xs,t,r)}}Xs.runtime=An.proto3;Xs.typeName="protoc.TronTx";Xs.fields=An.proto3.util.newFieldList(()=>[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"contractAddress",kind:"scalar",T:9},{no:3,name:"from",kind:"scalar",T:9},{no:4,name:"to",kind:"scalar",T:9},{no:5,name:"memo",kind:"scalar",T:9},{no:6,name:"value",kind:"scalar",T:9},{no:7,name:"latestBlock",kind:"message",T:is},{no:8,name:"override",kind:"message",T:os},{no:9,name:"fee",kind:"scalar",T:5}]);oa.TronTx=Xs;var dz=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(J1,"__esModule",{value:!0});J1.raw2tx=void 0;const lz=dz(jH),Cv=Qa,iy=qB,yI=ir,oy=oa;function Kf(e){return lz.default.encode(e)}function hz(e,t){let r;try{r=iy.Transaction_raw.fromBinary(e)}catch{throw new Error("Sign data is invalid")}const n=t!==void 0?{decimals:t.decimals,tokenFullName:t.name,tokenShortName:t.symbol}:null,i=Buffer.from([...new Uint8Array(8).fill(0),...r.refBlockHash,...new Uint8Array(16).fill(0)]),o=new oy.LatestBlock({hash:(0,yI.toHex)(i),number:+`0x${(0,yI.toHex)(r.refBlockBytes.slice(0,2))}`,timestamp:BigInt(Number(r.expiration)-600*5*1e3)}),s=r.contract[0];if(s.parameter===void 0)throw new Error("contract is invalid");let f;switch(s.type){case iy.Transaction_Contract_ContractType.TransferContract:try{f=Cv.TransferContract.fromBinary(s.parameter.value)}catch{throw new Error("sign data is invalid")}return new oy.TronTx({fee:Number(r.feeLimit),from:Kf(f.ownerAddress),latestBlock:o,to:Kf(f.toAddress),token:"TRX",value:f.amount.toString()});case iy.Transaction_Contract_ContractType.TransferAssetContract:try{f=Cv.TransferAssetContract.fromBinary(s.parameter.value)}catch{throw new Error("sign data is invalid")}if(n==null)throw new Error("token info is invalid");return new oy.TronTx({fee:Number(r.feeLimit),from:Kf(f.ownerAddress),latestBlock:o,override:n,to:Kf(f.toAddress),token:Buffer.from(f.assetName).toString(),value:f.amount.toString()});case iy.Transaction_Contract_ContractType.TriggerSmartContract:try{f=Cv.TriggerSmartContract.fromBinary(s.parameter.value)}catch{throw new Error("sign data is invalid")}if(n==null)throw new Error("token info is invalid");return new oy.TronTx({contractAddress:Kf(f.contractAddress),fee:Number(r.feeLimit),from:Kf(f.ownerAddress),latestBlock:o,override:n,to:Kf(Buffer.from([65,...f.data.slice(16,36)])),value:BigInt(`0x${Buffer.from(f.data.slice(36,68)).toString("hex")}`).toString()});default:throw new Error("contract is not supported")}}J1.raw2tx=hz;var co={},Ad={},ws={},Pd={};const pz=4,gI=0,mI=1,yz=2;function Nd(e){let t=e.length;for(;--t>=0;)e[t]=0}const gz=0,VB=1,mz=2,bz=3,vz=258,tw=29,hp=256,oh=hp+1+tw,_c=30,rw=19,zB=2*oh+1,Qf=15,Dv=16,_z=7,nw=256,YB=16,GB=17,JB=18,S3=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),$y=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),wz=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),WB=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tz=512,Os=new Array((oh+2)*2);Nd(Os);const H0=new Array(_c*2);Nd(H0);const sh=new Array(Tz);Nd(sh);const ah=new Array(vz-bz+1);Nd(ah);const iw=new Array(tw);Nd(iw);const Sg=new Array(_c);Nd(Sg);function Rv(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let XB,ZB,QB;function Ov(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const eC=e=>e<256?sh[e]:sh[256+(e>>>7)],fh=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Xn=(e,t,r)=>{e.bi_valid>Dv-r?(e.bi_buf|=t<<e.bi_valid&65535,fh(e,e.bi_buf),e.bi_buf=t>>Dv-e.bi_valid,e.bi_valid+=r-Dv):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},xo=(e,t,r)=>{Xn(e,r[t*2],r[t*2+1])},tC=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},Iz=e=>{e.bi_valid===16?(fh(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Ez=(e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,d=t.stat_desc.max_length;let a,c,p,h,y,g,v=0;for(h=0;h<=Qf;h++)e.bl_count[h]=0;for(r[e.heap[e.heap_max]*2+1]=0,a=e.heap_max+1;a<zB;a++)c=e.heap[a],h=r[r[c*2+1]*2+1]+1,h>d&&(h=d,v++),r[c*2+1]=h,!(c>n)&&(e.bl_count[h]++,y=0,c>=f&&(y=s[c-f]),g=r[c*2],e.opt_len+=g*(h+y),o&&(e.static_len+=g*(i[c*2+1]+y)));if(v!==0){do{for(h=d-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[d]--,v-=2}while(v>0);for(h=d;h!==0;h--)for(c=e.bl_count[h];c!==0;)p=e.heap[--a],!(p>n)&&(r[p*2+1]!==h&&(e.opt_len+=(h-r[p*2+1])*r[p*2],r[p*2+1]=h),c--)}},rC=(e,t,r)=>{const n=new Array(Qf+1);let i=0,o,s;for(o=1;o<=Qf;o++)i=i+r[o-1]<<1,n[o]=i;for(s=0;s<=t;s++){let f=e[s*2+1];f!==0&&(e[s*2]=tC(n[f]++,f))}},xz=()=>{let e,t,r,n,i;const o=new Array(Qf+1);for(r=0,n=0;n<tw-1;n++)for(iw[n]=r,e=0;e<1<<S3[n];e++)ah[r++]=n;for(ah[r-1]=n,i=0,n=0;n<16;n++)for(Sg[n]=i,e=0;e<1<<$y[n];e++)sh[i++]=n;for(i>>=7;n<_c;n++)for(Sg[n]=i<<7,e=0;e<1<<$y[n]-7;e++)sh[256+i++]=n;for(t=0;t<=Qf;t++)o[t]=0;for(e=0;e<=143;)Os[e*2+1]=8,e++,o[8]++;for(;e<=255;)Os[e*2+1]=9,e++,o[9]++;for(;e<=279;)Os[e*2+1]=7,e++,o[7]++;for(;e<=287;)Os[e*2+1]=8,e++,o[8]++;for(rC(Os,oh+1,o),e=0;e<_c;e++)H0[e*2+1]=5,H0[e*2]=tC(e,5);XB=new Rv(Os,S3,hp+1,oh,Qf),ZB=new Rv(H0,$y,0,_c,Qf),QB=new Rv(new Array(0),wz,0,rw,_z)},nC=e=>{let t;for(t=0;t<oh;t++)e.dyn_ltree[t*2]=0;for(t=0;t<_c;t++)e.dyn_dtree[t*2]=0;for(t=0;t<rw;t++)e.bl_tree[t*2]=0;e.dyn_ltree[nw*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},iC=e=>{e.bi_valid>8?fh(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},bI=(e,t,r,n)=>{const i=t*2,o=r*2;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]},Av=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&bI(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!bI(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},vI=(e,t,r)=>{let n,i,o=0,s,f;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+o++]&255,n+=(e.pending_buf[e.sym_buf+o++]&255)<<8,i=e.pending_buf[e.sym_buf+o++],n===0?xo(e,i,t):(s=ah[i],xo(e,s+hp+1,t),f=S3[s],f!==0&&(i-=iw[s],Xn(e,i,f)),n--,s=eC(n),xo(e,s,r),f=$y[s],f!==0&&(n-=Sg[s],Xn(e,n,f)));while(o<e.sym_next);xo(e,nw,t)},B3=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let s,f,d=-1,a;for(e.heap_len=0,e.heap_max=zB,s=0;s<o;s++)r[s*2]!==0?(e.heap[++e.heap_len]=d=s,e.depth[s]=0):r[s*2+1]=0;for(;e.heap_len<2;)a=e.heap[++e.heap_len]=d<2?++d:0,r[a*2]=1,e.depth[a]=0,e.opt_len--,i&&(e.static_len-=n[a*2+1]);for(t.max_code=d,s=e.heap_len>>1;s>=1;s--)Av(e,r,s);a=o;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Av(e,r,1),f=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=f,r[a*2]=r[s*2]+r[f*2],e.depth[a]=(e.depth[s]>=e.depth[f]?e.depth[s]:e.depth[f])+1,r[s*2+1]=r[f*2+1]=a,e.heap[1]=a++,Av(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Ez(e,t),rC(r,d,e.bl_count)},_I=(e,t,r)=>{let n,i=-1,o,s=t[0*2+1],f=0,d=7,a=4;for(s===0&&(d=138,a=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)o=s,s=t[(n+1)*2+1],!(++f<d&&o===s)&&(f<a?e.bl_tree[o*2]+=f:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[YB*2]++):f<=10?e.bl_tree[GB*2]++:e.bl_tree[JB*2]++,f=0,i=o,s===0?(d=138,a=3):o===s?(d=6,a=3):(d=7,a=4))},wI=(e,t,r)=>{let n,i=-1,o,s=t[0*2+1],f=0,d=7,a=4;for(s===0&&(d=138,a=3),n=0;n<=r;n++)if(o=s,s=t[(n+1)*2+1],!(++f<d&&o===s)){if(f<a)do xo(e,o,e.bl_tree);while(--f!==0);else o!==0?(o!==i&&(xo(e,o,e.bl_tree),f--),xo(e,YB,e.bl_tree),Xn(e,f-3,2)):f<=10?(xo(e,GB,e.bl_tree),Xn(e,f-3,3)):(xo(e,JB,e.bl_tree),Xn(e,f-11,7));f=0,i=o,s===0?(d=138,a=3):o===s?(d=6,a=3):(d=7,a=4)}},Sz=e=>{let t;for(_I(e,e.dyn_ltree,e.l_desc.max_code),_I(e,e.dyn_dtree,e.d_desc.max_code),B3(e,e.bl_desc),t=rw-1;t>=3&&e.bl_tree[WB[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},Bz=(e,t,r,n)=>{let i;for(Xn(e,t-257,5),Xn(e,r-1,5),Xn(e,n-4,4),i=0;i<n;i++)Xn(e,e.bl_tree[WB[i]*2+1],3);wI(e,e.dyn_ltree,t-1),wI(e,e.dyn_dtree,r-1)},Cz=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return gI;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return mI;for(r=32;r<hp;r++)if(e.dyn_ltree[r*2]!==0)return mI;return gI};let TI=!1;const Dz=e=>{TI||(xz(),TI=!0),e.l_desc=new Ov(e.dyn_ltree,XB),e.d_desc=new Ov(e.dyn_dtree,ZB),e.bl_desc=new Ov(e.bl_tree,QB),e.bi_buf=0,e.bi_valid=0,nC(e)},oC=(e,t,r,n)=>{Xn(e,(gz<<1)+(n?1:0),3),iC(e),fh(e,r),fh(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},Rz=e=>{Xn(e,VB<<1,3),xo(e,nw,Os),Iz(e)},Oz=(e,t,r,n)=>{let i,o,s=0;e.level>0?(e.strm.data_type===yz&&(e.strm.data_type=Cz(e)),B3(e,e.l_desc),B3(e,e.d_desc),s=Sz(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&t!==-1?oC(e,t,r,n):e.strategy===pz||o===i?(Xn(e,(VB<<1)+(n?1:0),3),vI(e,Os,H0)):(Xn(e,(mz<<1)+(n?1:0),3),Bz(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),vI(e,e.dyn_ltree,e.dyn_dtree)),nC(e),n&&iC(e)},Az=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(ah[r]+hp+1)*2]++,e.dyn_dtree[eC(t)*2]++),e.sym_next===e.sym_end);Pd._tr_init=Dz;Pd._tr_stored_block=oC;Pd._tr_flush_block=Oz;Pd._tr_tally=Az;Pd._tr_align=Rz;const Pz=(e,t,r,n)=>{let i=e&65535|0,o=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+t[n++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};var sC=Pz;const Nz=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Mz=new Uint32Array(Nz()),Uz=(e,t,r,n)=>{const i=Mz,o=n+r;e^=-1;for(let s=n;s<o;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var aC=Uz,ow={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Hu={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:kz,_tr_stored_block:C3,_tr_flush_block:$z,_tr_tally:tf,_tr_align:Fz}=Pd,fC=sC,wa=aC,Lz=ow,{Z_NO_FLUSH:rf,Z_PARTIAL_FLUSH:jz,Z_FULL_FLUSH:Kz,Z_FINISH:Ei,Z_BLOCK:II,Z_OK:Br,Z_STREAM_END:EI,Z_STREAM_ERROR:ys,Z_DATA_ERROR:Hz,Z_BUF_ERROR:Pv,Z_DEFAULT_COMPRESSION:qz,Z_FILTERED:Vz,Z_HUFFMAN_ONLY:sy,Z_RLE:zz,Z_FIXED:Yz,Z_DEFAULT_STRATEGY:Gz,Z_UNKNOWN:Jz,Z_DEFLATED:dm}=Hu,Wz=9,Xz=15,Zz=8,Qz=29,eY=256,D3=eY+1+Qz,tY=30,rY=19,nY=2*D3+1,iY=15,Ze=3,Pa=258,gs=Pa+Ze+1,oY=32,td=42,sw=57,R3=69,O3=73,A3=91,P3=103,eu=113,A0=666,$n=1,Md=2,Bu=3,Ud=4,sY=3,tu=(e,t)=>(e.msg=Lz[t],t),xI=e=>e*2-(e>4?9:0),Sa=e=>{let t=e.length;for(;--t>=0;)e[t]=0},aY=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);t=i,n=t;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)};let fY=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,nf=fY;const ii=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},li=(e,t)=>{$z(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ii(e.strm)},tt=(e,t)=>{e.pending_buf[e.pending++]=t},g0=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},N3=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),e.state.wrap===1?e.adler=fC(e.adler,t,i,r):e.state.wrap===2&&(e.adler=wa(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},uC=(e,t)=>{let r=e.max_chain_length,n=e.strstart,i,o,s=e.prev_length,f=e.nice_match;const d=e.strstart>e.w_size-gs?e.strstart-(e.w_size-gs):0,a=e.window,c=e.w_mask,p=e.prev,h=e.strstart+Pa;let y=a[n+s-1],g=a[n+s];e.prev_length>=e.good_match&&(r>>=2),f>e.lookahead&&(f=e.lookahead);do if(i=t,!(a[i+s]!==g||a[i+s-1]!==y||a[i]!==a[n]||a[++i]!==a[n+1])){n+=2,i++;do;while(a[++n]===a[++i]&&a[++n]===a[++i]&&a[++n]===a[++i]&&a[++n]===a[++i]&&a[++n]===a[++i]&&a[++n]===a[++i]&&a[++n]===a[++i]&&a[++n]===a[++i]&&n<h);if(o=Pa-(h-n),n=h-Pa,o>s){if(e.match_start=t,s=o,o>=f)break;y=a[n+s-1],g=a[n+s]}}while((t=p[t&c])>d&&--r!==0);return s<=e.lookahead?s:e.lookahead},rd=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-gs)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),aY(e),n+=t),e.strm.avail_in===0)break;if(r=N3(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=Ze)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=nf(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=nf(e,e.ins_h,e.window[i+Ze-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Ze)););}while(e.lookahead<gs&&e.strm.avail_in!==0)},cC=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,o,s=0,f=e.strm.avail_in;do{if(n=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>o&&(n=o),n<r&&(n===0&&t!==Ei||t===rf||n!==i+e.strm.avail_in)))break;s=t===Ei&&n===i+e.strm.avail_in?1:0,C3(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,ii(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(N3(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(s===0);return f-=e.strm.avail_in,f&&(f>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=f&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-f,e.strm.next_in),e.strstart),e.strstart+=f,e.insert+=f>e.w_size-e.insert?e.w_size-e.insert:f),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?Ud:t!==rf&&t!==Ei&&e.strm.avail_in===0&&e.strstart===e.block_start?Md:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(N3(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,r=o>e.w_size?e.w_size:o,i=e.strstart-e.block_start,(i>=r||(i||t===Ei)&&t!==rf&&e.strm.avail_in===0&&i<=o)&&(n=i>o?o:i,s=t===Ei&&e.strm.avail_in===0&&n===i?1:0,C3(e,e.block_start,n,s),e.block_start+=n,ii(e.strm)),s?Bu:$n)},Nv=(e,t)=>{let r,n;for(;;){if(e.lookahead<gs){if(rd(e),e.lookahead<gs&&t===rf)return $n;if(e.lookahead===0)break}if(r=0,e.lookahead>=Ze&&(e.ins_h=nf(e,e.ins_h,e.window[e.strstart+Ze-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-gs&&(e.match_length=uC(e,r)),e.match_length>=Ze)if(n=tf(e,e.strstart-e.match_start,e.match_length-Ze),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ze){e.match_length--;do e.strstart++,e.ins_h=nf(e,e.ins_h,e.window[e.strstart+Ze-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=nf(e,e.ins_h,e.window[e.strstart+1]);else n=tf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(li(e,!1),e.strm.avail_out===0))return $n}return e.insert=e.strstart<Ze-1?e.strstart:Ze-1,t===Ei?(li(e,!0),e.strm.avail_out===0?Bu:Ud):e.sym_next&&(li(e,!1),e.strm.avail_out===0)?$n:Md},oc=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<gs){if(rd(e),e.lookahead<gs&&t===rf)return $n;if(e.lookahead===0)break}if(r=0,e.lookahead>=Ze&&(e.ins_h=nf(e,e.ins_h,e.window[e.strstart+Ze-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ze-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-gs&&(e.match_length=uC(e,r),e.match_length<=5&&(e.strategy===Vz||e.match_length===Ze&&e.strstart-e.match_start>4096)&&(e.match_length=Ze-1)),e.prev_length>=Ze&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Ze,n=tf(e,e.strstart-1-e.prev_match,e.prev_length-Ze),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=nf(e,e.ins_h,e.window[e.strstart+Ze-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Ze-1,e.strstart++,n&&(li(e,!1),e.strm.avail_out===0))return $n}else if(e.match_available){if(n=tf(e,0,e.window[e.strstart-1]),n&&li(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return $n}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=tf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ze-1?e.strstart:Ze-1,t===Ei?(li(e,!0),e.strm.avail_out===0?Bu:Ud):e.sym_next&&(li(e,!1),e.strm.avail_out===0)?$n:Md},uY=(e,t)=>{let r,n,i,o;const s=e.window;for(;;){if(e.lookahead<=Pa){if(rd(e),e.lookahead<=Pa&&t===rf)return $n;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Ze&&e.strstart>0&&(i=e.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){o=e.strstart+Pa;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);e.match_length=Pa-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ze?(r=tf(e,1,e.match_length-Ze),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=tf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(li(e,!1),e.strm.avail_out===0))return $n}return e.insert=0,t===Ei?(li(e,!0),e.strm.avail_out===0?Bu:Ud):e.sym_next&&(li(e,!1),e.strm.avail_out===0)?$n:Md},cY=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(rd(e),e.lookahead===0)){if(t===rf)return $n;break}if(e.match_length=0,r=tf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(li(e,!1),e.strm.avail_out===0))return $n}return e.insert=0,t===Ei?(li(e,!0),e.strm.avail_out===0?Bu:Ud):e.sym_next&&(li(e,!1),e.strm.avail_out===0)?$n:Md};function go(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const P0=[new go(0,0,0,0,cC),new go(4,4,8,4,Nv),new go(4,5,16,8,Nv),new go(4,6,32,32,Nv),new go(4,4,16,16,oc),new go(8,16,32,32,oc),new go(8,16,128,128,oc),new go(8,32,128,256,oc),new go(32,128,258,1024,oc),new go(32,258,258,4096,oc)],dY=e=>{e.window_size=2*e.w_size,Sa(e.head),e.max_lazy_match=P0[e.level].max_lazy,e.good_match=P0[e.level].good_length,e.nice_match=P0[e.level].nice_length,e.max_chain_length=P0[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Ze-1,e.match_available=0,e.ins_h=0};function lY(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=dm,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(nY*2),this.dyn_dtree=new Uint16Array((2*tY+1)*2),this.bl_tree=new Uint16Array((2*rY+1)*2),Sa(this.dyn_ltree),Sa(this.dyn_dtree),Sa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(iY+1),this.heap=new Uint16Array(2*D3+1),Sa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*D3+1),Sa(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const pp=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==td&&t.status!==sw&&t.status!==R3&&t.status!==O3&&t.status!==A3&&t.status!==P3&&t.status!==eu&&t.status!==A0?1:0},dC=e=>{if(pp(e))return tu(e,ys);e.total_in=e.total_out=0,e.data_type=Jz;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?sw:t.wrap?td:eu,e.adler=t.wrap===2?0:1,t.last_flush=-2,kz(t),Br},lC=e=>{const t=dC(e);return t===Br&&dY(e.state),t},hY=(e,t)=>pp(e)||e.state.wrap!==2?ys:(e.state.gzhead=t,Br),hC=(e,t,r,n,i,o)=>{if(!e)return ys;let s=1;if(t===qz&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>Wz||r!==dm||n<8||n>15||t<0||t>9||o<0||o>Yz||n===8&&s!==1)return tu(e,ys);n===8&&(n=9);const f=new lY;return e.state=f,f.strm=e,f.status=td,f.wrap=s,f.gzhead=null,f.w_bits=n,f.w_size=1<<f.w_bits,f.w_mask=f.w_size-1,f.hash_bits=i+7,f.hash_size=1<<f.hash_bits,f.hash_mask=f.hash_size-1,f.hash_shift=~~((f.hash_bits+Ze-1)/Ze),f.window=new Uint8Array(f.w_size*2),f.head=new Uint16Array(f.hash_size),f.prev=new Uint16Array(f.w_size),f.lit_bufsize=1<<i+6,f.pending_buf_size=f.lit_bufsize*4,f.pending_buf=new Uint8Array(f.pending_buf_size),f.sym_buf=f.lit_bufsize,f.sym_end=(f.lit_bufsize-1)*3,f.level=t,f.strategy=o,f.method=r,lC(e)},pY=(e,t)=>hC(e,t,dm,Xz,Zz,Gz),yY=(e,t)=>{if(pp(e)||t>II||t<0)return e?tu(e,ys):ys;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===A0&&t!==Ei)return tu(e,e.avail_out===0?Pv:ys);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(ii(e),e.avail_out===0)return r.last_flush=-1,Br}else if(e.avail_in===0&&xI(t)<=xI(n)&&t!==Ei)return tu(e,Pv);if(r.status===A0&&e.avail_in!==0)return tu(e,Pv);if(r.status===td&&r.wrap===0&&(r.status=eu),r.status===td){let i=dm+(r.w_bits-8<<4)<<8,o=-1;if(r.strategy>=sy||r.level<2?o=0:r.level<6?o=1:r.level===6?o=2:o=3,i|=o<<6,r.strstart!==0&&(i|=oY),i+=31-i%31,g0(r,i),r.strstart!==0&&(g0(r,e.adler>>>16),g0(r,e.adler&65535)),e.adler=1,r.status=eu,ii(e),r.pending!==0)return r.last_flush=-1,Br}if(r.status===sw){if(e.adler=0,tt(r,31),tt(r,139),tt(r,8),r.gzhead)tt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),tt(r,r.gzhead.time&255),tt(r,r.gzhead.time>>8&255),tt(r,r.gzhead.time>>16&255),tt(r,r.gzhead.time>>24&255),tt(r,r.level===9?2:r.strategy>=sy||r.level<2?4:0),tt(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(tt(r,r.gzhead.extra.length&255),tt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=wa(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=R3;else if(tt(r,0),tt(r,0),tt(r,0),tt(r,0),tt(r,0),tt(r,r.level===9?2:r.strategy>=sy||r.level<2?4:0),tt(r,sY),r.status=eu,ii(e),r.pending!==0)return r.last_flush=-1,Br}if(r.status===R3){if(r.gzhead.extra){let i=r.pending,o=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+o>r.pending_buf_size;){let f=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+f),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=wa(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=f,ii(e),r.pending!==0)return r.last_flush=-1,Br;i=0,o-=f}let s=new Uint8Array(r.gzhead.extra);r.pending_buf.set(s.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending+=o,r.gzhead.hcrc&&r.pending>i&&(e.adler=wa(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=O3}if(r.status===O3){if(r.gzhead.name){let i=r.pending,o;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=wa(e.adler,r.pending_buf,r.pending-i,i)),ii(e),r.pending!==0)return r.last_flush=-1,Br;i=0}r.gzindex<r.gzhead.name.length?o=r.gzhead.name.charCodeAt(r.gzindex++)&255:o=0,tt(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=wa(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=A3}if(r.status===A3){if(r.gzhead.comment){let i=r.pending,o;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=wa(e.adler,r.pending_buf,r.pending-i,i)),ii(e),r.pending!==0)return r.last_flush=-1,Br;i=0}r.gzindex<r.gzhead.comment.length?o=r.gzhead.comment.charCodeAt(r.gzindex++)&255:o=0,tt(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=wa(e.adler,r.pending_buf,r.pending-i,i))}r.status=P3}if(r.status===P3){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(ii(e),r.pending!==0))return r.last_flush=-1,Br;tt(r,e.adler&255),tt(r,e.adler>>8&255),e.adler=0}if(r.status=eu,ii(e),r.pending!==0)return r.last_flush=-1,Br}if(e.avail_in!==0||r.lookahead!==0||t!==rf&&r.status!==A0){let i=r.level===0?cC(r,t):r.strategy===sy?cY(r,t):r.strategy===zz?uY(r,t):P0[r.level].func(r,t);if((i===Bu||i===Ud)&&(r.status=A0),i===$n||i===Bu)return e.avail_out===0&&(r.last_flush=-1),Br;if(i===Md&&(t===jz?Fz(r):t!==II&&(C3(r,0,0,!1),t===Kz&&(Sa(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),ii(e),e.avail_out===0))return r.last_flush=-1,Br}return t!==Ei?Br:r.wrap<=0?EI:(r.wrap===2?(tt(r,e.adler&255),tt(r,e.adler>>8&255),tt(r,e.adler>>16&255),tt(r,e.adler>>24&255),tt(r,e.total_in&255),tt(r,e.total_in>>8&255),tt(r,e.total_in>>16&255),tt(r,e.total_in>>24&255)):(g0(r,e.adler>>>16),g0(r,e.adler&65535)),ii(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Br:EI)},gY=e=>{if(pp(e))return ys;const t=e.state.status;return e.state=null,t===eu?tu(e,Hz):Br},mY=(e,t)=>{let r=t.length;if(pp(e))return ys;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==td||n.lookahead)return ys;if(i===1&&(e.adler=fC(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){i===0&&(Sa(n.head),n.strstart=0,n.block_start=0,n.insert=0);let d=new Uint8Array(n.w_size);d.set(t.subarray(r-n.w_size,r),0),t=d,r=n.w_size}const o=e.avail_in,s=e.next_in,f=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,rd(n);n.lookahead>=Ze;){let d=n.strstart,a=n.lookahead-(Ze-1);do n.ins_h=nf(n,n.ins_h,n.window[d+Ze-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++;while(--a);n.strstart=d,n.lookahead=Ze-1,rd(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Ze-1,n.match_available=0,e.next_in=s,e.input=f,e.avail_in=o,n.wrap=i,Br};ws.deflateInit=pY;ws.deflateInit2=hC;ws.deflateReset=lC;ws.deflateResetKeep=dC;ws.deflateSetHeader=hY;ws.deflate=yY;ws.deflateEnd=gY;ws.deflateSetDictionary=mY;ws.deflateInfo="pako deflate (from Nodeca project)";var lm={};const bY=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);lm.assign=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)bY(r,n)&&(e[n]=r[n])}}return e};lm.flattenChunks=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,o=e.length;n<o;n++){let s=e[n];r.set(s,i),i+=s.length}return r};var yp={};let pC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pC=!1}const uh=new Uint8Array(256);for(let e=0;e<256;e++)uh[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;uh[254]=uh[254]=1;yp.string2buf=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,o,s=e.length,f=0;for(i=0;i<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),f+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(f),o=0,i=0;o<f;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|r&63):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|r&63):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|r&63);return t};const vY=(e,t)=>{if(t<65534&&e.subarray&&pC)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};yp.buf2string=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const o=new Array(r*2);for(i=0,n=0;n<r;){let s=e[n++];if(s<128){o[i++]=s;continue}let f=uh[s];if(f>4){o[i++]=65533,n+=f-1;continue}for(s&=f===2?31:f===3?15:7;f>1&&n<r;)s=s<<6|e[n++]&63,f--;if(f>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return vY(o,i)};yp.utf8border=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+uh[e[r]]>t?r:t};function _Y(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var yC=_Y;const q0=ws,gC=lm,mC=yp,M3=ow,wY=yC,bC=Object.prototype.toString,{Z_NO_FLUSH:TY,Z_SYNC_FLUSH:IY,Z_FULL_FLUSH:EY,Z_FINISH:xY,Z_OK:Bg,Z_STREAM_END:SY,Z_DEFAULT_COMPRESSION:BY,Z_DEFAULT_STRATEGY:CY,Z_DEFLATED:DY}=Hu;function gp(e){this.options=gC.assign({level:BY,method:DY,chunkSize:16384,windowBits:15,memLevel:8,strategy:CY},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wY,this.strm.avail_out=0;let r=q0.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Bg)throw new Error(M3[r]);if(t.header&&q0.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=mC.string2buf(t.dictionary):bC.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=q0.deflateSetDictionary(this.strm,n),r!==Bg)throw new Error(M3[r]);this._dict_set=!0}}gp.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,o;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?xY:TY,typeof e=="string"?r.input=mC.string2buf(e):bC.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===IY||o===EY)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=q0.deflate(r,o),i===SY)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=q0.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Bg;if(r.avail_out===0){this.onData(r.output);continue}if(o>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};gp.prototype.onData=function(e){this.chunks.push(e)};gp.prototype.onEnd=function(e){e===Bg&&(this.result=gC.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function aw(e,t){const r=new gp(t);if(r.push(e,!0),r.err)throw r.msg||M3[r.err];return r.result}function RY(e,t){return t=t||{},t.raw=!0,aw(e,t)}function OY(e,t){return t=t||{},t.gzip=!0,aw(e,t)}Ad.Deflate=gp;Ad.deflate=aw;Ad.deflateRaw=RY;Ad.gzip=OY;Ad.constants=Hu;var kd={},lo={};const ay=16209,AY=16191;var PY=function(t,r){let n,i,o,s,f,d,a,c,p,h,y,g,v,T,I,_,C,w,P,D,u,l,m,R;const B=t.state;n=t.next_in,m=t.input,i=n+(t.avail_in-5),o=t.next_out,R=t.output,s=o-(r-t.avail_out),f=o+(t.avail_out-257),d=B.dmax,a=B.wsize,c=B.whave,p=B.wnext,h=B.window,y=B.hold,g=B.bits,v=B.lencode,T=B.distcode,I=(1<<B.lenbits)-1,_=(1<<B.distbits)-1;e:do{g<15&&(y+=m[n++]<<g,g+=8,y+=m[n++]<<g,g+=8),C=v[y&I];t:for(;;){if(w=C>>>24,y>>>=w,g-=w,w=C>>>16&255,w===0)R[o++]=C&65535;else if(w&16){P=C&65535,w&=15,w&&(g<w&&(y+=m[n++]<<g,g+=8),P+=y&(1<<w)-1,y>>>=w,g-=w),g<15&&(y+=m[n++]<<g,g+=8,y+=m[n++]<<g,g+=8),C=T[y&_];r:for(;;){if(w=C>>>24,y>>>=w,g-=w,w=C>>>16&255,w&16){if(D=C&65535,w&=15,g<w&&(y+=m[n++]<<g,g+=8,g<w&&(y+=m[n++]<<g,g+=8)),D+=y&(1<<w)-1,D>d){t.msg="invalid distance too far back",B.mode=ay;break e}if(y>>>=w,g-=w,w=o-s,D>w){if(w=D-w,w>c&&B.sane){t.msg="invalid distance too far back",B.mode=ay;break e}if(u=0,l=h,p===0){if(u+=a-w,w<P){P-=w;do R[o++]=h[u++];while(--w);u=o-D,l=R}}else if(p<w){if(u+=a+p-w,w-=p,w<P){P-=w;do R[o++]=h[u++];while(--w);if(u=0,p<P){w=p,P-=w;do R[o++]=h[u++];while(--w);u=o-D,l=R}}}else if(u+=p-w,w<P){P-=w;do R[o++]=h[u++];while(--w);u=o-D,l=R}for(;P>2;)R[o++]=l[u++],R[o++]=l[u++],R[o++]=l[u++],P-=3;P&&(R[o++]=l[u++],P>1&&(R[o++]=l[u++]))}else{u=o-D;do R[o++]=R[u++],R[o++]=R[u++],R[o++]=R[u++],P-=3;while(P>2);P&&(R[o++]=R[u++],P>1&&(R[o++]=R[u++]))}}else if(w&64){t.msg="invalid distance code",B.mode=ay;break e}else{C=T[(C&65535)+(y&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){B.mode=AY;break e}else{t.msg="invalid literal/length code",B.mode=ay;break e}else{C=v[(C&65535)+(y&(1<<w)-1)];continue t}break}}while(n<i&&o<f);P=g>>3,n-=P,g-=P<<3,y&=(1<<g)-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=o<f?257+(f-o):257-(o-f),B.hold=y,B.bits=g};const sc=15,SI=852,BI=592,CI=0,Mv=1,DI=2,NY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),MY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),UY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),kY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),$Y=(e,t,r,n,i,o,s,f)=>{const d=f.bits;let a=0,c=0,p=0,h=0,y=0,g=0,v=0,T=0,I=0,_=0,C,w,P,D,u,l=null,m;const R=new Uint16Array(sc+1),B=new Uint16Array(sc+1);let b=null,E,k,L;for(a=0;a<=sc;a++)R[a]=0;for(c=0;c<n;c++)R[t[r+c]]++;for(y=d,h=sc;h>=1&&R[h]===0;h--);if(y>h&&(y=h),h===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,f.bits=1,0;for(p=1;p<h&&R[p]===0;p++);for(y<p&&(y=p),T=1,a=1;a<=sc;a++)if(T<<=1,T-=R[a],T<0)return-1;if(T>0&&(e===CI||h!==1))return-1;for(B[1]=0,a=1;a<sc;a++)B[a+1]=B[a]+R[a];for(c=0;c<n;c++)t[r+c]!==0&&(s[B[t[r+c]]++]=c);if(e===CI?(l=b=s,m=20):e===Mv?(l=NY,b=MY,m=257):(l=UY,b=kY,m=0),_=0,c=0,a=p,u=o,g=y,v=0,P=-1,I=1<<y,D=I-1,e===Mv&&I>SI||e===DI&&I>BI)return 1;for(;;){E=a-v,s[c]+1<m?(k=0,L=s[c]):s[c]>=m?(k=b[s[c]-m],L=l[s[c]-m]):(k=96,L=0),C=1<<a-v,w=1<<g,p=w;do w-=C,i[u+(_>>v)+w]=E<<24|k<<16|L|0;while(w!==0);for(C=1<<a-1;_&C;)C>>=1;if(C!==0?(_&=C-1,_+=C):_=0,c++,--R[a]===0){if(a===h)break;a=t[r+s[c]]}if(a>y&&(_&D)!==P){for(v===0&&(v=y),u+=p,g=a-v,T=1<<g;g+v<h&&(T-=R[g+v],!(T<=0));)g++,T<<=1;if(I+=1<<g,e===Mv&&I>SI||e===DI&&I>BI)return 1;P=_&D,i[P]=y<<24|g<<16|u-o|0}}return _!==0&&(i[u+_]=a-v<<24|64<<16|0),f.bits=y,0};var FY=$Y;const U3=sC,mo=aC,LY=PY,V0=FY,jY=0,vC=1,_C=2,{Z_FINISH:RI,Z_BLOCK:KY,Z_TREES:fy,Z_OK:Cu,Z_STREAM_END:HY,Z_NEED_DICT:qY,Z_STREAM_ERROR:Ri,Z_DATA_ERROR:wC,Z_MEM_ERROR:TC,Z_BUF_ERROR:VY,Z_DEFLATED:OI}=Hu,hm=16180,AI=16181,PI=16182,NI=16183,MI=16184,UI=16185,kI=16186,$I=16187,FI=16188,LI=16189,Cg=16190,Bs=16191,Uv=16192,jI=16193,kv=16194,KI=16195,HI=16196,qI=16197,VI=16198,uy=16199,cy=16200,zI=16201,YI=16202,GI=16203,JI=16204,WI=16205,$v=16206,XI=16207,ZI=16208,It=16209,IC=16210,EC=16211,zY=852,YY=592,GY=15,JY=GY,QI=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function WY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qu=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<hm||t.mode>EC?1:0},xC=e=>{if(qu(e))return Ri;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=hm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(zY),t.distcode=t.distdyn=new Int32Array(YY),t.sane=1,t.back=-1,Cu},SC=e=>{if(qu(e))return Ri;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,xC(e)},BC=(e,t)=>{let r;if(qu(e))return Ri;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ri:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,SC(e))},CC=(e,t)=>{if(!e)return Ri;const r=new WY;e.state=r,r.strm=e,r.window=null,r.mode=hm;const n=BC(e,t);return n!==Cu&&(e.state=null),n},XY=e=>CC(e,JY);let e5=!0,Fv,Lv;const ZY=e=>{if(e5){Fv=new Int32Array(512),Lv=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(V0(vC,e.lens,0,288,Fv,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;V0(_C,e.lens,0,32,Lv,0,e.work,{bits:5}),e5=!1}e.lencode=Fv,e.lenbits=9,e.distcode=Lv,e.distbits=5},DC=(e,t,r,n)=>{let i;const o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(t.subarray(r-n,r-n+i),o.wnext),n-=i,n?(o.window.set(t.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},QY=(e,t)=>{let r,n,i,o,s,f,d,a,c,p,h,y,g,v,T=0,I,_,C,w,P,D,u,l;const m=new Uint8Array(4);let R,B;const b=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qu(e)||!e.output||!e.input&&e.avail_in!==0)return Ri;r=e.state,r.mode===Bs&&(r.mode=Uv),s=e.next_out,i=e.output,d=e.avail_out,o=e.next_in,n=e.input,f=e.avail_in,a=r.hold,c=r.bits,p=f,h=d,l=Cu;e:for(;;)switch(r.mode){case hm:if(r.wrap===0){r.mode=Uv;break}for(;c<16;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}if(r.wrap&2&&a===35615){r.wbits===0&&(r.wbits=15),r.check=0,m[0]=a&255,m[1]=a>>>8&255,r.check=mo(r.check,m,2,0),a=0,c=0,r.mode=AI;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((a&255)<<8)+(a>>8))%31){e.msg="incorrect header check",r.mode=It;break}if((a&15)!==OI){e.msg="unknown compression method",r.mode=It;break}if(a>>>=4,c-=4,u=(a&15)+8,r.wbits===0&&(r.wbits=u),u>15||u>r.wbits){e.msg="invalid window size",r.mode=It;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=a&512?LI:Bs,a=0,c=0;break;case AI:for(;c<16;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}if(r.flags=a,(r.flags&255)!==OI){e.msg="unknown compression method",r.mode=It;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=It;break}r.head&&(r.head.text=a>>8&1),r.flags&512&&r.wrap&4&&(m[0]=a&255,m[1]=a>>>8&255,r.check=mo(r.check,m,2,0)),a=0,c=0,r.mode=PI;case PI:for(;c<32;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}r.head&&(r.head.time=a),r.flags&512&&r.wrap&4&&(m[0]=a&255,m[1]=a>>>8&255,m[2]=a>>>16&255,m[3]=a>>>24&255,r.check=mo(r.check,m,4,0)),a=0,c=0,r.mode=NI;case NI:for(;c<16;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}r.head&&(r.head.xflags=a&255,r.head.os=a>>8),r.flags&512&&r.wrap&4&&(m[0]=a&255,m[1]=a>>>8&255,r.check=mo(r.check,m,2,0)),a=0,c=0,r.mode=MI;case MI:if(r.flags&1024){for(;c<16;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}r.length=a,r.head&&(r.head.extra_len=a),r.flags&512&&r.wrap&4&&(m[0]=a&255,m[1]=a>>>8&255,r.check=mo(r.check,m,2,0)),a=0,c=0}else r.head&&(r.head.extra=null);r.mode=UI;case UI:if(r.flags&1024&&(y=r.length,y>f&&(y=f),y&&(r.head&&(u=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+y),u)),r.flags&512&&r.wrap&4&&(r.check=mo(r.check,n,y,o)),f-=y,o+=y,r.length-=y),r.length))break e;r.length=0,r.mode=kI;case kI:if(r.flags&2048){if(f===0)break e;y=0;do u=n[o+y++],r.head&&u&&r.length<65536&&(r.head.name+=String.fromCharCode(u));while(u&&y<f);if(r.flags&512&&r.wrap&4&&(r.check=mo(r.check,n,y,o)),f-=y,o+=y,u)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=$I;case $I:if(r.flags&4096){if(f===0)break e;y=0;do u=n[o+y++],r.head&&u&&r.length<65536&&(r.head.comment+=String.fromCharCode(u));while(u&&y<f);if(r.flags&512&&r.wrap&4&&(r.check=mo(r.check,n,y,o)),f-=y,o+=y,u)break e}else r.head&&(r.head.comment=null);r.mode=FI;case FI:if(r.flags&512){for(;c<16;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}if(r.wrap&4&&a!==(r.check&65535)){e.msg="header crc mismatch",r.mode=It;break}a=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Bs;break;case LI:for(;c<32;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}e.adler=r.check=QI(a),a=0,c=0,r.mode=Cg;case Cg:if(r.havedict===0)return e.next_out=s,e.avail_out=d,e.next_in=o,e.avail_in=f,r.hold=a,r.bits=c,qY;e.adler=r.check=1,r.mode=Bs;case Bs:if(t===KY||t===fy)break e;case Uv:if(r.last){a>>>=c&7,c-=c&7,r.mode=$v;break}for(;c<3;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}switch(r.last=a&1,a>>>=1,c-=1,a&3){case 0:r.mode=jI;break;case 1:if(ZY(r),r.mode=uy,t===fy){a>>>=2,c-=2;break e}break;case 2:r.mode=HI;break;case 3:e.msg="invalid block type",r.mode=It}a>>>=2,c-=2;break;case jI:for(a>>>=c&7,c-=c&7;c<32;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}if((a&65535)!==(a>>>16^65535)){e.msg="invalid stored block lengths",r.mode=It;break}if(r.length=a&65535,a=0,c=0,r.mode=kv,t===fy)break e;case kv:r.mode=KI;case KI:if(y=r.length,y){if(y>f&&(y=f),y>d&&(y=d),y===0)break e;i.set(n.subarray(o,o+y),s),f-=y,o+=y,d-=y,s+=y,r.length-=y;break}r.mode=Bs;break;case HI:for(;c<14;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}if(r.nlen=(a&31)+257,a>>>=5,c-=5,r.ndist=(a&31)+1,a>>>=5,c-=5,r.ncode=(a&15)+4,a>>>=4,c-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=It;break}r.have=0,r.mode=qI;case qI:for(;r.have<r.ncode;){for(;c<3;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}r.lens[b[r.have++]]=a&7,a>>>=3,c-=3}for(;r.have<19;)r.lens[b[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},l=V0(jY,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,l){e.msg="invalid code lengths set",r.mode=It;break}r.have=0,r.mode=VI;case VI:for(;r.have<r.nlen+r.ndist;){for(;T=r.lencode[a&(1<<r.lenbits)-1],I=T>>>24,_=T>>>16&255,C=T&65535,!(I<=c);){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}if(C<16)a>>>=I,c-=I,r.lens[r.have++]=C;else{if(C===16){for(B=I+2;c<B;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}if(a>>>=I,c-=I,r.have===0){e.msg="invalid bit length repeat",r.mode=It;break}u=r.lens[r.have-1],y=3+(a&3),a>>>=2,c-=2}else if(C===17){for(B=I+3;c<B;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}a>>>=I,c-=I,u=0,y=3+(a&7),a>>>=3,c-=3}else{for(B=I+7;c<B;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}a>>>=I,c-=I,u=0,y=11+(a&127),a>>>=7,c-=7}if(r.have+y>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=It;break}for(;y--;)r.lens[r.have++]=u}}if(r.mode===It)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=It;break}if(r.lenbits=9,R={bits:r.lenbits},l=V0(vC,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,l){e.msg="invalid literal/lengths set",r.mode=It;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},l=V0(_C,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,l){e.msg="invalid distances set",r.mode=It;break}if(r.mode=uy,t===fy)break e;case uy:r.mode=cy;case cy:if(f>=6&&d>=258){e.next_out=s,e.avail_out=d,e.next_in=o,e.avail_in=f,r.hold=a,r.bits=c,LY(e,h),s=e.next_out,i=e.output,d=e.avail_out,o=e.next_in,n=e.input,f=e.avail_in,a=r.hold,c=r.bits,r.mode===Bs&&(r.back=-1);break}for(r.back=0;T=r.lencode[a&(1<<r.lenbits)-1],I=T>>>24,_=T>>>16&255,C=T&65535,!(I<=c);){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}if(_&&!(_&240)){for(w=I,P=_,D=C;T=r.lencode[D+((a&(1<<w+P)-1)>>w)],I=T>>>24,_=T>>>16&255,C=T&65535,!(w+I<=c);){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}a>>>=w,c-=w,r.back+=w}if(a>>>=I,c-=I,r.back+=I,r.length=C,_===0){r.mode=WI;break}if(_&32){r.back=-1,r.mode=Bs;break}if(_&64){e.msg="invalid literal/length code",r.mode=It;break}r.extra=_&15,r.mode=zI;case zI:if(r.extra){for(B=r.extra;c<B;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}r.length+=a&(1<<r.extra)-1,a>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=YI;case YI:for(;T=r.distcode[a&(1<<r.distbits)-1],I=T>>>24,_=T>>>16&255,C=T&65535,!(I<=c);){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}if(!(_&240)){for(w=I,P=_,D=C;T=r.distcode[D+((a&(1<<w+P)-1)>>w)],I=T>>>24,_=T>>>16&255,C=T&65535,!(w+I<=c);){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}a>>>=w,c-=w,r.back+=w}if(a>>>=I,c-=I,r.back+=I,_&64){e.msg="invalid distance code",r.mode=It;break}r.offset=C,r.extra=_&15,r.mode=GI;case GI:if(r.extra){for(B=r.extra;c<B;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}r.offset+=a&(1<<r.extra)-1,a>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=It;break}r.mode=JI;case JI:if(d===0)break e;if(y=h-d,r.offset>y){if(y=r.offset-y,y>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=It;break}y>r.wnext?(y-=r.wnext,g=r.wsize-y):g=r.wnext-y,y>r.length&&(y=r.length),v=r.window}else v=i,g=s-r.offset,y=r.length;y>d&&(y=d),d-=y,r.length-=y;do i[s++]=v[g++];while(--y);r.length===0&&(r.mode=cy);break;case WI:if(d===0)break e;i[s++]=r.length,d--,r.mode=cy;break;case $v:if(r.wrap){for(;c<32;){if(f===0)break e;f--,a|=n[o++]<<c,c+=8}if(h-=d,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?mo(r.check,i,h,s-h):U3(r.check,i,h,s-h)),h=d,r.wrap&4&&(r.flags?a:QI(a))!==r.check){e.msg="incorrect data check",r.mode=It;break}a=0,c=0}r.mode=XI;case XI:if(r.wrap&&r.flags){for(;c<32;){if(f===0)break e;f--,a+=n[o++]<<c,c+=8}if(r.wrap&4&&a!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=It;break}a=0,c=0}r.mode=ZI;case ZI:l=HY;break e;case It:l=wC;break e;case IC:return TC;case EC:default:return Ri}return e.next_out=s,e.avail_out=d,e.next_in=o,e.avail_in=f,r.hold=a,r.bits=c,(r.wsize||h!==e.avail_out&&r.mode<It&&(r.mode<$v||t!==RI))&&DC(e,e.output,e.next_out,h-e.avail_out),p-=e.avail_in,h-=e.avail_out,e.total_in+=p,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?mo(r.check,i,h,e.next_out-h):U3(r.check,i,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Bs?128:0)+(r.mode===uy||r.mode===kv?256:0),(p===0&&h===0||t===RI)&&l===Cu&&(l=VY),l},eG=e=>{if(qu(e))return Ri;let t=e.state;return t.window&&(t.window=null),e.state=null,Cu},tG=(e,t)=>{if(qu(e))return Ri;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Cu):Ri},rG=(e,t)=>{const r=t.length;let n,i,o;return qu(e)||(n=e.state,n.wrap!==0&&n.mode!==Cg)?Ri:n.mode===Cg&&(i=1,i=U3(i,t,r,0),i!==n.check)?wC:(o=DC(e,t,r,r),o?(n.mode=IC,TC):(n.havedict=1,Cu))};lo.inflateReset=SC;lo.inflateReset2=BC;lo.inflateResetKeep=xC;lo.inflateInit=XY;lo.inflateInit2=CC;lo.inflate=QY;lo.inflateEnd=eG;lo.inflateGetHeader=tG;lo.inflateSetDictionary=rG;lo.inflateInfo="pako inflate (from Nodeca project)";function nG(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var iG=nG;const As=lo,RC=lm,k3=yp,$3=ow,oG=yC,sG=iG,OC=Object.prototype.toString,{Z_NO_FLUSH:aG,Z_FINISH:fG,Z_OK:ch,Z_STREAM_END:jv,Z_NEED_DICT:Kv,Z_STREAM_ERROR:uG,Z_DATA_ERROR:t5,Z_MEM_ERROR:cG}=Hu;function mp(e){this.options=RC.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oG,this.strm.avail_out=0;let r=As.inflateInit2(this.strm,t.windowBits);if(r!==ch)throw new Error($3[r]);if(this.header=new sG,As.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=k3.string2buf(t.dictionary):OC.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=As.inflateSetDictionary(this.strm,t.dictionary),r!==ch)))throw new Error($3[r])}mp.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,s,f;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?fG:aG,OC.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=As.inflate(r,s),o===Kv&&i&&(o=As.inflateSetDictionary(r,i),o===ch?o=As.inflate(r,s):o===t5&&(o=Kv));r.avail_in>0&&o===jv&&r.state.wrap>0&&e[r.next_in]!==0;)As.inflateReset(r),o=As.inflate(r,s);switch(o){case uG:case t5:case Kv:case cG:return this.onEnd(o),this.ended=!0,!1}if(f=r.avail_out,r.next_out&&(r.avail_out===0||o===jv))if(this.options.to==="string"){let d=k3.utf8border(r.output,r.next_out),a=r.next_out-d,c=k3.buf2string(r.output,d);r.next_out=a,r.avail_out=n-a,a&&r.output.set(r.output.subarray(d,d+a),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===ch&&f===0)){if(o===jv)return o=As.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};mp.prototype.onData=function(e){this.chunks.push(e)};mp.prototype.onEnd=function(e){e===ch&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=RC.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function fw(e,t){const r=new mp(t);if(r.push(e),r.err)throw r.msg||$3[r.err];return r.result}function dG(e,t){return t=t||{},t.raw=!0,fw(e,t)}kd.Inflate=mp;kd.inflate=fw;kd.inflateRaw=dG;kd.ungzip=fw;kd.constants=Hu;const{Deflate:lG,deflate:hG,deflateRaw:pG,gzip:yG}=Ad,{Inflate:gG,inflate:mG,inflateRaw:bG,ungzip:vG}=kd,_G=Hu;co.Deflate=lG;co.deflate=hG;co.deflateRaw=pG;co.gzip=yG;co.Inflate=gG;co.inflate=mG;co.inflateRaw=bG;co.ungzip=vG;co.constants=_G;var bp={},pm={},$d={},Du={},Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.Output=Wn.utxo=Wn.Input=Wn.Omni=Wn.BtcTx=void 0;const nt=Pi;class Zs extends nt.Message{constructor(t){super(),this.fee=nt.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],nt.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new Zs().fromBinary(t,r)}static fromJson(t,r){return new Zs().fromJson(t,r)}static fromJsonString(t,r){return new Zs().fromJsonString(t,r)}static equals(t,r){return nt.proto3.util.equals(Zs,t,r)}}Zs.runtime=nt.proto3;Zs.typeName="protoc.BtcTx";Zs.fields=nt.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:as,repeated:!0},{no:5,name:"outputs",kind:"message",T:us,repeated:!0},{no:6,name:"omni",kind:"message",T:ss}]);Wn.BtcTx=Zs;class ss extends nt.Message{constructor(t){super(),this.to="",this.changeAddress="",this.omniAmount=nt.protoInt64.zero,this.propertyId=0,nt.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new ss().fromBinary(t,r)}static fromJson(t,r){return new ss().fromJson(t,r)}static fromJsonString(t,r){return new ss().fromJsonString(t,r)}static equals(t,r){return nt.proto3.util.equals(ss,t,r)}}ss.runtime=nt.proto3;ss.typeName="protoc.Omni";ss.fields=nt.proto3.util.newFieldList(()=>[{no:5,name:"to",kind:"scalar",T:9},{no:6,name:"changeAddress",kind:"scalar",T:9},{no:7,name:"omniAmount",kind:"scalar",T:3},{no:8,name:"propertyId",kind:"scalar",T:5}]);Wn.Omni=ss;class as extends nt.Message{constructor(t){super(),this.hash="",this.index=0,this.ownerKeyPath="",nt.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new as().fromBinary(t,r)}static fromJson(t,r){return new as().fromJson(t,r)}static fromJsonString(t,r){return new as().fromJsonString(t,r)}static equals(t,r){return nt.proto3.util.equals(as,t,r)}}as.runtime=nt.proto3;as.typeName="protoc.Input";as.fields=nt.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"utxo",kind:"message",T:fs},{no:4,name:"ownerKeyPath",kind:"scalar",T:9}]);Wn.Input=as;class fs extends nt.Message{constructor(t){super(),this.publicKey="",this.script="",this.value=nt.protoInt64.zero,nt.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new fs().fromBinary(t,r)}static fromJson(t,r){return new fs().fromJson(t,r)}static fromJsonString(t,r){return new fs().fromJsonString(t,r)}static equals(t,r){return nt.proto3.util.equals(fs,t,r)}}fs.runtime=nt.proto3;fs.typeName="protoc.utxo";fs.fields=nt.proto3.util.newFieldList(()=>[{no:1,name:"publicKey",kind:"scalar",T:9},{no:2,name:"script",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:3}]);Wn.utxo=fs;class us extends nt.Message{constructor(t){super(),this.address="",this.value=nt.protoInt64.zero,this.isChange=!1,this.changeAddressPath="",nt.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new us().fromBinary(t,r)}static fromJson(t,r){return new us().fromJson(t,r)}static fromJsonString(t,r){return new us().fromJsonString(t,r)}static equals(t,r){return nt.proto3.util.equals(us,t,r)}}us.runtime=nt.proto3;us.typeName="protoc.Output";us.fields=nt.proto3.util.newFieldList(()=>[{no:1,name:"address",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:3},{no:3,name:"isChange",kind:"scalar",T:8},{no:4,name:"changeAddressPath",kind:"scalar",T:9}]);Wn.Output=us;Object.defineProperty(Du,"__esModule",{value:!0});Du.BchTx_Input=Du.BchTx=void 0;const Bi=Pi,wG=Wn;class Qs extends Bi.Message{constructor(t){super(),this.fee=Bi.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],Bi.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new Qs().fromBinary(t,r)}static fromJson(t,r){return new Qs().fromJson(t,r)}static fromJsonString(t,r){return new Qs().fromJsonString(t,r)}static equals(t,r){return Bi.proto3.util.equals(Qs,t,r)}}Qs.runtime=Bi.proto3;Qs.typeName="protoc.BchTx";Qs.fields=Bi.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:cs,repeated:!0},{no:5,name:"outputs",kind:"message",T:wG.Output,repeated:!0}]);Du.BchTx=Qs;class cs extends Bi.Message{constructor(t){super(),this.hash="",this.index=0,this.value=Bi.protoInt64.zero,this.pubkey="",this.ownerKeyPath="",Bi.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new cs().fromBinary(t,r)}static fromJson(t,r){return new cs().fromJson(t,r)}static fromJsonString(t,r){return new cs().fromJsonString(t,r)}static equals(t,r){return Bi.proto3.util.equals(cs,t,r)}}cs.runtime=Bi.proto3;cs.typeName="protoc.BchTx.Input";cs.fields=Bi.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"value",kind:"scalar",T:3},{no:4,name:"pubkey",kind:"scalar",T:9},{no:5,name:"ownerKeyPath",kind:"scalar",T:9}]);Du.BchTx_Input=cs;var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.DashTx_Input=Ru.DashTx=void 0;const Ci=Pi,TG=Wn;class ea extends Ci.Message{constructor(t){super(),this.fee=Ci.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],Ci.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new ea().fromBinary(t,r)}static fromJson(t,r){return new ea().fromJson(t,r)}static fromJsonString(t,r){return new ea().fromJsonString(t,r)}static equals(t,r){return Ci.proto3.util.equals(ea,t,r)}}ea.runtime=Ci.proto3;ea.typeName="protoc.DashTx";ea.fields=Ci.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:ds,repeated:!0},{no:5,name:"outputs",kind:"message",T:TG.Output,repeated:!0}]);Ru.DashTx=ea;class ds extends Ci.Message{constructor(t){super(),this.hash="",this.index=0,this.value=Ci.protoInt64.zero,this.pubkey="",this.ownerKeyPath="",Ci.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new ds().fromBinary(t,r)}static fromJson(t,r){return new ds().fromJson(t,r)}static fromJsonString(t,r){return new ds().fromJsonString(t,r)}static equals(t,r){return Ci.proto3.util.equals(ds,t,r)}}ds.runtime=Ci.proto3;ds.typeName="protoc.DashTx.Input";ds.fields=Ci.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"value",kind:"scalar",T:3},{no:4,name:"pubkey",kind:"scalar",T:9},{no:5,name:"ownerKeyPath",kind:"scalar",T:9}]);Ru.DashTx_Input=ds;var vp={};Object.defineProperty(vp,"__esModule",{value:!0});vp.LtcTx=void 0;const pc=Pi,r5=Wn;class ta extends pc.Message{constructor(t){super(),this.fee=pc.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],pc.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new ta().fromBinary(t,r)}static fromJson(t,r){return new ta().fromJson(t,r)}static fromJsonString(t,r){return new ta().fromJsonString(t,r)}static equals(t,r){return pc.proto3.util.equals(ta,t,r)}}ta.runtime=pc.proto3;ta.typeName="protoc.LtcTx";ta.fields=pc.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:r5.Input,repeated:!0},{no:5,name:"outputs",kind:"message",T:r5.Output,repeated:!0}]);vp.LtcTx=ta;Object.defineProperty($d,"__esModule",{value:!0});$d.SignTransaction=void 0;const yc=Pi,IG=oa,EG=Du,xG=Ru,SG=vp;class ra extends yc.Message{constructor(t){super(),this.coinCode="",this.signId="",this.hdPath="",this.timestamp=yc.protoInt64.zero,this.decimal=0,this.Transaction={case:void 0},yc.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new ra().fromBinary(t,r)}static fromJson(t,r){return new ra().fromJson(t,r)}static fromJsonString(t,r){return new ra().fromJsonString(t,r)}static equals(t,r){return yc.proto3.util.equals(ra,t,r)}}ra.runtime=yc.proto3;ra.typeName="protoc.SignTransaction";ra.fields=yc.proto3.util.newFieldList(()=>[{no:1,name:"coinCode",kind:"scalar",T:9},{no:2,name:"signId",kind:"scalar",T:9},{no:3,name:"hdPath",kind:"scalar",T:9},{no:4,name:"timestamp",kind:"scalar",T:3},{no:5,name:"decimal",kind:"scalar",T:5},{no:8,name:"tronTx",kind:"message",T:IG.TronTx,oneof:"Transaction"},{no:10,name:"bchTx",kind:"message",T:EG.BchTx,oneof:"Transaction"},{no:11,name:"dashTx",kind:"message",T:xG.DashTx,oneof:"Transaction"},{no:12,name:"ltcTx",kind:"message",T:SG.LtcTx,oneof:"Transaction"}]);$d.SignTransaction=ra;var ym={};Object.defineProperty(ym,"__esModule",{value:!0});ym.SignTransactionResult=void 0;const z0=Pi;class na extends z0.Message{constructor(t){super(),this.signId="",this.txId="",this.rawTx="",z0.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new na().fromBinary(t,r)}static fromJson(t,r){return new na().fromJson(t,r)}static fromJsonString(t,r){return new na().fromJsonString(t,r)}static equals(t,r){return z0.proto3.util.equals(na,t,r)}}na.runtime=z0.proto3;na.typeName="protoc.SignTransactionResult";na.fields=z0.proto3.util.newFieldList(()=>[{no:1,name:"signId",kind:"scalar",T:9},{no:2,name:"txId",kind:"scalar",T:9},{no:3,name:"rawTx",kind:"scalar",T:9}]);ym.SignTransactionResult=na;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Payload_Type=e.Payload=void 0;const t=Pi,r=$d,n=ym;class i extends t.Message{constructor(f){super(),this.type=o.RESERVE,this.xfp="",this.Content={case:void 0},t.proto3.util.initPartial(f,this)}static fromBinary(f,d){return new i().fromBinary(f,d)}static fromJson(f,d){return new i().fromJson(f,d)}static fromJsonString(f,d){return new i().fromJsonString(f,d)}static equals(f,d){return t.proto3.util.equals(i,f,d)}}i.runtime=t.proto3,i.typeName="protoc.Payload",i.fields=t.proto3.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:t.proto3.getEnumType(o)},{no:2,name:"xfp",kind:"scalar",T:9},{no:4,name:"signTx",kind:"message",T:r.SignTransaction,oneof:"Content"},{no:7,name:"signTxResult",kind:"message",T:n.SignTransactionResult,oneof:"Content"}]),e.Payload=i;var o;(function(s){s[s.RESERVE=0]="RESERVE",s[s.SYNC=1]="SYNC",s[s.SIGN_TX=2]="SIGN_TX",s[s.SIGN_MSG=3]="SIGN_MSG",s[s.SIGN_MULTI_SIG=4]="SIGN_MULTI_SIG",s[s.SYNC_MULTI_SIG_MSG=5]="SYNC_MULTI_SIG_MSG",s[s.SIGN_ETH_MULTI_SIG_MSG=6]="SIGN_ETH_MULTI_SIG_MSG",s[s.VERIFY_ADDRESS=7]="VERIFY_ADDRESS",s[s.STAKING=8]="STAKING",s[s.SIGN_TX_RESULT=9]="SIGN_TX_RESULT"})(o=e.Payload_Type||(e.Payload_Type={})),t.proto3.util.setEnumType(o,"protoc.Payload.Type",[{no:0,name:"TYPE_RESERVE"},{no:1,name:"TYPE_SYNC"},{no:2,name:"TYPE_SIGN_TX"},{no:3,name:"TYPE_SIGN_MSG"},{no:4,name:"TYPE_SIGN_MULTI_SIG"},{no:5,name:"TYPE_SYNC_MULTI_SIG_MSG"},{no:6,name:"TYPE_SIGN_ETH_MULTI_SIG_MSG"},{no:7,name:"TYPE_VERIFY_ADDRESS"},{no:8,name:"TYPE_STAKING"},{no:9,name:"TYPE_SIGN_TX_RESULT"}])})(pm);Object.defineProperty(bp,"__esModule",{value:!0});bp.Base=void 0;const Y0=Pi,BG=pm;class ia extends Y0.Message{constructor(t){super(),this.version=0,this.description="",this.Content={case:void 0},this.deviceType="",Y0.proto3.util.initPartial(t,this)}static fromBinary(t,r){return new ia().fromBinary(t,r)}static fromJson(t,r){return new ia().fromJson(t,r)}static fromJsonString(t,r){return new ia().fromJsonString(t,r)}static equals(t,r){return Y0.proto3.util.equals(ia,t,r)}}ia.runtime=Y0.proto3;ia.typeName="protoc.Base";ia.fields=Y0.proto3.util.newFieldList(()=>[{no:1,name:"version",kind:"scalar",T:5},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"data",kind:"message",T:BG.Payload},{no:4,name:"hotVersion",kind:"scalar",T:5,oneof:"Content"},{no:5,name:"coldVersion",kind:"scalar",T:5,oneof:"Content"},{no:6,name:"deviceType",kind:"scalar",T:9}]);bp.Base=ia;var AC={exports:{}},PC={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Of();const r={KEYSTONE_SIGN_REQUEST:new t.RegistryType("keystone-sign-request",6101),KEYSTONE_SIGN_RESULT:new t.RegistryType("keystone-sign-result",6102)},{decodeToDataItem:n}=t.extend;var i;(function(a){a[a.signData=1]="signData",a[a.origin=2]="origin"})(i||(i={}));class o extends t.RegistryItem{constructor(c){super(),this.getRegistryType=()=>r.KEYSTONE_SIGN_REQUEST,this.getSignData=()=>this.signData,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const p={};return p[i.signData]=this.signData,this.origin&&(p[i.origin]=this.origin),new t.DataItem(p)},this.signData=c.signData,this.origin=c.origin}static constructKeystoneRequest(c,p){return new o({signData:c,origin:p})}}o.fromDataItem=a=>{const c=a.getData();return new o({signData:c[i.signData],origin:c[i.origin]})},o.fromCBOR=a=>{const c=n(a);return o.fromDataItem(c)};const{decodeToDataItem:s}=t.extend;var f;(function(a){a[a.signResult=1]="signResult"})(f||(f={}));class d extends t.RegistryItem{constructor(c){super(),this.getRegistryType=()=>r.KEYSTONE_SIGN_RESULT,this.getSignResult=()=>this.signResult,this.toDataItem=()=>{const p={};return p[f.signResult]=this.signResult,new t.DataItem(p)},this.signResult=c}}d.fromDataItem=a=>{const c=a.getData();return new d(c[f.signResult])},d.fromCBOR=a=>{const c=s(a);return d.fromDataItem(c)},t.patchTags(Object.values(r).filter(a=>!!a.getTag()).map(a=>a.getTag())),Object.keys(t).forEach(function(a){a!=="default"&&Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[a]}})}),e.KeystoneSignRequest=o,e.KeystoneSignResult=d})(PC);AC.exports=PC;var NC=AC.exports,CG=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(G1,"__esModule",{value:!0});G1.KeystoneTronSDK=void 0;const DG=ir,RG=qn,OG=J1,n5=CG(co),i5=bp,o5=pm,AG=$d,s5=NC;class PG{parseSignature(t){var r,n;if(t.type!==RG.URType.KeystoneSignResult)throw new Error("type not match");const i=s5.KeystoneSignResult.fromCBOR(t.cbor),o=i5.Base.fromBinary(n5.default.ungzip(i.getSignResult()));if(((r=o.data)===null||r===void 0?void 0:r.Content.case)!=="signTxResult")throw new Error("invalid sign result");const{signId:s,rawTx:f}=(n=o.data)===null||n===void 0?void 0:n.Content.value;return{requestId:s,raw:f}}generateSignRequest({requestId:t,signData:r,path:n,xfp:i,tokenInfo:o,origin:s}){const f=(0,OG.raw2tx)((0,DG.toBuffer)(r),o),d=n5.default.gzip(new i5.Base({version:2,description:"QrCode Protocol",deviceType:"",data:new o5.Payload({xfp:i,type:o5.Payload_Type.SIGN_TX,Content:{case:"signTx",value:new AG.SignTransaction({coinCode:"TRON",hdPath:n,signId:t,timestamp:BigInt(Date.now()),decimal:6,Transaction:{case:"tronTx",value:f}})}})}).toBinary());return new s5.KeystoneSignRequest({signData:Buffer.from(d),origin:s}).toUR()}}G1.KeystoneTronSDK=PG;var gm={},MC={exports:{}},UC={},dy,NG=new Uint8Array(16);function kC(){if(!dy&&(dy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!dy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dy(NG)}const MG=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function mm(e){return typeof e=="string"&&MG.test(e)}var Ir=[];for(var Hv=0;Hv<256;++Hv)Ir.push((Hv+256).toString(16).substr(1));function bm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Ir[e[t+0]]+Ir[e[t+1]]+Ir[e[t+2]]+Ir[e[t+3]]+"-"+Ir[e[t+4]]+Ir[e[t+5]]+"-"+Ir[e[t+6]]+Ir[e[t+7]]+"-"+Ir[e[t+8]]+Ir[e[t+9]]+"-"+Ir[e[t+10]]+Ir[e[t+11]]+Ir[e[t+12]]+Ir[e[t+13]]+Ir[e[t+14]]+Ir[e[t+15]]).toLowerCase();if(!mm(r))throw TypeError("Stringified UUID is invalid");return r}var a5,qv,Vv=0,zv=0;function UG(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var o=e.node||a5,s=e.clockseq!==void 0?e.clockseq:qv;if(o==null||s==null){var f=e.random||(e.rng||kC)();o==null&&(o=a5=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=qv=(f[6]<<8|f[7])&16383)}var d=e.msecs!==void 0?e.msecs:Date.now(),a=e.nsecs!==void 0?e.nsecs:zv+1,c=d-Vv+(a-zv)/1e4;if(c<0&&e.clockseq===void 0&&(s=s+1&16383),(c<0||d>Vv)&&e.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Vv=d,zv=a,qv=s,d+=122192928e5;var p=((d&268435455)*1e4+a)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var h=d/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=h&255,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var y=0;y<6;++y)i[n+y]=o[y];return t||bm(i)}function $C(e){if(!mm(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function kG(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var $G="6ba7b810-9dad-11d1-80b4-00c04fd430c8",FG="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function FC(e,t,r){function n(i,o,s,f){if(typeof i=="string"&&(i=kG(i)),typeof o=="string"&&(o=$C(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+i.length);if(d.set(o),d.set(i,o.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,s){f=f||0;for(var a=0;a<16;++a)s[f+a]=d[a];return s}return bm(d)}try{n.name=e}catch{}return n.DNS=$G,n.URL=FG,n}function LG(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return jG(KG(HG(e),e.length*8))}function jG(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(s)}return t}function LC(e){return(e+64>>>9<<4)+14+1}function KG(e,t){e[t>>5]|=128<<t%32,e[LC(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var f=r,d=n,a=i,c=o;r=yn(r,n,i,o,e[s],7,-680876936),o=yn(o,r,n,i,e[s+1],12,-389564586),i=yn(i,o,r,n,e[s+2],17,606105819),n=yn(n,i,o,r,e[s+3],22,-1044525330),r=yn(r,n,i,o,e[s+4],7,-176418897),o=yn(o,r,n,i,e[s+5],12,1200080426),i=yn(i,o,r,n,e[s+6],17,-1473231341),n=yn(n,i,o,r,e[s+7],22,-45705983),r=yn(r,n,i,o,e[s+8],7,1770035416),o=yn(o,r,n,i,e[s+9],12,-1958414417),i=yn(i,o,r,n,e[s+10],17,-42063),n=yn(n,i,o,r,e[s+11],22,-1990404162),r=yn(r,n,i,o,e[s+12],7,1804603682),o=yn(o,r,n,i,e[s+13],12,-40341101),i=yn(i,o,r,n,e[s+14],17,-1502002290),n=yn(n,i,o,r,e[s+15],22,1236535329),r=gn(r,n,i,o,e[s+1],5,-165796510),o=gn(o,r,n,i,e[s+6],9,-1069501632),i=gn(i,o,r,n,e[s+11],14,643717713),n=gn(n,i,o,r,e[s],20,-373897302),r=gn(r,n,i,o,e[s+5],5,-701558691),o=gn(o,r,n,i,e[s+10],9,38016083),i=gn(i,o,r,n,e[s+15],14,-660478335),n=gn(n,i,o,r,e[s+4],20,-405537848),r=gn(r,n,i,o,e[s+9],5,568446438),o=gn(o,r,n,i,e[s+14],9,-1019803690),i=gn(i,o,r,n,e[s+3],14,-187363961),n=gn(n,i,o,r,e[s+8],20,1163531501),r=gn(r,n,i,o,e[s+13],5,-1444681467),o=gn(o,r,n,i,e[s+2],9,-51403784),i=gn(i,o,r,n,e[s+7],14,1735328473),n=gn(n,i,o,r,e[s+12],20,-1926607734),r=mn(r,n,i,o,e[s+5],4,-378558),o=mn(o,r,n,i,e[s+8],11,-2022574463),i=mn(i,o,r,n,e[s+11],16,1839030562),n=mn(n,i,o,r,e[s+14],23,-35309556),r=mn(r,n,i,o,e[s+1],4,-1530992060),o=mn(o,r,n,i,e[s+4],11,1272893353),i=mn(i,o,r,n,e[s+7],16,-155497632),n=mn(n,i,o,r,e[s+10],23,-1094730640),r=mn(r,n,i,o,e[s+13],4,681279174),o=mn(o,r,n,i,e[s],11,-358537222),i=mn(i,o,r,n,e[s+3],16,-722521979),n=mn(n,i,o,r,e[s+6],23,76029189),r=mn(r,n,i,o,e[s+9],4,-640364487),o=mn(o,r,n,i,e[s+12],11,-421815835),i=mn(i,o,r,n,e[s+15],16,530742520),n=mn(n,i,o,r,e[s+2],23,-995338651),r=bn(r,n,i,o,e[s],6,-198630844),o=bn(o,r,n,i,e[s+7],10,1126891415),i=bn(i,o,r,n,e[s+14],15,-1416354905),n=bn(n,i,o,r,e[s+5],21,-57434055),r=bn(r,n,i,o,e[s+12],6,1700485571),o=bn(o,r,n,i,e[s+3],10,-1894986606),i=bn(i,o,r,n,e[s+10],15,-1051523),n=bn(n,i,o,r,e[s+1],21,-2054922799),r=bn(r,n,i,o,e[s+8],6,1873313359),o=bn(o,r,n,i,e[s+15],10,-30611744),i=bn(i,o,r,n,e[s+6],15,-1560198380),n=bn(n,i,o,r,e[s+13],21,1309151649),r=bn(r,n,i,o,e[s+4],6,-145523070),o=bn(o,r,n,i,e[s+11],10,-1120210379),i=bn(i,o,r,n,e[s+2],15,718787259),n=bn(n,i,o,r,e[s+9],21,-343485551),r=Na(r,f),n=Na(n,d),i=Na(i,a),o=Na(o,c)}return[r,n,i,o]}function HG(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(LC(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function Na(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function qG(e,t){return e<<t|e>>>32-t}function vm(e,t,r,n,i,o){return Na(qG(Na(Na(t,e),Na(n,o)),i),r)}function yn(e,t,r,n,i,o,s){return vm(t&r|~t&n,e,t,i,o,s)}function gn(e,t,r,n,i,o,s){return vm(t&n|r&~n,e,t,i,o,s)}function mn(e,t,r,n,i,o,s){return vm(t^r^n,e,t,i,o,s)}function bn(e,t,r,n,i,o,s){return vm(r^(t|~n),e,t,i,o,s)}var VG=FC("v3",48,LG);const zG=VG;function YG(e,t,r){e=e||{};var n=e.random||(e.rng||kC)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return bm(n)}function GG(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function Yv(e,t){return e<<t|e>>>32-t}function JG(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),f=new Array(s),d=0;d<s;++d){for(var a=new Uint32Array(16),c=0;c<16;++c)a[c]=e[d*64+c*4]<<24|e[d*64+c*4+1]<<16|e[d*64+c*4+2]<<8|e[d*64+c*4+3];f[d]=a}f[s-1][14]=(e.length-1)*8/Math.pow(2,32),f[s-1][14]=Math.floor(f[s-1][14]),f[s-1][15]=(e.length-1)*8&4294967295;for(var p=0;p<s;++p){for(var h=new Uint32Array(80),y=0;y<16;++y)h[y]=f[p][y];for(var g=16;g<80;++g)h[g]=Yv(h[g-3]^h[g-8]^h[g-14]^h[g-16],1);for(var v=r[0],T=r[1],I=r[2],_=r[3],C=r[4],w=0;w<80;++w){var P=Math.floor(w/20),D=Yv(v,5)+GG(P,T,I,_)+C+t[P]+h[w]>>>0;C=_,_=I,I=Yv(T,30)>>>0,T=v,v=D}r[0]=r[0]+v>>>0,r[1]=r[1]+T>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+_>>>0,r[4]=r[4]+C>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var WG=FC("v5",80,JG);const XG=WG,ZG="00000000-0000-0000-0000-000000000000";function QG(e){if(!mm(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const eJ=Object.freeze(Object.defineProperty({__proto__:null,NIL:ZG,parse:$C,stringify:bm,v1:UG,v3:zG,v4:YG,v5:XG,validate:mm,version:QG},Symbol.toStringTag,{value:"Module"})),tJ=hi(eJ);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Of(),r=tJ;const n={APTOS_SIGN_REQUEST:new t.RegistryType("aptos-sign-request",3101),APTOS_SIGNATURE:new t.RegistryType("aptos-signature",3102)},{decodeToDataItem:i,RegistryTypes:o}=t.extend;var s,f;(s=e.SignType||(e.SignType={}))[s.SingleSign=1]="SingleSign",s[s.MultiSign=2]="MultiSign",function(y){y[y.requestId=1]="requestId",y[y.signData=2]="signData",y[y.authenticationKeyDerivationPaths=3]="authenticationKeyDerivationPaths",y[y.accounts=4]="accounts",y[y.origin=5]="origin",y[y.signType=6]="signType"}(f||(f={}));class d extends t.RegistryItem{constructor(g){super(),this.getRegistryType=()=>n.APTOS_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getAuthenticationKeyDerivationPaths=()=>this.authenticationKeyDerivationPaths.map(v=>v.getPath()),this.getSignRequestAccounts=()=>this.accounts,this.getOrigin=()=>this.origin,this.getSignType=()=>this.signType,this.toDataItem=()=>{const v={};return v[f.requestId]=new t.DataItem(this.requestId,o.UUID.getTag()),this.accounts&&(v[f.accounts]=this.accounts),this.origin&&(v[f.origin]=this.origin),v[f.signData]=this.signData,v[f.signType]=this.signType,v[f.authenticationKeyDerivationPaths]=this.authenticationKeyDerivationPaths.map(T=>{const I=T.toDataItem();return I.setTag(T.getRegistryType().getTag()),I}),new t.DataItem(v)},this.requestId=g.requestId,this.signData=g.signData,this.authenticationKeyDerivationPaths=g.authenticationKeyDerivationPaths,this.accounts=g.accounts,this.origin=g.origin,this.signType=g.signType}static constructAptosRequest(g,v,T,I,_,C,w){const P=v.map((D,u)=>{const l=D.replace(/[m|M]\//,"").split("/").map(m=>{const R=parseInt(m.replace("'",""));let B=!1;return m.endsWith("'")&&(B=!0),new t.PathComponent({index:R,hardened:B})});return new t.CryptoKeypath(l,Buffer.from(T[u],"hex"))});return new d({requestId:Buffer.from(r.parse(_)),signData:g,authenticationKeyDerivationPaths:P,accounts:C||void 0,origin:w||void 0,signType:I||e.SignType.SingleSign})}}d.fromDataItem=y=>{const g=y.getData(),v=g[f.signData],T=g[f.signType],I=g[f.authenticationKeyDerivationPaths].map(w=>t.CryptoKeypath.fromDataItem(w)),_=g[f.accounts]?g[f.accounts]:void 0,C=g[f.requestId]?g[f.requestId].getData():void 0;return new d({requestId:C,signData:v,authenticationKeyDerivationPaths:I,accounts:_,origin:g[f.origin]?g[f.origin]:void 0,signType:T})},d.fromCBOR=y=>{const g=i(y);return d.fromDataItem(g)};const{RegistryTypes:a,decodeToDataItem:c}=t.extend;var p;(function(y){y[y.requestId=1]="requestId",y[y.signature=2]="signature",y[y.authenticationPublicKey=3]="authenticationPublicKey"})(p||(p={}));class h extends t.RegistryItem{constructor(g,v,T){super(),this.getRegistryType=()=>n.APTOS_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getAuthenticationPublicKey=()=>this.authenticationPublicKey,this.toDataItem=()=>{const I={};return I[p.requestId]=new t.DataItem(this.requestId,a.UUID.getTag()),I[p.signature]=this.signature,I[p.authenticationPublicKey]=this.authenticationPublicKey,new t.DataItem(I)},this.signature=g,this.requestId=v,this.authenticationPublicKey=T}}h.fromDataItem=y=>{const g=y.getData(),v=g[p.signature],T=g[p.requestId].getData();return new h(v,T,g[p.authenticationPublicKey])},h.fromCBOR=y=>{const g=c(y);return h.fromDataItem(g)},t.patchTags(Object.values(n).filter(y=>!!y.getTag()).map(y=>y.getTag())),Object.keys(t).forEach(function(y){y!=="default"&&Object.defineProperty(e,y,{enumerable:!0,get:function(){return t[y]}})}),e.AptosSignRequest=d,e.AptosSignature=h})(UC);MC.exports=UC;var rJ=MC.exports;Object.defineProperty(gm,"__esModule",{value:!0});gm.KeystoneAptosSDK=void 0;const N0=rJ,ba=ir,nJ=qn;class jC{parseSignature(t){if(t.type!==nJ.URType.AptosSignature)throw new Error("type not match");const r=N0.AptosSignature.fromCBOR(t.cbor);return{requestId:(0,ba.uuidStringify)(r.getRequestId()),signature:(0,ba.toHex)(r.getSignature()),authenticationPublicKey:(0,ba.toHex)(r.getAuthenticationPublicKey())}}generateSignRequest({requestId:t,signData:r,signType:n,accounts:i,origin:o}){const s=[],f=[];if(i.forEach(d=>{s.push(new N0.CryptoKeypath((0,ba.parsePath)(d.path).map(a=>new N0.PathComponent(a)),(0,ba.toBuffer)(d.xfp))),d.key!==void 0&&f.push((0,ba.toBuffer)(d.key))}),f.length>0&&f.length!==s.length)throw new Error("account and path count must match");return new N0.AptosSignRequest({requestId:(0,ba.uuidParse)(t),signData:(0,ba.toBuffer)(r),signType:n,authenticationKeyDerivationPaths:s,accounts:f,origin:o}).toUR()}}jC.SignType=N0.SignType;gm.KeystoneAptosSDK=jC;var _m={},wm={};(function(e){var t=Be&&Be.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.Keystone=e.TXCase=e.Chain=void 0;const r=t(co),n=qn,i=NC,o=bp,s=pm,f=$d,d=vp,a=Du,c=Ru;var p;(function(g){g.LTC="LTC",g.BCH="BCH",g.DASH="DASH"})(p=e.Chain||(e.Chain={}));var h;(function(g){g.LTC="ltcTx",g.BCH="bchTx",g.DASH="dashTx"})(h=e.TXCase||(e.TXCase={}));class y{generateSignData({chain:v,requestId:T,signData:I,xfp:_}){let C,w,P;switch(v){case p.LTC:C=new d.LtcTx(Object.assign(Object.assign({},I),{fee:BigInt(I.fee),dustThreshold:5460})),P=p.LTC,w=h.LTC;break;case p.BCH:C=new a.BchTx(Object.assign(Object.assign({},I),{fee:BigInt(I.fee),dustThreshold:546})),P=p.BCH,w=h.BCH;break;case p.DASH:C=new c.DashTx(Object.assign(Object.assign({},I),{fee:BigInt(I.fee),dustThreshold:546})),P=p.DASH,w=h.DASH;break;default:throw new Error("chain not support")}return r.default.gzip(new o.Base({version:2,description:"QrCode Protocol",deviceType:"",data:new s.Payload({xfp:_,type:s.Payload_Type.SIGN_TX,Content:{case:"signTx",value:new f.SignTransaction({coinCode:P,hdPath:"",signId:T,timestamp:BigInt(Date.now()),decimal:8,Transaction:{case:w,value:C}})}})}).toBinary())}generateSignRequest(v){const T=Buffer.from(this.generateSignData(v));return new i.KeystoneSignRequest({signData:T,origin:v.origin}).toUR()}parseSignResult(v){var T,I;if(v.type!==n.URType.KeystoneSignResult)throw new Error("type not match");const _=i.KeystoneSignResult.fromCBOR(v.cbor),C=o.Base.fromBinary(r.default.ungzip(_.getSignResult()));if(((T=C.data)===null||T===void 0?void 0:T.Content.case)!=="signTxResult")throw new Error("invalid sign result");const w=(I=C.data)===null||I===void 0?void 0:I.Content.value;return{requestId:w.signId,rawData:w.rawTx}}}e.Keystone=y})(wm);Object.defineProperty(_m,"__esModule",{value:!0});_m.KeystoneBitcoinCashSDK=void 0;const f5=wm;class iJ extends f5.Keystone{generateSignRequest(t){return super.generateSignRequest(Object.assign({chain:f5.Chain.BCH},t))}}_m.KeystoneBitcoinCashSDK=iJ;var Tm={};Object.defineProperty(Tm,"__esModule",{value:!0});Tm.KeystoneDashSDK=void 0;const u5=wm;class oJ extends u5.Keystone{generateSignRequest(t){return super.generateSignRequest(Object.assign({chain:u5.Chain.DASH},t))}}Tm.KeystoneDashSDK=oJ;var Im={};Object.defineProperty(Im,"__esModule",{value:!0});Im.KeystoneLitecoinSDK=void 0;const c5=wm;class sJ extends c5.Keystone{generateSignRequest(t){return super.generateSignRequest(Object.assign({chain:c5.Chain.LTC},t))}}Im.KeystoneLitecoinSDK=sJ;var Em={},KC={exports:{}},HC={},ly,aJ=new Uint8Array(16);function qC(){if(!ly&&(ly=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ly))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ly(aJ)}const fJ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function xm(e){return typeof e=="string"&&fJ.test(e)}var Er=[];for(var Gv=0;Gv<256;++Gv)Er.push((Gv+256).toString(16).substr(1));function Sm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Er[e[t+0]]+Er[e[t+1]]+Er[e[t+2]]+Er[e[t+3]]+"-"+Er[e[t+4]]+Er[e[t+5]]+"-"+Er[e[t+6]]+Er[e[t+7]]+"-"+Er[e[t+8]]+Er[e[t+9]]+"-"+Er[e[t+10]]+Er[e[t+11]]+Er[e[t+12]]+Er[e[t+13]]+Er[e[t+14]]+Er[e[t+15]]).toLowerCase();if(!xm(r))throw TypeError("Stringified UUID is invalid");return r}var d5,Jv,Wv=0,Xv=0;function uJ(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var o=e.node||d5,s=e.clockseq!==void 0?e.clockseq:Jv;if(o==null||s==null){var f=e.random||(e.rng||qC)();o==null&&(o=d5=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=Jv=(f[6]<<8|f[7])&16383)}var d=e.msecs!==void 0?e.msecs:Date.now(),a=e.nsecs!==void 0?e.nsecs:Xv+1,c=d-Wv+(a-Xv)/1e4;if(c<0&&e.clockseq===void 0&&(s=s+1&16383),(c<0||d>Wv)&&e.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Wv=d,Xv=a,Jv=s,d+=122192928e5;var p=((d&268435455)*1e4+a)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var h=d/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=h&255,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var y=0;y<6;++y)i[n+y]=o[y];return t||Sm(i)}function VC(e){if(!xm(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function cJ(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var dJ="6ba7b810-9dad-11d1-80b4-00c04fd430c8",lJ="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function zC(e,t,r){function n(i,o,s,f){if(typeof i=="string"&&(i=cJ(i)),typeof o=="string"&&(o=VC(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+i.length);if(d.set(o),d.set(i,o.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,s){f=f||0;for(var a=0;a<16;++a)s[f+a]=d[a];return s}return Sm(d)}try{n.name=e}catch{}return n.DNS=dJ,n.URL=lJ,n}function hJ(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return pJ(yJ(gJ(e),e.length*8))}function pJ(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(s)}return t}function YC(e){return(e+64>>>9<<4)+14+1}function yJ(e,t){e[t>>5]|=128<<t%32,e[YC(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var f=r,d=n,a=i,c=o;r=vn(r,n,i,o,e[s],7,-680876936),o=vn(o,r,n,i,e[s+1],12,-389564586),i=vn(i,o,r,n,e[s+2],17,606105819),n=vn(n,i,o,r,e[s+3],22,-1044525330),r=vn(r,n,i,o,e[s+4],7,-176418897),o=vn(o,r,n,i,e[s+5],12,1200080426),i=vn(i,o,r,n,e[s+6],17,-1473231341),n=vn(n,i,o,r,e[s+7],22,-45705983),r=vn(r,n,i,o,e[s+8],7,1770035416),o=vn(o,r,n,i,e[s+9],12,-1958414417),i=vn(i,o,r,n,e[s+10],17,-42063),n=vn(n,i,o,r,e[s+11],22,-1990404162),r=vn(r,n,i,o,e[s+12],7,1804603682),o=vn(o,r,n,i,e[s+13],12,-40341101),i=vn(i,o,r,n,e[s+14],17,-1502002290),n=vn(n,i,o,r,e[s+15],22,1236535329),r=_n(r,n,i,o,e[s+1],5,-165796510),o=_n(o,r,n,i,e[s+6],9,-1069501632),i=_n(i,o,r,n,e[s+11],14,643717713),n=_n(n,i,o,r,e[s],20,-373897302),r=_n(r,n,i,o,e[s+5],5,-701558691),o=_n(o,r,n,i,e[s+10],9,38016083),i=_n(i,o,r,n,e[s+15],14,-660478335),n=_n(n,i,o,r,e[s+4],20,-405537848),r=_n(r,n,i,o,e[s+9],5,568446438),o=_n(o,r,n,i,e[s+14],9,-1019803690),i=_n(i,o,r,n,e[s+3],14,-187363961),n=_n(n,i,o,r,e[s+8],20,1163531501),r=_n(r,n,i,o,e[s+13],5,-1444681467),o=_n(o,r,n,i,e[s+2],9,-51403784),i=_n(i,o,r,n,e[s+7],14,1735328473),n=_n(n,i,o,r,e[s+12],20,-1926607734),r=wn(r,n,i,o,e[s+5],4,-378558),o=wn(o,r,n,i,e[s+8],11,-2022574463),i=wn(i,o,r,n,e[s+11],16,1839030562),n=wn(n,i,o,r,e[s+14],23,-35309556),r=wn(r,n,i,o,e[s+1],4,-1530992060),o=wn(o,r,n,i,e[s+4],11,1272893353),i=wn(i,o,r,n,e[s+7],16,-155497632),n=wn(n,i,o,r,e[s+10],23,-1094730640),r=wn(r,n,i,o,e[s+13],4,681279174),o=wn(o,r,n,i,e[s],11,-358537222),i=wn(i,o,r,n,e[s+3],16,-722521979),n=wn(n,i,o,r,e[s+6],23,76029189),r=wn(r,n,i,o,e[s+9],4,-640364487),o=wn(o,r,n,i,e[s+12],11,-421815835),i=wn(i,o,r,n,e[s+15],16,530742520),n=wn(n,i,o,r,e[s+2],23,-995338651),r=Tn(r,n,i,o,e[s],6,-198630844),o=Tn(o,r,n,i,e[s+7],10,1126891415),i=Tn(i,o,r,n,e[s+14],15,-1416354905),n=Tn(n,i,o,r,e[s+5],21,-57434055),r=Tn(r,n,i,o,e[s+12],6,1700485571),o=Tn(o,r,n,i,e[s+3],10,-1894986606),i=Tn(i,o,r,n,e[s+10],15,-1051523),n=Tn(n,i,o,r,e[s+1],21,-2054922799),r=Tn(r,n,i,o,e[s+8],6,1873313359),o=Tn(o,r,n,i,e[s+15],10,-30611744),i=Tn(i,o,r,n,e[s+6],15,-1560198380),n=Tn(n,i,o,r,e[s+13],21,1309151649),r=Tn(r,n,i,o,e[s+4],6,-145523070),o=Tn(o,r,n,i,e[s+11],10,-1120210379),i=Tn(i,o,r,n,e[s+2],15,718787259),n=Tn(n,i,o,r,e[s+9],21,-343485551),r=Ma(r,f),n=Ma(n,d),i=Ma(i,a),o=Ma(o,c)}return[r,n,i,o]}function gJ(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(YC(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function Ma(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function mJ(e,t){return e<<t|e>>>32-t}function Bm(e,t,r,n,i,o){return Ma(mJ(Ma(Ma(t,e),Ma(n,o)),i),r)}function vn(e,t,r,n,i,o,s){return Bm(t&r|~t&n,e,t,i,o,s)}function _n(e,t,r,n,i,o,s){return Bm(t&n|r&~n,e,t,i,o,s)}function wn(e,t,r,n,i,o,s){return Bm(t^r^n,e,t,i,o,s)}function Tn(e,t,r,n,i,o,s){return Bm(r^(t|~n),e,t,i,o,s)}var bJ=zC("v3",48,hJ);const vJ=bJ;function _J(e,t,r){e=e||{};var n=e.random||(e.rng||qC)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Sm(n)}function wJ(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function Zv(e,t){return e<<t|e>>>32-t}function TJ(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),f=new Array(s),d=0;d<s;++d){for(var a=new Uint32Array(16),c=0;c<16;++c)a[c]=e[d*64+c*4]<<24|e[d*64+c*4+1]<<16|e[d*64+c*4+2]<<8|e[d*64+c*4+3];f[d]=a}f[s-1][14]=(e.length-1)*8/Math.pow(2,32),f[s-1][14]=Math.floor(f[s-1][14]),f[s-1][15]=(e.length-1)*8&4294967295;for(var p=0;p<s;++p){for(var h=new Uint32Array(80),y=0;y<16;++y)h[y]=f[p][y];for(var g=16;g<80;++g)h[g]=Zv(h[g-3]^h[g-8]^h[g-14]^h[g-16],1);for(var v=r[0],T=r[1],I=r[2],_=r[3],C=r[4],w=0;w<80;++w){var P=Math.floor(w/20),D=Zv(v,5)+wJ(P,T,I,_)+C+t[P]+h[w]>>>0;C=_,_=I,I=Zv(T,30)>>>0,T=v,v=D}r[0]=r[0]+v>>>0,r[1]=r[1]+T>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+_>>>0,r[4]=r[4]+C>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var IJ=zC("v5",80,TJ);const EJ=IJ,xJ="00000000-0000-0000-0000-000000000000";function SJ(e){if(!xm(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const BJ=Object.freeze(Object.defineProperty({__proto__:null,NIL:xJ,parse:VC,stringify:Sm,v1:uJ,v3:vJ,v4:_J,v5:EJ,validate:xm,version:SJ},Symbol.toStringTag,{value:"Module"})),CJ=hi(BJ);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Of(),r=CJ;const n={NEAR_SIGN_REQUEST:new t.RegistryType("near-sign-request",2101),NEAR_SIGNATURE:new t.RegistryType("near-signature",2102),CRYPTO_MULTI_ACCOUNTS:new t.RegistryType("crypto-multi-accounts",2103)},{decodeToDataItem:i,RegistryTypes:o}=t.extend;var s;(function(h){h[h.requestId=1]="requestId",h[h.signData=2]="signData",h[h.derivationPath=3]="derivationPath",h[h.account=4]="account",h[h.origin=5]="origin"})(s||(s={}));class f extends t.RegistryItem{constructor(y){super(),this.getRegistryType=()=>n.NEAR_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAccount=()=>this.account,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const g={};this.requestId&&(g[s.requestId]=new t.DataItem(this.requestId,o.UUID.getTag())),this.account&&(g[s.account]=this.account),this.origin&&(g[s.origin]=this.origin),g[s.signData]=this.signData;const v=this.derivationPath.toDataItem();return v.setTag(this.derivationPath.getRegistryType().getTag()),g[s.derivationPath]=v,new t.DataItem(g)},this.requestId=y.requestId,this.signData=y.signData,this.derivationPath=y.derivationPath,this.account=y.account,this.origin=y.origin}static constructNearRequest(y,g,v,T,I,_){const C=g.replace(/[m|M]\//,"").split("/"),w=new t.CryptoKeypath(C.map(P=>{const D=parseInt(P.replace("'",""));let u=!1;return P.endsWith("'")&&(u=!0),new t.PathComponent({index:D,hardened:u})}),Buffer.from(v,"hex"));return new f({requestId:T?Buffer.from(r.parse(T)):void 0,signData:y,derivationPath:w,account:I||void 0,origin:_||void 0})}}f.fromDataItem=h=>{const y=h.getData(),g=y[s.signData],v=t.CryptoKeypath.fromDataItem(y[s.derivationPath]),T=y[s.account]?y[s.account]:void 0,I=y[s.requestId]?y[s.requestId].getData():void 0;return new f({requestId:I,signData:g,derivationPath:v,account:T,origin:y[s.origin]?y[s.origin]:void 0})},f.fromCBOR=h=>{const y=i(h);return f.fromDataItem(y)};const{RegistryTypes:d,decodeToDataItem:a}=t.extend;var c;(function(h){h[h.requestId=1]="requestId",h[h.signature=2]="signature"})(c||(c={}));class p extends t.RegistryItem{constructor(y,g){super(),this.getRegistryType=()=>n.NEAR_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{const v={};return this.requestId&&(v[c.requestId]=new t.DataItem(this.requestId,d.UUID.getTag())),v[c.signature]=this.signature,new t.DataItem(v)},this.signature=y,this.requestId=g}}p.fromDataItem=h=>{const y=h.getData(),g=y[c.signature],v=y[c.requestId]?y[c.requestId].getData():void 0;return new p(g,v)},p.fromCBOR=h=>{const y=a(h);return p.fromDataItem(y)},t.patchTags(Object.values(n).filter(h=>!!h.getTag()).map(h=>h.getTag())),Object.keys(t).forEach(function(h){h!=="default"&&Object.defineProperty(e,h,{enumerable:!0,get:function(){return t[h]}})}),e.NearSignRequest=f,e.NearSignature=p})(HC);KC.exports=HC;var DJ=KC.exports;Object.defineProperty(Em,"__esModule",{value:!0});Em.KeystoneNearSDK=void 0;const ac=ir,RJ=qn,hy=DJ;class OJ{parseSignature(t){if(t.type!==RJ.URType.NearSignature)throw new Error("type not match");const r=hy.NearSignature.fromCBOR(t.cbor),n=r.getRequestId();return{requestId:n===void 0?void 0:(0,ac.uuidStringify)(n),signature:r.getSignature().map(i=>(0,ac.toHex)(i))}}generateSignRequest({requestId:t,signData:r,path:n,xfp:i,account:o,origin:s}){return new hy.NearSignRequest({requestId:(0,ac.uuidParse)(t),signData:r.map(f=>(0,ac.toBuffer)(f)),derivationPath:new hy.CryptoKeypath((0,ac.parsePath)(n).map(f=>new hy.PathComponent(f)),(0,ac.toBuffer)(i)),account:o,origin:s}).toUR()}}Em.KeystoneNearSDK=OJ;var Cm={},GC={exports:{}},JC={},Qv={},WC={},nd={},Ar={},XC={exports:{}},Fd={};Object.defineProperty(Fd,"__esModule",{value:!0});Fd.DataItem=void 0;let AJ=class{constructor(t,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=t,this.tag=r}};Fd.DataItem=AJ;(function(e){(function(t,r){e.exports?e.exports=r():t.CBOR=r()})(Be,function(){const{DataItem:t}=Fd;var r=function(){function n(u){this.$hex=u}n.prototype={length:function(){return this.$hex.length/2},toString:function(u){if(!u||u==="hex"||u===16)return this.$hex;if(u==="utf-8"){for(var l="",m=0;m<this.$hex.length;m+=2)l+="%"+this.$hex.substring(m,m+2);return decodeURIComponent(l)}if(u==="latin"){for(var l=[],m=0;m<this.$hex.length;m+=2)l.push(parseInt(this.$hex.substring(m,m+2),16));return String.fromCharCode.apply(String,l)}throw new Error("Unrecognised format: "+u)}},n.fromLatinString=function(u){for(var l="",m=0;m<u.length;m++){var R=u.charCodeAt(m).toString(16);R.length===1&&(R="0"+R),l+=R}return new n(l)},n.fromUtf8String=function(u){for(var l=encodeURIComponent(u),m="",R=0;R<l.length;R++)if(l.charAt(R)==="%")m+=l.substring(R+1,R+3),R+=2;else{var B=l.charCodeAt(R).toString(16);B.length<2&&(B="0"+B),m+=B}return new n(m)};var i=[],o={},s=function(u){return function(){throw new Error(u+" not implemented")}};function f(){}f.prototype={peekByte:s("peekByte"),readByte:s("readByte"),readChunk:s("readChunk"),readFloat16:function(){var u=this.readUint16(),l=(u&32767)>>10,m=u&1023,R=u&32768;if(l===31)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-25)*(1024+m):Math.pow(2,-24)*m;return R?-B:B},readFloat32:function(){var u=this.readUint32(),l=(u&2147483647)>>23,m=u&8388607,R=u&2147483648;if(l===255)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-23-127)*(8388608+m):Math.pow(2,-149)*m;return R?-B:B},readFloat64:function(){var u=this.readUint32(),l=this.readUint32(),m=u>>20&2047,R=(u&1048575)*4294967296+l,B=u&2147483648;if(m===2047)return R===0?B?-1/0:1/0:NaN;var b=m?Math.pow(2,m-52-1023)*(4503599627370496+R):Math.pow(2,-1074)*R;return B?-b:b},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function d(){}d.prototype={writeByte:s("writeByte"),result:s("result"),writeFloat16:s("writeFloat16"),writeFloat32:s("writeFloat32"),writeFloat64:s("writeFloat64"),writeUint16:function(u){this.writeByte(u>>8&255),this.writeByte(u&255)},writeUint32:function(u){this.writeUint16(u>>16&65535),this.writeUint16(u&65535)},writeUint64:function(u){if(u>=9007199254740992||u<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+u+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(u/4294967296)),this.writeUint32(u%4294967296)},writeString:s("writeString"),canWriteBinary:function(u){return!1},writeBinary:s("writeChunk")};function a(u){var l=u.readByte(),m=l>>5,R=l&31;return{type:m,value:R}}function c(u,l){var m=u.value;if(m<24)return m;if(m==24)return l.readByte();if(m==25)return l.readUint16();if(m==26)return l.readUint32();if(m==27)return l.readUint64();if(m==31)return null;s("Additional info: "+m)()}function p(u,l,m){m.writeByte(u<<5|l)}function h(u,l,m){var R=u<<5;l<24?m.writeByte(R|l):l<256?(m.writeByte(R|24),m.writeByte(l)):l<65536?(m.writeByte(R|25),m.writeUint16(l)):l<4294967296?(m.writeByte(R|26),m.writeUint32(l)):(m.writeByte(R|27),m.writeUint64(l))}var y=new Error;function g(u){var l=a(u);switch(l.type){case 0:return c(l,u);case 1:return-1-c(l,u);case 2:return u.readChunk(c(l,u));case 3:var m=u.readChunk(c(l,u));return m.toString("utf-8");case 4:case 5:var R=c(l,u),$=[];if(R!==null){l.type===5&&(R*=2);for(var B=0;B<R;B++)$[B]=g(u)}else for(var b;(b=g(u))!==y;)$.push(b);if(l.type===5){for(var E={},B=0;B<$.length;B+=2)E[$[B]]=$[B+1];return E}else return $;case 6:var k=c(l,u),L=o[k],$=g(u);return L?L($):$;case 7:if(l.value===25)return u.readFloat16();if(l.value===26)return u.readFloat32();if(l.value===27)return u.readFloat64();switch(c(l,u)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return y;default:throw new Error("Unknown fixed value: "+l.value)}default:throw new Error("Unsupported header: "+JSON.stringify(l))}throw new Error("not implemented yet")}function v(u,l){for(var m=0;m<i.length;m++){var R=i[m].fn(u);if(R!==void 0)return h(6,i[m].tag,l),v(R,l)}if(u&&typeof u.toCBOR=="function"&&(u=u.toCBOR()),u===!1)h(7,20,l);else if(u===!0)h(7,21,l);else if(u===null)h(7,22,l);else if(u===void 0)h(7,23,l);else if(typeof u=="number")Math.floor(u)===u&&u<9007199254740992&&u>-9007199254740992?u<0?h(1,-1-u,l):h(0,u,l):(p(7,27,l),l.writeFloat64(u));else if(typeof u=="string")l.writeString(u,function(b){h(3,b,l)});else if(l.canWriteBinary(u))l.writeBinary(u,function(b){h(2,b,l)});else if(typeof u=="object")if(_.config.useToJSON&&typeof u.toJSON=="function"&&(u=u.toJSON()),Array.isArray(u)){h(4,u.length,l);for(var m=0;m<u.length;m++)v(u[m],l)}else{var B=Object.keys(u);h(5,B.length,l);for(var m=0;m<B.length;m++){const E=parseInt(B[m]);isNaN(E)?(v(B[m],l),v(u[B[m]],l)):(v(E,l),v(u[B[m]],l))}}else throw new Error("CBOR encoding not supported: "+u)}var T=[],I=[],_={config:{useToJSON:!0},addWriter:function(u,l){typeof u=="string"?I.push(function(m){if(u===m)return l(m)}):I.push(u)},addReader:function(u,l){typeof u=="string"?T.push(function(m,R){if(u===R)return l(m,R)}):T.push(u)},encode:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return v(u,B),B.result()}throw new Error("Unsupported output format: "+l)},encodeDataItem:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return u.getTag()!==void 0?(v(u,B),B.result()):(v(u.getData(),B),B.result())}throw new Error("Unsupported output format: "+l)},decode:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B)return g(B)}throw new Error("Unsupported input format: "+l)},decodeToDataItem:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B){const b=g(B);return b instanceof t?b:new t(b)}}throw new Error("Unsupported input format: "+l)},addSemanticEncode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return i.push({tag:u,fn:l}),this},addSemanticDecode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return o[u]=l,this}};function C(u){this.buffer=u,this.pos=0}C.prototype=Object.create(f.prototype),C.prototype.peekByte=function(){return this.buffer[this.pos]},C.prototype.readByte=function(){return this.buffer[this.pos++]},C.prototype.readUint16=function(){var u=this.buffer.readUInt16BE(this.pos);return this.pos+=2,u},C.prototype.readUint32=function(){var u=this.buffer.readUInt32BE(this.pos);return this.pos+=4,u},C.prototype.readFloat32=function(){var u=this.buffer.readFloatBE(this.pos);return this.pos+=4,u},C.prototype.readFloat64=function(){var u=this.buffer.readDoubleBE(this.pos);return this.pos+=8,u},C.prototype.readChunk=function(u){var l=Buffer.alloc(u);return this.buffer.copy(l,0,this.pos,this.pos+=u),l};function w(u){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=u}w.prototype=Object.create(d.prototype),w.prototype.writeByte=function(u){this.latestBuffer[this.latestBufferOffset++]=u,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},w.prototype.writeFloat32=function(u){var l=Buffer.alloc(4);l.writeFloatBE(u,0),this.writeBuffer(l)},w.prototype.writeFloat64=function(u){var l=Buffer.alloc(8);l.writeDoubleBE(u,0),this.writeBuffer(l)},w.prototype.writeString=function(u,l){var m=Buffer.from(u,"utf-8");l(m.length),this.writeBuffer(m)},w.prototype.canWriteBinary=function(u){return u instanceof Buffer},w.prototype.writeBinary=function(u,l){l(u.length),this.writeBuffer(u)},w.prototype.writeBuffer=function(u){if(!(u instanceof Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=u.length?(u.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=u.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(u),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(u),this.byteLength+=u.length},w.prototype.result=function(){for(var u=Buffer.alloc(this.byteLength),l=0,m=0;m<this.completeBuffers.length;m++){var R=this.completeBuffers[m];R.copy(u,l,0,R.length),l+=R.length}return this.latestBufferOffset&&this.latestBuffer.copy(u,l,0,this.latestBufferOffset),this.stringFormat?u.toString(this.stringFormat):u},typeof Buffer=="function"&&(_.addReader(function(u,l){if(Buffer.isBuffer(u))return new C(u);if(l==="hex"||l==="base64"){var m=Buffer.from(u,l);return new C(m)}}),_.addWriter(function(u){if(!u||u==="buffer")return new w;if(u==="hex"||u==="base64")return new w(u)}));function P(u){this.hex=u,this.pos=0}P.prototype=Object.create(f.prototype),P.prototype.peekByte=function(){var u=this.hex.substring(this.pos,2);return parseInt(u,16)},P.prototype.readByte=function(){var u=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(u,16)},P.prototype.readChunk=function(u){var l=this.hex.substring(this.pos,this.pos+u*2);return this.pos+=u*2,typeof Buffer=="function"?Buffer.from(l,"hex"):new n(l)};function D(u){this.$hex="",this.finalFormat=u||"hex"}return D.prototype=Object.create(d.prototype),D.prototype.writeByte=function(u){if(u<0||u>255)throw new Error("Byte value out of range: "+u);var l=u.toString(16);l.length==1&&(l="0"+l),this.$hex+=l},D.prototype.canWriteBinary=function(u){return u instanceof n||typeof Buffer=="function"&&u instanceof Buffer},D.prototype.writeBinary=function(u,l){if(u instanceof n)l(u.length()),this.$hex+=u.$hex;else if(typeof Buffer=="function"&&u instanceof Buffer)l(u.length),this.$hex+=u.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},D.prototype.result=function(){return this.finalFormat==="buffer"&&typeof Buffer=="function"?Buffer.from(this.$hex,"hex"):new n(this.$hex).toString(this.finalFormat)},D.prototype.writeString=function(u,l){var m=n.fromUtf8String(u);l(m.length()),this.$hex+=m.$hex},_.addReader(function(u,l){if(u instanceof n||u.$hex)return new P(u.$hex);if(l==="hex")return new P(u)}),_.addWriter(function(u){if(u==="hex")return new D}),_}();return r.addSemanticEncode(0,function(n){if(n instanceof Date)return n.toISOString()}).addSemanticDecode(0,function(n){return new Date(n)}).addSemanticDecode(1,function(n){return new Date(n)}),r})})(XC);var PJ=XC.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DataItem=e.addWriter=e.addReader=e.addSemanticEncode=e.addSemanticDecode=e.decodeToDataItem=e.encodeDataItem=void 0;var t=PJ;Object.defineProperty(e,"encodeDataItem",{enumerable:!0,get:function(){return t.encodeDataItem}}),Object.defineProperty(e,"decodeToDataItem",{enumerable:!0,get:function(){return t.decodeToDataItem}}),Object.defineProperty(e,"addSemanticDecode",{enumerable:!0,get:function(){return t.addSemanticDecode}}),Object.defineProperty(e,"addSemanticEncode",{enumerable:!0,get:function(){return t.addSemanticEncode}}),Object.defineProperty(e,"addReader",{enumerable:!0,get:function(){return t.addReader}}),Object.defineProperty(e,"addWriter",{enumerable:!0,get:function(){return t.addWriter}});var r=Fd;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return r.DataItem}})})(Ar);Object.defineProperty(nd,"__esModule",{value:!0});nd.patchTags=void 0;const py=Ar,l5=[],NJ=e=>{e.forEach(t=>{l5.find(r=>r===t)||(py.addSemanticEncode(t,r=>{if(r instanceof py.DataItem&&r.getTag()===t)return r.getData()}),py.addSemanticDecode(t,r=>new py.DataItem(r,t)),l5.push(t))})};nd.patchTags=NJ;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.RegistryTypes=Vt.RegistryType=void 0;let ti=class{constructor(t,r){this.type=t,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}};Vt.RegistryType=ti;Vt.RegistryTypes={UUID:new ti("uuid",37),BYTES:new ti("bytes",void 0),CRYPTO_HDKEY:new ti("crypto-hdkey",303),CRYPTO_KEYPATH:new ti("crypto-keypath",304),CRYPTO_COIN_INFO:new ti("crypto-coin-info",305),CRYPTO_ECKEY:new ti("crypto-eckey",306),CRYPTO_OUTPUT:new ti("crypto-output",308),CRYPTO_PSBT:new ti("crypto-psbt",310),CRYPTO_ACCOUNT:new ti("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new ti("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new ti("qr-hardware-call",1201),KEY_DERIVATION_CALL:new ti("key-derivation-call",1301)};var Dm={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptExpressions=e.ScriptExpression=void 0;class t{constructor(n,i){this.tag=n,this.expression=i,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}e.ScriptExpression=t,t.fromTag=r=>Object.values(e.ScriptExpressions).find(i=>i.getTag()===r),e.ScriptExpressions={SCRIPT_HASH:new t(400,"sh"),WITNESS_SCRIPT_HASH:new t(401,"wsh"),PUBLIC_KEY:new t(402,"pk"),PUBLIC_KEY_HASH:new t(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new t(404,"wpkh"),COMBO:new t(405,"combo"),MULTISIG:new t(406,"multi"),SORTED_MULTISIG:new t(407,"sortedmulti"),ADDRESS:new t(307,"addr"),RAW_SCRIPT:new t(408,"raw")}})(Dm);Object.defineProperty(WC,"__esModule",{value:!0});const MJ=nd,UJ=Vt,kJ=Dm,$J=Object.values(UJ.RegistryTypes).filter(e=>!!e.getTag()).map(e=>e.getTag()),FJ=Object.values(kJ.ScriptExpressions).map(e=>e.getTag());MJ.patchTags($J.concat(FJ));var Ef={},Dg={},$r={};Object.defineProperty($r,"__esModule",{value:!0});$r.RegistryItem=void 0;const h5=Tt,LJ=Ar;let jJ=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return LJ.encodeDataItem(this.toDataItem())},this.toUR=()=>new h5.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(t,r,n)=>{const i=this.toUR();return new h5.UREncoder(i,t,r,n)}}};$r.RegistryItem=jJ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CryptoCoinInfo=e.Network=e.Type=void 0;const t=Ar,r=$r,n=Vt;var i;(function(d){d.type="1",d.network="2"})(i||(i={}));var o;(function(d){d[d.bitcoin=0]="bitcoin"})(o=e.Type||(e.Type={}));var s;(function(d){d[d.mainnet=0]="mainnet",d[d.testnet=1]="testnet"})(s=e.Network||(e.Network={}));class f extends r.RegistryItem{constructor(a,c){super(),this.type=a,this.network=c,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||o.bitcoin,this.getNetwork=()=>this.network||s.mainnet,this.toDataItem=()=>{const p={};return this.type&&(p[i.type]=this.type),this.network&&(p[i.network]=this.network),new t.DataItem(p)}}}e.CryptoCoinInfo=f,f.fromDataItem=d=>{const a=d.getData(),c=a[i.type],p=a[i.network];return new f(c,p)},f.fromCBOR=d=>{const a=t.decodeToDataItem(d);return f.fromDataItem(a)}})(Dg);var Ou={},id={};Object.defineProperty(id,"__esModule",{value:!0});id.PathComponent=void 0;let ZC=class QC{constructor(t){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=t.index,this.hardened=t.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&QC.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};id.PathComponent=ZC;ZC.HARDENED_BIT=2147483648;Object.defineProperty(Ou,"__esModule",{value:!0});Ou.CryptoKeypath=void 0;const eD=Ar,p5=id,KJ=$r,HJ=Vt;var of;(function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"})(of||(of={}));let dh=class extends KJ.RegistryItem{constructor(t=[],r,n){super(),this.components=t,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>HJ.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const i={},o=[];return this.components&&this.components.forEach(s=>{s.isWildcard()?o.push([]):o.push(s.getIndex()),o.push(s.isHardened())}),i[of.components]=o,this.sourceFingerprint&&(i[of.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[of.depth]=this.depth),new eD.DataItem(i)}}};Ou.CryptoKeypath=dh;dh.fromDataItem=e=>{const t=e.getData(),r=[],n=t[of.components];if(n)for(let f=0;f<n.length;f+=2){const d=n[f+1],a=n[f];typeof a=="number"?r.push(new p5.PathComponent({index:a,hardened:d})):r.push(new p5.PathComponent({hardened:d}))}const i=t[of.source_fingerprint];let o;i&&(o=Buffer.alloc(4),o.writeUInt32BE(i,0));const s=t[of.depth];return new dh(r,o,s)};dh.fromCBOR=e=>{const t=eD.decodeToDataItem(e);return dh.fromDataItem(t)};Object.defineProperty(Ef,"__esModule",{value:!0});Ef.CryptoHDKey=void 0;const qJ=Rf,VJ=Dg,y5=Ou,tD=Ar,zJ=$r,YJ=Vt;var ht;(function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"})(ht||(ht={}));let lh=class extends zJ.RegistryItem{constructor(t){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var r,n,i;let o,s,f=0,d=Buffer.alloc(4).fill(0);if(this.isMaster())o=Buffer.from("0488ADE4","hex"),s=0,f=0;else{s=((r=this.getOrigin())===null||r===void 0?void 0:r.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());const y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),g=y[y.length-1];g&&(f=g.isHardened()?g.getIndex()+2147483648:g.getIndex(),this.getParentFingerprint()&&(d=this.getParentFingerprint())),this.isPrivateKey()?o=Buffer.from("0488ADE4","hex"):o=Buffer.from("0488B21E","hex")}const a=Buffer.alloc(1);a.writeUInt8(s,0);const c=Buffer.alloc(4);c.writeUInt32BE(f,0);const p=this.getChainCode(),h=this.getKey();return qJ.encode(Buffer.concat([o,a,d,c,p,h]))},this.getRegistryType=()=>YJ.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var r,n,i,o,s,f,d;let a="";return this.getOrigin()&&!((r=this.getOrigin())===null||r===void 0)&&r.getSourceFingerprint()&&!((n=this.getOrigin())===null||n===void 0)&&n.getPath()&&(a+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(s=this.getOrigin())===null||s===void 0?void 0:s.getPath()}`),a+=this.getBip32Key(),this.getChildren()&&!((f=this.getChildren())===null||f===void 0)&&f.getPath()&&(a+=`/${(d=this.getChildren())===null||d===void 0?void 0:d.getPath()}`),a},this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{const r={};if(this.master)r[ht.is_master]=!0,r[ht.key_data]=this.key,r[ht.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[ht.is_private]=this.privateKey),r[ht.key_data]=this.key,this.chainCode&&(r[ht.chain_code]=this.chainCode),this.useInfo){const n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[ht.use_info]=n}if(this.origin){const n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[ht.origin]=n}if(this.children){const n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[ht.children]=n}this.parentFingerprint&&(r[ht.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[ht.name]=this.name),this.note!==void 0&&(r[ht.note]=this.note)}return new tD.DataItem(r)},t.isMaster?this.setupMasterKey(t):this.setupDeriveKey(t)}};Ef.CryptoHDKey=lh;lh.fromDataItem=e=>{const t=e.getData(),r=!!t[ht.is_master],n=t[ht.is_private],i=t[ht.key_data],o=t[ht.chain_code],s=t[ht.use_info]?VJ.CryptoCoinInfo.fromDataItem(t[ht.use_info]):void 0,f=t[ht.origin]?y5.CryptoKeypath.fromDataItem(t[ht.origin]):void 0,d=t[ht.children]?y5.CryptoKeypath.fromDataItem(t[ht.children]):void 0,a=t[ht.parent_fingerprint];let c;a&&(c=Buffer.alloc(4),c.writeUInt32BE(a,0));const p=t[ht.name],h=t[ht.note];return new lh({isMaster:r,isPrivateKey:n,key:i,chainCode:o,useInfo:s,origin:f,children:d,parentFingerprint:c,name:p,note:h})};lh.fromCBOR=e=>{const t=tD.decodeToDataItem(e);return lh.fromDataItem(t)};var Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.CryptoECKey=void 0;const rD=Ar,GJ=$r,JJ=Vt;var sf;(function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"})(sf||(sf={}));let hh=class extends GJ.RegistryItem{constructor(t){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>JJ.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const r={};return this.curve&&(r[sf.curve]=this.curve),this.privateKey!==void 0&&(r[sf.private]=this.privateKey),r[sf.data]=this.data,new rD.DataItem(r)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=t.data,this.curve=t.curve,this.privateKey=t.privateKey||void 0}};Au.CryptoECKey=hh;hh.fromDataItem=e=>{const t=e.getData(),r=t[sf.curve],n=t[sf.private],i=t[sf.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new hh({data:i,curve:r,privateKey:n})};hh.fromCBOR=e=>{const t=rD.decodeToDataItem(e);return hh.fromDataItem(t)};var Rm={};Object.defineProperty(Rm,"__esModule",{value:!0});Rm.Bytes=void 0;const nD=Ar,WJ=$r,XJ=Vt;let ph=class extends WJ.RegistryItem{constructor(t){super(),this.bytes=t,this.getRegistryType=()=>XJ.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new nD.DataItem(this.bytes)}};Rm.Bytes=ph;ph.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new ph(t)};ph.fromCBOR=e=>{const t=nD.decodeToDataItem(e);return ph.fromDataItem(t)};var yh={},od={};Object.defineProperty(od,"__esModule",{value:!0});od.MultiKey=void 0;const ZJ=Au,QJ=Ef,eW=Fd,tW=$r,g5=Vt;var sd;(function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"})(sd||(sd={}));let F3=class extends tW.RegistryItem{constructor(t,r){super(),this.threshold=t,this.keys=r,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const n={};n[sd.threshold]=this.threshold;const i=this.keys.map(o=>{const s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s});return n[sd.keys]=i,new eW.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};od.MultiKey=F3;F3.fromDataItem=e=>{const t=e.getData(),r=t[sd.threshold],n=t[sd.keys],i=[];return n.forEach(o=>{o.getTag()===g5.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(QJ.CryptoHDKey.fromDataItem(o)):o.getTag()===g5.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(ZJ.CryptoECKey.fromDataItem(o))}),new F3(r,i)};Object.defineProperty(yh,"__esModule",{value:!0});yh.CryptoOutput=void 0;const L3=Au,j3=Ef,uw=Ar,iD=od,rW=$r,oD=Vt,e_=Dm;let ru=class extends rW.RegistryItem{constructor(t,r){super(),this.scriptExpressions=t,this.cryptoKey=r,this.getRegistryType=()=>oD.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof j3.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof L3.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof iD.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof L3.CryptoECKey||this.cryptoKey instanceof j3.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{const s=o.getTag();n.getTag()===void 0?n.setTag(s):n=new uw.DataItem(n,s)}),n}}};yh.CryptoOutput=ru;ru.fromDataItem=e=>{const t=[];let r=e;for(;;){let o=r.getTag();const s=e_.ScriptExpression.fromTag(o);if(s)if(t.push(s),r.getData()instanceof uw.DataItem)r=r.getData(),o=r.getTag();else break;else break}const n=t.length;if(n>0&&(t[n-1].getExpression()===e_.ScriptExpressions.MULTISIG.getExpression()||t[n-1].getExpression()===e_.ScriptExpressions.SORTED_MULTISIG.getExpression())){const o=iD.MultiKey.fromDataItem(r);return new ru(t,o)}if(r.getTag()===oD.RegistryTypes.CRYPTO_HDKEY.getTag()){const o=j3.CryptoHDKey.fromDataItem(r);return new ru(t,o)}else{const o=L3.CryptoECKey.fromDataItem(r);return new ru(t,o)}};ru.fromCBOR=e=>{const t=uw.decodeToDataItem(e);return ru.fromDataItem(t)};var gh={};Object.defineProperty(gh,"__esModule",{value:!0});gh.CryptoPSBT=void 0;const sD=Ar,nW=$r,iW=Vt;let mh=class extends nW.RegistryItem{constructor(t){super(),this.psbt=t,this.getRegistryType=()=>iW.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new sD.DataItem(this.psbt)}};gh.CryptoPSBT=mh;mh.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new mh(t)};mh.fromCBOR=e=>{const t=sD.decodeToDataItem(e);return mh.fromDataItem(t)};var m0={},m5;function b5(){if(m5)return m0;m5=1,Object.defineProperty(m0,"__esModule",{value:!0}),m0.CryptoAccount=void 0;const e=cw(),t=Ar,r=$r,n=Vt;var i;(function(s){s[s.masterFingerprint=1]="masterFingerprint",s[s.outputDescriptors=2]="outputDescriptors"})(i||(i={}));class o extends r.RegistryItem{constructor(f,d){super(),this.masterFingerprint=f,this.outputDescriptors=d,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const a={};return this.masterFingerprint&&(a[i.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(a[i.outputDescriptors]=this.outputDescriptors.map(c=>c.toDataItem())),new t.DataItem(a)}}}return m0.CryptoAccount=o,o.fromDataItem=s=>{const f=s.getData(),d=Buffer.alloc(4),a=f[i.masterFingerprint];a&&d.writeUInt32BE(a,0);const p=f[i.outputDescriptors].map(h=>e.CryptoOutput.fromDataItem(h));return new o(d,p)},o.fromCBOR=s=>{const f=t.decodeToDataItem(s);return o.fromDataItem(f)},m0}var b0={},_p={};Object.defineProperty(_p,"__esModule",{value:!0});_p.UnknownURTypeError=void 0;let oW=class extends Error{constructor(t){super(t)}};_p.UnknownURTypeError=oW;var v5;function _5(){if(v5)return b0;v5=1,Object.defineProperty(b0,"__esModule",{value:!0}),b0.URRegistryDecoder=void 0;const e=Tt,t=cw(),r=Vt,n=_p;class i extends e.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const s=this.resultUR();switch(s.type){case r.RegistryTypes.BYTES.getType():return t.Bytes.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_HDKEY.getType():return t.CryptoHDKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_KEYPATH.getType():return t.CryptoKeypath.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_COIN_INFO.getType():return t.CryptoCoinInfo.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ECKEY.getType():return t.CryptoECKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_OUTPUT.getType():return t.CryptoOutput.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_PSBT.getType():return t.CryptoPSBT.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ACCOUNT.getType():return t.CryptoAccount.fromCBOR(s.cbor);default:throw new n.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${s.type} is not supported now`)}}}}return b0.URRegistryDecoder=i,b0}var bh={};Object.defineProperty(bh,"__esModule",{value:!0});bh.CryptoMultiAccounts=void 0;const sW=Vt,aW=Ef,fW=$r,aD=Ar;var af;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device"})(af||(af={}));let vh=class extends fW.RegistryItem{constructor(t,r,n){super(),this.masterFingerprint=t,this.keys=r,this.device=n,this.getRegistryType=()=>sW.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{const i={};return this.masterFingerprint&&(i[af.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[af.keys]=this.keys.map(o=>{const s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s})),this.device&&(i[af.device]=this.device),new aD.DataItem(i)}}};bh.CryptoMultiAccounts=vh;vh.fromDataItem=e=>{const t=e.getData(),r=Buffer.alloc(4),n=t[af.masterFingerprint];n&&r.writeUInt32BE(n,0);const o=t[af.keys].map(f=>aW.CryptoHDKey.fromDataItem(f)),s=t[af.device];return new vh(r,o,s)};vh.fromCBOR=e=>{const t=aD.decodeToDataItem(e);return vh.fromDataItem(t)};var t_={},r_={},w5;function fD(){return w5||(w5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyDerivation=e.DerivationAlgorithm=e.Curve=void 0;const t=Vt,r=$r,n=Ar,i=Ou;var o;(function(a){a[a.keyPaths=1]="keyPaths",a[a.curve=2]="curve",a[a.algo=3]="algo",a[a.origin=4]="origin"})(o||(o={}));var s;(function(a){a.secp256k1="secp256k1",a.ed25519="ed25519"})(s=e.Curve||(e.Curve={}));var f;(function(a){a.slip10="slip10",a.bip32ed25519="bip32ed25519"})(f=e.DerivationAlgorithm||(e.DerivationAlgorithm={}));class d extends r.RegistryItem{constructor(c,p=s.secp256k1,h=f.slip10,y){super(),this.keypaths=c,this.curve=p,this.algo=h,this.origin=y,this.getRegistryType=()=>t.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const g={};return g[o.keyPaths]=this.keypaths.map(v=>{const T=v.toDataItem();return T.setTag(v.getRegistryType().getTag()),T}),g[o.curve]=this.curve,g[o.algo]=this.algo,this.origin&&(g[o.origin]=this.origin),new n.DataItem(g)}}}e.KeyDerivation=d,d.fromDataItem=a=>{const c=a.getData(),p=c[o.keyPaths].map(v=>i.CryptoKeypath.fromDataItem(v)),h=c[o.curve],y=c[o.algo],g=c[o.origin];return new d(p,h,y,g)},d.fromCBOR=a=>{const c=n.decodeToDataItem(a);return d.fromDataItem(c)}}(r_)),r_}var T5;function uW(){return T5||(T5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QRHardwareCall=e.QRHardwareCallName=void 0;const t=Vt,r=$r,n=Ar,i=fD();var o;(function(d){d[d.name=1]="name",d[d.params=2]="params"})(o||(o={}));var s;(function(d){d.KeyDerivation="key-derivation"})(s=e.QRHardwareCallName||(e.QRHardwareCallName={}));class f extends r.RegistryItem{constructor(a,c){super(),this.name=a,this.params=c,this.getRegistryType=()=>t.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{const p={};p[o.name]=this.name;const h=this.params.toDataItem();return h.setTag(this.params.getRegistryType().getTag()),p[o.params]=h,new n.DataItem(p)}}}e.QRHardwareCall=f,f.fromDataItem=d=>{const a=d.getData(),c=a[o.name]||s.KeyDerivation;let p;switch(c){case s.KeyDerivation:p=i.KeyDerivation.fromDataItem(a[o.params])}return new f(c,p)},f.fromCBOR=d=>{const a=n.decodeToDataItem(d);return f.fromDataItem(a)}}(t_)),t_}var n_={},I5;function cW(){return I5||(I5=1,Object.defineProperty(n_,"__esModule",{value:!0})),n_}var E5;function cw(){return E5||(E5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=e.extend=e.PathComponent=e.ScriptExpressions=e.MultiKey=e.CryptoPSBT=e.CryptoOutput=e.CryptoECKey=e.CryptoCoinInfoNetwork=e.CryptoCoinInfoType=e.CryptoCoinInfo=e.CryptoKeypath=e.CryptoMultiAccounts=e.CryptoHDKey=e.CryptoAccount=e.Bytes=e.URRegistryDecoder=e.DataItem=void 0;const t=Bf,r=ze;Object.defineProperty(e,"Buffer",{enumerable:!0,get:function(){return r.Buffer}});const n=Ef;Object.defineProperty(e,"CryptoHDKey",{enumerable:!0,get:function(){return n.CryptoHDKey}});const i=Ou;Object.defineProperty(e,"CryptoKeypath",{enumerable:!0,get:function(){return i.CryptoKeypath}});const o=Dg;Object.defineProperty(e,"CryptoCoinInfo",{enumerable:!0,get:function(){return o.CryptoCoinInfo}}),Object.defineProperty(e,"CryptoCoinInfoType",{enumerable:!0,get:function(){return o.Type}}),Object.defineProperty(e,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return o.Network}});const s=Au;Object.defineProperty(e,"CryptoECKey",{enumerable:!0,get:function(){return s.CryptoECKey}});const f=Rm;Object.defineProperty(e,"Bytes",{enumerable:!0,get:function(){return f.Bytes}});const d=yh;Object.defineProperty(e,"CryptoOutput",{enumerable:!0,get:function(){return d.CryptoOutput}});const a=gh;Object.defineProperty(e,"CryptoPSBT",{enumerable:!0,get:function(){return a.CryptoPSBT}});const c=b5();Object.defineProperty(e,"CryptoAccount",{enumerable:!0,get:function(){return c.CryptoAccount}});const p=_5();Object.defineProperty(e,"URRegistryDecoder",{enumerable:!0,get:function(){return p.URRegistryDecoder}});const h=od;Object.defineProperty(e,"MultiKey",{enumerable:!0,get:function(){return h.MultiKey}});const y=Dm;Object.defineProperty(e,"ScriptExpressions",{enumerable:!0,get:function(){return y.ScriptExpressions}});const g=id;Object.defineProperty(e,"PathComponent",{enumerable:!0,get:function(){return g.PathComponent}});const v=$r,T=Vt,I=Ar;var _=Ar;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return _.DataItem}});const C=nd,w=bh;Object.defineProperty(e,"CryptoMultiAccounts",{enumerable:!0,get:function(){return w.CryptoMultiAccounts}});const P={URRegistryDecoder:p.URRegistryDecoder,Bytes:f.Bytes,CryptoAccount:c.CryptoAccount,CryptoHDKey:n.CryptoHDKey,CryptoMultiAccounts:w.CryptoMultiAccounts,CryptoKeypath:i.CryptoKeypath,CryptoCoinInfo:o.CryptoCoinInfo,CryptoCoinInfoType:o.Type,CryptoCoinInfoNetwork:o.Network,CryptoECKey:s.CryptoECKey,CryptoOutput:d.CryptoOutput,CryptoPSBT:a.CryptoPSBT,MultiKey:h.MultiKey,ScriptExpressions:y.ScriptExpressions,PathComponent:g.PathComponent},D={addReader:I.addReader,addSemanticDecode:I.addSemanticDecode,addSemanticEncode:I.addSemanticEncode,addWriter:I.addWriter,patchTags:C.patchTags},u={RegistryTypes:T.RegistryTypes,RegistryItem:v.RegistryItem,RegistryType:T.RegistryType,decodeToDataItem:I.decodeToDataItem,encodeDataItem:I.encodeDataItem,cbor:D};e.extend=u,t.__exportStar(_p,e),t.__exportStar(_5(),e),t.__exportStar(Ar,e),t.__exportStar(b5(),e),t.__exportStar(gh,e),t.__exportStar(Ef,e),t.__exportStar(bh,e),t.__exportStar(uW(),e),t.__exportStar(fD(),e),t.__exportStar(yh,e),t.__exportStar(Dg,e),t.__exportStar(Au,e),t.__exportStar(od,e),t.__exportStar(Ou,e),t.__exportStar(WC,e),t.__exportStar(id,e),t.__exportStar($r,e),t.__exportStar(Vt,e),t.__exportStar(cW(),e),t.__exportStar(nd,e),e.default=P}(Qv)),Qv}var yy,dW=new Uint8Array(16);function uD(){if(!yy&&(yy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!yy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yy(dW)}const lW=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Om(e){return typeof e=="string"&&lW.test(e)}var xr=[];for(var i_=0;i_<256;++i_)xr.push((i_+256).toString(16).substr(1));function Am(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(xr[e[t+0]]+xr[e[t+1]]+xr[e[t+2]]+xr[e[t+3]]+"-"+xr[e[t+4]]+xr[e[t+5]]+"-"+xr[e[t+6]]+xr[e[t+7]]+"-"+xr[e[t+8]]+xr[e[t+9]]+"-"+xr[e[t+10]]+xr[e[t+11]]+xr[e[t+12]]+xr[e[t+13]]+xr[e[t+14]]+xr[e[t+15]]).toLowerCase();if(!Om(r))throw TypeError("Stringified UUID is invalid");return r}var x5,o_,s_=0,a_=0;function hW(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var o=e.node||x5,s=e.clockseq!==void 0?e.clockseq:o_;if(o==null||s==null){var f=e.random||(e.rng||uD)();o==null&&(o=x5=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=o_=(f[6]<<8|f[7])&16383)}var d=e.msecs!==void 0?e.msecs:Date.now(),a=e.nsecs!==void 0?e.nsecs:a_+1,c=d-s_+(a-a_)/1e4;if(c<0&&e.clockseq===void 0&&(s=s+1&16383),(c<0||d>s_)&&e.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s_=d,a_=a,o_=s,d+=122192928e5;var p=((d&268435455)*1e4+a)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var h=d/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=h&255,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var y=0;y<6;++y)i[n+y]=o[y];return t||Am(i)}function cD(e){if(!Om(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function pW(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var yW="6ba7b810-9dad-11d1-80b4-00c04fd430c8",gW="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function dD(e,t,r){function n(i,o,s,f){if(typeof i=="string"&&(i=pW(i)),typeof o=="string"&&(o=cD(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+i.length);if(d.set(o),d.set(i,o.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,s){f=f||0;for(var a=0;a<16;++a)s[f+a]=d[a];return s}return Am(d)}try{n.name=e}catch{}return n.DNS=yW,n.URL=gW,n}function mW(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return bW(vW(_W(e),e.length*8))}function bW(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(s)}return t}function lD(e){return(e+64>>>9<<4)+14+1}function vW(e,t){e[t>>5]|=128<<t%32,e[lD(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var f=r,d=n,a=i,c=o;r=In(r,n,i,o,e[s],7,-680876936),o=In(o,r,n,i,e[s+1],12,-389564586),i=In(i,o,r,n,e[s+2],17,606105819),n=In(n,i,o,r,e[s+3],22,-1044525330),r=In(r,n,i,o,e[s+4],7,-176418897),o=In(o,r,n,i,e[s+5],12,1200080426),i=In(i,o,r,n,e[s+6],17,-1473231341),n=In(n,i,o,r,e[s+7],22,-45705983),r=In(r,n,i,o,e[s+8],7,1770035416),o=In(o,r,n,i,e[s+9],12,-1958414417),i=In(i,o,r,n,e[s+10],17,-42063),n=In(n,i,o,r,e[s+11],22,-1990404162),r=In(r,n,i,o,e[s+12],7,1804603682),o=In(o,r,n,i,e[s+13],12,-40341101),i=In(i,o,r,n,e[s+14],17,-1502002290),n=In(n,i,o,r,e[s+15],22,1236535329),r=En(r,n,i,o,e[s+1],5,-165796510),o=En(o,r,n,i,e[s+6],9,-1069501632),i=En(i,o,r,n,e[s+11],14,643717713),n=En(n,i,o,r,e[s],20,-373897302),r=En(r,n,i,o,e[s+5],5,-701558691),o=En(o,r,n,i,e[s+10],9,38016083),i=En(i,o,r,n,e[s+15],14,-660478335),n=En(n,i,o,r,e[s+4],20,-405537848),r=En(r,n,i,o,e[s+9],5,568446438),o=En(o,r,n,i,e[s+14],9,-1019803690),i=En(i,o,r,n,e[s+3],14,-187363961),n=En(n,i,o,r,e[s+8],20,1163531501),r=En(r,n,i,o,e[s+13],5,-1444681467),o=En(o,r,n,i,e[s+2],9,-51403784),i=En(i,o,r,n,e[s+7],14,1735328473),n=En(n,i,o,r,e[s+12],20,-1926607734),r=xn(r,n,i,o,e[s+5],4,-378558),o=xn(o,r,n,i,e[s+8],11,-2022574463),i=xn(i,o,r,n,e[s+11],16,1839030562),n=xn(n,i,o,r,e[s+14],23,-35309556),r=xn(r,n,i,o,e[s+1],4,-1530992060),o=xn(o,r,n,i,e[s+4],11,1272893353),i=xn(i,o,r,n,e[s+7],16,-155497632),n=xn(n,i,o,r,e[s+10],23,-1094730640),r=xn(r,n,i,o,e[s+13],4,681279174),o=xn(o,r,n,i,e[s],11,-358537222),i=xn(i,o,r,n,e[s+3],16,-722521979),n=xn(n,i,o,r,e[s+6],23,76029189),r=xn(r,n,i,o,e[s+9],4,-640364487),o=xn(o,r,n,i,e[s+12],11,-421815835),i=xn(i,o,r,n,e[s+15],16,530742520),n=xn(n,i,o,r,e[s+2],23,-995338651),r=Sn(r,n,i,o,e[s],6,-198630844),o=Sn(o,r,n,i,e[s+7],10,1126891415),i=Sn(i,o,r,n,e[s+14],15,-1416354905),n=Sn(n,i,o,r,e[s+5],21,-57434055),r=Sn(r,n,i,o,e[s+12],6,1700485571),o=Sn(o,r,n,i,e[s+3],10,-1894986606),i=Sn(i,o,r,n,e[s+10],15,-1051523),n=Sn(n,i,o,r,e[s+1],21,-2054922799),r=Sn(r,n,i,o,e[s+8],6,1873313359),o=Sn(o,r,n,i,e[s+15],10,-30611744),i=Sn(i,o,r,n,e[s+6],15,-1560198380),n=Sn(n,i,o,r,e[s+13],21,1309151649),r=Sn(r,n,i,o,e[s+4],6,-145523070),o=Sn(o,r,n,i,e[s+11],10,-1120210379),i=Sn(i,o,r,n,e[s+2],15,718787259),n=Sn(n,i,o,r,e[s+9],21,-343485551),r=Ua(r,f),n=Ua(n,d),i=Ua(i,a),o=Ua(o,c)}return[r,n,i,o]}function _W(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(lD(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function Ua(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function wW(e,t){return e<<t|e>>>32-t}function Pm(e,t,r,n,i,o){return Ua(wW(Ua(Ua(t,e),Ua(n,o)),i),r)}function In(e,t,r,n,i,o,s){return Pm(t&r|~t&n,e,t,i,o,s)}function En(e,t,r,n,i,o,s){return Pm(t&n|r&~n,e,t,i,o,s)}function xn(e,t,r,n,i,o,s){return Pm(t^r^n,e,t,i,o,s)}function Sn(e,t,r,n,i,o,s){return Pm(r^(t|~n),e,t,i,o,s)}var TW=dD("v3",48,mW);const IW=TW;function EW(e,t,r){e=e||{};var n=e.random||(e.rng||uD)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Am(n)}function xW(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function f_(e,t){return e<<t|e>>>32-t}function SW(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),f=new Array(s),d=0;d<s;++d){for(var a=new Uint32Array(16),c=0;c<16;++c)a[c]=e[d*64+c*4]<<24|e[d*64+c*4+1]<<16|e[d*64+c*4+2]<<8|e[d*64+c*4+3];f[d]=a}f[s-1][14]=(e.length-1)*8/Math.pow(2,32),f[s-1][14]=Math.floor(f[s-1][14]),f[s-1][15]=(e.length-1)*8&4294967295;for(var p=0;p<s;++p){for(var h=new Uint32Array(80),y=0;y<16;++y)h[y]=f[p][y];for(var g=16;g<80;++g)h[g]=f_(h[g-3]^h[g-8]^h[g-14]^h[g-16],1);for(var v=r[0],T=r[1],I=r[2],_=r[3],C=r[4],w=0;w<80;++w){var P=Math.floor(w/20),D=f_(v,5)+xW(P,T,I,_)+C+t[P]+h[w]>>>0;C=_,_=I,I=f_(T,30)>>>0,T=v,v=D}r[0]=r[0]+v>>>0,r[1]=r[1]+T>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+_>>>0,r[4]=r[4]+C>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var BW=dD("v5",80,SW);const CW=BW,DW="00000000-0000-0000-0000-000000000000";function RW(e){if(!Om(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const OW=Object.freeze(Object.defineProperty({__proto__:null,NIL:DW,parse:cD,stringify:Am,v1:hW,v3:IW,v4:EW,v5:CW,validate:Om,version:RW},Symbol.toStringTag,{value:"Module"})),AW=hi(OW);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=cw(),r=AW;const n={CARDANO_UTXO:new t.RegistryType("cardano-utxo",2201),CARDANO_SIGN_REQUEST:new t.RegistryType("cardano-sign-request",2202),CARDANO_SIGNATURE:new t.RegistryType("cardano-signature",2203),CARDANO_CERT_KEY:new t.RegistryType("cardano-cert-key",2204)},{decodeToDataItem:i}=t.extend;var o;(function(_){_[_.transactionHash=1]="transactionHash",_[_.index=2]="index",_[_.amount=3]="amount",_[_.keyPath=4]="keyPath",_[_.address=5]="address"})(o||(o={}));class s extends t.RegistryItem{constructor(C){super(),this.getRegistryType=()=>n.CARDANO_UTXO,this.getTransactionHash=()=>this.transactionHash,this.getIndex=()=>this.index,this.getKeyPath=()=>this.keyPath.getPath(),this.getAmount=()=>this.amount,this.getAddress=()=>this.address,this.toDataItem=()=>{const w={};this.transactionHash&&(w[o.transactionHash]=this.transactionHash),w[o.index]=this.index,w[o.amount]=this.amount;const P=this.keyPath.toDataItem();return P.setTag(this.keyPath.getRegistryType().getTag()),w[o.keyPath]=P,w[o.address]=this.address,new t.DataItem(w)},this.transactionHash=C.transactionHash,this.index=C.index,this.amount=C.amount,this.keyPath=C.keyPath,this.address=C.address}static constructCardanoUtxo({transactionHash:C,index:w,amount:P,xfp:D,hdPath:u,address:l}){const m=u.replace(/[m|M]\//,"").split("/"),R=new t.CryptoKeypath(m.map(B=>{const b=parseInt(B.replace("'","")),E=B.endsWith("'");return new t.PathComponent({index:b,hardened:E})}),Buffer.from(D,"hex"));return new s({transactionHash:Buffer.from(C,"hex"),index:w,amount:P,keyPath:R,address:l})}}s.fromDataItem=_=>{const C=_.getData(),w=C[o.transactionHash],P=C[o.index],D=t.CryptoKeypath.fromDataItem(C[o.keyPath]);return new s({transactionHash:w,index:P,amount:C[o.amount],keyPath:D,address:C[o.address]})},s.fromCBOR=_=>{const C=i(_);return s.fromDataItem(C)};const{decodeToDataItem:f}=t.extend;var d;(function(_){_[_.keyHash=1]="keyHash",_[_.keyPath=2]="keyPath"})(d||(d={}));class a extends t.RegistryItem{constructor(C){super(),this.getRegistryType=()=>n.CARDANO_CERT_KEY,this.getKeyHash=()=>this.keyHash,this.getKeyPath=()=>this.keyPath.getPath(),this.toDataItem=()=>{const w={};w[d.keyHash]=this.keyHash;const P=this.keyPath.toDataItem();return P.setTag(this.keyPath.getRegistryType().getTag()),w[d.keyPath]=P,new t.DataItem(w)},this.keyHash=C.keyHash,this.keyPath=C.keyPath}static constructCardanoCertKey({keyHash:C,xfp:w,keyPath:P}){const D=P.replace(/[m|M]\//,"").split("/"),u=new t.CryptoKeypath(D.map(l=>{const m=parseInt(l.replace("'","")),R=l.endsWith("'");return new t.PathComponent({index:m,hardened:R})}),Buffer.from(w,"hex"));return new a({keyHash:Buffer.from(C,"hex"),keyPath:u})}}a.fromDataItem=_=>{const C=_.getData(),w=C[d.keyHash],P=t.CryptoKeypath.fromDataItem(C[d.keyPath]);return new a({keyHash:w,keyPath:P})},a.fromCBOR=_=>{const C=f(_);return a.fromDataItem(C)};const{decodeToDataItem:c,RegistryTypes:p}=t.extend;var h;(function(_){_[_.requestId=1]="requestId",_[_.signData=2]="signData",_[_.utxos=3]="utxos",_[_.extraSigners=4]="extraSigners",_[_.origin=5]="origin"})(h||(h={}));class y extends t.RegistryItem{constructor(C){super(),this.getRegistryType=()=>n.CARDANO_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getUtxos=()=>this.utxos,this.getAdditionalSigners=()=>this.extraSigners,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const w={};return this.requestId&&(w[h.requestId]=new t.DataItem(this.requestId,p.UUID.getTag())),w[h.signData]=this.signData,w[h.utxos]=this.utxos.map(P=>{const D=P.toDataItem();return D.setTag(P.getRegistryType().getTag()),D}),w[h.extraSigners]=this.extraSigners.map(P=>{const D=P.toDataItem();return D.setTag(P.getRegistryType().getTag()),D}),this.origin&&(w[h.origin]=this.origin),new t.DataItem(w)},this.requestId=C.requestId,this.signData=C.signData,this.utxos=C.utxos,this.extraSigners=C.extraSigners,this.origin=C.origin}static constructCardanoSignRequest(C,w,P,D,u){const l=w.map(R=>s.constructCardanoUtxo(R)),m=P.map(R=>a.constructCardanoCertKey(R));return new y({requestId:D?Buffer.from(r.parse(D)):void 0,signData:C,utxos:l,extraSigners:m,origin:u||void 0})}}y.fromDataItem=_=>{const C=_.getData(),w=C[h.signData],P=C[h.utxos].map(l=>s.fromDataItem(l)),D=C[h.extraSigners].map(l=>a.fromDataItem(l)),u=C[h.requestId]?C[h.requestId].getData():void 0;return new y({requestId:u,signData:w,utxos:P,extraSigners:D,origin:C[h.origin]?C[h.origin]:void 0})},y.fromCBOR=_=>{const C=c(_);return y.fromDataItem(C)};const{RegistryTypes:g,decodeToDataItem:v}=t.extend;var T;(function(_){_[_.requestId=1]="requestId",_[_.signature=2]="signature"})(T||(T={}));class I extends t.RegistryItem{constructor(C,w){super(),this.getRegistryType=()=>n.CARDANO_SIGNATURE,this.getRequestId=()=>this.requestId,this.getWitnessSet=()=>this.witnessSet,this.toDataItem=()=>{const P={};return this.requestId&&(P[T.requestId]=new t.DataItem(this.requestId,g.UUID.getTag())),P[T.signature]=this.witnessSet,new t.DataItem(P)},this.witnessSet=C,this.requestId=w}}I.fromDataItem=_=>{const C=_.getData(),w=C[T.signature],P=C[T.requestId]?C[T.requestId].getData():void 0;return new I(w,P)},I.fromCBOR=_=>{const C=v(_);return I.fromDataItem(C)},t.patchTags(Object.values(n).filter(_=>!!_.getTag()).map(_=>_.getTag())),Object.keys(t).forEach(function(_){_!=="default"&&Object.defineProperty(e,_,{enumerable:!0,get:function(){return t[_]}})}),e.CardanoCertKey=a,e.CardanoSignRequest=y,e.CardanoSignature=I})(JC);GC.exports=JC;var PW=GC.exports;Object.defineProperty(Cm,"__esModule",{value:!0});Cm.KeystoneCardanoSDK=void 0;const S5=PW,B5=ir,NW=qn;class MW{parseSignature(t){if(t.type!==NW.URType.CardanoSignature)throw new Error("type not match");const r=S5.CardanoSignature.fromCBOR(t.cbor),n=r.getRequestId();return{requestId:Buffer.isBuffer(n)?(0,B5.uuidStringify)(n):"",witnessSet:(0,B5.toHex)(r.getWitnessSet())}}generateSignRequest({signData:t,utxos:r,extraSigners:n,requestId:i,origin:o}){return S5.CardanoSignRequest.constructCardanoSignRequest(t,r,n,i,o).toUR()}}Cm.KeystoneCardanoSDK=MW;var Nm={},hD={exports:{}},pD={},gy,UW=new Uint8Array(16);function yD(){if(!gy&&(gy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!gy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gy(UW)}const kW=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Mm(e){return typeof e=="string"&&kW.test(e)}var Sr=[];for(var u_=0;u_<256;++u_)Sr.push((u_+256).toString(16).substr(1));function Um(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Sr[e[t+0]]+Sr[e[t+1]]+Sr[e[t+2]]+Sr[e[t+3]]+"-"+Sr[e[t+4]]+Sr[e[t+5]]+"-"+Sr[e[t+6]]+Sr[e[t+7]]+"-"+Sr[e[t+8]]+Sr[e[t+9]]+"-"+Sr[e[t+10]]+Sr[e[t+11]]+Sr[e[t+12]]+Sr[e[t+13]]+Sr[e[t+14]]+Sr[e[t+15]]).toLowerCase();if(!Mm(r))throw TypeError("Stringified UUID is invalid");return r}var C5,c_,d_=0,l_=0;function $W(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var o=e.node||C5,s=e.clockseq!==void 0?e.clockseq:c_;if(o==null||s==null){var f=e.random||(e.rng||yD)();o==null&&(o=C5=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=c_=(f[6]<<8|f[7])&16383)}var d=e.msecs!==void 0?e.msecs:Date.now(),a=e.nsecs!==void 0?e.nsecs:l_+1,c=d-d_+(a-l_)/1e4;if(c<0&&e.clockseq===void 0&&(s=s+1&16383),(c<0||d>d_)&&e.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d_=d,l_=a,c_=s,d+=122192928e5;var p=((d&268435455)*1e4+a)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var h=d/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=h&255,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var y=0;y<6;++y)i[n+y]=o[y];return t||Um(i)}function gD(e){if(!Mm(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function FW(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var LW="6ba7b810-9dad-11d1-80b4-00c04fd430c8",jW="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function mD(e,t,r){function n(i,o,s,f){if(typeof i=="string"&&(i=FW(i)),typeof o=="string"&&(o=gD(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+i.length);if(d.set(o),d.set(i,o.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,s){f=f||0;for(var a=0;a<16;++a)s[f+a]=d[a];return s}return Um(d)}try{n.name=e}catch{}return n.DNS=LW,n.URL=jW,n}function KW(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return HW(qW(VW(e),e.length*8))}function HW(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(s)}return t}function bD(e){return(e+64>>>9<<4)+14+1}function qW(e,t){e[t>>5]|=128<<t%32,e[bD(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var f=r,d=n,a=i,c=o;r=Bn(r,n,i,o,e[s],7,-680876936),o=Bn(o,r,n,i,e[s+1],12,-389564586),i=Bn(i,o,r,n,e[s+2],17,606105819),n=Bn(n,i,o,r,e[s+3],22,-1044525330),r=Bn(r,n,i,o,e[s+4],7,-176418897),o=Bn(o,r,n,i,e[s+5],12,1200080426),i=Bn(i,o,r,n,e[s+6],17,-1473231341),n=Bn(n,i,o,r,e[s+7],22,-45705983),r=Bn(r,n,i,o,e[s+8],7,1770035416),o=Bn(o,r,n,i,e[s+9],12,-1958414417),i=Bn(i,o,r,n,e[s+10],17,-42063),n=Bn(n,i,o,r,e[s+11],22,-1990404162),r=Bn(r,n,i,o,e[s+12],7,1804603682),o=Bn(o,r,n,i,e[s+13],12,-40341101),i=Bn(i,o,r,n,e[s+14],17,-1502002290),n=Bn(n,i,o,r,e[s+15],22,1236535329),r=Cn(r,n,i,o,e[s+1],5,-165796510),o=Cn(o,r,n,i,e[s+6],9,-1069501632),i=Cn(i,o,r,n,e[s+11],14,643717713),n=Cn(n,i,o,r,e[s],20,-373897302),r=Cn(r,n,i,o,e[s+5],5,-701558691),o=Cn(o,r,n,i,e[s+10],9,38016083),i=Cn(i,o,r,n,e[s+15],14,-660478335),n=Cn(n,i,o,r,e[s+4],20,-405537848),r=Cn(r,n,i,o,e[s+9],5,568446438),o=Cn(o,r,n,i,e[s+14],9,-1019803690),i=Cn(i,o,r,n,e[s+3],14,-187363961),n=Cn(n,i,o,r,e[s+8],20,1163531501),r=Cn(r,n,i,o,e[s+13],5,-1444681467),o=Cn(o,r,n,i,e[s+2],9,-51403784),i=Cn(i,o,r,n,e[s+7],14,1735328473),n=Cn(n,i,o,r,e[s+12],20,-1926607734),r=Dn(r,n,i,o,e[s+5],4,-378558),o=Dn(o,r,n,i,e[s+8],11,-2022574463),i=Dn(i,o,r,n,e[s+11],16,1839030562),n=Dn(n,i,o,r,e[s+14],23,-35309556),r=Dn(r,n,i,o,e[s+1],4,-1530992060),o=Dn(o,r,n,i,e[s+4],11,1272893353),i=Dn(i,o,r,n,e[s+7],16,-155497632),n=Dn(n,i,o,r,e[s+10],23,-1094730640),r=Dn(r,n,i,o,e[s+13],4,681279174),o=Dn(o,r,n,i,e[s],11,-358537222),i=Dn(i,o,r,n,e[s+3],16,-722521979),n=Dn(n,i,o,r,e[s+6],23,76029189),r=Dn(r,n,i,o,e[s+9],4,-640364487),o=Dn(o,r,n,i,e[s+12],11,-421815835),i=Dn(i,o,r,n,e[s+15],16,530742520),n=Dn(n,i,o,r,e[s+2],23,-995338651),r=Rn(r,n,i,o,e[s],6,-198630844),o=Rn(o,r,n,i,e[s+7],10,1126891415),i=Rn(i,o,r,n,e[s+14],15,-1416354905),n=Rn(n,i,o,r,e[s+5],21,-57434055),r=Rn(r,n,i,o,e[s+12],6,1700485571),o=Rn(o,r,n,i,e[s+3],10,-1894986606),i=Rn(i,o,r,n,e[s+10],15,-1051523),n=Rn(n,i,o,r,e[s+1],21,-2054922799),r=Rn(r,n,i,o,e[s+8],6,1873313359),o=Rn(o,r,n,i,e[s+15],10,-30611744),i=Rn(i,o,r,n,e[s+6],15,-1560198380),n=Rn(n,i,o,r,e[s+13],21,1309151649),r=Rn(r,n,i,o,e[s+4],6,-145523070),o=Rn(o,r,n,i,e[s+11],10,-1120210379),i=Rn(i,o,r,n,e[s+2],15,718787259),n=Rn(n,i,o,r,e[s+9],21,-343485551),r=ka(r,f),n=ka(n,d),i=ka(i,a),o=ka(o,c)}return[r,n,i,o]}function VW(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(bD(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function ka(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function zW(e,t){return e<<t|e>>>32-t}function km(e,t,r,n,i,o){return ka(zW(ka(ka(t,e),ka(n,o)),i),r)}function Bn(e,t,r,n,i,o,s){return km(t&r|~t&n,e,t,i,o,s)}function Cn(e,t,r,n,i,o,s){return km(t&n|r&~n,e,t,i,o,s)}function Dn(e,t,r,n,i,o,s){return km(t^r^n,e,t,i,o,s)}function Rn(e,t,r,n,i,o,s){return km(r^(t|~n),e,t,i,o,s)}var YW=mD("v3",48,KW);const GW=YW;function JW(e,t,r){e=e||{};var n=e.random||(e.rng||yD)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Um(n)}function WW(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function h_(e,t){return e<<t|e>>>32-t}function XW(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),f=new Array(s),d=0;d<s;++d){for(var a=new Uint32Array(16),c=0;c<16;++c)a[c]=e[d*64+c*4]<<24|e[d*64+c*4+1]<<16|e[d*64+c*4+2]<<8|e[d*64+c*4+3];f[d]=a}f[s-1][14]=(e.length-1)*8/Math.pow(2,32),f[s-1][14]=Math.floor(f[s-1][14]),f[s-1][15]=(e.length-1)*8&4294967295;for(var p=0;p<s;++p){for(var h=new Uint32Array(80),y=0;y<16;++y)h[y]=f[p][y];for(var g=16;g<80;++g)h[g]=h_(h[g-3]^h[g-8]^h[g-14]^h[g-16],1);for(var v=r[0],T=r[1],I=r[2],_=r[3],C=r[4],w=0;w<80;++w){var P=Math.floor(w/20),D=h_(v,5)+WW(P,T,I,_)+C+t[P]+h[w]>>>0;C=_,_=I,I=h_(T,30)>>>0,T=v,v=D}r[0]=r[0]+v>>>0,r[1]=r[1]+T>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+_>>>0,r[4]=r[4]+C>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var ZW=mD("v5",80,XW);const QW=ZW,eX="00000000-0000-0000-0000-000000000000";function tX(e){if(!Mm(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const rX=Object.freeze(Object.defineProperty({__proto__:null,NIL:eX,parse:gD,stringify:Um,v1:$W,v3:GW,v4:JW,v5:QW,validate:Mm,version:tX},Symbol.toStringTag,{value:"Module"})),nX=hi(rX);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Of(),r=nX;const n={ARWEAVE_CRYPTO_ACCOUNT:new t.RegistryType("arweave-crypto-account",5101),ARWEAVE_SIGN_REQUEST:new t.RegistryType("arweave-sign-request",5102),ARWEAVE_SIGNATURE:new t.RegistryType("arweave-signature",5103)},{decodeToDataItem:i,RegistryTypes:o}=t.extend;var s,f,d;(s=e.SignType||(e.SignType={}))[s.Transaction=1]="Transaction",s[s.DataItem=2]="DataItem",s[s.Message=3]="Message",(f=e.SaltLen||(e.SaltLen={}))[f.Zero=0]="Zero",f[f.Digest=32]="Digest",function(I){I[I.masterFingerprint=1]="masterFingerprint",I[I.requestId=2]="requestId",I[I.signData=3]="signData",I[I.signType=4]="signType",I[I.saltLen=5]="saltLen",I[I.origin=6]="origin",I[I.account=7]="account"}(d||(d={}));class a extends t.RegistryItem{constructor(_){super(),this.getRegistryType=()=>n.ARWEAVE_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getSignType=()=>this.signType,this.getSaltLen=()=>this.saltLen,this.getOrigin=()=>this.origin,this.getAccount=()=>this.account,this.getMasterFingerprint=()=>this.masterFingerprint,this.toDataItem=()=>{const C={};return this.requestId&&(C[d.requestId]=new t.DataItem(this.requestId,o.UUID.getTag())),this.account&&(C[d.account]=this.account),this.origin&&(C[d.origin]=this.origin),C[d.masterFingerprint]=this.masterFingerprint.readUInt32BE(0),C[d.signData]=this.signData,C[d.signType]=this.signType,C[d.saltLen]=this.saltLen,new t.DataItem(C)},this.masterFingerprint=_.masterFingerprint,this.requestId=_.requestId,this.signData=_.signData,this.signType=_.signType,this.saltLen=_.saltLen,this.origin=_.origin,this.account=_.account}static constructArweaveRequest(_,C,w,P,D,u,l){return new a({masterFingerprint:Buffer.from(C,"hex"),requestId:D?Buffer.from(r.parse(D)):void 0,signData:_,signType:w,saltLen:P,account:u,origin:l})}}a.fromDataItem=I=>{const _=I.getData(),C=_[d.signData],w=_[d.account]?_[d.account]:void 0,P=_[d.requestId]?_[d.requestId].getData():void 0,D=_[d.origin]?_[d.origin]:void 0,u=_[d.signType],l=_[d.saltLen],m=Buffer.alloc(4);return m.writeUInt32BE(_[d.masterFingerprint],0),new a({masterFingerprint:m,requestId:P,signData:C,signType:u,saltLen:l,origin:D,account:w})},a.fromCBOR=I=>{const _=i(I);return a.fromDataItem(_)};const{RegistryTypes:c,decodeToDataItem:p}=t.extend;var h;(function(I){I[I.requestId=1]="requestId",I[I.signature=2]="signature"})(h||(h={}));class y extends t.RegistryItem{constructor(_,C){super(),this.getRegistryType=()=>n.ARWEAVE_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{const w={};return this.requestId&&(w[h.requestId]=new t.DataItem(this.requestId,c.UUID.getTag())),w[h.signature]=this.signature,new t.DataItem(w)},this.signature=_,this.requestId=C}}y.fromDataItem=I=>{const _=I.getData(),C=_[h.signature],w=_[h.requestId]?_[h.requestId].getData():void 0;return new y(C,w)},y.fromCBOR=I=>{const _=p(I);return y.fromDataItem(_)};const{decodeToDataItem:g}=t.extend;var v;(function(I){I[I.masterFingerprint=1]="masterFingerprint",I[I.keyData=2]="keyData",I[I.device=3]="device"})(v||(v={}));class T extends t.RegistryItem{constructor(_,C,w){super(),this.masterFingerprint=_,this.keyData=C,this.device=w,this.getRegistryType=()=>n.ARWEAVE_CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeyData=()=>this.keyData,this.getDevice=()=>this.device,this.toDataItem=()=>{const P={};return P[v.masterFingerprint]=this.masterFingerprint.readUInt32BE(0),P[v.keyData]=this.keyData,this.device&&(P[v.device]=this.device),new t.DataItem(P)}}}T.fromDataItem=I=>{const _=I.getData(),C=_[v.keyData],w=Buffer.alloc(4);return w.writeUInt32BE(_[v.masterFingerprint],0),new T(w,C,_[v.device]?_[v.device]:void 0)},T.fromCBOR=I=>{const _=g(I);return T.fromDataItem(_)},t.patchTags(Object.values(n).filter(I=>!!I.getTag()).map(I=>I.getTag())),Object.keys(t).forEach(function(I){I!=="default"&&Object.defineProperty(e,I,{enumerable:!0,get:function(){return t[I]}})}),e.ArweaveCryptoAccount=T,e.ArweaveSignRequest=a,e.ArweaveSignature=y})(pD);hD.exports=pD;var iX=hD.exports;Object.defineProperty(Nm,"__esModule",{value:!0});Nm.KeystoneArweaveSDK=void 0;const va=ir,D5=qn,G0=iX;class dw{parseAccount(t){if(t.type!==D5.URType.ArweaveCryptoAccount)throw new Error("type not match");const r=G0.ArweaveCryptoAccount.fromCBOR(t.cbor);return{masterFingerprint:(0,va.toHex)(r.getMasterFingerprint()),keyData:(0,va.toHex)(r.getKeyData()),device:r.getDevice()}}parseSignature(t){if(t.type!==D5.URType.ArweaveSignature)throw new Error("type not match");const r=G0.ArweaveSignature.fromCBOR(t.cbor),n=r.getRequestId();return{requestId:(0,va.uuidStringify)(n),signature:(0,va.toHex)(r.getSignature())}}generateSignRequest({requestId:t,signData:r,signType:n,saltLen:i,masterFingerprint:o,account:s,origin:f}){return new G0.ArweaveSignRequest({requestId:(0,va.uuidParse)(t),signData:(0,va.toBuffer)(r),signType:n,saltLen:i,masterFingerprint:(0,va.toBuffer)(o),account:s!==void 0?(0,va.toBuffer)(s):void 0,origin:f}).toUR()}}dw.SignType=G0.SignType;dw.SaltLen=G0.SaltLen;Nm.KeystoneArweaveSDK=dw;var $m={},vD={exports:{}},_D={},p_={},wD={},ad={},Pr={},TD={exports:{}},Ld={};Object.defineProperty(Ld,"__esModule",{value:!0});Ld.DataItem=void 0;let oX=class{constructor(t,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=t,this.tag=r}};Ld.DataItem=oX;(function(e){(function(t,r){e.exports?e.exports=r():t.CBOR=r()})(Be,function(){const{DataItem:t}=Ld;var r=function(){function n(u){this.$hex=u}n.prototype={length:function(){return this.$hex.length/2},toString:function(u){if(!u||u==="hex"||u===16)return this.$hex;if(u==="utf-8"){for(var l="",m=0;m<this.$hex.length;m+=2)l+="%"+this.$hex.substring(m,m+2);return decodeURIComponent(l)}if(u==="latin"){for(var l=[],m=0;m<this.$hex.length;m+=2)l.push(parseInt(this.$hex.substring(m,m+2),16));return String.fromCharCode.apply(String,l)}throw new Error("Unrecognised format: "+u)}},n.fromLatinString=function(u){for(var l="",m=0;m<u.length;m++){var R=u.charCodeAt(m).toString(16);R.length===1&&(R="0"+R),l+=R}return new n(l)},n.fromUtf8String=function(u){for(var l=encodeURIComponent(u),m="",R=0;R<l.length;R++)if(l.charAt(R)==="%")m+=l.substring(R+1,R+3),R+=2;else{var B=l.charCodeAt(R).toString(16);B.length<2&&(B="0"+B),m+=B}return new n(m)};var i=[],o={},s=function(u){return function(){throw new Error(u+" not implemented")}};function f(){}f.prototype={peekByte:s("peekByte"),readByte:s("readByte"),readChunk:s("readChunk"),readFloat16:function(){var u=this.readUint16(),l=(u&32767)>>10,m=u&1023,R=u&32768;if(l===31)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-25)*(1024+m):Math.pow(2,-24)*m;return R?-B:B},readFloat32:function(){var u=this.readUint32(),l=(u&2147483647)>>23,m=u&8388607,R=u&2147483648;if(l===255)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-23-127)*(8388608+m):Math.pow(2,-149)*m;return R?-B:B},readFloat64:function(){var u=this.readUint32(),l=this.readUint32(),m=u>>20&2047,R=(u&1048575)*4294967296+l,B=u&2147483648;if(m===2047)return R===0?B?-1/0:1/0:NaN;var b=m?Math.pow(2,m-52-1023)*(4503599627370496+R):Math.pow(2,-1074)*R;return B?-b:b},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function d(){}d.prototype={writeByte:s("writeByte"),result:s("result"),writeFloat16:s("writeFloat16"),writeFloat32:s("writeFloat32"),writeFloat64:s("writeFloat64"),writeUint16:function(u){this.writeByte(u>>8&255),this.writeByte(u&255)},writeUint32:function(u){this.writeUint16(u>>16&65535),this.writeUint16(u&65535)},writeUint64:function(u){if(u>=9007199254740992||u<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+u+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(u/4294967296)),this.writeUint32(u%4294967296)},writeString:s("writeString"),canWriteBinary:function(u){return!1},writeBinary:s("writeChunk")};function a(u){var l=u.readByte(),m=l>>5,R=l&31;return{type:m,value:R}}function c(u,l){var m=u.value;if(m<24)return m;if(m==24)return l.readByte();if(m==25)return l.readUint16();if(m==26)return l.readUint32();if(m==27)return l.readUint64();if(m==31)return null;s("Additional info: "+m)()}function p(u,l,m){m.writeByte(u<<5|l)}function h(u,l,m){var R=u<<5;l<24?m.writeByte(R|l):l<256?(m.writeByte(R|24),m.writeByte(l)):l<65536?(m.writeByte(R|25),m.writeUint16(l)):l<4294967296?(m.writeByte(R|26),m.writeUint32(l)):(m.writeByte(R|27),m.writeUint64(l))}var y=new Error;function g(u){var l=a(u);switch(l.type){case 0:return c(l,u);case 1:return-1-c(l,u);case 2:return u.readChunk(c(l,u));case 3:var m=u.readChunk(c(l,u));return m.toString("utf-8");case 4:case 5:var R=c(l,u),$=[];if(R!==null){l.type===5&&(R*=2);for(var B=0;B<R;B++)$[B]=g(u)}else for(var b;(b=g(u))!==y;)$.push(b);if(l.type===5){for(var E={},B=0;B<$.length;B+=2)E[$[B]]=$[B+1];return E}else return $;case 6:var k=c(l,u),L=o[k],$=g(u);return L?L($):$;case 7:if(l.value===25)return u.readFloat16();if(l.value===26)return u.readFloat32();if(l.value===27)return u.readFloat64();switch(c(l,u)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return y;default:throw new Error("Unknown fixed value: "+l.value)}default:throw new Error("Unsupported header: "+JSON.stringify(l))}throw new Error("not implemented yet")}function v(u,l){for(var m=0;m<i.length;m++){var R=i[m].fn(u);if(R!==void 0)return h(6,i[m].tag,l),v(R,l)}if(u&&typeof u.toCBOR=="function"&&(u=u.toCBOR()),u===!1)h(7,20,l);else if(u===!0)h(7,21,l);else if(u===null)h(7,22,l);else if(u===void 0)h(7,23,l);else if(typeof u=="number")Math.floor(u)===u&&u<9007199254740992&&u>-9007199254740992?u<0?h(1,-1-u,l):h(0,u,l):(p(7,27,l),l.writeFloat64(u));else if(typeof u=="string")l.writeString(u,function(b){h(3,b,l)});else if(l.canWriteBinary(u))l.writeBinary(u,function(b){h(2,b,l)});else if(typeof u=="object")if(_.config.useToJSON&&typeof u.toJSON=="function"&&(u=u.toJSON()),Array.isArray(u)){h(4,u.length,l);for(var m=0;m<u.length;m++)v(u[m],l)}else{var B=Object.keys(u);h(5,B.length,l);for(var m=0;m<B.length;m++){const E=parseInt(B[m]);isNaN(E)?(v(B[m],l),v(u[B[m]],l)):(v(E,l),v(u[B[m]],l))}}else throw new Error("CBOR encoding not supported: "+u)}var T=[],I=[],_={config:{useToJSON:!0},addWriter:function(u,l){typeof u=="string"?I.push(function(m){if(u===m)return l(m)}):I.push(u)},addReader:function(u,l){typeof u=="string"?T.push(function(m,R){if(u===R)return l(m,R)}):T.push(u)},encode:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return v(u,B),B.result()}throw new Error("Unsupported output format: "+l)},encodeDataItem:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return u.getTag()!==void 0?(v(u,B),B.result()):(v(u.getData(),B),B.result())}throw new Error("Unsupported output format: "+l)},decode:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B)return g(B)}throw new Error("Unsupported input format: "+l)},decodeToDataItem:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B){const b=g(B);return b instanceof t?b:new t(b)}}throw new Error("Unsupported input format: "+l)},addSemanticEncode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return i.push({tag:u,fn:l}),this},addSemanticDecode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return o[u]=l,this}};function C(u){this.buffer=u,this.pos=0}C.prototype=Object.create(f.prototype),C.prototype.peekByte=function(){return this.buffer[this.pos]},C.prototype.readByte=function(){return this.buffer[this.pos++]},C.prototype.readUint16=function(){var u=this.buffer.readUInt16BE(this.pos);return this.pos+=2,u},C.prototype.readUint32=function(){var u=this.buffer.readUInt32BE(this.pos);return this.pos+=4,u},C.prototype.readFloat32=function(){var u=this.buffer.readFloatBE(this.pos);return this.pos+=4,u},C.prototype.readFloat64=function(){var u=this.buffer.readDoubleBE(this.pos);return this.pos+=8,u},C.prototype.readChunk=function(u){var l=Buffer.alloc(u);return this.buffer.copy(l,0,this.pos,this.pos+=u),l};function w(u){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=u}w.prototype=Object.create(d.prototype),w.prototype.writeByte=function(u){this.latestBuffer[this.latestBufferOffset++]=u,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},w.prototype.writeFloat32=function(u){var l=Buffer.alloc(4);l.writeFloatBE(u,0),this.writeBuffer(l)},w.prototype.writeFloat64=function(u){var l=Buffer.alloc(8);l.writeDoubleBE(u,0),this.writeBuffer(l)},w.prototype.writeString=function(u,l){var m=Buffer.from(u,"utf-8");l(m.length),this.writeBuffer(m)},w.prototype.canWriteBinary=function(u){return u instanceof Buffer},w.prototype.writeBinary=function(u,l){l(u.length),this.writeBuffer(u)},w.prototype.writeBuffer=function(u){if(!(u instanceof Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=u.length?(u.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=u.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(u),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(u),this.byteLength+=u.length},w.prototype.result=function(){for(var u=Buffer.alloc(this.byteLength),l=0,m=0;m<this.completeBuffers.length;m++){var R=this.completeBuffers[m];R.copy(u,l,0,R.length),l+=R.length}return this.latestBufferOffset&&this.latestBuffer.copy(u,l,0,this.latestBufferOffset),this.stringFormat?u.toString(this.stringFormat):u},typeof Buffer=="function"&&(_.addReader(function(u,l){if(Buffer.isBuffer(u))return new C(u);if(l==="hex"||l==="base64"){var m=Buffer.from(u,l);return new C(m)}}),_.addWriter(function(u){if(!u||u==="buffer")return new w;if(u==="hex"||u==="base64")return new w(u)}));function P(u){this.hex=u,this.pos=0}P.prototype=Object.create(f.prototype),P.prototype.peekByte=function(){var u=this.hex.substring(this.pos,2);return parseInt(u,16)},P.prototype.readByte=function(){var u=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(u,16)},P.prototype.readChunk=function(u){var l=this.hex.substring(this.pos,this.pos+u*2);return this.pos+=u*2,typeof Buffer=="function"?Buffer.from(l,"hex"):new n(l)};function D(u){this.$hex="",this.finalFormat=u||"hex"}return D.prototype=Object.create(d.prototype),D.prototype.writeByte=function(u){if(u<0||u>255)throw new Error("Byte value out of range: "+u);var l=u.toString(16);l.length==1&&(l="0"+l),this.$hex+=l},D.prototype.canWriteBinary=function(u){return u instanceof n||typeof Buffer=="function"&&u instanceof Buffer},D.prototype.writeBinary=function(u,l){if(u instanceof n)l(u.length()),this.$hex+=u.$hex;else if(typeof Buffer=="function"&&u instanceof Buffer)l(u.length),this.$hex+=u.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},D.prototype.result=function(){return this.finalFormat==="buffer"&&typeof Buffer=="function"?Buffer.from(this.$hex,"hex"):new n(this.$hex).toString(this.finalFormat)},D.prototype.writeString=function(u,l){var m=n.fromUtf8String(u);l(m.length()),this.$hex+=m.$hex},_.addReader(function(u,l){if(u instanceof n||u.$hex)return new P(u.$hex);if(l==="hex")return new P(u)}),_.addWriter(function(u){if(u==="hex")return new D}),_}();return r.addSemanticEncode(0,function(n){if(n instanceof Date)return n.toISOString()}).addSemanticDecode(0,function(n){return new Date(n)}).addSemanticDecode(1,function(n){return new Date(n)}),r})})(TD);var sX=TD.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DataItem=e.addWriter=e.addReader=e.addSemanticEncode=e.addSemanticDecode=e.decodeToDataItem=e.encodeDataItem=void 0;var t=sX;Object.defineProperty(e,"encodeDataItem",{enumerable:!0,get:function(){return t.encodeDataItem}}),Object.defineProperty(e,"decodeToDataItem",{enumerable:!0,get:function(){return t.decodeToDataItem}}),Object.defineProperty(e,"addSemanticDecode",{enumerable:!0,get:function(){return t.addSemanticDecode}}),Object.defineProperty(e,"addSemanticEncode",{enumerable:!0,get:function(){return t.addSemanticEncode}}),Object.defineProperty(e,"addReader",{enumerable:!0,get:function(){return t.addReader}}),Object.defineProperty(e,"addWriter",{enumerable:!0,get:function(){return t.addWriter}});var r=Ld;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return r.DataItem}})})(Pr);Object.defineProperty(ad,"__esModule",{value:!0});ad.patchTags=void 0;const my=Pr,R5=[],aX=e=>{e.forEach(t=>{R5.find(r=>r===t)||(my.addSemanticEncode(t,r=>{if(r instanceof my.DataItem&&r.getTag()===t)return r.getData()}),my.addSemanticDecode(t,r=>new my.DataItem(r,t)),R5.push(t))})};ad.patchTags=aX;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.RegistryTypes=zt.RegistryType=void 0;let ri=class{constructor(t,r){this.type=t,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}};zt.RegistryType=ri;zt.RegistryTypes={UUID:new ri("uuid",37),BYTES:new ri("bytes",void 0),CRYPTO_HDKEY:new ri("crypto-hdkey",303),CRYPTO_KEYPATH:new ri("crypto-keypath",304),CRYPTO_COIN_INFO:new ri("crypto-coin-info",305),CRYPTO_ECKEY:new ri("crypto-eckey",306),CRYPTO_OUTPUT:new ri("crypto-output",308),CRYPTO_PSBT:new ri("crypto-psbt",310),CRYPTO_ACCOUNT:new ri("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new ri("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new ri("qr-hardware-call",1201),KEY_DERIVATION_CALL:new ri("key-derivation-call",1301)};var Fm={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptExpressions=e.ScriptExpression=void 0;class t{constructor(n,i){this.tag=n,this.expression=i,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}e.ScriptExpression=t,t.fromTag=r=>Object.values(e.ScriptExpressions).find(i=>i.getTag()===r),e.ScriptExpressions={SCRIPT_HASH:new t(400,"sh"),WITNESS_SCRIPT_HASH:new t(401,"wsh"),PUBLIC_KEY:new t(402,"pk"),PUBLIC_KEY_HASH:new t(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new t(404,"wpkh"),COMBO:new t(405,"combo"),MULTISIG:new t(406,"multi"),SORTED_MULTISIG:new t(407,"sortedmulti"),ADDRESS:new t(307,"addr"),RAW_SCRIPT:new t(408,"raw")}})(Fm);Object.defineProperty(wD,"__esModule",{value:!0});const fX=ad,uX=zt,cX=Fm,dX=Object.values(uX.RegistryTypes).filter(e=>!!e.getTag()).map(e=>e.getTag()),lX=Object.values(cX.ScriptExpressions).map(e=>e.getTag());fX.patchTags(dX.concat(lX));var xf={},Rg={},Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.RegistryItem=void 0;const O5=Tt,hX=Pr;let pX=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return hX.encodeDataItem(this.toDataItem())},this.toUR=()=>new O5.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(t,r,n)=>{const i=this.toUR();return new O5.UREncoder(i,t,r,n)}}};Fr.RegistryItem=pX;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CryptoCoinInfo=e.Network=e.Type=void 0;const t=Pr,r=Fr,n=zt;var i;(function(d){d.type="1",d.network="2"})(i||(i={}));var o;(function(d){d[d.bitcoin=0]="bitcoin"})(o=e.Type||(e.Type={}));var s;(function(d){d[d.mainnet=0]="mainnet",d[d.testnet=1]="testnet"})(s=e.Network||(e.Network={}));class f extends r.RegistryItem{constructor(a,c){super(),this.type=a,this.network=c,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||o.bitcoin,this.getNetwork=()=>this.network||s.mainnet,this.toDataItem=()=>{const p={};return this.type&&(p[i.type]=this.type),this.network&&(p[i.network]=this.network),new t.DataItem(p)}}}e.CryptoCoinInfo=f,f.fromDataItem=d=>{const a=d.getData(),c=a[i.type],p=a[i.network];return new f(c,p)},f.fromCBOR=d=>{const a=t.decodeToDataItem(d);return f.fromDataItem(a)}})(Rg);var Pu={},fd={};Object.defineProperty(fd,"__esModule",{value:!0});fd.PathComponent=void 0;let ID=class ED{constructor(t){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=t.index,this.hardened=t.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&ED.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};fd.PathComponent=ID;ID.HARDENED_BIT=2147483648;Object.defineProperty(Pu,"__esModule",{value:!0});Pu.CryptoKeypath=void 0;const xD=Pr,A5=fd,yX=Fr,gX=zt;var ff;(function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"})(ff||(ff={}));let _h=class extends yX.RegistryItem{constructor(t=[],r,n){super(),this.components=t,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>gX.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const i={},o=[];return this.components&&this.components.forEach(s=>{s.isWildcard()?o.push([]):o.push(s.getIndex()),o.push(s.isHardened())}),i[ff.components]=o,this.sourceFingerprint&&(i[ff.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[ff.depth]=this.depth),new xD.DataItem(i)}}};Pu.CryptoKeypath=_h;_h.fromDataItem=e=>{const t=e.getData(),r=[],n=t[ff.components];if(n)for(let f=0;f<n.length;f+=2){const d=n[f+1],a=n[f];typeof a=="number"?r.push(new A5.PathComponent({index:a,hardened:d})):r.push(new A5.PathComponent({hardened:d}))}const i=t[ff.source_fingerprint];let o;i&&(o=Buffer.alloc(4),o.writeUInt32BE(i,0));const s=t[ff.depth];return new _h(r,o,s)};_h.fromCBOR=e=>{const t=xD.decodeToDataItem(e);return _h.fromDataItem(t)};Object.defineProperty(xf,"__esModule",{value:!0});xf.CryptoHDKey=void 0;const mX=Rf,bX=Rg,P5=Pu,SD=Pr,vX=Fr,_X=zt;var pt;(function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"})(pt||(pt={}));let wh=class extends vX.RegistryItem{constructor(t){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var r,n,i;let o,s,f=0,d=Buffer.alloc(4).fill(0);if(this.isMaster())o=Buffer.from("0488ADE4","hex"),s=0,f=0;else{s=((r=this.getOrigin())===null||r===void 0?void 0:r.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());const y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),g=y[y.length-1];g&&(f=g.isHardened()?g.getIndex()+2147483648:g.getIndex(),this.getParentFingerprint()&&(d=this.getParentFingerprint())),this.isPrivateKey()?o=Buffer.from("0488ADE4","hex"):o=Buffer.from("0488B21E","hex")}const a=Buffer.alloc(1);a.writeUInt8(s,0);const c=Buffer.alloc(4);c.writeUInt32BE(f,0);const p=this.getChainCode(),h=this.getKey();return mX.encode(Buffer.concat([o,a,d,c,p,h]))},this.getRegistryType=()=>_X.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var r,n,i,o,s,f,d;let a="";return this.getOrigin()&&!((r=this.getOrigin())===null||r===void 0)&&r.getSourceFingerprint()&&!((n=this.getOrigin())===null||n===void 0)&&n.getPath()&&(a+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(s=this.getOrigin())===null||s===void 0?void 0:s.getPath()}`),a+=this.getBip32Key(),this.getChildren()&&!((f=this.getChildren())===null||f===void 0)&&f.getPath()&&(a+=`/${(d=this.getChildren())===null||d===void 0?void 0:d.getPath()}`),a},this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{const r={};if(this.master)r[pt.is_master]=!0,r[pt.key_data]=this.key,r[pt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[pt.is_private]=this.privateKey),r[pt.key_data]=this.key,this.chainCode&&(r[pt.chain_code]=this.chainCode),this.useInfo){const n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[pt.use_info]=n}if(this.origin){const n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[pt.origin]=n}if(this.children){const n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[pt.children]=n}this.parentFingerprint&&(r[pt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[pt.name]=this.name),this.note!==void 0&&(r[pt.note]=this.note)}return new SD.DataItem(r)},t.isMaster?this.setupMasterKey(t):this.setupDeriveKey(t)}};xf.CryptoHDKey=wh;wh.fromDataItem=e=>{const t=e.getData(),r=!!t[pt.is_master],n=t[pt.is_private],i=t[pt.key_data],o=t[pt.chain_code],s=t[pt.use_info]?bX.CryptoCoinInfo.fromDataItem(t[pt.use_info]):void 0,f=t[pt.origin]?P5.CryptoKeypath.fromDataItem(t[pt.origin]):void 0,d=t[pt.children]?P5.CryptoKeypath.fromDataItem(t[pt.children]):void 0,a=t[pt.parent_fingerprint];let c;a&&(c=Buffer.alloc(4),c.writeUInt32BE(a,0));const p=t[pt.name],h=t[pt.note];return new wh({isMaster:r,isPrivateKey:n,key:i,chainCode:o,useInfo:s,origin:f,children:d,parentFingerprint:c,name:p,note:h})};wh.fromCBOR=e=>{const t=SD.decodeToDataItem(e);return wh.fromDataItem(t)};var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.CryptoECKey=void 0;const BD=Pr,wX=Fr,TX=zt;var uf;(function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"})(uf||(uf={}));let Th=class extends wX.RegistryItem{constructor(t){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>TX.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const r={};return this.curve&&(r[uf.curve]=this.curve),this.privateKey!==void 0&&(r[uf.private]=this.privateKey),r[uf.data]=this.data,new BD.DataItem(r)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=t.data,this.curve=t.curve,this.privateKey=t.privateKey||void 0}};Nu.CryptoECKey=Th;Th.fromDataItem=e=>{const t=e.getData(),r=t[uf.curve],n=t[uf.private],i=t[uf.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new Th({data:i,curve:r,privateKey:n})};Th.fromCBOR=e=>{const t=BD.decodeToDataItem(e);return Th.fromDataItem(t)};var Lm={};Object.defineProperty(Lm,"__esModule",{value:!0});Lm.Bytes=void 0;const CD=Pr,IX=Fr,EX=zt;let Ih=class extends IX.RegistryItem{constructor(t){super(),this.bytes=t,this.getRegistryType=()=>EX.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new CD.DataItem(this.bytes)}};Lm.Bytes=Ih;Ih.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new Ih(t)};Ih.fromCBOR=e=>{const t=CD.decodeToDataItem(e);return Ih.fromDataItem(t)};var Eh={},ud={};Object.defineProperty(ud,"__esModule",{value:!0});ud.MultiKey=void 0;const xX=Nu,SX=xf,BX=Ld,CX=Fr,N5=zt;var cd;(function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"})(cd||(cd={}));let K3=class extends CX.RegistryItem{constructor(t,r){super(),this.threshold=t,this.keys=r,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const n={};n[cd.threshold]=this.threshold;const i=this.keys.map(o=>{const s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s});return n[cd.keys]=i,new BX.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};ud.MultiKey=K3;K3.fromDataItem=e=>{const t=e.getData(),r=t[cd.threshold],n=t[cd.keys],i=[];return n.forEach(o=>{o.getTag()===N5.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(SX.CryptoHDKey.fromDataItem(o)):o.getTag()===N5.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(xX.CryptoECKey.fromDataItem(o))}),new K3(r,i)};Object.defineProperty(Eh,"__esModule",{value:!0});Eh.CryptoOutput=void 0;const H3=Nu,q3=xf,lw=Pr,DD=ud,DX=Fr,RD=zt,y_=Fm;let nu=class extends DX.RegistryItem{constructor(t,r){super(),this.scriptExpressions=t,this.cryptoKey=r,this.getRegistryType=()=>RD.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof q3.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof H3.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof DD.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof H3.CryptoECKey||this.cryptoKey instanceof q3.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{const s=o.getTag();n.getTag()===void 0?n.setTag(s):n=new lw.DataItem(n,s)}),n}}};Eh.CryptoOutput=nu;nu.fromDataItem=e=>{const t=[];let r=e;for(;;){let o=r.getTag();const s=y_.ScriptExpression.fromTag(o);if(s)if(t.push(s),r.getData()instanceof lw.DataItem)r=r.getData(),o=r.getTag();else break;else break}const n=t.length;if(n>0&&(t[n-1].getExpression()===y_.ScriptExpressions.MULTISIG.getExpression()||t[n-1].getExpression()===y_.ScriptExpressions.SORTED_MULTISIG.getExpression())){const o=DD.MultiKey.fromDataItem(r);return new nu(t,o)}if(r.getTag()===RD.RegistryTypes.CRYPTO_HDKEY.getTag()){const o=q3.CryptoHDKey.fromDataItem(r);return new nu(t,o)}else{const o=H3.CryptoECKey.fromDataItem(r);return new nu(t,o)}};nu.fromCBOR=e=>{const t=lw.decodeToDataItem(e);return nu.fromDataItem(t)};var xh={};Object.defineProperty(xh,"__esModule",{value:!0});xh.CryptoPSBT=void 0;const OD=Pr,RX=Fr,OX=zt;let Sh=class extends RX.RegistryItem{constructor(t){super(),this.psbt=t,this.getRegistryType=()=>OX.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new OD.DataItem(this.psbt)}};xh.CryptoPSBT=Sh;Sh.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new Sh(t)};Sh.fromCBOR=e=>{const t=OD.decodeToDataItem(e);return Sh.fromDataItem(t)};var v0={},M5;function U5(){if(M5)return v0;M5=1,Object.defineProperty(v0,"__esModule",{value:!0}),v0.CryptoAccount=void 0;const e=hw(),t=Pr,r=Fr,n=zt;var i;(function(s){s[s.masterFingerprint=1]="masterFingerprint",s[s.outputDescriptors=2]="outputDescriptors"})(i||(i={}));class o extends r.RegistryItem{constructor(f,d){super(),this.masterFingerprint=f,this.outputDescriptors=d,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const a={};return this.masterFingerprint&&(a[i.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(a[i.outputDescriptors]=this.outputDescriptors.map(c=>c.toDataItem())),new t.DataItem(a)}}}return v0.CryptoAccount=o,o.fromDataItem=s=>{const f=s.getData(),d=Buffer.alloc(4),a=f[i.masterFingerprint];a&&d.writeUInt32BE(a,0);const p=f[i.outputDescriptors].map(h=>e.CryptoOutput.fromDataItem(h));return new o(d,p)},o.fromCBOR=s=>{const f=t.decodeToDataItem(s);return o.fromDataItem(f)},v0}var _0={},wp={};Object.defineProperty(wp,"__esModule",{value:!0});wp.UnknownURTypeError=void 0;let AX=class extends Error{constructor(t){super(t)}};wp.UnknownURTypeError=AX;var k5;function $5(){if(k5)return _0;k5=1,Object.defineProperty(_0,"__esModule",{value:!0}),_0.URRegistryDecoder=void 0;const e=Tt,t=hw(),r=zt,n=wp;class i extends e.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const s=this.resultUR();switch(s.type){case r.RegistryTypes.BYTES.getType():return t.Bytes.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_HDKEY.getType():return t.CryptoHDKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_KEYPATH.getType():return t.CryptoKeypath.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_COIN_INFO.getType():return t.CryptoCoinInfo.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ECKEY.getType():return t.CryptoECKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_OUTPUT.getType():return t.CryptoOutput.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_PSBT.getType():return t.CryptoPSBT.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ACCOUNT.getType():return t.CryptoAccount.fromCBOR(s.cbor);default:throw new n.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${s.type} is not supported now`)}}}}return _0.URRegistryDecoder=i,_0}var Bh={};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.CryptoMultiAccounts=void 0;const PX=zt,NX=xf,MX=Fr,AD=Pr;var cf;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device"})(cf||(cf={}));let Ch=class extends MX.RegistryItem{constructor(t,r,n){super(),this.masterFingerprint=t,this.keys=r,this.device=n,this.getRegistryType=()=>PX.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{const i={};return this.masterFingerprint&&(i[cf.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[cf.keys]=this.keys.map(o=>{const s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s})),this.device&&(i[cf.device]=this.device),new AD.DataItem(i)}}};Bh.CryptoMultiAccounts=Ch;Ch.fromDataItem=e=>{const t=e.getData(),r=Buffer.alloc(4),n=t[cf.masterFingerprint];n&&r.writeUInt32BE(n,0);const o=t[cf.keys].map(f=>NX.CryptoHDKey.fromDataItem(f)),s=t[cf.device];return new Ch(r,o,s)};Ch.fromCBOR=e=>{const t=AD.decodeToDataItem(e);return Ch.fromDataItem(t)};var g_={},m_={},F5;function PD(){return F5||(F5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyDerivation=e.DerivationAlgorithm=e.Curve=void 0;const t=zt,r=Fr,n=Pr,i=Pu;var o;(function(a){a[a.keyPaths=1]="keyPaths",a[a.curve=2]="curve",a[a.algo=3]="algo",a[a.origin=4]="origin"})(o||(o={}));var s;(function(a){a.secp256k1="secp256k1",a.ed25519="ed25519"})(s=e.Curve||(e.Curve={}));var f;(function(a){a.slip10="slip10",a.bip32ed25519="bip32ed25519"})(f=e.DerivationAlgorithm||(e.DerivationAlgorithm={}));class d extends r.RegistryItem{constructor(c,p=s.secp256k1,h=f.slip10,y){super(),this.keypaths=c,this.curve=p,this.algo=h,this.origin=y,this.getRegistryType=()=>t.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const g={};return g[o.keyPaths]=this.keypaths.map(v=>{const T=v.toDataItem();return T.setTag(v.getRegistryType().getTag()),T}),g[o.curve]=this.curve,g[o.algo]=this.algo,this.origin&&(g[o.origin]=this.origin),new n.DataItem(g)}}}e.KeyDerivation=d,d.fromDataItem=a=>{const c=a.getData(),p=c[o.keyPaths].map(v=>i.CryptoKeypath.fromDataItem(v)),h=c[o.curve],y=c[o.algo],g=c[o.origin];return new d(p,h,y,g)},d.fromCBOR=a=>{const c=n.decodeToDataItem(a);return d.fromDataItem(c)}}(m_)),m_}var L5;function UX(){return L5||(L5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QRHardwareCall=e.QRHardwareCallName=void 0;const t=zt,r=Fr,n=Pr,i=PD();var o;(function(d){d[d.name=1]="name",d[d.params=2]="params"})(o||(o={}));var s;(function(d){d.KeyDerivation="key-derivation"})(s=e.QRHardwareCallName||(e.QRHardwareCallName={}));class f extends r.RegistryItem{constructor(a,c){super(),this.name=a,this.params=c,this.getRegistryType=()=>t.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{const p={};p[o.name]=this.name;const h=this.params.toDataItem();return h.setTag(this.params.getRegistryType().getTag()),p[o.params]=h,new n.DataItem(p)}}}e.QRHardwareCall=f,f.fromDataItem=d=>{const a=d.getData(),c=a[o.name]||s.KeyDerivation;let p;switch(c){case s.KeyDerivation:p=i.KeyDerivation.fromDataItem(a[o.params])}return new f(c,p)},f.fromCBOR=d=>{const a=n.decodeToDataItem(d);return f.fromDataItem(a)}}(g_)),g_}var b_={},j5;function kX(){return j5||(j5=1,Object.defineProperty(b_,"__esModule",{value:!0})),b_}var K5;function hw(){return K5||(K5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=e.extend=e.PathComponent=e.ScriptExpressions=e.MultiKey=e.CryptoPSBT=e.CryptoOutput=e.CryptoECKey=e.CryptoCoinInfoNetwork=e.CryptoCoinInfoType=e.CryptoCoinInfo=e.CryptoKeypath=e.CryptoMultiAccounts=e.CryptoHDKey=e.CryptoAccount=e.Bytes=e.URRegistryDecoder=e.DataItem=void 0;const t=Bf,r=ze;Object.defineProperty(e,"Buffer",{enumerable:!0,get:function(){return r.Buffer}});const n=xf;Object.defineProperty(e,"CryptoHDKey",{enumerable:!0,get:function(){return n.CryptoHDKey}});const i=Pu;Object.defineProperty(e,"CryptoKeypath",{enumerable:!0,get:function(){return i.CryptoKeypath}});const o=Rg;Object.defineProperty(e,"CryptoCoinInfo",{enumerable:!0,get:function(){return o.CryptoCoinInfo}}),Object.defineProperty(e,"CryptoCoinInfoType",{enumerable:!0,get:function(){return o.Type}}),Object.defineProperty(e,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return o.Network}});const s=Nu;Object.defineProperty(e,"CryptoECKey",{enumerable:!0,get:function(){return s.CryptoECKey}});const f=Lm;Object.defineProperty(e,"Bytes",{enumerable:!0,get:function(){return f.Bytes}});const d=Eh;Object.defineProperty(e,"CryptoOutput",{enumerable:!0,get:function(){return d.CryptoOutput}});const a=xh;Object.defineProperty(e,"CryptoPSBT",{enumerable:!0,get:function(){return a.CryptoPSBT}});const c=U5();Object.defineProperty(e,"CryptoAccount",{enumerable:!0,get:function(){return c.CryptoAccount}});const p=$5();Object.defineProperty(e,"URRegistryDecoder",{enumerable:!0,get:function(){return p.URRegistryDecoder}});const h=ud;Object.defineProperty(e,"MultiKey",{enumerable:!0,get:function(){return h.MultiKey}});const y=Fm;Object.defineProperty(e,"ScriptExpressions",{enumerable:!0,get:function(){return y.ScriptExpressions}});const g=fd;Object.defineProperty(e,"PathComponent",{enumerable:!0,get:function(){return g.PathComponent}});const v=Fr,T=zt,I=Pr;var _=Pr;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return _.DataItem}});const C=ad,w=Bh;Object.defineProperty(e,"CryptoMultiAccounts",{enumerable:!0,get:function(){return w.CryptoMultiAccounts}});const P={URRegistryDecoder:p.URRegistryDecoder,Bytes:f.Bytes,CryptoAccount:c.CryptoAccount,CryptoHDKey:n.CryptoHDKey,CryptoMultiAccounts:w.CryptoMultiAccounts,CryptoKeypath:i.CryptoKeypath,CryptoCoinInfo:o.CryptoCoinInfo,CryptoCoinInfoType:o.Type,CryptoCoinInfoNetwork:o.Network,CryptoECKey:s.CryptoECKey,CryptoOutput:d.CryptoOutput,CryptoPSBT:a.CryptoPSBT,MultiKey:h.MultiKey,ScriptExpressions:y.ScriptExpressions,PathComponent:g.PathComponent},D={addReader:I.addReader,addSemanticDecode:I.addSemanticDecode,addSemanticEncode:I.addSemanticEncode,addWriter:I.addWriter,patchTags:C.patchTags},u={RegistryTypes:T.RegistryTypes,RegistryItem:v.RegistryItem,RegistryType:T.RegistryType,decodeToDataItem:I.decodeToDataItem,encodeDataItem:I.encodeDataItem,cbor:D};e.extend=u,t.__exportStar(wp,e),t.__exportStar($5(),e),t.__exportStar(Pr,e),t.__exportStar(U5(),e),t.__exportStar(xh,e),t.__exportStar(xf,e),t.__exportStar(Bh,e),t.__exportStar(UX(),e),t.__exportStar(PD(),e),t.__exportStar(Eh,e),t.__exportStar(Rg,e),t.__exportStar(Nu,e),t.__exportStar(ud,e),t.__exportStar(Pu,e),t.__exportStar(wD,e),t.__exportStar(fd,e),t.__exportStar(Fr,e),t.__exportStar(zt,e),t.__exportStar(kX(),e),t.__exportStar(ad,e),e.default=P}(p_)),p_}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=hw(),r=Mg;const n={SUI_SIGN_REQUEST:new t.RegistryType("sui-sign-request",7101),SUI_SIGNATURE:new t.RegistryType("sui-signature",7102)},{decodeToDataItem:i,RegistryTypes:o}=t.extend;var s;(function(h){h[h.requestId=1]="requestId",h[h.intentMessage=2]="intentMessage",h[h.derivationPaths=3]="derivationPaths",h[h.addresses=4]="addresses",h[h.origin=5]="origin"})(s||(s={}));class f extends t.RegistryItem{constructor(y){super(),this.getRegistryType=()=>n.SUI_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getIntentMessage=()=>this.intentMessage,this.getDerivationPaths=()=>this.derivationPaths.map(g=>g.getPath()),this.getAddresses=()=>this.addresses,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const g={};return this.requestId&&(g[s.requestId]=new t.DataItem(this.requestId,o.UUID.getTag())),this.addresses&&(g[s.addresses]=this.addresses),this.origin&&(g[s.origin]=this.origin),g[s.intentMessage]=this.intentMessage,g[s.derivationPaths]=this.derivationPaths.map(v=>{const T=v.toDataItem();return T.setTag(v.getRegistryType().getTag()),T}),new t.DataItem(g)},this.requestId=y.requestId,this.intentMessage=y.intentMessage,this.derivationPaths=y.derivationPaths,this.addresses=y.addresses,this.origin=y.origin}static constructSuiRequest(y,g,v,T,I,_){const C=g.map((w,P)=>{const D=w.replace(/[m|M]\//,"").split("/").map(u=>{const l=parseInt(u.replace("'",""));let m=!1;return u.endsWith("'")&&(m=!0),new t.PathComponent({index:l,hardened:m})});return new t.CryptoKeypath(D,Buffer.from(v[P],"hex"))});return new f({requestId:Buffer.from(r.parse(T)),intentMessage:y,derivationPaths:C,addresses:I||void 0,origin:_||void 0})}}f.fromDataItem=h=>{const y=h.getData(),g=y[s.intentMessage],v=y[s.derivationPaths].map(_=>t.CryptoKeypath.fromDataItem(_)),T=y[s.addresses]?y[s.addresses]:void 0,I=y[s.requestId]?y[s.requestId].getData():void 0;return new f({requestId:I,intentMessage:g,derivationPaths:v,addresses:T,origin:y[s.origin]?y[s.origin]:void 0})},f.fromCBOR=h=>{const y=i(h);return f.fromDataItem(y)};const{RegistryTypes:d,decodeToDataItem:a}=t.extend;var c;(function(h){h[h.requestId=1]="requestId",h[h.signature=2]="signature",h[h.publicKey=3]="publicKey"})(c||(c={}));class p extends t.RegistryItem{constructor(y,g,v){super(),this.getRegistryType=()=>n.SUI_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getPublicKey=()=>this.publicKey,this.toDataItem=()=>{const T={};return this.requestId&&(T[c.requestId]=new t.DataItem(this.requestId,d.UUID.getTag())),T[c.signature]=this.signature,this.publicKey&&(T[c.publicKey]=this.publicKey),new t.DataItem(T)},this.signature=y,this.requestId=g,this.publicKey=v}}p.fromDataItem=h=>{const y=h.getData(),g=y[c.signature],v=y[c.requestId].getData();return new p(g,v,y[c.publicKey])},p.fromCBOR=h=>{const y=a(h);return p.fromDataItem(y)},t.patchTags(Object.values(n).filter(h=>!!h.getTag()).map(h=>h.getTag())),Object.keys(t).forEach(function(h){h!=="default"&&Object.defineProperty(e,h,{enumerable:!0,get:function(){return t[h]}})}),e.SuiSignRequest=f,e.SuiSignature=p})(_D);vD.exports=_D;var $X=vD.exports;Object.defineProperty($m,"__esModule",{value:!0});$m.KeystoneSuiSDK=void 0;const by=$X,_a=ir,FX=qn;class LX{parseSignature(t){if(t.type!==FX.URType.SuiSignature)throw new Error("type not match");const r=by.SuiSignature.fromCBOR(t.cbor),n=r.getRequestId();return{requestId:Buffer.isBuffer(n)?(0,_a.uuidStringify)(n):"",signature:(0,_a.toHex)(r.getSignature()),publicKey:(0,_a.toHex)(r.getPublicKey())}}generateSignRequest({requestId:t,intentMessage:r,accounts:n,origin:i}){const o=[],s=[];if(n.forEach(f=>{o.push(new by.CryptoKeypath((0,_a.parsePath)(f.path).map(d=>new by.PathComponent(d)),(0,_a.toBuffer)(f.xfp))),f.address!==void 0&&s.push((0,_a.toBuffer)(f.address.startsWith("0x")?f.address.substring(2):f.address))}),s.length>0&&s.length!==o.length)throw new Error("address and path count must match");return new by.SuiSignRequest({requestId:(0,_a.uuidParse)(t),intentMessage:(0,_a.toBuffer)(r),derivationPaths:o,addresses:s,origin:i}).toUR()}}$m.KeystoneSuiSDK=LX;var jm={},ND={exports:{}},MD={},v_={},UD={},dd={},Nr={},kD={exports:{}},jd={};Object.defineProperty(jd,"__esModule",{value:!0});jd.DataItem=void 0;class jX{constructor(t,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=t,this.tag=r}}jd.DataItem=jX;(function(e){(function(t,r){e.exports?e.exports=r():t.CBOR=r()})(Be,function(){const{DataItem:t}=jd;var r=function(){function n(u){this.$hex=u}n.prototype={length:function(){return this.$hex.length/2},toString:function(u){if(!u||u==="hex"||u===16)return this.$hex;if(u==="utf-8"){for(var l="",m=0;m<this.$hex.length;m+=2)l+="%"+this.$hex.substring(m,m+2);return decodeURIComponent(l)}if(u==="latin"){for(var l=[],m=0;m<this.$hex.length;m+=2)l.push(parseInt(this.$hex.substring(m,m+2),16));return String.fromCharCode.apply(String,l)}throw new Error("Unrecognised format: "+u)}},n.fromLatinString=function(u){for(var l="",m=0;m<u.length;m++){var R=u.charCodeAt(m).toString(16);R.length===1&&(R="0"+R),l+=R}return new n(l)},n.fromUtf8String=function(u){for(var l=encodeURIComponent(u),m="",R=0;R<l.length;R++)if(l.charAt(R)==="%")m+=l.substring(R+1,R+3),R+=2;else{var B=l.charCodeAt(R).toString(16);B.length<2&&(B="0"+B),m+=B}return new n(m)};var i=[],o={},s=function(u){return function(){throw new Error(u+" not implemented")}};function f(){}f.prototype={peekByte:s("peekByte"),readByte:s("readByte"),readChunk:s("readChunk"),readFloat16:function(){var u=this.readUint16(),l=(u&32767)>>10,m=u&1023,R=u&32768;if(l===31)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-25)*(1024+m):Math.pow(2,-24)*m;return R?-B:B},readFloat32:function(){var u=this.readUint32(),l=(u&2147483647)>>23,m=u&8388607,R=u&2147483648;if(l===255)return m===0?R?-1/0:1/0:NaN;var B=l?Math.pow(2,l-23-127)*(8388608+m):Math.pow(2,-149)*m;return R?-B:B},readFloat64:function(){var u=this.readUint32(),l=this.readUint32(),m=u>>20&2047,R=(u&1048575)*4294967296+l,B=u&2147483648;if(m===2047)return R===0?B?-1/0:1/0:NaN;var b=m?Math.pow(2,m-52-1023)*(4503599627370496+R):Math.pow(2,-1074)*R;return B?-b:b},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function d(){}d.prototype={writeByte:s("writeByte"),result:s("result"),writeFloat16:s("writeFloat16"),writeFloat32:s("writeFloat32"),writeFloat64:s("writeFloat64"),writeUint16:function(u){this.writeByte(u>>8&255),this.writeByte(u&255)},writeUint32:function(u){this.writeUint16(u>>16&65535),this.writeUint16(u&65535)},writeUint64:function(u){if(u>=9007199254740992||u<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+u+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(u/4294967296)),this.writeUint32(u%4294967296)},writeString:s("writeString"),canWriteBinary:function(u){return!1},writeBinary:s("writeChunk")};function a(u){var l=u.readByte(),m=l>>5,R=l&31;return{type:m,value:R}}function c(u,l){var m=u.value;if(m<24)return m;if(m==24)return l.readByte();if(m==25)return l.readUint16();if(m==26)return l.readUint32();if(m==27)return l.readUint64();if(m==31)return null;s("Additional info: "+m)()}function p(u,l,m){m.writeByte(u<<5|l)}function h(u,l,m){var R=u<<5;l<24?m.writeByte(R|l):l<256?(m.writeByte(R|24),m.writeByte(l)):l<65536?(m.writeByte(R|25),m.writeUint16(l)):l<4294967296?(m.writeByte(R|26),m.writeUint32(l)):(m.writeByte(R|27),m.writeUint64(l))}var y=new Error;function g(u){var l=a(u);switch(l.type){case 0:return c(l,u);case 1:return-1-c(l,u);case 2:return u.readChunk(c(l,u));case 3:var m=u.readChunk(c(l,u));return m.toString("utf-8");case 4:case 5:var R=c(l,u),$=[];if(R!==null){l.type===5&&(R*=2);for(var B=0;B<R;B++)$[B]=g(u)}else for(var b;(b=g(u))!==y;)$.push(b);if(l.type===5){for(var E={},B=0;B<$.length;B+=2)E[$[B]]=$[B+1];return E}else return $;case 6:var k=c(l,u),L=o[k],$=g(u);return L?L($):$;case 7:if(l.value===25)return u.readFloat16();if(l.value===26)return u.readFloat32();if(l.value===27)return u.readFloat64();switch(c(l,u)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return y;default:throw new Error("Unknown fixed value: "+l.value)}default:throw new Error("Unsupported header: "+JSON.stringify(l))}throw new Error("not implemented yet")}function v(u,l){for(var m=0;m<i.length;m++){var R=i[m].fn(u);if(R!==void 0)return h(6,i[m].tag,l),v(R,l)}if(u&&typeof u.toCBOR=="function"&&(u=u.toCBOR()),u===!1)h(7,20,l);else if(u===!0)h(7,21,l);else if(u===null)h(7,22,l);else if(u===void 0)h(7,23,l);else if(typeof u=="number")Math.floor(u)===u&&u<9007199254740992&&u>-9007199254740992?u<0?h(1,-1-u,l):h(0,u,l):(p(7,27,l),l.writeFloat64(u));else if(typeof u=="string")l.writeString(u,function(b){h(3,b,l)});else if(l.canWriteBinary(u))l.writeBinary(u,function(b){h(2,b,l)});else if(typeof u=="object")if(_.config.useToJSON&&typeof u.toJSON=="function"&&(u=u.toJSON()),Array.isArray(u)){h(4,u.length,l);for(var m=0;m<u.length;m++)v(u[m],l)}else{var B=Object.keys(u);h(5,B.length,l);for(var m=0;m<B.length;m++){const E=parseInt(B[m]);isNaN(E)?(v(B[m],l),v(u[B[m]],l)):(v(E,l),v(u[B[m]],l))}}else throw new Error("CBOR encoding not supported: "+u)}var T=[],I=[],_={config:{useToJSON:!0},addWriter:function(u,l){typeof u=="string"?I.push(function(m){if(u===m)return l(m)}):I.push(u)},addReader:function(u,l){typeof u=="string"?T.push(function(m,R){if(u===R)return l(m,R)}):T.push(u)},encode:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return v(u,B),B.result()}throw new Error("Unsupported output format: "+l)},encodeDataItem:function(u,l){for(var m=0;m<I.length;m++){var R=I[m],B=R(l);if(B)return u.getTag()!==void 0?(v(u,B),B.result()):(v(u.getData(),B),B.result())}throw new Error("Unsupported output format: "+l)},decode:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B)return g(B)}throw new Error("Unsupported input format: "+l)},decodeToDataItem:function(u,l){for(var m=0;m<T.length;m++){var R=T[m],B=R(u,l);if(B){const b=g(B);return b instanceof t?b:new t(b)}}throw new Error("Unsupported input format: "+l)},addSemanticEncode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return i.push({tag:u,fn:l}),this},addSemanticDecode:function(u,l){if(typeof u!="number"||u%1!==0||u<0)throw new Error("Tag must be a positive integer");return o[u]=l,this}};function C(u){this.buffer=u,this.pos=0}C.prototype=Object.create(f.prototype),C.prototype.peekByte=function(){return this.buffer[this.pos]},C.prototype.readByte=function(){return this.buffer[this.pos++]},C.prototype.readUint16=function(){var u=this.buffer.readUInt16BE(this.pos);return this.pos+=2,u},C.prototype.readUint32=function(){var u=this.buffer.readUInt32BE(this.pos);return this.pos+=4,u},C.prototype.readFloat32=function(){var u=this.buffer.readFloatBE(this.pos);return this.pos+=4,u},C.prototype.readFloat64=function(){var u=this.buffer.readDoubleBE(this.pos);return this.pos+=8,u},C.prototype.readChunk=function(u){var l=Buffer.alloc(u);return this.buffer.copy(l,0,this.pos,this.pos+=u),l};function w(u){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=u}w.prototype=Object.create(d.prototype),w.prototype.writeByte=function(u){this.latestBuffer[this.latestBufferOffset++]=u,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},w.prototype.writeFloat32=function(u){var l=Buffer.alloc(4);l.writeFloatBE(u,0),this.writeBuffer(l)},w.prototype.writeFloat64=function(u){var l=Buffer.alloc(8);l.writeDoubleBE(u,0),this.writeBuffer(l)},w.prototype.writeString=function(u,l){var m=Buffer.from(u,"utf-8");l(m.length),this.writeBuffer(m)},w.prototype.canWriteBinary=function(u){return u instanceof Buffer},w.prototype.writeBinary=function(u,l){l(u.length),this.writeBuffer(u)},w.prototype.writeBuffer=function(u){if(!(u instanceof Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=u.length?(u.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=u.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(u),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(u),this.byteLength+=u.length},w.prototype.result=function(){for(var u=Buffer.alloc(this.byteLength),l=0,m=0;m<this.completeBuffers.length;m++){var R=this.completeBuffers[m];R.copy(u,l,0,R.length),l+=R.length}return this.latestBufferOffset&&this.latestBuffer.copy(u,l,0,this.latestBufferOffset),this.stringFormat?u.toString(this.stringFormat):u},typeof Buffer=="function"&&(_.addReader(function(u,l){if(Buffer.isBuffer(u))return new C(u);if(l==="hex"||l==="base64"){var m=Buffer.from(u,l);return new C(m)}}),_.addWriter(function(u){if(!u||u==="buffer")return new w;if(u==="hex"||u==="base64")return new w(u)}));function P(u){this.hex=u,this.pos=0}P.prototype=Object.create(f.prototype),P.prototype.peekByte=function(){var u=this.hex.substring(this.pos,2);return parseInt(u,16)},P.prototype.readByte=function(){var u=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(u,16)},P.prototype.readChunk=function(u){var l=this.hex.substring(this.pos,this.pos+u*2);return this.pos+=u*2,typeof Buffer=="function"?Buffer.from(l,"hex"):new n(l)};function D(u){this.$hex="",this.finalFormat=u||"hex"}return D.prototype=Object.create(d.prototype),D.prototype.writeByte=function(u){if(u<0||u>255)throw new Error("Byte value out of range: "+u);var l=u.toString(16);l.length==1&&(l="0"+l),this.$hex+=l},D.prototype.canWriteBinary=function(u){return u instanceof n||typeof Buffer=="function"&&u instanceof Buffer},D.prototype.writeBinary=function(u,l){if(u instanceof n)l(u.length()),this.$hex+=u.$hex;else if(typeof Buffer=="function"&&u instanceof Buffer)l(u.length),this.$hex+=u.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},D.prototype.result=function(){return this.finalFormat==="buffer"&&typeof Buffer=="function"?Buffer.from(this.$hex,"hex"):new n(this.$hex).toString(this.finalFormat)},D.prototype.writeString=function(u,l){var m=n.fromUtf8String(u);l(m.length()),this.$hex+=m.$hex},_.addReader(function(u,l){if(u instanceof n||u.$hex)return new P(u.$hex);if(l==="hex")return new P(u)}),_.addWriter(function(u){if(u==="hex")return new D}),_}();return r.addSemanticEncode(0,function(n){if(n instanceof Date)return n.toISOString()}).addSemanticDecode(0,function(n){return new Date(n)}).addSemanticDecode(1,function(n){return new Date(n)}),r})})(kD);var KX=kD.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DataItem=e.addWriter=e.addReader=e.addSemanticEncode=e.addSemanticDecode=e.decodeToDataItem=e.encodeDataItem=void 0;var t=KX;Object.defineProperty(e,"encodeDataItem",{enumerable:!0,get:function(){return t.encodeDataItem}}),Object.defineProperty(e,"decodeToDataItem",{enumerable:!0,get:function(){return t.decodeToDataItem}}),Object.defineProperty(e,"addSemanticDecode",{enumerable:!0,get:function(){return t.addSemanticDecode}}),Object.defineProperty(e,"addSemanticEncode",{enumerable:!0,get:function(){return t.addSemanticEncode}}),Object.defineProperty(e,"addReader",{enumerable:!0,get:function(){return t.addReader}}),Object.defineProperty(e,"addWriter",{enumerable:!0,get:function(){return t.addWriter}});var r=jd;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return r.DataItem}})})(Nr);Object.defineProperty(dd,"__esModule",{value:!0});dd.patchTags=void 0;const vy=Nr,H5=[],HX=e=>{e.forEach(t=>{H5.find(r=>r===t)||(vy.addSemanticEncode(t,r=>{if(r instanceof vy.DataItem&&r.getTag()===t)return r.getData()}),vy.addSemanticDecode(t,r=>new vy.DataItem(r,t)),H5.push(t))})};dd.patchTags=HX;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.RegistryTypes=Yt.RegistryType=void 0;class ni{constructor(t,r){this.type=t,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}}Yt.RegistryType=ni;Yt.RegistryTypes={UUID:new ni("uuid",37),BYTES:new ni("bytes",void 0),CRYPTO_HDKEY:new ni("crypto-hdkey",303),CRYPTO_KEYPATH:new ni("crypto-keypath",304),CRYPTO_COIN_INFO:new ni("crypto-coin-info",305),CRYPTO_ECKEY:new ni("crypto-eckey",306),CRYPTO_OUTPUT:new ni("crypto-output",308),CRYPTO_PSBT:new ni("crypto-psbt",310),CRYPTO_ACCOUNT:new ni("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new ni("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new ni("qr-hardware-call",1201),KEY_DERIVATION_CALL:new ni("key-derivation-call",1301)};var Km={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptExpressions=e.ScriptExpression=void 0;class t{constructor(n,i){this.tag=n,this.expression=i,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}e.ScriptExpression=t,t.fromTag=r=>Object.values(e.ScriptExpressions).find(i=>i.getTag()===r),e.ScriptExpressions={SCRIPT_HASH:new t(400,"sh"),WITNESS_SCRIPT_HASH:new t(401,"wsh"),PUBLIC_KEY:new t(402,"pk"),PUBLIC_KEY_HASH:new t(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new t(404,"wpkh"),COMBO:new t(405,"combo"),MULTISIG:new t(406,"multi"),SORTED_MULTISIG:new t(407,"sortedmulti"),ADDRESS:new t(307,"addr"),RAW_SCRIPT:new t(408,"raw")}})(Km);Object.defineProperty(UD,"__esModule",{value:!0});const qX=dd,VX=Yt,zX=Km,YX=Object.values(VX.RegistryTypes).filter(e=>!!e.getTag()).map(e=>e.getTag()),GX=Object.values(zX.ScriptExpressions).map(e=>e.getTag());qX.patchTags(YX.concat(GX));var Sf={},Og={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.RegistryItem=void 0;const q5=Tt,JX=Nr;class WX{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return JX.encodeDataItem(this.toDataItem())},this.toUR=()=>new q5.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(t,r,n)=>{const i=this.toUR();return new q5.UREncoder(i,t,r,n)}}}Lr.RegistryItem=WX;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CryptoCoinInfo=e.Network=e.Type=void 0;const t=Nr,r=Lr,n=Yt;var i;(function(d){d.type="1",d.network="2"})(i||(i={}));var o;(function(d){d[d.bitcoin=0]="bitcoin"})(o=e.Type||(e.Type={}));var s;(function(d){d[d.mainnet=0]="mainnet",d[d.testnet=1]="testnet"})(s=e.Network||(e.Network={}));class f extends r.RegistryItem{constructor(a,c){super(),this.type=a,this.network=c,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||o.bitcoin,this.getNetwork=()=>this.network||s.mainnet,this.toDataItem=()=>{const p={};return this.type&&(p[i.type]=this.type),this.network&&(p[i.network]=this.network),new t.DataItem(p)}}}e.CryptoCoinInfo=f,f.fromDataItem=d=>{const a=d.getData(),c=a[i.type],p=a[i.network];return new f(c,p)},f.fromCBOR=d=>{const a=t.decodeToDataItem(d);return f.fromDataItem(a)}})(Og);var Mu={},ld={};Object.defineProperty(ld,"__esModule",{value:!0});ld.PathComponent=void 0;class Hm{constructor(t){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=t.index,this.hardened=t.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&Hm.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}ld.PathComponent=Hm;Hm.HARDENED_BIT=2147483648;Object.defineProperty(Mu,"__esModule",{value:!0});Mu.CryptoKeypath=void 0;const $D=Nr,V5=ld,XX=Lr,ZX=Yt;var df;(function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"})(df||(df={}));class Dh extends XX.RegistryItem{constructor(t=[],r,n){super(),this.components=t,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>ZX.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const i={},o=[];return this.components&&this.components.forEach(s=>{s.isWildcard()?o.push([]):o.push(s.getIndex()),o.push(s.isHardened())}),i[df.components]=o,this.sourceFingerprint&&(i[df.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[df.depth]=this.depth),new $D.DataItem(i)}}}Mu.CryptoKeypath=Dh;Dh.fromDataItem=e=>{const t=e.getData(),r=[],n=t[df.components];if(n)for(let f=0;f<n.length;f+=2){const d=n[f+1],a=n[f];typeof a=="number"?r.push(new V5.PathComponent({index:a,hardened:d})):r.push(new V5.PathComponent({hardened:d}))}const i=t[df.source_fingerprint];let o;i&&(o=Buffer.alloc(4),o.writeUInt32BE(i,0));const s=t[df.depth];return new Dh(r,o,s)};Dh.fromCBOR=e=>{const t=$D.decodeToDataItem(e);return Dh.fromDataItem(t)};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.CryptoHDKey=void 0;const QX=Rf,eZ=Og,z5=Mu,FD=Nr,tZ=Lr,rZ=Yt;var yt;(function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"})(yt||(yt={}));class Rh extends tZ.RegistryItem{constructor(t){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var r,n,i;let o,s,f=0,d=Buffer.alloc(4).fill(0);if(this.isMaster())o=Buffer.from("0488ADE4","hex"),s=0,f=0;else{s=((r=this.getOrigin())===null||r===void 0?void 0:r.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());const y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),g=y[y.length-1];g&&(f=g.isHardened()?g.getIndex()+2147483648:g.getIndex(),this.getParentFingerprint()&&(d=this.getParentFingerprint())),this.isPrivateKey()?o=Buffer.from("0488ADE4","hex"):o=Buffer.from("0488B21E","hex")}const a=Buffer.alloc(1);a.writeUInt8(s,0);const c=Buffer.alloc(4);c.writeUInt32BE(f,0);const p=this.getChainCode(),h=this.getKey();return QX.encode(Buffer.concat([o,a,d,c,p,h]))},this.getRegistryType=()=>rZ.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var r,n,i,o,s,f,d;let a="";return this.getOrigin()&&!((r=this.getOrigin())===null||r===void 0)&&r.getSourceFingerprint()&&!((n=this.getOrigin())===null||n===void 0)&&n.getPath()&&(a+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(s=this.getOrigin())===null||s===void 0?void 0:s.getPath()}`),a+=this.getBip32Key(),this.getChildren()&&!((f=this.getChildren())===null||f===void 0)&&f.getPath()&&(a+=`/${(d=this.getChildren())===null||d===void 0?void 0:d.getPath()}`),a},this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{const r={};if(this.master)r[yt.is_master]=!0,r[yt.key_data]=this.key,r[yt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[yt.is_private]=this.privateKey),r[yt.key_data]=this.key,this.chainCode&&(r[yt.chain_code]=this.chainCode),this.useInfo){const n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[yt.use_info]=n}if(this.origin){const n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[yt.origin]=n}if(this.children){const n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[yt.children]=n}this.parentFingerprint&&(r[yt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[yt.name]=this.name),this.note!==void 0&&(r[yt.note]=this.note)}return new FD.DataItem(r)},t.isMaster?this.setupMasterKey(t):this.setupDeriveKey(t)}}Sf.CryptoHDKey=Rh;Rh.fromDataItem=e=>{const t=e.getData(),r=!!t[yt.is_master],n=t[yt.is_private],i=t[yt.key_data],o=t[yt.chain_code],s=t[yt.use_info]?eZ.CryptoCoinInfo.fromDataItem(t[yt.use_info]):void 0,f=t[yt.origin]?z5.CryptoKeypath.fromDataItem(t[yt.origin]):void 0,d=t[yt.children]?z5.CryptoKeypath.fromDataItem(t[yt.children]):void 0,a=t[yt.parent_fingerprint];let c;a&&(c=Buffer.alloc(4),c.writeUInt32BE(a,0));const p=t[yt.name],h=t[yt.note];return new Rh({isMaster:r,isPrivateKey:n,key:i,chainCode:o,useInfo:s,origin:f,children:d,parentFingerprint:c,name:p,note:h})};Rh.fromCBOR=e=>{const t=FD.decodeToDataItem(e);return Rh.fromDataItem(t)};var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.CryptoECKey=void 0;const LD=Nr,nZ=Lr,iZ=Yt;var lf;(function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"})(lf||(lf={}));class Oh extends nZ.RegistryItem{constructor(t){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>iZ.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const r={};return this.curve&&(r[lf.curve]=this.curve),this.privateKey!==void 0&&(r[lf.private]=this.privateKey),r[lf.data]=this.data,new LD.DataItem(r)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=t.data,this.curve=t.curve,this.privateKey=t.privateKey||void 0}}Uu.CryptoECKey=Oh;Oh.fromDataItem=e=>{const t=e.getData(),r=t[lf.curve],n=t[lf.private],i=t[lf.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new Oh({data:i,curve:r,privateKey:n})};Oh.fromCBOR=e=>{const t=LD.decodeToDataItem(e);return Oh.fromDataItem(t)};var qm={};Object.defineProperty(qm,"__esModule",{value:!0});qm.Bytes=void 0;const jD=Nr,oZ=Lr,sZ=Yt;let Ah=class extends oZ.RegistryItem{constructor(t){super(),this.bytes=t,this.getRegistryType=()=>sZ.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new jD.DataItem(this.bytes)}};qm.Bytes=Ah;Ah.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new Ah(t)};Ah.fromCBOR=e=>{const t=jD.decodeToDataItem(e);return Ah.fromDataItem(t)};var Ph={},hd={};Object.defineProperty(hd,"__esModule",{value:!0});hd.MultiKey=void 0;const aZ=Uu,fZ=Sf,uZ=jd,cZ=Lr,Y5=Yt;var pd;(function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"})(pd||(pd={}));class V3 extends cZ.RegistryItem{constructor(t,r){super(),this.threshold=t,this.keys=r,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const n={};n[pd.threshold]=this.threshold;const i=this.keys.map(o=>{const s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s});return n[pd.keys]=i,new uZ.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}}hd.MultiKey=V3;V3.fromDataItem=e=>{const t=e.getData(),r=t[pd.threshold],n=t[pd.keys],i=[];return n.forEach(o=>{o.getTag()===Y5.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(fZ.CryptoHDKey.fromDataItem(o)):o.getTag()===Y5.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(aZ.CryptoECKey.fromDataItem(o))}),new V3(r,i)};Object.defineProperty(Ph,"__esModule",{value:!0});Ph.CryptoOutput=void 0;const z3=Uu,Y3=Sf,pw=Nr,KD=hd,dZ=Lr,HD=Yt,__=Km;class iu extends dZ.RegistryItem{constructor(t,r){super(),this.scriptExpressions=t,this.cryptoKey=r,this.getRegistryType=()=>HD.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof Y3.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof z3.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof KD.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof z3.CryptoECKey||this.cryptoKey instanceof Y3.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{const s=o.getTag();n.getTag()===void 0?n.setTag(s):n=new pw.DataItem(n,s)}),n}}}Ph.CryptoOutput=iu;iu.fromDataItem=e=>{const t=[];let r=e;for(;;){let o=r.getTag();const s=__.ScriptExpression.fromTag(o);if(s)if(t.push(s),r.getData()instanceof pw.DataItem)r=r.getData(),o=r.getTag();else break;else break}const n=t.length;if(n>0&&(t[n-1].getExpression()===__.ScriptExpressions.MULTISIG.getExpression()||t[n-1].getExpression()===__.ScriptExpressions.SORTED_MULTISIG.getExpression())){const o=KD.MultiKey.fromDataItem(r);return new iu(t,o)}if(r.getTag()===HD.RegistryTypes.CRYPTO_HDKEY.getTag()){const o=Y3.CryptoHDKey.fromDataItem(r);return new iu(t,o)}else{const o=z3.CryptoECKey.fromDataItem(r);return new iu(t,o)}};iu.fromCBOR=e=>{const t=pw.decodeToDataItem(e);return iu.fromDataItem(t)};var Nh={};Object.defineProperty(Nh,"__esModule",{value:!0});Nh.CryptoPSBT=void 0;const qD=Nr,lZ=Lr,hZ=Yt;class Mh extends lZ.RegistryItem{constructor(t){super(),this.psbt=t,this.getRegistryType=()=>hZ.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new qD.DataItem(this.psbt)}}Nh.CryptoPSBT=Mh;Mh.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new Mh(t)};Mh.fromCBOR=e=>{const t=qD.decodeToDataItem(e);return Mh.fromDataItem(t)};var w0={},G5;function J5(){if(G5)return w0;G5=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.CryptoAccount=void 0;const e=yw(),t=Nr,r=Lr,n=Yt;var i;(function(s){s[s.masterFingerprint=1]="masterFingerprint",s[s.outputDescriptors=2]="outputDescriptors"})(i||(i={}));let o=class extends r.RegistryItem{constructor(f,d){super(),this.masterFingerprint=f,this.outputDescriptors=d,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const a={};return this.masterFingerprint&&(a[i.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(a[i.outputDescriptors]=this.outputDescriptors.map(c=>c.toDataItem())),new t.DataItem(a)}}};return w0.CryptoAccount=o,o.fromDataItem=s=>{const f=s.getData(),d=Buffer.alloc(4),a=f[i.masterFingerprint];a&&d.writeUInt32BE(a,0);const p=f[i.outputDescriptors].map(h=>e.CryptoOutput.fromDataItem(h));return new o(d,p)},o.fromCBOR=s=>{const f=t.decodeToDataItem(s);return o.fromDataItem(f)},w0}var T0={},Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});Tp.UnknownURTypeError=void 0;class pZ extends Error{constructor(t){super(t)}}Tp.UnknownURTypeError=pZ;var W5;function X5(){if(W5)return T0;W5=1,Object.defineProperty(T0,"__esModule",{value:!0}),T0.URRegistryDecoder=void 0;const e=Tt,t=yw(),r=Yt,n=Tp;class i extends e.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const s=this.resultUR();switch(s.type){case r.RegistryTypes.BYTES.getType():return t.Bytes.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_HDKEY.getType():return t.CryptoHDKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_KEYPATH.getType():return t.CryptoKeypath.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_COIN_INFO.getType():return t.CryptoCoinInfo.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ECKEY.getType():return t.CryptoECKey.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_OUTPUT.getType():return t.CryptoOutput.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_PSBT.getType():return t.CryptoPSBT.fromCBOR(s.cbor);case r.RegistryTypes.CRYPTO_ACCOUNT.getType():return t.CryptoAccount.fromCBOR(s.cbor);default:throw new n.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${s.type} is not supported now`)}}}}return T0.URRegistryDecoder=i,T0}var Uh={};Object.defineProperty(Uh,"__esModule",{value:!0});Uh.CryptoMultiAccounts=void 0;const yZ=Yt,gZ=Sf,mZ=Lr,VD=Nr;var hf;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device"})(hf||(hf={}));class kh extends mZ.RegistryItem{constructor(t,r,n){super(),this.masterFingerprint=t,this.keys=r,this.device=n,this.getRegistryType=()=>yZ.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{const i={};return this.masterFingerprint&&(i[hf.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[hf.keys]=this.keys.map(o=>{const s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s})),this.device&&(i[hf.device]=this.device),new VD.DataItem(i)}}}Uh.CryptoMultiAccounts=kh;kh.fromDataItem=e=>{const t=e.getData(),r=Buffer.alloc(4),n=t[hf.masterFingerprint];n&&r.writeUInt32BE(n,0);const o=t[hf.keys].map(f=>gZ.CryptoHDKey.fromDataItem(f)),s=t[hf.device];return new kh(r,o,s)};kh.fromCBOR=e=>{const t=VD.decodeToDataItem(e);return kh.fromDataItem(t)};var w_={},T_={},Z5;function zD(){return Z5||(Z5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyDerivation=e.DerivationAlgorithm=e.Curve=void 0;const t=Yt,r=Lr,n=Nr,i=Mu;var o;(function(a){a[a.keyPaths=1]="keyPaths",a[a.curve=2]="curve",a[a.algo=3]="algo",a[a.origin=4]="origin"})(o||(o={}));var s;(function(a){a.secp256k1="secp256k1",a.ed25519="ed25519"})(s=e.Curve||(e.Curve={}));var f;(function(a){a.slip10="slip10",a.bip32ed25519="bip32ed25519"})(f=e.DerivationAlgorithm||(e.DerivationAlgorithm={}));class d extends r.RegistryItem{constructor(c,p=s.secp256k1,h=f.slip10,y){super(),this.keypaths=c,this.curve=p,this.algo=h,this.origin=y,this.getRegistryType=()=>t.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const g={};return g[o.keyPaths]=this.keypaths.map(v=>{const T=v.toDataItem();return T.setTag(v.getRegistryType().getTag()),T}),g[o.curve]=this.curve,g[o.algo]=this.algo,this.origin&&(g[o.origin]=this.origin),new n.DataItem(g)}}}e.KeyDerivation=d,d.fromDataItem=a=>{const c=a.getData(),p=c[o.keyPaths].map(v=>i.CryptoKeypath.fromDataItem(v)),h=c[o.curve],y=c[o.algo],g=c[o.origin];return new d(p,h,y,g)},d.fromCBOR=a=>{const c=n.decodeToDataItem(a);return d.fromDataItem(c)}}(T_)),T_}var Q5;function bZ(){return Q5||(Q5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QRHardwareCall=e.QRHardwareCallName=void 0;const t=Yt,r=Lr,n=Nr,i=zD();var o;(function(d){d[d.name=1]="name",d[d.params=2]="params"})(o||(o={}));var s;(function(d){d.KeyDerivation="key-derivation"})(s=e.QRHardwareCallName||(e.QRHardwareCallName={}));class f extends r.RegistryItem{constructor(a,c){super(),this.name=a,this.params=c,this.getRegistryType=()=>t.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{const p={};p[o.name]=this.name;const h=this.params.toDataItem();return h.setTag(this.params.getRegistryType().getTag()),p[o.params]=h,new n.DataItem(p)}}}e.QRHardwareCall=f,f.fromDataItem=d=>{const a=d.getData(),c=a[o.name]||s.KeyDerivation;let p;switch(c){case s.KeyDerivation:p=i.KeyDerivation.fromDataItem(a[o.params])}return new f(c,p)},f.fromCBOR=d=>{const a=n.decodeToDataItem(d);return f.fromDataItem(a)}}(w_)),w_}var I_={},eE;function vZ(){return eE||(eE=1,Object.defineProperty(I_,"__esModule",{value:!0})),I_}var tE;function yw(){return tE||(tE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=e.extend=e.PathComponent=e.ScriptExpressions=e.MultiKey=e.CryptoPSBT=e.CryptoOutput=e.CryptoECKey=e.CryptoCoinInfoNetwork=e.CryptoCoinInfoType=e.CryptoCoinInfo=e.CryptoKeypath=e.CryptoMultiAccounts=e.CryptoHDKey=e.CryptoAccount=e.Bytes=e.URRegistryDecoder=e.DataItem=void 0;const t=Bf,r=ze;Object.defineProperty(e,"Buffer",{enumerable:!0,get:function(){return r.Buffer}});const n=Sf;Object.defineProperty(e,"CryptoHDKey",{enumerable:!0,get:function(){return n.CryptoHDKey}});const i=Mu;Object.defineProperty(e,"CryptoKeypath",{enumerable:!0,get:function(){return i.CryptoKeypath}});const o=Og;Object.defineProperty(e,"CryptoCoinInfo",{enumerable:!0,get:function(){return o.CryptoCoinInfo}}),Object.defineProperty(e,"CryptoCoinInfoType",{enumerable:!0,get:function(){return o.Type}}),Object.defineProperty(e,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return o.Network}});const s=Uu;Object.defineProperty(e,"CryptoECKey",{enumerable:!0,get:function(){return s.CryptoECKey}});const f=qm;Object.defineProperty(e,"Bytes",{enumerable:!0,get:function(){return f.Bytes}});const d=Ph;Object.defineProperty(e,"CryptoOutput",{enumerable:!0,get:function(){return d.CryptoOutput}});const a=Nh;Object.defineProperty(e,"CryptoPSBT",{enumerable:!0,get:function(){return a.CryptoPSBT}});const c=J5();Object.defineProperty(e,"CryptoAccount",{enumerable:!0,get:function(){return c.CryptoAccount}});const p=X5();Object.defineProperty(e,"URRegistryDecoder",{enumerable:!0,get:function(){return p.URRegistryDecoder}});const h=hd;Object.defineProperty(e,"MultiKey",{enumerable:!0,get:function(){return h.MultiKey}});const y=Km;Object.defineProperty(e,"ScriptExpressions",{enumerable:!0,get:function(){return y.ScriptExpressions}});const g=ld;Object.defineProperty(e,"PathComponent",{enumerable:!0,get:function(){return g.PathComponent}});const v=Lr,T=Yt,I=Nr;var _=Nr;Object.defineProperty(e,"DataItem",{enumerable:!0,get:function(){return _.DataItem}});const C=dd,w=Uh;Object.defineProperty(e,"CryptoMultiAccounts",{enumerable:!0,get:function(){return w.CryptoMultiAccounts}});const P={URRegistryDecoder:p.URRegistryDecoder,Bytes:f.Bytes,CryptoAccount:c.CryptoAccount,CryptoHDKey:n.CryptoHDKey,CryptoMultiAccounts:w.CryptoMultiAccounts,CryptoKeypath:i.CryptoKeypath,CryptoCoinInfo:o.CryptoCoinInfo,CryptoCoinInfoType:o.Type,CryptoCoinInfoNetwork:o.Network,CryptoECKey:s.CryptoECKey,CryptoOutput:d.CryptoOutput,CryptoPSBT:a.CryptoPSBT,MultiKey:h.MultiKey,ScriptExpressions:y.ScriptExpressions,PathComponent:g.PathComponent},D={addReader:I.addReader,addSemanticDecode:I.addSemanticDecode,addSemanticEncode:I.addSemanticEncode,addWriter:I.addWriter,patchTags:C.patchTags},u={RegistryTypes:T.RegistryTypes,RegistryItem:v.RegistryItem,RegistryType:T.RegistryType,decodeToDataItem:I.decodeToDataItem,encodeDataItem:I.encodeDataItem,cbor:D};e.extend=u,t.__exportStar(Tp,e),t.__exportStar(X5(),e),t.__exportStar(Nr,e),t.__exportStar(J5(),e),t.__exportStar(Nh,e),t.__exportStar(Sf,e),t.__exportStar(Uh,e),t.__exportStar(bZ(),e),t.__exportStar(zD(),e),t.__exportStar(Ph,e),t.__exportStar(Og,e),t.__exportStar(Uu,e),t.__exportStar(hd,e),t.__exportStar(Mu,e),t.__exportStar(UD,e),t.__exportStar(ld,e),t.__exportStar(Lr,e),t.__exportStar(Yt,e),t.__exportStar(vZ(),e),t.__exportStar(dd,e),e.default=P}(v_)),v_}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=yw(),r=Mg;const n={TRON_SIGN_REQUEST:new t.RegistryType("ton-sign-request",7201),TRON_SIGNATURE:new t.RegistryType("ton-signature",7202)},{decodeToDataItem:i,RegistryTypes:o}=t.extend;var s,f;(function(y){y[y.requestId=1]="requestId",y[y.signData=2]="signData",y[y.dataType=3]="dataType",y[y.derivationPath=4]="derivationPath",y[y.address=5]="address",y[y.origin=6]="origin"})(s||(s={})),(f=e.DataType||(e.DataType={}))[f.TRANSACTION=1]="TRANSACTION",f[f.SIGN_PROOF=2]="SIGN_PROOF";class d extends t.RegistryItem{constructor(g){super(),this.getRegistryType=()=>n.TRON_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath?this.derivationPath.getPath():void 0,this.getAddress=()=>this.address,this.getOrigin=()=>this.origin,this.getDataType=()=>this.dataType,this.toDataItem=()=>{const v={};if(v[s.signData]=this.signData,v[s.dataType]=this.dataType,this.derivationPath){const T=this.derivationPath.toDataItem();T.setTag(this.derivationPath.getRegistryType().getTag()),v[s.derivationPath]=T}return this.requestId&&(v[s.requestId]=new t.DataItem(this.requestId,o.UUID.getTag())),this.address&&(v[s.address]=this.address),this.origin&&(v[s.origin]=this.origin),new t.DataItem(v)},this.requestId=g.requestId,this.signData=g.signData,this.derivationPath=g.derivationPath,this.address=g.address,this.origin=g.origin,this.dataType=g.dataType}static parsePath(g,v){const T=g.replace(/[m|M]\//,"").split("/").map(I=>{const _=parseInt(I.replace("'",""));let C=!1;return I.endsWith("'")&&(C=!0),new t.PathComponent({index:_,hardened:C})});return new t.CryptoKeypath(T,Buffer.from(v,"hex"))}static constructTonRequest(g,v,T,I,_,C,w){return new d({requestId:I?Buffer.from(r.parse(I)):void 0,signData:g,dataType:v,derivationPath:w&&C?d.parsePath(w,C):void 0,address:T,origin:_})}}d.fromDataItem=y=>{const g=y.getData(),v=g[s.requestId]?g[s.requestId].getData():void 0,T=g[s.derivationPath]?t.CryptoKeypath.fromDataItem(g[s.derivationPath]):void 0;return new d({requestId:v,signData:g[s.signData],dataType:g[s.dataType],derivationPath:T,address:g[s.address],origin:g[s.origin]})},d.fromCBOR=y=>{const g=i(y);return d.fromDataItem(g)};const{RegistryTypes:a,decodeToDataItem:c}=t.extend;var p;(function(y){y[y.requestId=1]="requestId",y[y.signature=2]="signature",y[y.origin=3]="origin"})(p||(p={}));class h extends t.RegistryItem{constructor(g,v,T){super(),this.getRegistryType=()=>n.TRON_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const I={};return this.requestId&&(I[p.requestId]=new t.DataItem(this.requestId,a.UUID.getTag())),this.origin&&(I[p.origin]=this.origin),I[p.signature]=this.signature,new t.DataItem(I)},this.signature=g,this.requestId=v,this.origin=T}}h.fromDataItem=y=>{const g=y.getData(),v=g[p.signature];let T,I;return g[p.requestId]&&(T=g[p.requestId].getData()),g[p.origin]&&(I=g[p.origin]),new h(v,T,I)},h.fromCBOR=y=>{const g=c(y);return h.fromDataItem(g)},t.patchTags(Object.values(n).filter(y=>!!y.getTag()).map(y=>y.getTag())),Object.keys(t).forEach(function(y){y!=="default"&&Object.defineProperty(e,y,{enumerable:!0,get:function(){return t[y]}})}),e.TonSignRequest=d,e.TonSignature=h})(MD);ND.exports=MD;var _Z=ND.exports;Object.defineProperty(jm,"__esModule",{value:!0});jm.KeystoneTonSDK=void 0;const G3=_Z,E_=ir,wZ=qn;class YD{constructor(t){this.config=t}parseSignature(t){if(t.type!==wZ.URType.TonSignature)throw new Error("type not match");const r=G3.TonSignature.fromCBOR(t.cbor),n=r.getRequestId();return{requestId:Buffer.isBuffer(n)?(0,E_.uuidStringify)(n):"",signature:(0,E_.toHex)(r.getSignature()),origin:r.getOrigin()}}generateSignRequest({requestId:t,signData:r,dataType:n,xfp:i,derivationPath:o,address:s}){var f;return G3.TonSignRequest.constructTonRequest((0,E_.toBuffer)(r),n,s,t,(f=this.config)===null||f===void 0?void 0:f.origin,i,o).toUR()}}YD.DataType=G3.DataType;jm.KeystoneTonSDK=YD;(function(e){var t=Be&&Be.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var f=Object.getOwnPropertyDescriptor(i,o);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,f)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=Be&&Be.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(f1,e),r(p1,e),r(_1,e),r(I1,e),r(q1,e),r(G1,e),r(gm,e),r(_m,e),r(Tm,e),r(Im,e),r(Em,e),r(Cm,e),r(Nm,e),r($m,e),r(jm,e)})(E6);var GD={},gw={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.generateKeyDerivationCall=e.DerivationAlgorithm=e.Curve=void 0;const t=Df();Object.defineProperty(e,"Curve",{enumerable:!0,get:function(){return t.Curve}}),Object.defineProperty(e,"DerivationAlgorithm",{enumerable:!0,get:function(){return t.DerivationAlgorithm}});const r=ir,n=({schemas:i,origin:o})=>{const s=i.map(({path:a,curve:c=t.Curve.secp256k1,algo:p=t.DerivationAlgorithm.slip10})=>{if(c===t.Curve.secp256k1&&p===t.DerivationAlgorithm.bip32ed25519)throw new Error("the combination of the given curve and algo not supported");return new t.KeyDerivationSchema((0,r.pathToKeypath)(a),c,p)}),f=new t.KeyDerivation(s);return new t.QRHardwareCall(t.QRHardwareCallType.KeyDerivation,f,o).toUR()};e.generateKeyDerivationCall=n})(gw);var Vm={},Ip={},JD={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AccountNote=void 0,function(t){t.Standard="account.standard",t.LedgerLegacy="account.ledger_legacy",t.LedgerLive="account.ledger_live"}(e.AccountNote||(e.AccountNote={}))})(JD);var WD={};Object.defineProperty(WD,"__esModule",{value:!0});var XD={};Object.defineProperty(XD,"__esModule",{value:!0});var ZD={};Object.defineProperty(ZD,"__esModule",{value:!0});(function(e){var t=Be&&Be.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var f=Object.getOwnPropertyDescriptor(i,o);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,f)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=Be&&Be.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(JD,e),r(WD,e),r(XD,e),r(ZD,e),r(qn,e)})(Ip);var Kd={};Object.defineProperty(Kd,"__esModule",{value:!0});Kd.generateExtraData=void 0;const TZ={60:1},IZ=e=>{var t;return{okx:{chainId:(t=TZ[e])!==null&&t!==void 0?t:e}}};Kd.generateExtraData=IZ;Object.defineProperty(Vm,"__esModule",{value:!0});Vm.parseMultiAccounts=void 0;const EZ=Ip,xZ=Df(),I0=ir,SZ=Kd,BZ=e=>{if(e.type!==EZ.URType.CryptoMultiAccounts)throw new Error("type not match");const t=xZ.CryptoMultiAccounts.fromCBOR(e.cbor),r=(0,I0.toHex)(t.getMasterFingerprint());return{device:t.getDevice(),masterFingerprint:r,keys:t.getKeys().map(n=>{const i=(0,I0.toHex)(n.getChainCode()),o=(0,I0.toHex)(n.getParentFingerprint()),s=n.getOrigin();if(s===void 0)throw new Error("multi accounts is invalid");let f;i.length!==0&&o.length!==0&&(f=n.getBip32Key());const d=s.getComponents()[1].getIndex();return{chain:(0,I0.getCoinSymbol)(d),path:`m/${s.getPath()}`,publicKey:(0,I0.toHex)(n.getKey()),name:n.getName(),chainCode:i,extendedPublicKey:f,note:n.getNote(),extra:(0,SZ.generateExtraData)(d)}}),deviceId:t.getDeviceId(),deviceVersion:t.getVersion()}};Vm.parseMultiAccounts=BZ;var yd={};Object.defineProperty(yd,"__esModule",{value:!0});yd.parseTonAccount=yd.parseHDKey=void 0;const QD=Ip,eR=Df(),gc=ir,CZ=Kd,DZ=e=>{var t;if(e.type!==QD.URType.CryptoHDKey)throw new Error("type not match");const r=eR.CryptoHDKey.fromCBOR(e.cbor),n=(0,gc.toHex)(r.getChainCode()),i=(0,gc.toHex)(r.getParentFingerprint()),o=r.getOrigin();if(((t=r.getOrigin().getSourceFingerprint())===null||t===void 0?void 0:t.toString("hex"))===void 0)throw new Error("HDKey is invalid");let f;n.length!==0&&i.length!==0&&(f=r.getBip32Key());const d=o.getComponents()[1].getIndex();return{chain:(0,gc.getCoinSymbol)(d),path:`m/${o.getPath()}`,publicKey:(0,gc.toHex)(r.getKey()),name:r.getName(),xfp:o.getSourceFingerprint().toString("hex"),chainCode:n,extendedPublicKey:f,note:r.getNote(),extra:(0,CZ.generateExtraData)(d)}};yd.parseHDKey=DZ;const RZ=e=>{var t;if(e.type!==QD.URType.CryptoHDKey)throw new Error("type not match");const r=eR.CryptoHDKey.fromCBOR(e.cbor),n=r.getOrigin();if(n){if(((t=r.getOrigin().getSourceFingerprint())===null||t===void 0?void 0:t.toString("hex"))===void 0)throw new Error("HDKey is invalid");return{path:`m/${n.getPath()}`,publicKey:(0,gc.toHex)(r.getKey()),name:r.getName(),xfp:n.getSourceFingerprint().toString("hex")}}else return{publicKey:(0,gc.toHex)(r.getKey()),name:r.getName()}};yd.parseTonAccount=RZ;var zm={};Object.defineProperty(zm,"__esModule",{value:!0});zm.parseAccount=void 0;const OZ=Ip,rE=Df(),E0=ir,AZ=Kd,PZ=e=>{if(e.type!==OZ.URType.CryptoAccount)throw new Error("type not match");const t=rE.CryptoAccount.fromCBOR(e.cbor),r=(0,E0.toHex)(t.getMasterFingerprint()),n=[];return t.getOutputDescriptors().forEach(i=>{if(i.getRegistryType()!==rE.RegistryTypes.CRYPTO_HDKEY){const o=i.getCryptoKey(),s=(0,E0.toHex)(o.getChainCode()),f=(0,E0.toHex)(o.getParentFingerprint()),d=o.getOrigin();if(d===void 0)throw new Error("account is invalid");let a;s.length!==0&&f.length!==0&&(a=o.getBip32Key());const c=d.getComponents()[1].getIndex();n.push({chain:(0,E0.getCoinSymbol)(c),path:`m/${d.getPath()}`,publicKey:(0,E0.toHex)(o.getKey()),name:o.getName(),chainCode:s,extendedPublicKey:a,note:o.getNote(),extra:(0,AZ.generateExtraData)(c)})}}),{masterFingerprint:r,keys:n}};zm.parseAccount=PZ;(function(e){var t=Be&&Be.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var f=Object.getOwnPropertyDescriptor(i,o);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,f)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=Be&&Be.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(gw,e),r(Vm,e),r(yd,e),r(zm,e)})(GD);var tR={},Ym={},rR={},nR={},Pf={};const NZ={Done:-1,Unknown:-2,NotPresent:0,UInt16:1,UInt32:2,UInt64:3,Hash128:4,Hash256:5,Amount:6,Blob:7,AccountID:8,STObject:14,STArray:15,UInt8:16,Hash160:17,PathSet:18,Vector256:19,UInt96:20,UInt192:21,UInt384:22,UInt512:23,Issue:24,XChainBridge:25,Transaction:10001,LedgerEntry:10002,Validation:10003,Metadata:10004},MZ={Invalid:-1,AccountRoot:97,DirectoryNode:100,RippleState:114,Ticket:84,SignerList:83,Offer:111,Bridge:105,LedgerHashes:104,Amendments:102,XChainOwnedClaimID:113,XChainOwnedCreateAccountClaimID:116,FeeSettings:115,Escrow:117,PayChannel:120,Check:67,DepositPreauth:112,NegativeUNL:78,NFTokenPage:80,NFTokenOffer:55,AMM:121,DID:73,Any:-3,Child:-2,Nickname:110,Contract:99,GeneratorMap:103},UZ=[["Generic",{nth:0,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Unknown"}],["Invalid",{nth:-1,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Unknown"}],["ObjectEndMarker",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["ArrayEndMarker",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["hash",{nth:257,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Hash256"}],["index",{nth:258,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Hash256"}],["taker_gets_funded",{nth:258,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Amount"}],["taker_pays_funded",{nth:259,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Amount"}],["LedgerEntry",{nth:257,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"LedgerEntry"}],["Transaction",{nth:257,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Transaction"}],["Validation",{nth:257,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Validation"}],["Metadata",{nth:257,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Metadata"}],["CloseResolution",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["Method",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["TransactionResult",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["TickSize",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["UNLModifyDisabling",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["HookResult",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["WasLockingChainSend",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["LedgerEntryType",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["TransactionType",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["SignerWeight",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["TransferFee",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["TradingFee",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["DiscountedFee",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["Version",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookStateChangeCount",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookEmitCount",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookExecutionIndex",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookApiVersion",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["NetworkID",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["Flags",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SourceTag",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["Sequence",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["PreviousTxnLgrSeq",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LedgerSequence",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["CloseTime",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ParentCloseTime",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SigningTime",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["Expiration",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TransferRate",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["WalletSize",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OwnerCount",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["DestinationTag",{nth:14,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HighQualityIn",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HighQualityOut",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LowQualityIn",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LowQualityOut",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["QualityIn",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["QualityOut",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["StampEscrow",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["BondAmount",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LoadFee",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OfferSequence",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["FirstLedgerSequence",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LastLedgerSequence",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TransactionIndex",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OperationLimit",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReferenceFeeUnits",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReserveBase",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReserveIncrement",{nth:32,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SetFlag",{nth:33,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ClearFlag",{nth:34,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SignerQuorum",{nth:35,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["CancelAfter",{nth:36,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["FinishAfter",{nth:37,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SignerListID",{nth:38,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SettleDelay",{nth:39,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TicketCount",{nth:40,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TicketSequence",{nth:41,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["NFTokenTaxon",{nth:42,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["MintedNFTokens",{nth:43,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["BurnedNFTokens",{nth:44,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HookStateCount",{nth:45,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["EmitGeneration",{nth:46,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["VoteWeight",{nth:48,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["FirstNFTokenSequence",{nth:50,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["IndexNext",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["IndexPrevious",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["BookNode",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["OwnerNode",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["BaseFee",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ExchangeRate",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["LowNode",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HighNode",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["DestinationNode",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["Cookie",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ServerVersion",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["NFTokenOfferNode",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["EmitBurden",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookOn",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookInstructionCount",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookReturnCode",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ReferenceCount",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["XChainClaimID",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["XChainAccountCreateCount",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["XChainAccountClaimCount",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["EmailHash",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash128"}],["TakerPaysCurrency",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerPaysIssuer",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerGetsCurrency",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerGetsIssuer",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["LedgerHash",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ParentHash",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["TransactionHash",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["AccountHash",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["PreviousTxnID",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["LedgerIndex",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["WalletLocator",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["RootIndex",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["AccountTxnID",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenID",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitParentTxnID",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitNonce",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitHookHash",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["AMMID",{nth:14,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["BookDirectory",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["InvoiceID",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Nickname",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Amendment",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Digest",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Channel",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ConsensusHash",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["CheckID",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ValidatedHash",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["PreviousPageMin",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NextPageMin",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenBuyOffer",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenSellOffer",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookStateKey",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookHash",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookNamespace",{nth:32,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookSetTxnID",{nth:33,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Amount",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Balance",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LimitAmount",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["TakerPays",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["TakerGets",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LowLimit",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["HighLimit",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Fee",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["SendMax",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["DeliverMin",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Amount2",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["BidMin",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["BidMax",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["MinimumOffer",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["RippleEscrow",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["DeliveredAmount",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["NFTokenBrokerFee",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["BaseFeeDrops",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["ReserveBaseDrops",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["ReserveIncrementDrops",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LPTokenOut",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LPTokenIn",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["EPrice",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Price",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["SignatureReward",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["MinAccountCreateAmount",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LPTokenBalance",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["PublicKey",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MessageKey",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["SigningPubKey",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["TxnSignature",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["URI",{nth:5,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Signature",{nth:6,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["Domain",{nth:7,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["FundCode",{nth:8,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["RemoveCode",{nth:9,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ExpireCode",{nth:10,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["CreateCode",{nth:11,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoType",{nth:12,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoData",{nth:13,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoFormat",{nth:14,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Fulfillment",{nth:16,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Condition",{nth:17,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MasterSignature",{nth:18,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["UNLModifyValidator",{nth:19,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ValidatorToDisable",{nth:20,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ValidatorToReEnable",{nth:21,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookStateData",{nth:22,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookReturnString",{nth:23,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookParameterName",{nth:24,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookParameterValue",{nth:25,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["DIDDocument",{nth:26,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Data",{nth:27,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Account",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Owner",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Destination",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Issuer",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Authorize",{nth:5,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Unauthorize",{nth:6,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["RegularKey",{nth:8,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["NFTokenMinter",{nth:9,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["EmitCallback",{nth:10,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["HookAccount",{nth:16,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["OtherChainSource",{nth:18,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["OtherChainDestination",{nth:19,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["AttestationSignerAccount",{nth:20,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["AttestationRewardAccount",{nth:21,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["LockingChainDoor",{nth:22,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["IssuingChainDoor",{nth:23,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Indexes",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Hashes",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Amendments",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["NFTokenOffers",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Paths",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"PathSet"}],["LockingChainIssue",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Issue"}],["IssuingChainIssue",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Issue"}],["Asset",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Issue"}],["Asset2",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Issue"}],["XChainBridge",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"XChainBridge"}],["TransactionMetaData",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["CreatedNode",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["DeletedNode",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["ModifiedNode",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["PreviousFields",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["FinalFields",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["NewFields",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["TemplateEntry",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Memo",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["SignerEntry",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["NFToken",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["EmitDetails",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Hook",{nth:14,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Signer",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Majority",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["DisabledValidator",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["EmittedTxn",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookExecution",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookDefinition",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookParameter",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookGrant",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["VoteEntry",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["AuctionSlot",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["AuthAccount",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["XChainClaimProofSig",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["XChainCreateAccountProofSig",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["XChainClaimAttestationCollectionElement",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["XChainCreateAccountAttestationCollectionElement",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Signers",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!1,type:"STArray"}],["SignerEntries",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Template",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Necessary",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Sufficient",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["AffectedNodes",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Memos",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["NFTokens",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Hooks",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["VoteSlots",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Majorities",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["DisabledValidators",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookExecutions",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookParameters",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookGrants",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["XChainClaimAttestations",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["XChainCreateAccountAttestations",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["AuthAccounts",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}]],kZ={telLOCAL_ERROR:-399,telBAD_DOMAIN:-398,telBAD_PATH_COUNT:-397,telBAD_PUBLIC_KEY:-396,telFAILED_PROCESSING:-395,telINSUF_FEE_P:-394,telNO_DST_PARTIAL:-393,telCAN_NOT_QUEUE:-392,telCAN_NOT_QUEUE_BALANCE:-391,telCAN_NOT_QUEUE_BLOCKS:-390,telCAN_NOT_QUEUE_BLOCKED:-389,telCAN_NOT_QUEUE_FEE:-388,telCAN_NOT_QUEUE_FULL:-387,telWRONG_NETWORK:-386,telREQUIRES_NETWORK_ID:-385,telNETWORK_ID_MAKES_TX_NON_CANONICAL:-384,temMALFORMED:-299,temBAD_AMOUNT:-298,temBAD_CURRENCY:-297,temBAD_EXPIRATION:-296,temBAD_FEE:-295,temBAD_ISSUER:-294,temBAD_LIMIT:-293,temBAD_OFFER:-292,temBAD_PATH:-291,temBAD_PATH_LOOP:-290,temBAD_REGKEY:-289,temBAD_SEND_XRP_LIMIT:-288,temBAD_SEND_XRP_MAX:-287,temBAD_SEND_XRP_NO_DIRECT:-286,temBAD_SEND_XRP_PARTIAL:-285,temBAD_SEND_XRP_PATHS:-284,temBAD_SEQUENCE:-283,temBAD_SIGNATURE:-282,temBAD_SRC_ACCOUNT:-281,temBAD_TRANSFER_RATE:-280,temDST_IS_SRC:-279,temDST_NEEDED:-278,temINVALID:-277,temINVALID_FLAG:-276,temREDUNDANT:-275,temRIPPLE_EMPTY:-274,temDISABLED:-273,temBAD_SIGNER:-272,temBAD_QUORUM:-271,temBAD_WEIGHT:-270,temBAD_TICK_SIZE:-269,temINVALID_ACCOUNT_ID:-268,temCANNOT_PREAUTH_SELF:-267,temINVALID_COUNT:-266,temUNCERTAIN:-265,temUNKNOWN:-264,temSEQ_AND_TICKET:-263,temBAD_NFTOKEN_TRANSFER_FEE:-262,temBAD_AMM_TOKENS:-261,temXCHAIN_EQUAL_DOOR_ACCOUNTS:-260,temXCHAIN_BAD_PROOF:-259,temXCHAIN_BRIDGE_BAD_ISSUES:-258,temXCHAIN_BRIDGE_NONDOOR_OWNER:-257,temXCHAIN_BRIDGE_BAD_MIN_ACCOUNT_CREATE_AMOUNT:-256,temXCHAIN_BRIDGE_BAD_REWARD_AMOUNT:-255,temEMPTY_DID:-254,tefFAILURE:-199,tefALREADY:-198,tefBAD_ADD_AUTH:-197,tefBAD_AUTH:-196,tefBAD_LEDGER:-195,tefCREATED:-194,tefEXCEPTION:-193,tefINTERNAL:-192,tefNO_AUTH_REQUIRED:-191,tefPAST_SEQ:-190,tefWRONG_PRIOR:-189,tefMASTER_DISABLED:-188,tefMAX_LEDGER:-187,tefBAD_SIGNATURE:-186,tefBAD_QUORUM:-185,tefNOT_MULTI_SIGNING:-184,tefBAD_AUTH_MASTER:-183,tefINVARIANT_FAILED:-182,tefTOO_BIG:-181,tefNO_TICKET:-180,tefNFTOKEN_IS_NOT_TRANSFERABLE:-179,terRETRY:-99,terFUNDS_SPENT:-98,terINSUF_FEE_B:-97,terNO_ACCOUNT:-96,terNO_AUTH:-95,terNO_LINE:-94,terOWNERS:-93,terPRE_SEQ:-92,terLAST:-91,terNO_RIPPLE:-90,terQUEUED:-89,terPRE_TICKET:-88,terNO_AMM:-87,terSUBMITTED:-86,tesSUCCESS:0,tecCLAIM:100,tecPATH_PARTIAL:101,tecUNFUNDED_ADD:102,tecUNFUNDED_OFFER:103,tecUNFUNDED_PAYMENT:104,tecFAILED_PROCESSING:105,tecDIR_FULL:121,tecINSUF_RESERVE_LINE:122,tecINSUF_RESERVE_OFFER:123,tecNO_DST:124,tecNO_DST_INSUF_XRP:125,tecNO_LINE_INSUF_RESERVE:126,tecNO_LINE_REDUNDANT:127,tecPATH_DRY:128,tecUNFUNDED:129,tecNO_ALTERNATIVE_KEY:130,tecNO_REGULAR_KEY:131,tecOWNERS:132,tecNO_ISSUER:133,tecNO_AUTH:134,tecNO_LINE:135,tecINSUFF_FEE:136,tecFROZEN:137,tecNO_TARGET:138,tecNO_PERMISSION:139,tecNO_ENTRY:140,tecINSUFFICIENT_RESERVE:141,tecNEED_MASTER_KEY:142,tecDST_TAG_NEEDED:143,tecINTERNAL:144,tecOVERSIZE:145,tecCRYPTOCONDITION_ERROR:146,tecINVARIANT_FAILED:147,tecEXPIRED:148,tecDUPLICATE:149,tecKILLED:150,tecHAS_OBLIGATIONS:151,tecTOO_SOON:152,tecHOOK_REJECTED:153,tecMAX_SEQUENCE_REACHED:154,tecNO_SUITABLE_NFTOKEN_PAGE:155,tecNFTOKEN_BUY_SELL_MISMATCH:156,tecNFTOKEN_OFFER_TYPE_MISMATCH:157,tecCANT_ACCEPT_OWN_NFTOKEN_OFFER:158,tecINSUFFICIENT_FUNDS:159,tecOBJECT_NOT_FOUND:160,tecINSUFFICIENT_PAYMENT:161,tecUNFUNDED_AMM:162,tecAMM_BALANCE:163,tecAMM_FAILED:164,tecAMM_INVALID_TOKENS:165,tecAMM_EMPTY:166,tecAMM_NOT_EMPTY:167,tecAMM_ACCOUNT:168,tecINCOMPLETE:169,tecXCHAIN_BAD_TRANSFER_ISSUE:170,tecXCHAIN_NO_CLAIM_ID:171,tecXCHAIN_BAD_CLAIM_ID:172,tecXCHAIN_CLAIM_NO_QUORUM:173,tecXCHAIN_PROOF_UNKNOWN_KEY:174,tecXCHAIN_CREATE_ACCOUNT_NONXRP_ISSUE:175,tecXCHAIN_WRONG_CHAIN:176,tecXCHAIN_REWARD_MISMATCH:177,tecXCHAIN_NO_SIGNERS_LIST:178,tecXCHAIN_SENDING_ACCOUNT_MISMATCH:179,tecXCHAIN_INSUFF_CREATE_AMOUNT:180,tecXCHAIN_ACCOUNT_CREATE_PAST:181,tecXCHAIN_ACCOUNT_CREATE_TOO_MANY:182,tecXCHAIN_PAYMENT_FAILED:183,tecXCHAIN_SELF_COMMIT:184,tecXCHAIN_BAD_PUBLIC_KEY_ACCOUNT_PAIR:185,tecXCHAIN_CREATE_ACCOUNT_DISABLED:186,tecEMPTY_DID:187},$Z={Invalid:-1,Payment:0,EscrowCreate:1,EscrowFinish:2,AccountSet:3,EscrowCancel:4,SetRegularKey:5,NickNameSet:6,OfferCreate:7,OfferCancel:8,Contract:9,TicketCreate:10,TicketCancel:11,SignerListSet:12,PaymentChannelCreate:13,PaymentChannelFund:14,PaymentChannelClaim:15,CheckCreate:16,CheckCash:17,CheckCancel:18,DepositPreauth:19,TrustSet:20,AccountDelete:21,SetHook:22,NFTokenMint:25,NFTokenBurn:26,NFTokenCreateOffer:27,NFTokenCancelOffer:28,NFTokenAcceptOffer:29,Clawback:30,AMMCreate:35,AMMDeposit:36,AMMWithdraw:37,AMMVote:38,AMMBid:39,AMMDelete:40,XChainCreateClaimID:41,XChainCommit:42,XChainClaim:43,XChainAccountCreateCommit:44,XChainAddClaimAttestation:45,XChainAddAccountCreateAttestation:46,XChainModifyBridge:47,XChainCreateBridge:48,DIDSet:49,DIDDelete:50,EnableAmendment:100,SetFee:101,UNLModify:102},FZ={TYPES:NZ,LEDGER_ENTRY_TYPES:MZ,FIELDS:UZ,TRANSACTION_RESULTS:kZ,TRANSACTION_TYPES:$Z};var mw={},ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.BytesLookup=ku.Bytes=void 0;const LZ=ze;class J3{constructor(t,r,n){this.name=t,this.ordinal=r,this.ordinalWidth=n,this.bytes=LZ.Buffer.alloc(n);for(let i=0;i<n;i++)this.bytes[n-i-1]=r>>>i*8&255}toJSON(){return this.name}toBytesSink(t){t.put(this.bytes)}toBytes(){return this.bytes}}ku.Bytes=J3;class jZ{constructor(t,r){this.ordinalWidth=r,Object.entries(t).forEach(([n,i])=>{this.add(n,i)})}add(t,r){if(this[t])throw new SyntaxError(`Attempted to add a value with a duplicate name "${t}". This is not allowed because it is unclear how to decode.`);if(this[r.toString()])throw new SyntaxError(`Attempted to add a duplicate value under a different name (Given name: "${t}" and previous name: "${this[r.toString()]}. This is not allowed because it is unclear how to decode.
Given value: ${r.toString()}`);this[t]=new J3(t,r,this.ordinalWidth),this[r.toString()]=this[t]}from(t){return t instanceof J3?t:this[t]}fromParser(t){return this.from(t.readUIntN(this.ordinalWidth).toString())}}ku.BytesLookup=jZ;var Gm={},Nn={},vs={},KZ=Be&&Be.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),HZ=Be&&Be.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qZ=Be&&Be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&KZ(t,e,r);return HZ(t,e),t};Object.defineProperty(vs,"__esModule",{value:!0});vs.BinarySerializer=vs.BytesList=void 0;const nE=qZ(Di()),Fy=ze;class W3{constructor(){this.bytesArray=[]}getLength(){return Fy.Buffer.concat(this.bytesArray).byteLength}put(t){const r=Fy.Buffer.from(t);return this.bytesArray.push(r),this}toBytesSink(t){t.put(this.toBytes())}toBytes(){return Fy.Buffer.concat(this.bytesArray)}toHex(){return this.toBytes().toString("hex").toUpperCase()}}vs.BytesList=W3;class VZ{constructor(t){this.sink=new W3,this.sink=t}write(t){t.toBytesSink(this.sink)}put(t){this.sink.put(t)}writeType(t,r){this.write(t.from(r))}writeBytesList(t){t.toBytesSink(this.sink)}encodeVariableLength(t){const r=Fy.Buffer.alloc(3);if(t<=192)return r[0]=t,r.slice(0,1);if(t<=12480)return t-=193,r[0]=193+(t>>>8),r[1]=t&255,r.slice(0,2);if(t<=918744)return t-=12481,r[0]=241+(t>>>16),r[1]=t>>8&255,r[2]=t&255,r.slice(0,3);throw new Error("Overflow error")}writeFieldAndValue(t,r,n=!1){const i=t.associatedType.from(r);nE.ok(i.toBytesSink!==void 0),nE.ok(t.name!==void 0),this.sink.put(t.header),t.isVariableLengthEncoded?this.writeLengthEncoded(i,n):i.toBytesSink(this.sink)}writeLengthEncoded(t,r=!1){const n=new W3;r||t.toBytesSink(n),this.put(this.encodeVariableLength(n.getLength())),this.writeBytesList(n)}}vs.BinarySerializer=VZ;Object.defineProperty(Nn,"__esModule",{value:!0});Nn.Comparable=Nn.SerializedType=void 0;const zZ=vs,iE=ze;class iR{constructor(t){this.bytes=iE.Buffer.alloc(0),this.bytes=t??iE.Buffer.alloc(0)}static fromParser(t,r){throw new Error("fromParser not implemented")}static from(t){throw new Error("from not implemented")}toBytesSink(t){t.put(this.bytes)}toHex(){return this.toBytes().toString("hex").toUpperCase()}toBytes(){if(this.bytes)return this.bytes;const t=new zZ.BytesList;return this.toBytesSink(t),t.toBytes()}toJSON(t){return this.toHex()}toString(){return this.toHex()}}Nn.SerializedType=iR;class YZ extends iR{lt(t){return this.compareTo(t)<0}eq(t){return this.compareTo(t)===0}gt(t){return this.compareTo(t)>0}gte(t){return this.compareTo(t)>-1}lte(t){return this.compareTo(t)<1}compareTo(t){throw new Error(`cannot compare ${this.toString()} and ${t.toString()}`)}}Nn.Comparable=YZ;var to={};Object.defineProperty(to,"__esModule",{value:!0});to.TRANSACTION_RESULT_WIDTH=to.TRANSACTION_TYPE_WIDTH=to.LEDGER_ENTRY_WIDTH=to.TYPE_WIDTH=void 0;to.TYPE_WIDTH=2;to.LEDGER_ENTRY_WIDTH=2;to.TRANSACTION_TYPE_WIDTH=2;to.TRANSACTION_RESULT_WIDTH=1;Object.defineProperty(Gm,"__esModule",{value:!0});Gm.FieldLookup=void 0;const GZ=ku,JZ=Nn,WZ=to,XZ=ze;function ZZ(e,t){const r=[];return e<16?t<16?r.push(e<<4|t):r.push(e<<4,t):t<16?r.push(t,e):r.push(0,e,t),XZ.Buffer.from(r)}function QZ([e,t],r){const n=ZZ(r,t.nth);return{name:e,nth:t.nth,isVariableLengthEncoded:t.isVLEncoded,isSerialized:t.isSerialized,isSigningField:t.isSigningField,ordinal:r<<16|t.nth,type:new GZ.Bytes(t.type,r,WZ.TYPE_WIDTH),header:n,associatedType:JZ.SerializedType}}class eQ{constructor(t,r){t.forEach(([n,i])=>{const o=r[i.type];this[n]=QZ([n,i],o),this[this[n].ordinal.toString()]=this[n]})}fromString(t){return this[t]}}Gm.FieldLookup=eQ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BytesLookup=e.Bytes=e.FieldLookup=e.XrplDefinitionsBase=void 0;const t=ku;Object.defineProperty(e,"Bytes",{enumerable:!0,get:function(){return t.Bytes}}),Object.defineProperty(e,"BytesLookup",{enumerable:!0,get:function(){return t.BytesLookup}});const r=Gm;Object.defineProperty(e,"FieldLookup",{enumerable:!0,get:function(){return r.FieldLookup}});const n=to;class i{constructor(s,f){this.type=new t.BytesLookup(s.TYPES,n.TYPE_WIDTH),this.ledgerEntryType=new t.BytesLookup(s.LEDGER_ENTRY_TYPES,n.LEDGER_ENTRY_WIDTH),this.transactionType=new t.BytesLookup(s.TRANSACTION_TYPES,n.TRANSACTION_TYPE_WIDTH),this.transactionResult=new t.BytesLookup(s.TRANSACTION_RESULTS,n.TRANSACTION_RESULT_WIDTH),this.field=new r.FieldLookup(s.FIELDS,s.TYPES),this.transactionNames=Object.entries(s.TRANSACTION_TYPES).filter(([d,a])=>a>=0).map(([d,a])=>d),this.dataTypes={},this.associateTypes(f)}associateTypes(s){this.dataTypes=Object.assign({},this.dataTypes,s),Object.values(this.field).forEach(f=>{f.associatedType=this.dataTypes[f.type.name]}),this.field.TransactionType.associatedType=this.transactionType,this.field.TransactionResult.associatedType=this.transactionResult,this.field.LedgerEntryType.associatedType=this.ledgerEntryType}getAssociatedTypes(){return this.dataTypes}}e.XrplDefinitionsBase=i})(mw);(function(e){var t=Be&&Be.__createBinding||(Object.create?function(y,g,v,T){T===void 0&&(T=v);var I=Object.getOwnPropertyDescriptor(g,v);(!I||("get"in I?!g.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(y,T,I)}:function(y,g,v,T){T===void 0&&(T=v),y[T]=g[v]}),r=Be&&Be.__setModuleDefault||(Object.create?function(y,g){Object.defineProperty(y,"default",{enumerable:!0,value:g})}:function(y,g){y.default=g}),n=Be&&Be.__importStar||function(y){if(y&&y.__esModule)return y;var g={};if(y!=null)for(var v in y)v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)&&t(g,y,v);return r(g,y),g};Object.defineProperty(e,"__esModule",{value:!0}),e.TRANSACTION_TYPES=e.TransactionType=e.TransactionResult=e.LedgerEntryType=e.Type=e.Field=e.DEFAULT_DEFINITIONS=e.XrplDefinitionsBase=e.Bytes=void 0;const i=n(FZ),o=mw;Object.defineProperty(e,"XrplDefinitionsBase",{enumerable:!0,get:function(){return o.XrplDefinitionsBase}}),Object.defineProperty(e,"Bytes",{enumerable:!0,get:function(){return o.Bytes}});const s=new o.XrplDefinitionsBase(i,{});e.DEFAULT_DEFINITIONS=s;const f=s.type;e.Type=f;const d=s.ledgerEntryType;e.LedgerEntryType=d;const a=s.transactionType;e.TransactionType=a;const c=s.transactionResult;e.TransactionResult=c;const p=s.field;e.Field=p;const h=s.transactionNames;e.TRANSACTION_TYPES=h})(Pf);var Vu={},Nf={},bw={},_t={},gd={};Object.defineProperty(gd,"__esModule",{value:!0});gd.concatArgs=gd.seqEqual=void 0;function tQ(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}gd.seqEqual=tQ;function rQ(e){return typeof e!="number"}function nQ(...e){const t=[];return e.forEach(r=>{if(rQ(r))for(const n of r)t.push(n);else t.push(r)}),t}gd.concatArgs=nQ;Object.defineProperty(_t,"__esModule",{value:!0});_t.isValidClassicAddress=_t.decodeAccountPublic=_t.encodeAccountPublic=_t.encodeNodePublic=_t.decodeNodePublic=_t.decodeAddress=_t.decodeAccountID=_t.encodeAddress=_t.encodeAccountID=_t.decodeSeed=_t.encodeSeed=_t.codec=void 0;const iQ=Ox,oQ=Wg,_y=gd;class sQ{constructor(t){this._sha256=t.sha256,this._alphabet=t.alphabet,this._codec=iQ(this._alphabet)}encode(t,r){const n=r.versions;return this._encodeVersioned(t,n,r.expectedLength)}decode(t,r){var n;const i=r.versions,o=r.versionTypes,s=this.decodeChecked(t);if(i.length>1&&!r.expectedLength)throw new Error("expectedLength is required because there are >= 2 possible versions");const f=typeof i[0]=="number"?1:i[0].length,d=(n=r.expectedLength)!==null&&n!==void 0?n:s.length-f,a=s.slice(0,-d),c=s.slice(-d);for(let p=0;p<i.length;p++){const h=Array.isArray(i[p])?i[p]:[i[p]];if((0,_y.seqEqual)(a,h))return{version:h,bytes:c,type:o?o[p]:null}}throw new Error("version_invalid: version bytes do not match any of the provided version(s)")}encodeChecked(t){const r=this._sha256(this._sha256(t)).slice(0,4);return this._encodeRaw(Buffer.from((0,_y.concatArgs)(t,r)))}decodeChecked(t){const r=this._decodeRaw(t);if(r.length<5)throw new Error("invalid_input_size: decoded data must have length >= 5");if(!this._verifyCheckSum(r))throw new Error("checksum_invalid");return r.slice(0,-4)}_encodeVersioned(t,r,n){if(n&&t.length!==n)throw new Error("unexpected_payload_length: bytes.length does not match expectedLength. Ensure that the bytes are a Buffer.");return this.encodeChecked(Buffer.from((0,_y.concatArgs)(r,t)))}_encodeRaw(t){return this._codec.encode(t)}_decodeRaw(t){return this._codec.decode(t)}_verifyCheckSum(t){const r=this._sha256(this._sha256(t.slice(0,-4))).slice(0,4),n=t.slice(-4);return(0,_y.seqEqual)(r,n)}}const oR=0,sR=35,aR=33,fR=28,uR=[1,225,75],aQ={sha256(e){return oQ("sha256").update(Buffer.from(e)).digest()},alphabet:"rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"},ca=new sQ(aQ);_t.codec=ca;function fQ(e,t){if(e.length!==16)throw new Error("entropy must have length 16");const r={expectedLength:16,versions:t==="ed25519"?uR:[aR]};return ca.encode(e,r)}_t.encodeSeed=fQ;function uQ(e,t={versionTypes:["ed25519","secp256k1"],versions:[uR,aR],expectedLength:16}){return ca.decode(e,t)}_t.decodeSeed=uQ;function cR(e){const t={versions:[oR],expectedLength:20};return ca.encode(e,t)}_t.encodeAccountID=cR;_t.encodeAddress=cR;function vw(e){const t={versions:[oR],expectedLength:20};return ca.decode(e,t).bytes}_t.decodeAccountID=vw;_t.decodeAddress=vw;function cQ(e){const t={versions:[fR],expectedLength:33};return ca.decode(e,t).bytes}_t.decodeNodePublic=cQ;function dQ(e){const t={versions:[fR],expectedLength:33};return ca.encode(e,t)}_t.encodeNodePublic=dQ;function lQ(e){const t={versions:[sR],expectedLength:33};return ca.encode(e,t)}_t.encodeAccountPublic=lQ;function hQ(e){const t={versions:[sR],expectedLength:33};return ca.decode(e,t).bytes}_t.decodeAccountPublic=hQ;function pQ(e){try{vw(e)}catch{return!1}return!0}_t.isValidClassicAddress=pQ;(function(e){var t=Be&&Be.__createBinding||(Object.create?function(v,T,I,_){_===void 0&&(_=I);var C=Object.getOwnPropertyDescriptor(T,I);(!C||("get"in C?!T.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return T[I]}}),Object.defineProperty(v,_,C)}:function(v,T,I,_){_===void 0&&(_=I),v[_]=T[I]}),r=Be&&Be.__setModuleDefault||(Object.create?function(v,T){Object.defineProperty(v,"default",{enumerable:!0,value:T})}:function(v,T){v.default=T}),n=Be&&Be.__importStar||function(v){if(v&&v.__esModule)return v;var T={};if(v!=null)for(var I in v)I!=="default"&&Object.prototype.hasOwnProperty.call(v,I)&&t(T,v,I);return r(T,v),T};Object.defineProperty(e,"__esModule",{value:!0}),e.isValidXAddress=e.decodeXAddress=e.xAddressToClassicAddress=e.encodeXAddress=e.classicAddressToXAddress=e.isValidClassicAddress=e.decodeAccountPublic=e.encodeAccountPublic=e.decodeNodePublic=e.encodeNodePublic=e.decodeAccountID=e.encodeAccountID=e.decodeSeed=e.encodeSeed=e.codec=void 0;const i=n(Di()),o=_t;Object.defineProperty(e,"codec",{enumerable:!0,get:function(){return o.codec}}),Object.defineProperty(e,"encodeSeed",{enumerable:!0,get:function(){return o.encodeSeed}}),Object.defineProperty(e,"decodeSeed",{enumerable:!0,get:function(){return o.decodeSeed}}),Object.defineProperty(e,"encodeAccountID",{enumerable:!0,get:function(){return o.encodeAccountID}}),Object.defineProperty(e,"decodeAccountID",{enumerable:!0,get:function(){return o.decodeAccountID}}),Object.defineProperty(e,"encodeNodePublic",{enumerable:!0,get:function(){return o.encodeNodePublic}}),Object.defineProperty(e,"decodeNodePublic",{enumerable:!0,get:function(){return o.decodeNodePublic}}),Object.defineProperty(e,"encodeAccountPublic",{enumerable:!0,get:function(){return o.encodeAccountPublic}}),Object.defineProperty(e,"decodeAccountPublic",{enumerable:!0,get:function(){return o.decodeAccountPublic}}),Object.defineProperty(e,"isValidClassicAddress",{enumerable:!0,get:function(){return o.isValidClassicAddress}});const s={main:Buffer.from([5,68]),test:Buffer.from([4,147])},f=4294967295;function d(v,T,I){const _=(0,o.decodeAccountID)(v);return a(_,T,I)}e.classicAddressToXAddress=d;function a(v,T,I){if(v.length!==20)throw new Error("Account ID must be 20 bytes");if(T>f)throw new Error("Invalid tag");const _=T||0,C=T===!1||T==null?0:1,w=Buffer.concat([I?s.test:s.main,v,Buffer.from([C,_&255,_>>8&255,_>>16&255,_>>24&255,0,0,0,0])]);return o.codec.encodeChecked(w)}e.encodeXAddress=a;function c(v){const{accountId:T,tag:I,test:_}=p(v);return{classicAddress:(0,o.encodeAccountID)(T),tag:I,test:_}}e.xAddressToClassicAddress=c;function p(v){const T=o.codec.decodeChecked(v),I=h(T),_=T.slice(2,22),C=y(T);return{accountId:_,tag:C,test:I}}e.decodeXAddress=p;function h(v){const T=v.slice(0,2);if(s.main.equals(T))return!1;if(s.test.equals(T))return!0;throw new Error("Invalid X-address: bad prefix")}function y(v){const T=v[22];if(T>=2)throw new Error("Unsupported X-address");return T===1?v[23]+v[24]*256+v[25]*65536+v[26]*16777216:(i.strictEqual(T,0,"flag must be zero to indicate no tag"),i.ok(Buffer.from("0000000000000000","hex").equals(v.slice(23,31)),"remaining bytes must be zero"),!1)}function g(v){try{p(v)}catch{return!1}return!0}e.isValidXAddress=g})(bw);var Hd={},qd={};Object.defineProperty(qd,"__esModule",{value:!0});qd.Hash=void 0;const yQ=Nn,gQ=ze;class mQ extends yQ.Comparable{constructor(t){if(super(t),this.bytes.byteLength!==this.constructor.width)throw new Error(`Invalid Hash length ${this.bytes.byteLength}`)}static from(t){if(t instanceof this)return t;if(typeof t=="string")return new this(gQ.Buffer.from(t,"hex"));throw new Error("Cannot construct Hash from given value")}static fromParser(t,r){return new this(t.read(r??this.width))}compareTo(t){return this.bytes.compare(this.constructor.from(t).bytes)}toString(){return this.toHex()}nibblet(t){const r=t>0?t/2|0:0;let n=this.bytes[r];return t%2===0?n=(n&240)>>>4:n=n&15,n}}qd.Hash=mQ;Object.defineProperty(Hd,"__esModule",{value:!0});Hd.Hash160=void 0;const bQ=qd,vQ=ze;class pf extends bQ.Hash{constructor(t){t&&t.byteLength===0&&(t=pf.ZERO_160.bytes),super(t??pf.ZERO_160.bytes)}}Hd.Hash160=pf;pf.width=20;pf.ZERO_160=new pf(vQ.Buffer.alloc(pf.width));Object.defineProperty(Nf,"__esModule",{value:!0});Nf.AccountID=void 0;const wy=bw,_Q=Hd,X3=ze,wQ=/^[A-F0-9]{40}$/;class Ns extends _Q.Hash160{constructor(t){super(t??Ns.defaultAccountID.bytes)}static from(t){if(t instanceof Ns)return t;if(typeof t=="string")return t===""?new Ns:wQ.test(t)?new Ns(X3.Buffer.from(t,"hex")):this.fromBase58(t);throw new Error("Cannot construct AccountID from value given")}static fromBase58(t){if((0,wy.isValidXAddress)(t)){const r=(0,wy.xAddressToClassicAddress)(t);if(r.tag!==!1)throw new Error("Only allowed to have tag on Account or Destination");t=r.classicAddress}return new Ns(X3.Buffer.from((0,wy.decodeAccountID)(t)))}toJSON(){return this.toBase58()}toBase58(){return(0,wy.encodeAccountID)(this.bytes)}}Nf.AccountID=Ns;Ns.defaultAccountID=new Ns(X3.Buffer.alloc(20));var Jm={},dR={exports:{}};(function(e){(function(t){/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var r=9e15,n=1e9,i="0123456789abcdef",o="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",s="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",f={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-r,maxE:r,crypto:!1},d,a,c,p,h=!0,y="[DecimalError] ",g=y+"Invalid argument: ",v=y+"Precision limit exceeded",T=y+"crypto unavailable",I="[object Decimal]",_=Math.floor,C=Math.pow,w=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,P=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,D=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,u=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,l=1e7,m=7,R=9007199254740991,B=o.length-1,b=s.length-1,E={toStringTag:I};E.absoluteValue=E.abs=function(){var N=new this.constructor(this);return N.s<0&&(N.s=1),S(N)},E.ceil=function(){return S(new this.constructor(this),this.e+1,2)},E.clampedTo=E.clamp=function(N,q){var z,J=this,re=J.constructor;if(N=new re(N),q=new re(q),!N.s||!q.s)return new re(NaN);if(N.gt(q))throw Error(g+q);return z=J.cmp(N),z<0?N:J.cmp(q)>0?q:new re(J)},E.comparedTo=E.cmp=function(N){var q,z,J,re,ne=this,ye=ne.d,me=(N=new ne.constructor(N)).d,we=ne.s,ve=N.s;if(!ye||!me)return!we||!ve?NaN:we!==ve?we:ye===me?0:!ye^we<0?1:-1;if(!ye[0]||!me[0])return ye[0]?we:me[0]?-ve:0;if(we!==ve)return we;if(ne.e!==N.e)return ne.e>N.e^we<0?1:-1;for(J=ye.length,re=me.length,q=0,z=J<re?J:re;q<z;++q)if(ye[q]!==me[q])return ye[q]>me[q]^we<0?1:-1;return J===re?0:J>re^we<0?1:-1},E.cosine=E.cos=function(){var N,q,z=this,J=z.constructor;return z.d?z.d[0]?(N=J.precision,q=J.rounding,J.precision=N+Math.max(z.e,z.sd())+m,J.rounding=1,z=oe(J,F(J,z)),J.precision=N,J.rounding=q,S(p==2||p==3?z.neg():z,N,q,!0)):new J(1):new J(NaN)},E.cubeRoot=E.cbrt=function(){var N,q,z,J,re,ne,ye,me,we,ve,Se=this,De=Se.constructor;if(!Se.isFinite()||Se.isZero())return new De(Se);for(h=!1,ne=Se.s*C(Se.s*Se,1/3),!ne||Math.abs(ne)==1/0?(z=k(Se.d),N=Se.e,(ne=(N-z.length+1)%3)&&(z+=ne==1||ne==-2?"0":"00"),ne=C(z,1/3),N=_((N+1)/3)-(N%3==(N<0?-1:2)),ne==1/0?z="5e"+N:(z=ne.toExponential(),z=z.slice(0,z.indexOf("e")+1)+N),J=new De(z),J.s=Se.s):J=new De(ne.toString()),ye=(N=De.precision)+3;;)if(me=J,we=me.times(me).times(me),ve=we.plus(Se),J=M(ve.plus(Se).times(me),ve.plus(we),ye+2,1),k(me.d).slice(0,ye)===(z=k(J.d)).slice(0,ye))if(z=z.slice(ye-3,ye+1),z=="9999"||!re&&z=="4999"){if(!re&&(S(me,N+1,0),me.times(me).times(me).eq(Se))){J=me;break}ye+=4,re=1}else{(!+z||!+z.slice(1)&&z.charAt(0)=="5")&&(S(J,N+1,1),q=!J.times(J).times(J).eq(Se));break}return h=!0,S(J,N,De.rounding,q)},E.decimalPlaces=E.dp=function(){var N,q=this.d,z=NaN;if(q){if(N=q.length-1,z=(N-_(this.e/m))*m,N=q[N],N)for(;N%10==0;N/=10)z--;z<0&&(z=0)}return z},E.dividedBy=E.div=function(N){return M(this,new this.constructor(N))},E.dividedToIntegerBy=E.divToInt=function(N){var q=this,z=q.constructor;return S(M(q,new z(N),0,1,1),z.precision,z.rounding)},E.equals=E.eq=function(N){return this.cmp(N)===0},E.floor=function(){return S(new this.constructor(this),this.e+1,3)},E.greaterThan=E.gt=function(N){return this.cmp(N)>0},E.greaterThanOrEqualTo=E.gte=function(N){var q=this.cmp(N);return q==1||q===0},E.hyperbolicCosine=E.cosh=function(){var N,q,z,J,re,ne=this,ye=ne.constructor,me=new ye(1);if(!ne.isFinite())return new ye(ne.s?1/0:NaN);if(ne.isZero())return me;z=ye.precision,J=ye.rounding,ye.precision=z+Math.max(ne.e,ne.sd())+4,ye.rounding=1,re=ne.d.length,re<32?(N=Math.ceil(re/3),q=(1/U(4,N)).toString()):(N=16,q="2.3283064365386962890625e-10"),ne=Q(ye,1,ne.times(q),new ye(1),!0);for(var we,ve=N,Se=new ye(8);ve--;)we=ne.times(ne),ne=me.minus(we.times(Se.minus(we.times(Se))));return S(ne,ye.precision=z,ye.rounding=J,!0)},E.hyperbolicSine=E.sinh=function(){var N,q,z,J,re=this,ne=re.constructor;if(!re.isFinite()||re.isZero())return new ne(re);if(q=ne.precision,z=ne.rounding,ne.precision=q+Math.max(re.e,re.sd())+4,ne.rounding=1,J=re.d.length,J<3)re=Q(ne,2,re,re,!0);else{N=1.4*Math.sqrt(J),N=N>16?16:N|0,re=re.times(1/U(5,N)),re=Q(ne,2,re,re,!0);for(var ye,me=new ne(5),we=new ne(16),ve=new ne(20);N--;)ye=re.times(re),re=re.times(me.plus(ye.times(we.times(ye).plus(ve))))}return ne.precision=q,ne.rounding=z,S(re,q,z,!0)},E.hyperbolicTangent=E.tanh=function(){var N,q,z=this,J=z.constructor;return z.isFinite()?z.isZero()?new J(z):(N=J.precision,q=J.rounding,J.precision=N+7,J.rounding=1,M(z.sinh(),z.cosh(),J.precision=N,J.rounding=q)):new J(z.s)},E.inverseCosine=E.acos=function(){var N,q=this,z=q.constructor,J=q.abs().cmp(1),re=z.precision,ne=z.rounding;return J!==-1?J===0?q.isNeg()?fe(z,re,ne):new z(0):new z(NaN):q.isZero()?fe(z,re+4,ne).times(.5):(z.precision=re+6,z.rounding=1,q=q.asin(),N=fe(z,re+4,ne).times(.5),z.precision=re,z.rounding=ne,N.minus(q))},E.inverseHyperbolicCosine=E.acosh=function(){var N,q,z=this,J=z.constructor;return z.lte(1)?new J(z.eq(1)?0:NaN):z.isFinite()?(N=J.precision,q=J.rounding,J.precision=N+Math.max(Math.abs(z.e),z.sd())+4,J.rounding=1,h=!1,z=z.times(z).minus(1).sqrt().plus(z),h=!0,J.precision=N,J.rounding=q,z.ln()):new J(z)},E.inverseHyperbolicSine=E.asinh=function(){var N,q,z=this,J=z.constructor;return!z.isFinite()||z.isZero()?new J(z):(N=J.precision,q=J.rounding,J.precision=N+2*Math.max(Math.abs(z.e),z.sd())+6,J.rounding=1,h=!1,z=z.times(z).plus(1).sqrt().plus(z),h=!0,J.precision=N,J.rounding=q,z.ln())},E.inverseHyperbolicTangent=E.atanh=function(){var N,q,z,J,re=this,ne=re.constructor;return re.isFinite()?re.e>=0?new ne(re.abs().eq(1)?re.s/0:re.isZero()?re:NaN):(N=ne.precision,q=ne.rounding,J=re.sd(),Math.max(J,N)<2*-re.e-1?S(new ne(re),N,q,!0):(ne.precision=z=J-re.e,re=M(re.plus(1),new ne(1).minus(re),z+N,1),ne.precision=N+4,ne.rounding=1,re=re.ln(),ne.precision=N,ne.rounding=q,re.times(.5))):new ne(NaN)},E.inverseSine=E.asin=function(){var N,q,z,J,re=this,ne=re.constructor;return re.isZero()?new ne(re):(q=re.abs().cmp(1),z=ne.precision,J=ne.rounding,q!==-1?q===0?(N=fe(ne,z+4,J).times(.5),N.s=re.s,N):new ne(NaN):(ne.precision=z+6,ne.rounding=1,re=re.div(new ne(1).minus(re.times(re)).sqrt().plus(1)).atan(),ne.precision=z,ne.rounding=J,re.times(2)))},E.inverseTangent=E.atan=function(){var N,q,z,J,re,ne,ye,me,we,ve=this,Se=ve.constructor,De=Se.precision,Re=Se.rounding;if(ve.isFinite()){if(ve.isZero())return new Se(ve);if(ve.abs().eq(1)&&De+4<=b)return ye=fe(Se,De+4,Re).times(.25),ye.s=ve.s,ye}else{if(!ve.s)return new Se(NaN);if(De+4<=b)return ye=fe(Se,De+4,Re).times(.5),ye.s=ve.s,ye}for(Se.precision=me=De+10,Se.rounding=1,z=Math.min(28,me/m+2|0),N=z;N;--N)ve=ve.div(ve.times(ve).plus(1).sqrt().plus(1));for(h=!1,q=Math.ceil(me/m),J=1,we=ve.times(ve),ye=new Se(ve),re=ve;N!==-1;)if(re=re.times(we),ne=ye.minus(re.div(J+=2)),re=re.times(we),ye=ne.plus(re.div(J+=2)),ye.d[q]!==void 0)for(N=q;ye.d[N]===ne.d[N]&&N--;);return z&&(ye=ye.times(2<<z-1)),h=!0,S(ye,Se.precision=De,Se.rounding=Re,!0)},E.isFinite=function(){return!!this.d},E.isInteger=E.isInt=function(){return!!this.d&&_(this.e/m)>this.d.length-2},E.isNaN=function(){return!this.s},E.isNegative=E.isNeg=function(){return this.s<0},E.isPositive=E.isPos=function(){return this.s>0},E.isZero=function(){return!!this.d&&this.d[0]===0},E.lessThan=E.lt=function(N){return this.cmp(N)<0},E.lessThanOrEqualTo=E.lte=function(N){return this.cmp(N)<1},E.logarithm=E.log=function(N){var q,z,J,re,ne,ye,me,we,ve=this,Se=ve.constructor,De=Se.precision,Re=Se.rounding,ke=5;if(N==null)N=new Se(10),q=!0;else{if(N=new Se(N),z=N.d,N.s<0||!z||!z[0]||N.eq(1))return new Se(NaN);q=N.eq(10)}if(z=ve.d,ve.s<0||!z||!z[0]||ve.eq(1))return new Se(z&&!z[0]?-1/0:ve.s!=1?NaN:z?0:1/0);if(q)if(z.length>1)ne=!0;else{for(re=z[0];re%10===0;)re/=10;ne=re!==1}if(h=!1,me=De+ke,ye=V(ve,me),J=q?ie(Se,me+10):V(N,me),we=M(ye,J,me,1),$(we.d,re=De,Re))do if(me+=10,ye=V(ve,me),J=q?ie(Se,me+10):V(N,me),we=M(ye,J,me,1),!ne){+k(we.d).slice(re+1,re+15)+1==1e14&&(we=S(we,De+1,0));break}while($(we.d,re+=10,Re));return h=!0,S(we,De,Re)},E.minus=E.sub=function(N){var q,z,J,re,ne,ye,me,we,ve,Se,De,Re,ke=this,Ge=ke.constructor;if(N=new Ge(N),!ke.d||!N.d)return!ke.s||!N.s?N=new Ge(NaN):ke.d?N.s=-N.s:N=new Ge(N.d||ke.s!==N.s?ke:NaN),N;if(ke.s!=N.s)return N.s=-N.s,ke.plus(N);if(ve=ke.d,Re=N.d,me=Ge.precision,we=Ge.rounding,!ve[0]||!Re[0]){if(Re[0])N.s=-N.s;else if(ve[0])N=new Ge(ke);else return new Ge(we===3?-0:0);return h?S(N,me,we):N}if(z=_(N.e/m),Se=_(ke.e/m),ve=ve.slice(),ne=Se-z,ne){for(De=ne<0,De?(q=ve,ne=-ne,ye=Re.length):(q=Re,z=Se,ye=ve.length),J=Math.max(Math.ceil(me/m),ye)+2,ne>J&&(ne=J,q.length=1),q.reverse(),J=ne;J--;)q.push(0);q.reverse()}else{for(J=ve.length,ye=Re.length,De=J<ye,De&&(ye=J),J=0;J<ye;J++)if(ve[J]!=Re[J]){De=ve[J]<Re[J];break}ne=0}for(De&&(q=ve,ve=Re,Re=q,N.s=-N.s),ye=ve.length,J=Re.length-ye;J>0;--J)ve[ye++]=0;for(J=Re.length;J>ne;){if(ve[--J]<Re[J]){for(re=J;re&&ve[--re]===0;)ve[re]=l-1;--ve[re],ve[J]+=l}ve[J]-=Re[J]}for(;ve[--ye]===0;)ve.pop();for(;ve[0]===0;ve.shift())--z;return ve[0]?(N.d=ve,N.e=he(ve,z),h?S(N,me,we):N):new Ge(we===3?-0:0)},E.modulo=E.mod=function(N){var q,z=this,J=z.constructor;return N=new J(N),!z.d||!N.s||N.d&&!N.d[0]?new J(NaN):!N.d||z.d&&!z.d[0]?S(new J(z),J.precision,J.rounding):(h=!1,J.modulo==9?(q=M(z,N.abs(),0,3,1),q.s*=N.s):q=M(z,N,0,J.modulo,1),q=q.times(N),h=!0,z.minus(q))},E.naturalExponential=E.exp=function(){return X(this)},E.naturalLogarithm=E.ln=function(){return V(this)},E.negated=E.neg=function(){var N=new this.constructor(this);return N.s=-N.s,S(N)},E.plus=E.add=function(N){var q,z,J,re,ne,ye,me,we,ve,Se,De=this,Re=De.constructor;if(N=new Re(N),!De.d||!N.d)return!De.s||!N.s?N=new Re(NaN):De.d||(N=new Re(N.d||De.s===N.s?De:NaN)),N;if(De.s!=N.s)return N.s=-N.s,De.minus(N);if(ve=De.d,Se=N.d,me=Re.precision,we=Re.rounding,!ve[0]||!Se[0])return Se[0]||(N=new Re(De)),h?S(N,me,we):N;if(ne=_(De.e/m),J=_(N.e/m),ve=ve.slice(),re=ne-J,re){for(re<0?(z=ve,re=-re,ye=Se.length):(z=Se,J=ne,ye=ve.length),ne=Math.ceil(me/m),ye=ne>ye?ne+1:ye+1,re>ye&&(re=ye,z.length=1),z.reverse();re--;)z.push(0);z.reverse()}for(ye=ve.length,re=Se.length,ye-re<0&&(re=ye,z=Se,Se=ve,ve=z),q=0;re;)q=(ve[--re]=ve[re]+Se[re]+q)/l|0,ve[re]%=l;for(q&&(ve.unshift(q),++J),ye=ve.length;ve[--ye]==0;)ve.pop();return N.d=ve,N.e=he(ve,J),h?S(N,me,we):N},E.precision=E.sd=function(N){var q,z=this;if(N!==void 0&&N!==!!N&&N!==1&&N!==0)throw Error(g+N);return z.d?(q=pe(z.d),N&&z.e+1>q&&(q=z.e+1)):q=NaN,q},E.round=function(){var N=this,q=N.constructor;return S(new q(N),N.e+1,q.rounding)},E.sine=E.sin=function(){var N,q,z=this,J=z.constructor;return z.isFinite()?z.isZero()?new J(z):(N=J.precision,q=J.rounding,J.precision=N+Math.max(z.e,z.sd())+m,J.rounding=1,z=Ce(J,F(J,z)),J.precision=N,J.rounding=q,S(p>2?z.neg():z,N,q,!0)):new J(NaN)},E.squareRoot=E.sqrt=function(){var N,q,z,J,re,ne,ye=this,me=ye.d,we=ye.e,ve=ye.s,Se=ye.constructor;if(ve!==1||!me||!me[0])return new Se(!ve||ve<0&&(!me||me[0])?NaN:me?ye:1/0);for(h=!1,ve=Math.sqrt(+ye),ve==0||ve==1/0?(q=k(me),(q.length+we)%2==0&&(q+="0"),ve=Math.sqrt(q),we=_((we+1)/2)-(we<0||we%2),ve==1/0?q="5e"+we:(q=ve.toExponential(),q=q.slice(0,q.indexOf("e")+1)+we),J=new Se(q)):J=new Se(ve.toString()),z=(we=Se.precision)+3;;)if(ne=J,J=ne.plus(M(ye,ne,z+2,1)).times(.5),k(ne.d).slice(0,z)===(q=k(J.d)).slice(0,z))if(q=q.slice(z-3,z+1),q=="9999"||!re&&q=="4999"){if(!re&&(S(ne,we+1,0),ne.times(ne).eq(ye))){J=ne;break}z+=4,re=1}else{(!+q||!+q.slice(1)&&q.charAt(0)=="5")&&(S(J,we+1,1),N=!J.times(J).eq(ye));break}return h=!0,S(J,we,Se.rounding,N)},E.tangent=E.tan=function(){var N,q,z=this,J=z.constructor;return z.isFinite()?z.isZero()?new J(z):(N=J.precision,q=J.rounding,J.precision=N+10,J.rounding=1,z=z.sin(),z.s=1,z=M(z,new J(1).minus(z.times(z)).sqrt(),N+10,0),J.precision=N,J.rounding=q,S(p==2||p==4?z.neg():z,N,q,!0)):new J(NaN)},E.times=E.mul=function(N){var q,z,J,re,ne,ye,me,we,ve,Se=this,De=Se.constructor,Re=Se.d,ke=(N=new De(N)).d;if(N.s*=Se.s,!Re||!Re[0]||!ke||!ke[0])return new De(!N.s||Re&&!Re[0]&&!ke||ke&&!ke[0]&&!Re?NaN:!Re||!ke?N.s/0:N.s*0);for(z=_(Se.e/m)+_(N.e/m),we=Re.length,ve=ke.length,we<ve&&(ne=Re,Re=ke,ke=ne,ye=we,we=ve,ve=ye),ne=[],ye=we+ve,J=ye;J--;)ne.push(0);for(J=ve;--J>=0;){for(q=0,re=we+J;re>J;)me=ne[re]+ke[J]*Re[re-J-1]+q,ne[re--]=me%l|0,q=me/l|0;ne[re]=(ne[re]+q)%l|0}for(;!ne[--ye];)ne.pop();return q?++z:ne.shift(),N.d=ne,N.e=he(ne,z),h?S(N,De.precision,De.rounding):N},E.toBinary=function(N,q){return W(this,2,N,q)},E.toDecimalPlaces=E.toDP=function(N,q){var z=this,J=z.constructor;return z=new J(z),N===void 0?z:(L(N,0,n),q===void 0?q=J.rounding:L(q,0,8),S(z,N+z.e+1,q))},E.toExponential=function(N,q){var z,J=this,re=J.constructor;return N===void 0?z=K(J,!0):(L(N,0,n),q===void 0?q=re.rounding:L(q,0,8),J=S(new re(J),N+1,q),z=K(J,!0,N+1)),J.isNeg()&&!J.isZero()?"-"+z:z},E.toFixed=function(N,q){var z,J,re=this,ne=re.constructor;return N===void 0?z=K(re):(L(N,0,n),q===void 0?q=ne.rounding:L(q,0,8),J=S(new ne(re),N+re.e+1,q),z=K(J,!1,N+J.e+1)),re.isNeg()&&!re.isZero()?"-"+z:z},E.toFraction=function(N){var q,z,J,re,ne,ye,me,we,ve,Se,De,Re,ke=this,Ge=ke.d,Le=ke.constructor;if(!Ge)return new Le(ke);if(ve=z=new Le(1),J=we=new Le(0),q=new Le(J),ne=q.e=pe(Ge)-ke.e-1,ye=ne%m,q.d[0]=C(10,ye<0?m+ye:ye),N==null)N=ne>0?q:ve;else{if(me=new Le(N),!me.isInt()||me.lt(ve))throw Error(g+me);N=me.gt(q)?ne>0?q:ve:me}for(h=!1,me=new Le(k(Ge)),Se=Le.precision,Le.precision=ne=Ge.length*m*2;De=M(me,q,0,1,1),re=z.plus(De.times(J)),re.cmp(N)!=1;)z=J,J=re,re=ve,ve=we.plus(De.times(re)),we=re,re=q,q=me.minus(De.times(re)),me=re;return re=M(N.minus(z),J,0,1,1),we=we.plus(re.times(ve)),z=z.plus(re.times(J)),we.s=ve.s=ke.s,Re=M(ve,J,ne,1).minus(ke).abs().cmp(M(we,z,ne,1).minus(ke).abs())<1?[ve,J]:[we,z],Le.precision=Se,h=!0,Re},E.toHexadecimal=E.toHex=function(N,q){return W(this,16,N,q)},E.toNearest=function(N,q){var z=this,J=z.constructor;if(z=new J(z),N==null){if(!z.d)return z;N=new J(1),q=J.rounding}else{if(N=new J(N),q===void 0?q=J.rounding:L(q,0,8),!z.d)return N.s?z:N;if(!N.d)return N.s&&(N.s=z.s),N}return N.d[0]?(h=!1,z=M(z,N,0,q,1).times(N),h=!0,S(z)):(N.s=z.s,z=N),z},E.toNumber=function(){return+this},E.toOctal=function(N,q){return W(this,8,N,q)},E.toPower=E.pow=function(N){var q,z,J,re,ne,ye,me=this,we=me.constructor,ve=+(N=new we(N));if(!me.d||!N.d||!me.d[0]||!N.d[0])return new we(C(+me,ve));if(me=new we(me),me.eq(1))return me;if(J=we.precision,ne=we.rounding,N.eq(1))return S(me,J,ne);if(q=_(N.e/m),q>=N.d.length-1&&(z=ve<0?-ve:ve)<=R)return re=ee(we,me,z,J),N.s<0?new we(1).div(re):S(re,J,ne);if(ye=me.s,ye<0){if(q<N.d.length-1)return new we(NaN);if(N.d[q]&1||(ye=1),me.e==0&&me.d[0]==1&&me.d.length==1)return me.s=ye,me}return z=C(+me,ve),q=z==0||!isFinite(z)?_(ve*(Math.log("0."+k(me.d))/Math.LN10+me.e+1)):new we(z+"").e,q>we.maxE+1||q<we.minE-1?new we(q>0?ye/0:0):(h=!1,we.rounding=me.s=1,z=Math.min(12,(q+"").length),re=X(N.times(V(me,J+z)),J),re.d&&(re=S(re,J+5,1),$(re.d,J,ne)&&(q=J+10,re=S(X(N.times(V(me,q+z)),q),q+5,1),+k(re.d).slice(J+1,J+15)+1==1e14&&(re=S(re,J+1,0)))),re.s=ye,h=!0,we.rounding=ne,S(re,J,ne))},E.toPrecision=function(N,q){var z,J=this,re=J.constructor;return N===void 0?z=K(J,J.e<=re.toExpNeg||J.e>=re.toExpPos):(L(N,1,n),q===void 0?q=re.rounding:L(q,0,8),J=S(new re(J),N,q),z=K(J,N<=J.e||J.e<=re.toExpNeg,N)),J.isNeg()&&!J.isZero()?"-"+z:z},E.toSignificantDigits=E.toSD=function(N,q){var z=this,J=z.constructor;return N===void 0?(N=J.precision,q=J.rounding):(L(N,1,n),q===void 0?q=J.rounding:L(q,0,8)),S(new J(z),N,q)},E.toString=function(){var N=this,q=N.constructor,z=K(N,N.e<=q.toExpNeg||N.e>=q.toExpPos);return N.isNeg()&&!N.isZero()?"-"+z:z},E.truncated=E.trunc=function(){return S(new this.constructor(this),this.e+1,1)},E.valueOf=E.toJSON=function(){var N=this,q=N.constructor,z=K(N,N.e<=q.toExpNeg||N.e>=q.toExpPos);return N.isNeg()?"-"+z:z};function k(N){var q,z,J,re=N.length-1,ne="",ye=N[0];if(re>0){for(ne+=ye,q=1;q<re;q++)J=N[q]+"",z=m-J.length,z&&(ne+=se(z)),ne+=J;ye=N[q],J=ye+"",z=m-J.length,z&&(ne+=se(z))}else if(ye===0)return"0";for(;ye%10===0;)ye/=10;return ne+ye}function L(N,q,z){if(N!==~~N||N<q||N>z)throw Error(g+N)}function $(N,q,z,J){var re,ne,ye,me;for(ne=N[0];ne>=10;ne/=10)--q;return--q<0?(q+=m,re=0):(re=Math.ceil((q+1)/m),q%=m),ne=C(10,m-q),me=N[re]%ne|0,J==null?q<3?(q==0?me=me/100|0:q==1&&(me=me/10|0),ye=z<4&&me==99999||z>3&&me==49999||me==5e4||me==0):ye=(z<4&&me+1==ne||z>3&&me+1==ne/2)&&(N[re+1]/ne/100|0)==C(10,q-2)-1||(me==ne/2||me==0)&&(N[re+1]/ne/100|0)==0:q<4?(q==0?me=me/1e3|0:q==1?me=me/100|0:q==2&&(me=me/10|0),ye=(J||z<4)&&me==9999||!J&&z>3&&me==4999):ye=((J||z<4)&&me+1==ne||!J&&z>3&&me+1==ne/2)&&(N[re+1]/ne/1e3|0)==C(10,q-3)-1,ye}function G(N,q,z){for(var J,re=[0],ne,ye=0,me=N.length;ye<me;){for(ne=re.length;ne--;)re[ne]*=q;for(re[0]+=i.indexOf(N.charAt(ye++)),J=0;J<re.length;J++)re[J]>z-1&&(re[J+1]===void 0&&(re[J+1]=0),re[J+1]+=re[J]/z|0,re[J]%=z)}return re.reverse()}function oe(N,q){var z,J,re;if(q.isZero())return q;J=q.d.length,J<32?(z=Math.ceil(J/3),re=(1/U(4,z)).toString()):(z=16,re="2.3283064365386962890625e-10"),N.precision+=z,q=Q(N,1,q.times(re),new N(1));for(var ne=z;ne--;){var ye=q.times(q);q=ye.times(ye).minus(ye).times(8).plus(1)}return N.precision-=z,q}var M=function(){function N(J,re,ne){var ye,me=0,we=J.length;for(J=J.slice();we--;)ye=J[we]*re+me,J[we]=ye%ne|0,me=ye/ne|0;return me&&J.unshift(me),J}function q(J,re,ne,ye){var me,we;if(ne!=ye)we=ne>ye?1:-1;else for(me=we=0;me<ne;me++)if(J[me]!=re[me]){we=J[me]>re[me]?1:-1;break}return we}function z(J,re,ne,ye){for(var me=0;ne--;)J[ne]-=me,me=J[ne]<re[ne]?1:0,J[ne]=me*ye+J[ne]-re[ne];for(;!J[0]&&J.length>1;)J.shift()}return function(J,re,ne,ye,me,we){var ve,Se,De,Re,ke,Ge,Le,Xt,st,Mn,at,jr,Np,Is,ab,Mp,zd,fb,Ni,Up,kp=J.constructor,ub=J.s==re.s?1:-1,Kr=J.d,bt=re.d;if(!Kr||!Kr[0]||!bt||!bt[0])return new kp(!J.s||!re.s||(Kr?bt&&Kr[0]==bt[0]:!bt)?NaN:Kr&&Kr[0]==0||!bt?ub*0:ub/0);for(we?(ke=1,Se=J.e-re.e):(we=l,ke=m,Se=_(J.e/ke)-_(re.e/ke)),Ni=bt.length,zd=Kr.length,st=new kp(ub),Mn=st.d=[],De=0;bt[De]==(Kr[De]||0);De++);if(bt[De]>(Kr[De]||0)&&Se--,ne==null?(Is=ne=kp.precision,ye=kp.rounding):me?Is=ne+(J.e-re.e)+1:Is=ne,Is<0)Mn.push(1),Ge=!0;else{if(Is=Is/ke+2|0,De=0,Ni==1){for(Re=0,bt=bt[0],Is++;(De<zd||Re)&&Is--;De++)ab=Re*we+(Kr[De]||0),Mn[De]=ab/bt|0,Re=ab%bt|0;Ge=Re||De<zd}else{for(Re=we/(bt[0]+1)|0,Re>1&&(bt=N(bt,Re,we),Kr=N(Kr,Re,we),Ni=bt.length,zd=Kr.length),Mp=Ni,at=Kr.slice(0,Ni),jr=at.length;jr<Ni;)at[jr++]=0;Up=bt.slice(),Up.unshift(0),fb=bt[0],bt[1]>=we/2&&++fb;do Re=0,ve=q(bt,at,Ni,jr),ve<0?(Np=at[0],Ni!=jr&&(Np=Np*we+(at[1]||0)),Re=Np/fb|0,Re>1?(Re>=we&&(Re=we-1),Le=N(bt,Re,we),Xt=Le.length,jr=at.length,ve=q(Le,at,Xt,jr),ve==1&&(Re--,z(Le,Ni<Xt?Up:bt,Xt,we))):(Re==0&&(ve=Re=1),Le=bt.slice()),Xt=Le.length,Xt<jr&&Le.unshift(0),z(at,Le,jr,we),ve==-1&&(jr=at.length,ve=q(bt,at,Ni,jr),ve<1&&(Re++,z(at,Ni<jr?Up:bt,jr,we))),jr=at.length):ve===0&&(Re++,at=[0]),Mn[De++]=Re,ve&&at[0]?at[jr++]=Kr[Mp]||0:(at=[Kr[Mp]],jr=1);while((Mp++<zd||at[0]!==void 0)&&Is--);Ge=at[0]!==void 0}Mn[0]||Mn.shift()}if(ke==1)st.e=Se,a=Ge;else{for(De=1,Re=Mn[0];Re>=10;Re/=10)De++;st.e=De+Se*ke-1,S(st,me?ne+st.e+1:ne,ye,Ge)}return st}}();function S(N,q,z,J){var re,ne,ye,me,we,ve,Se,De,Re,ke=N.constructor;e:if(q!=null){if(De=N.d,!De)return N;for(re=1,me=De[0];me>=10;me/=10)re++;if(ne=q-re,ne<0)ne+=m,ye=q,Se=De[Re=0],we=Se/C(10,re-ye-1)%10|0;else if(Re=Math.ceil((ne+1)/m),me=De.length,Re>=me)if(J){for(;me++<=Re;)De.push(0);Se=we=0,re=1,ne%=m,ye=ne-m+1}else break e;else{for(Se=me=De[Re],re=1;me>=10;me/=10)re++;ne%=m,ye=ne-m+re,we=ye<0?0:Se/C(10,re-ye-1)%10|0}if(J=J||q<0||De[Re+1]!==void 0||(ye<0?Se:Se%C(10,re-ye-1)),ve=z<4?(we||J)&&(z==0||z==(N.s<0?3:2)):we>5||we==5&&(z==4||J||z==6&&(ne>0?ye>0?Se/C(10,re-ye):0:De[Re-1])%10&1||z==(N.s<0?8:7)),q<1||!De[0])return De.length=0,ve?(q-=N.e+1,De[0]=C(10,(m-q%m)%m),N.e=-q||0):De[0]=N.e=0,N;if(ne==0?(De.length=Re,me=1,Re--):(De.length=Re+1,me=C(10,m-ne),De[Re]=ye>0?(Se/C(10,re-ye)%C(10,ye)|0)*me:0),ve)for(;;)if(Re==0){for(ne=1,ye=De[0];ye>=10;ye/=10)ne++;for(ye=De[0]+=me,me=1;ye>=10;ye/=10)me++;ne!=me&&(N.e++,De[0]==l&&(De[0]=1));break}else{if(De[Re]+=me,De[Re]!=l)break;De[Re--]=0,me=1}for(ne=De.length;De[--ne]===0;)De.pop()}return h&&(N.e>ke.maxE?(N.d=null,N.e=NaN):N.e<ke.minE&&(N.e=0,N.d=[0])),N}function K(N,q,z){if(!N.isFinite())return Y(N);var J,re=N.e,ne=k(N.d),ye=ne.length;return q?(z&&(J=z-ye)>0?ne=ne.charAt(0)+"."+ne.slice(1)+se(J):ye>1&&(ne=ne.charAt(0)+"."+ne.slice(1)),ne=ne+(N.e<0?"e":"e+")+N.e):re<0?(ne="0."+se(-re-1)+ne,z&&(J=z-ye)>0&&(ne+=se(J))):re>=ye?(ne+=se(re+1-ye),z&&(J=z-re-1)>0&&(ne=ne+"."+se(J))):((J=re+1)<ye&&(ne=ne.slice(0,J)+"."+ne.slice(J)),z&&(J=z-ye)>0&&(re+1===ye&&(ne+="."),ne+=se(J))),ne}function he(N,q){var z=N[0];for(q*=m;z>=10;z/=10)q++;return q}function ie(N,q,z){if(q>B)throw h=!0,z&&(N.precision=z),Error(v);return S(new N(o),q,1,!0)}function fe(N,q,z){if(q>b)throw Error(v);return S(new N(s),q,z,!0)}function pe(N){var q=N.length-1,z=q*m+1;if(q=N[q],q){for(;q%10==0;q/=10)z--;for(q=N[0];q>=10;q/=10)z++}return z}function se(N){for(var q="";N--;)q+="0";return q}function ee(N,q,z,J){var re,ne=new N(1),ye=Math.ceil(J/m+4);for(h=!1;;){if(z%2&&(ne=ne.times(q),be(ne.d,ye)&&(re=!0)),z=_(z/2),z===0){z=ne.d.length-1,re&&ne.d[z]===0&&++ne.d[z];break}q=q.times(q),be(q.d,ye)}return h=!0,ne}function te(N){return N.d[N.d.length-1]&1}function ae(N,q,z){for(var J,re=new N(q[0]),ne=0;++ne<q.length;)if(J=new N(q[ne]),J.s)re[z](J)&&(re=J);else{re=J;break}return re}function X(N,q){var z,J,re,ne,ye,me,we,ve=0,Se=0,De=0,Re=N.constructor,ke=Re.rounding,Ge=Re.precision;if(!N.d||!N.d[0]||N.e>17)return new Re(N.d?N.d[0]?N.s<0?0:1/0:1:N.s?N.s<0?0:N:NaN);for(q==null?(h=!1,we=Ge):we=q,me=new Re(.03125);N.e>-2;)N=N.times(me),De+=5;for(J=Math.log(C(2,De))/Math.LN10*2+5|0,we+=J,z=ne=ye=new Re(1),Re.precision=we;;){if(ne=S(ne.times(N),we,1),z=z.times(++Se),me=ye.plus(M(ne,z,we,1)),k(me.d).slice(0,we)===k(ye.d).slice(0,we)){for(re=De;re--;)ye=S(ye.times(ye),we,1);if(q==null)if(ve<3&&$(ye.d,we-J,ke,ve))Re.precision=we+=10,z=ne=me=new Re(1),Se=0,ve++;else return S(ye,Re.precision=Ge,ke,h=!0);else return Re.precision=Ge,ye}ye=me}}function V(N,q){var z,J,re,ne,ye,me,we,ve,Se,De,Re,ke=1,Ge=10,Le=N,Xt=Le.d,st=Le.constructor,Mn=st.rounding,at=st.precision;if(Le.s<0||!Xt||!Xt[0]||!Le.e&&Xt[0]==1&&Xt.length==1)return new st(Xt&&!Xt[0]?-1/0:Le.s!=1?NaN:Xt?0:Le);if(q==null?(h=!1,Se=at):Se=q,st.precision=Se+=Ge,z=k(Xt),J=z.charAt(0),Math.abs(ne=Le.e)<15e14){for(;J<7&&J!=1||J==1&&z.charAt(1)>3;)Le=Le.times(N),z=k(Le.d),J=z.charAt(0),ke++;ne=Le.e,J>1?(Le=new st("0."+z),ne++):Le=new st(J+"."+z.slice(1))}else return ve=ie(st,Se+2,at).times(ne+""),Le=V(new st(J+"."+z.slice(1)),Se-Ge).plus(ve),st.precision=at,q==null?S(Le,at,Mn,h=!0):Le;for(De=Le,we=ye=Le=M(Le.minus(1),Le.plus(1),Se,1),Re=S(Le.times(Le),Se,1),re=3;;){if(ye=S(ye.times(Re),Se,1),ve=we.plus(M(ye,new st(re),Se,1)),k(ve.d).slice(0,Se)===k(we.d).slice(0,Se))if(we=we.times(2),ne!==0&&(we=we.plus(ie(st,Se+2,at).times(ne+""))),we=M(we,new st(ke),Se,1),q==null)if($(we.d,Se-Ge,Mn,me))st.precision=Se+=Ge,ve=ye=Le=M(De.minus(1),De.plus(1),Se,1),Re=S(Le.times(Le),Se,1),re=me=1;else return S(we,st.precision=at,Mn,h=!0);else return st.precision=at,we;we=ve,re+=2}}function Y(N){return String(N.s*N.s/0)}function ce(N,q){var z,J,re;for((z=q.indexOf("."))>-1&&(q=q.replace(".","")),(J=q.search(/e/i))>0?(z<0&&(z=J),z+=+q.slice(J+1),q=q.substring(0,J)):z<0&&(z=q.length),J=0;q.charCodeAt(J)===48;J++);for(re=q.length;q.charCodeAt(re-1)===48;--re);if(q=q.slice(J,re),q){if(re-=J,N.e=z=z-J-1,N.d=[],J=(z+1)%m,z<0&&(J+=m),J<re){for(J&&N.d.push(+q.slice(0,J)),re-=m;J<re;)N.d.push(+q.slice(J,J+=m));q=q.slice(J),J=m-q.length}else J-=re;for(;J--;)q+="0";N.d.push(+q),h&&(N.e>N.constructor.maxE?(N.d=null,N.e=NaN):N.e<N.constructor.minE&&(N.e=0,N.d=[0]))}else N.e=0,N.d=[0];return N}function _e(N,q){var z,J,re,ne,ye,me,we,ve,Se;if(q.indexOf("_")>-1){if(q=q.replace(/(\d)_(?=\d)/g,"$1"),u.test(q))return ce(N,q)}else if(q==="Infinity"||q==="NaN")return+q||(N.s=NaN),N.e=NaN,N.d=null,N;if(P.test(q))z=16,q=q.toLowerCase();else if(w.test(q))z=2;else if(D.test(q))z=8;else throw Error(g+q);for(ne=q.search(/p/i),ne>0?(we=+q.slice(ne+1),q=q.substring(2,ne)):q=q.slice(2),ne=q.indexOf("."),ye=ne>=0,J=N.constructor,ye&&(q=q.replace(".",""),me=q.length,ne=me-ne,re=ee(J,new J(z),ne,ne*2)),ve=G(q,z,l),Se=ve.length-1,ne=Se;ve[ne]===0;--ne)ve.pop();return ne<0?new J(N.s*0):(N.e=he(ve,Se),N.d=ve,h=!1,ye&&(N=M(N,re,me*4)),we&&(N=N.times(Math.abs(we)<54?C(2,we):d.pow(2,we))),h=!0,N)}function Ce(N,q){var z,J=q.d.length;if(J<3)return q.isZero()?q:Q(N,2,q,q);z=1.4*Math.sqrt(J),z=z>16?16:z|0,q=q.times(1/U(5,z)),q=Q(N,2,q,q);for(var re,ne=new N(5),ye=new N(16),me=new N(20);z--;)re=q.times(q),q=q.times(ne.plus(re.times(ye.times(re).minus(me))));return q}function Q(N,q,z,J,re){var ne,ye,me,we,ve=N.precision,Se=Math.ceil(ve/m);for(h=!1,we=z.times(z),me=new N(J);;){if(ye=M(me.times(we),new N(q++*q++),ve,1),me=re?J.plus(ye):J.minus(ye),J=M(ye.times(we),new N(q++*q++),ve,1),ye=me.plus(J),ye.d[Se]!==void 0){for(ne=Se;ye.d[ne]===me.d[ne]&&ne--;);if(ne==-1)break}ne=me,me=J,J=ye,ye=ne}return h=!0,ye.d.length=Se+1,ye}function U(N,q){for(var z=N;--q;)z*=N;return z}function F(N,q){var z,J=q.s<0,re=fe(N,N.precision,1),ne=re.times(.5);if(q=q.abs(),q.lte(ne))return p=J?4:1,q;if(z=q.divToInt(re),z.isZero())p=J?3:2;else{if(q=q.minus(z.times(re)),q.lte(ne))return p=te(z)?J?2:3:J?4:1,q;p=te(z)?J?1:4:J?3:2}return q.minus(re).abs()}function W(N,q,z,J){var re,ne,ye,me,we,ve,Se,De,Re,ke=N.constructor,Ge=z!==void 0;if(Ge?(L(z,1,n),J===void 0?J=ke.rounding:L(J,0,8)):(z=ke.precision,J=ke.rounding),!N.isFinite())Se=Y(N);else{for(Se=K(N),ye=Se.indexOf("."),Ge?(re=2,q==16?z=z*4-3:q==8&&(z=z*3-2)):re=q,ye>=0&&(Se=Se.replace(".",""),Re=new ke(1),Re.e=Se.length-ye,Re.d=G(K(Re),10,re),Re.e=Re.d.length),De=G(Se,10,re),ne=we=De.length;De[--we]==0;)De.pop();if(!De[0])Se=Ge?"0p+0":"0";else{if(ye<0?ne--:(N=new ke(N),N.d=De,N.e=ne,N=M(N,Re,z,J,0,re),De=N.d,ne=N.e,ve=a),ye=De[z],me=re/2,ve=ve||De[z+1]!==void 0,ve=J<4?(ye!==void 0||ve)&&(J===0||J===(N.s<0?3:2)):ye>me||ye===me&&(J===4||ve||J===6&&De[z-1]&1||J===(N.s<0?8:7)),De.length=z,ve)for(;++De[--z]>re-1;)De[z]=0,z||(++ne,De.unshift(1));for(we=De.length;!De[we-1];--we);for(ye=0,Se="";ye<we;ye++)Se+=i.charAt(De[ye]);if(Ge){if(we>1)if(q==16||q==8){for(ye=q==16?4:3,--we;we%ye;we++)Se+="0";for(De=G(Se,re,q),we=De.length;!De[we-1];--we);for(ye=1,Se="1.";ye<we;ye++)Se+=i.charAt(De[ye])}else Se=Se.charAt(0)+"."+Se.slice(1);Se=Se+(ne<0?"p":"p+")+ne}else if(ne<0){for(;++ne;)Se="0"+Se;Se="0."+Se}else if(++ne>we)for(ne-=we;ne--;)Se+="0";else ne<we&&(Se=Se.slice(0,ne)+"."+Se.slice(ne))}Se=(q==16?"0x":q==2?"0b":q==8?"0o":"")+Se}return N.s<0?"-"+Se:Se}function be(N,q){if(N.length>q)return N.length=q,!0}function Ee(N){return new this(N).abs()}function xe(N){return new this(N).acos()}function Ue(N){return new this(N).acosh()}function de(N,q){return new this(N).plus(q)}function ge(N){return new this(N).asin()}function j(N){return new this(N).asinh()}function O(N){return new this(N).atan()}function x(N){return new this(N).atanh()}function A(N,q){N=new this(N),q=new this(q);var z,J=this.precision,re=this.rounding,ne=J+4;return!N.s||!q.s?z=new this(NaN):!N.d&&!q.d?(z=fe(this,ne,1).times(q.s>0?.25:.75),z.s=N.s):!q.d||N.isZero()?(z=q.s<0?fe(this,J,re):new this(0),z.s=N.s):!N.d||q.isZero()?(z=fe(this,ne,1).times(.5),z.s=N.s):q.s<0?(this.precision=ne,this.rounding=1,z=this.atan(M(N,q,ne,1)),q=fe(this,ne,1),this.precision=J,this.rounding=re,z=N.s<0?z.minus(q):z.plus(q)):z=this.atan(M(N,q,ne,1)),z}function H(N){return new this(N).cbrt()}function Z(N){return S(N=new this(N),N.e+1,2)}function ue(N,q,z){return new this(N).clamp(q,z)}function le(N){if(!N||typeof N!="object")throw Error(y+"Object expected");var q,z,J,re=N.defaults===!0,ne=["precision",1,n,"rounding",0,8,"toExpNeg",-r,0,"toExpPos",0,r,"maxE",0,r,"minE",-r,0,"modulo",0,9];for(q=0;q<ne.length;q+=3)if(z=ne[q],re&&(this[z]=f[z]),(J=N[z])!==void 0)if(_(J)===J&&J>=ne[q+1]&&J<=ne[q+2])this[z]=J;else throw Error(g+z+": "+J);if(z="crypto",re&&(this[z]=f[z]),(J=N[z])!==void 0)if(J===!0||J===!1||J===0||J===1)if(J)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[z]=!0;else throw Error(T);else this[z]=!1;else throw Error(g+z+": "+J);return this}function Te(N){return new this(N).cos()}function Ne(N){return new this(N).cosh()}function Pe(N){var q,z,J;function re(ne){var ye,me,we,ve=this;if(!(ve instanceof re))return new re(ne);if(ve.constructor=re,Ts(ne)){ve.s=ne.s,h?!ne.d||ne.e>re.maxE?(ve.e=NaN,ve.d=null):ne.e<re.minE?(ve.e=0,ve.d=[0]):(ve.e=ne.e,ve.d=ne.d.slice()):(ve.e=ne.e,ve.d=ne.d?ne.d.slice():ne.d);return}if(we=typeof ne,we==="number"){if(ne===0){ve.s=1/ne<0?-1:1,ve.e=0,ve.d=[0];return}if(ne<0?(ne=-ne,ve.s=-1):ve.s=1,ne===~~ne&&ne<1e7){for(ye=0,me=ne;me>=10;me/=10)ye++;h?ye>re.maxE?(ve.e=NaN,ve.d=null):ye<re.minE?(ve.e=0,ve.d=[0]):(ve.e=ye,ve.d=[ne]):(ve.e=ye,ve.d=[ne]);return}else if(ne*0!==0){ne||(ve.s=NaN),ve.e=NaN,ve.d=null;return}return ce(ve,ne.toString())}else if(we!=="string")throw Error(g+ne);return(me=ne.charCodeAt(0))===45?(ne=ne.slice(1),ve.s=-1):(me===43&&(ne=ne.slice(1)),ve.s=1),u.test(ne)?ce(ve,ne):_e(ve,ne)}if(re.prototype=E,re.ROUND_UP=0,re.ROUND_DOWN=1,re.ROUND_CEIL=2,re.ROUND_FLOOR=3,re.ROUND_HALF_UP=4,re.ROUND_HALF_DOWN=5,re.ROUND_HALF_EVEN=6,re.ROUND_HALF_CEIL=7,re.ROUND_HALF_FLOOR=8,re.EUCLID=9,re.config=re.set=le,re.clone=Pe,re.isDecimal=Ts,re.abs=Ee,re.acos=xe,re.acosh=Ue,re.add=de,re.asin=ge,re.asinh=j,re.atan=O,re.atanh=x,re.atan2=A,re.cbrt=H,re.ceil=Z,re.clamp=ue,re.cos=Te,re.cosh=Ne,re.div=Ae,re.exp=Me,re.floor=Ve,re.hypot=Ye,re.ln=mt,re.log=St,re.log10=Bt,re.log2=Cp,re.max=Ct,re.min=Dp,re.mod=Dt,re.mul=Rt,re.pow=Rp,re.random=Ot,re.round=At,re.sign=Op,re.sin=Pt,re.sinh=Nt,re.sqrt=Ap,re.sub=Mt,re.sum=Ut,re.tan=Pp,re.tanh=kt,re.trunc=$t,N===void 0&&(N={}),N&&N.defaults!==!0)for(J=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],q=0;q<J.length;)N.hasOwnProperty(z=J[q++])||(N[z]=this[z]);return re.config(N),re}function Ae(N,q){return new this(N).div(q)}function Me(N){return new this(N).exp()}function Ve(N){return S(N=new this(N),N.e+1,3)}function Ye(){var N,q,z=new this(0);for(h=!1,N=0;N<arguments.length;)if(q=new this(arguments[N++]),q.d)z.d&&(z=z.plus(q.times(q)));else{if(q.s)return h=!0,new this(1/0);z=q}return h=!0,z.sqrt()}function Ts(N){return N instanceof d||N&&N.toStringTag===I||!1}function mt(N){return new this(N).ln()}function St(N,q){return new this(N).log(q)}function Cp(N){return new this(N).log(2)}function Bt(N){return new this(N).log(10)}function Ct(){return ae(this,arguments,"lt")}function Dp(){return ae(this,arguments,"gt")}function Dt(N,q){return new this(N).mod(q)}function Rt(N,q){return new this(N).mul(q)}function Rp(N,q){return new this(N).pow(q)}function Ot(N){var q,z,J,re,ne=0,ye=new this(1),me=[];if(N===void 0?N=this.precision:L(N,1,n),J=Math.ceil(N/m),this.crypto)if(crypto.getRandomValues)for(q=crypto.getRandomValues(new Uint32Array(J));ne<J;)re=q[ne],re>=429e7?q[ne]=crypto.getRandomValues(new Uint32Array(1))[0]:me[ne++]=re%1e7;else if(crypto.randomBytes){for(q=crypto.randomBytes(J*=4);ne<J;)re=q[ne]+(q[ne+1]<<8)+(q[ne+2]<<16)+((q[ne+3]&127)<<24),re>=214e7?crypto.randomBytes(4).copy(q,ne):(me.push(re%1e7),ne+=4);ne=J/4}else throw Error(T);else for(;ne<J;)me[ne++]=Math.random()*1e7|0;for(J=me[--ne],N%=m,J&&N&&(re=C(10,m-N),me[ne]=(J/re|0)*re);me[ne]===0;ne--)me.pop();if(ne<0)z=0,me=[0];else{for(z=-1;me[0]===0;z-=m)me.shift();for(J=1,re=me[0];re>=10;re/=10)J++;J<m&&(z-=m-J)}return ye.e=z,ye.d=me,ye}function At(N){return S(N=new this(N),N.e+1,this.rounding)}function Op(N){return N=new this(N),N.d?N.d[0]?N.s:0*N.s:N.s||NaN}function Pt(N){return new this(N).sin()}function Nt(N){return new this(N).sinh()}function Ap(N){return new this(N).sqrt()}function Mt(N,q){return new this(N).sub(q)}function Ut(){var N=0,q=arguments,z=new this(q[N]);for(h=!1;z.s&&++N<q.length;)z=z.plus(q[N]);return h=!0,S(z,this.precision,this.rounding)}function Pp(N){return new this(N).tan()}function kt(N){return new this(N).tanh()}function $t(N){return S(N=new this(N),N.e+1,1)}d=Pe(f),d.prototype.constructor=d,d.default=d.Decimal=d,o=new d(o),s=new d(s),e.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(E[Symbol.for("nodejs.util.inspect.custom")]=E.toString,E[Symbol.toStringTag]="Decimal"),e.exports=d):(t||(t=typeof self<"u"&&self&&self.self==self?self:window),c=t.Decimal,d.noConflict=function(){return t.Decimal=c,d},t.Decimal=d)})(Be)})(dR);var lR=dR.exports,ho={},TQ=Be&&Be.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),IQ=Be&&Be.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),EQ=Be&&Be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&TQ(t,e,r);return IQ(t,e),t};Object.defineProperty(ho,"__esModule",{value:!0});ho.BinaryParser=void 0;const Ty=EQ(Di()),xQ=Pf,SQ=ze;class BQ{constructor(t,r=xQ.DEFAULT_DEFINITIONS){this.bytes=SQ.Buffer.from(t,"hex"),this.definitions=r}peek(){return Ty.ok(this.bytes.byteLength!==0),this.bytes[0]}skip(t){Ty.ok(t<=this.bytes.byteLength),this.bytes=this.bytes.slice(t)}read(t){Ty.ok(t<=this.bytes.byteLength);const r=this.bytes.slice(0,t);return this.skip(t),r}readUIntN(t){return Ty.ok(0<t&&t<=4,"invalid n"),this.read(t).reduce((r,n)=>r<<8|n)>>>0}readUInt8(){return this.readUIntN(1)}readUInt16(){return this.readUIntN(2)}readUInt32(){return this.readUIntN(4)}size(){return this.bytes.byteLength}end(t){const r=this.bytes.byteLength;return r===0||t!==void 0&&r<=t}readVariableLength(){return this.read(this.readVariableLengthLength())}readVariableLengthLength(){const t=this.readUInt8();if(t<=192)return t;if(t<=240){const r=this.readUInt8();return 193+(t-193)*256+r}else if(t<=254){const r=this.readUInt8(),n=this.readUInt8();return 12481+(t-241)*65536+r*256+n}throw new Error("Invalid variable length indicator")}readFieldOrdinal(){let t=this.readUInt8(),r=t&15;if(t>>=4,t===0&&(t=this.readUInt8(),t===0||t<16))throw new Error("Cannot read FieldOrdinal, type_code out of range");if(r===0&&(r=this.readUInt8(),r===0||r<16))throw new Error("Cannot read FieldOrdinal, field_code out of range");return t<<16|r}readField(){return this.definitions.field.fromString(this.readFieldOrdinal().toString())}readType(t){return t.fromParser(this)}typeForField(t){return t.associatedType}readFieldValue(t){const r=this.typeForField(t);if(!r)throw new Error(`unsupported: (${t.name}, ${t.type.name})`);const n=t.isVariableLengthEncoded?this.readVariableLengthLength():void 0,i=r.fromParser(this,n);if(i===void 0)throw new Error(`fromParser for (${t.name}, ${t.type.name}) -> undefined `);return i}readFieldAndValue(){const t=this.readField();return[t,this.readFieldValue(t)]}}ho.BinaryParser=BQ;var zu={};Object.defineProperty(zu,"__esModule",{value:!0});zu.Currency=void 0;const CQ=Hd,Wm=ze,DQ=/^0{40}$/,RQ=/^[A-Z0-9a-z?!@#$%^&*(){}[\]|]{3}$/,OQ=/^[A-F0-9]{40}$/,AQ=/^0{24}[\x00-\x7F]{6}0{10}$/;function PQ(e){const t=Wm.Buffer.alloc(20);if(e!=="XRP"){const r=e.split("").map(n=>n.charCodeAt(0));t.set(r,12)}return t}function NQ(e){return RQ.test(e)}function MQ(e){const t=e.toString();return t==="XRP"?null:NQ(t)?t:null}function UQ(e){return OQ.test(e)}function kQ(e){return e.length===3||UQ(e)}function $Q(e){return e.byteLength===20}function FQ(e){return e instanceof Wm.Buffer?$Q(e):kQ(e)}function LQ(e){if(!FQ(e))throw new Error(`Unsupported Currency representation: ${e}`);return e.length===3?PQ(e):Wm.Buffer.from(e,"hex")}class fu extends CQ.Hash160{constructor(t){super(t??fu.XRP.bytes);const r=this.bytes.toString("hex");DQ.test(r)?this._iso="XRP":AQ.test(r)?this._iso=MQ(this.bytes.slice(12,15)):this._iso=null}iso(){return this._iso}static from(t){if(t instanceof fu)return t;if(typeof t=="string")return new fu(LQ(t));throw new Error("Cannot construct Currency from value given")}toJSON(){const t=this.iso();return t!==null?t:this.bytes.toString("hex").toUpperCase()}}zu.Currency=fu;fu.XRP=new fu(Wm.Buffer.alloc(20));var hR={exports:{}};(function(e){var t=function(r){var n=1e7,i=7,o=9007199254740992,s=g(o),f="0123456789abcdefghijklmnopqrstuvwxyz",d=typeof BigInt=="function";function a(j,O,x,A){return typeof j>"u"?a[0]:typeof O<"u"?+O==10&&!x?de(j):U(j,O,x,A):de(j)}function c(j,O){this.value=j,this.sign=O,this.isSmall=!1}c.prototype=Object.create(a.prototype);function p(j){this.value=j,this.sign=j<0,this.isSmall=!0}p.prototype=Object.create(a.prototype);function h(j){this.value=j}h.prototype=Object.create(a.prototype);function y(j){return-o<j&&j<o}function g(j){return j<1e7?[j]:j<1e14?[j%1e7,Math.floor(j/1e7)]:[j%1e7,Math.floor(j/1e7)%1e7,Math.floor(j/1e14)]}function v(j){T(j);var O=j.length;if(O<4&&S(j,s)<0)switch(O){case 0:return 0;case 1:return j[0];case 2:return j[0]+j[1]*n;default:return j[0]+(j[1]+j[2]*n)*n}return j}function T(j){for(var O=j.length;j[--O]===0;);j.length=O+1}function I(j){for(var O=new Array(j),x=-1;++x<j;)O[x]=0;return O}function _(j){return j>0?Math.floor(j):Math.ceil(j)}function C(j,O){var x=j.length,A=O.length,H=new Array(x),Z=0,ue=n,le,Te;for(Te=0;Te<A;Te++)le=j[Te]+O[Te]+Z,Z=le>=ue?1:0,H[Te]=le-Z*ue;for(;Te<x;)le=j[Te]+Z,Z=le===ue?1:0,H[Te++]=le-Z*ue;return Z>0&&H.push(Z),H}function w(j,O){return j.length>=O.length?C(j,O):C(O,j)}function P(j,O){var x=j.length,A=new Array(x),H=n,Z,ue;for(ue=0;ue<x;ue++)Z=j[ue]-H+O,O=Math.floor(Z/H),A[ue]=Z-O*H,O+=1;for(;O>0;)A[ue++]=O%H,O=Math.floor(O/H);return A}c.prototype.add=function(j){var O=de(j);if(this.sign!==O.sign)return this.subtract(O.negate());var x=this.value,A=O.value;return O.isSmall?new c(P(x,Math.abs(A)),this.sign):new c(w(x,A),this.sign)},c.prototype.plus=c.prototype.add,p.prototype.add=function(j){var O=de(j),x=this.value;if(x<0!==O.sign)return this.subtract(O.negate());var A=O.value;if(O.isSmall){if(y(x+A))return new p(x+A);A=g(Math.abs(A))}return new c(P(A,Math.abs(x)),x<0)},p.prototype.plus=p.prototype.add,h.prototype.add=function(j){return new h(this.value+de(j).value)},h.prototype.plus=h.prototype.add;function D(j,O){var x=j.length,A=O.length,H=new Array(x),Z=0,ue=n,le,Te;for(le=0;le<A;le++)Te=j[le]-Z-O[le],Te<0?(Te+=ue,Z=1):Z=0,H[le]=Te;for(le=A;le<x;le++){if(Te=j[le]-Z,Te<0)Te+=ue;else{H[le++]=Te;break}H[le]=Te}for(;le<x;le++)H[le]=j[le];return T(H),H}function u(j,O,x){var A;return S(j,O)>=0?A=D(j,O):(A=D(O,j),x=!x),A=v(A),typeof A=="number"?(x&&(A=-A),new p(A)):new c(A,x)}function l(j,O,x){var A=j.length,H=new Array(A),Z=-O,ue=n,le,Te;for(le=0;le<A;le++)Te=j[le]+Z,Z=Math.floor(Te/ue),Te%=ue,H[le]=Te<0?Te+ue:Te;return H=v(H),typeof H=="number"?(x&&(H=-H),new p(H)):new c(H,x)}c.prototype.subtract=function(j){var O=de(j);if(this.sign!==O.sign)return this.add(O.negate());var x=this.value,A=O.value;return O.isSmall?l(x,Math.abs(A),this.sign):u(x,A,this.sign)},c.prototype.minus=c.prototype.subtract,p.prototype.subtract=function(j){var O=de(j),x=this.value;if(x<0!==O.sign)return this.add(O.negate());var A=O.value;return O.isSmall?new p(x-A):l(A,Math.abs(x),x>=0)},p.prototype.minus=p.prototype.subtract,h.prototype.subtract=function(j){return new h(this.value-de(j).value)},h.prototype.minus=h.prototype.subtract,c.prototype.negate=function(){return new c(this.value,!this.sign)},p.prototype.negate=function(){var j=this.sign,O=new p(-this.value);return O.sign=!j,O},h.prototype.negate=function(){return new h(-this.value)},c.prototype.abs=function(){return new c(this.value,!1)},p.prototype.abs=function(){return new p(Math.abs(this.value))},h.prototype.abs=function(){return new h(this.value>=0?this.value:-this.value)};function m(j,O){var x=j.length,A=O.length,H=x+A,Z=I(H),ue=n,le,Te,Ne,Pe,Ae;for(Ne=0;Ne<x;++Ne){Pe=j[Ne];for(var Me=0;Me<A;++Me)Ae=O[Me],le=Pe*Ae+Z[Ne+Me],Te=Math.floor(le/ue),Z[Ne+Me]=le-Te*ue,Z[Ne+Me+1]+=Te}return T(Z),Z}function R(j,O){var x=j.length,A=new Array(x),H=n,Z=0,ue,le;for(le=0;le<x;le++)ue=j[le]*O+Z,Z=Math.floor(ue/H),A[le]=ue-Z*H;for(;Z>0;)A[le++]=Z%H,Z=Math.floor(Z/H);return A}function B(j,O){for(var x=[];O-- >0;)x.push(0);return x.concat(j)}function b(j,O){var x=Math.max(j.length,O.length);if(x<=30)return m(j,O);x=Math.ceil(x/2);var A=j.slice(x),H=j.slice(0,x),Z=O.slice(x),ue=O.slice(0,x),le=b(H,ue),Te=b(A,Z),Ne=b(w(H,A),w(ue,Z)),Pe=w(w(le,B(D(D(Ne,le),Te),x)),B(Te,2*x));return T(Pe),Pe}function E(j,O){return-.012*j-.012*O+15e-6*j*O>0}c.prototype.multiply=function(j){var O=de(j),x=this.value,A=O.value,H=this.sign!==O.sign,Z;if(O.isSmall){if(A===0)return a[0];if(A===1)return this;if(A===-1)return this.negate();if(Z=Math.abs(A),Z<n)return new c(R(x,Z),H);A=g(Z)}return E(x.length,A.length)?new c(b(x,A),H):new c(m(x,A),H)},c.prototype.times=c.prototype.multiply;function k(j,O,x){return j<n?new c(R(O,j),x):new c(m(O,g(j)),x)}p.prototype._multiplyBySmall=function(j){return y(j.value*this.value)?new p(j.value*this.value):k(Math.abs(j.value),g(Math.abs(this.value)),this.sign!==j.sign)},c.prototype._multiplyBySmall=function(j){return j.value===0?a[0]:j.value===1?this:j.value===-1?this.negate():k(Math.abs(j.value),this.value,this.sign!==j.sign)},p.prototype.multiply=function(j){return de(j)._multiplyBySmall(this)},p.prototype.times=p.prototype.multiply,h.prototype.multiply=function(j){return new h(this.value*de(j).value)},h.prototype.times=h.prototype.multiply;function L(j){var O=j.length,x=I(O+O),A=n,H,Z,ue,le,Te;for(ue=0;ue<O;ue++){le=j[ue],Z=0-le*le;for(var Ne=ue;Ne<O;Ne++)Te=j[Ne],H=2*(le*Te)+x[ue+Ne]+Z,Z=Math.floor(H/A),x[ue+Ne]=H-Z*A;x[ue+O]=Z}return T(x),x}c.prototype.square=function(){return new c(L(this.value),!1)},p.prototype.square=function(){var j=this.value*this.value;return y(j)?new p(j):new c(L(g(Math.abs(this.value))),!1)},h.prototype.square=function(j){return new h(this.value*this.value)};function $(j,O){var x=j.length,A=O.length,H=n,Z=I(O.length),ue=O[A-1],le=Math.ceil(H/(2*ue)),Te=R(j,le),Ne=R(O,le),Pe,Ae,Me,Ve,Ye,Ts,mt;for(Te.length<=x&&Te.push(0),Ne.push(0),ue=Ne[A-1],Ae=x-A;Ae>=0;Ae--){for(Pe=H-1,Te[Ae+A]!==ue&&(Pe=Math.floor((Te[Ae+A]*H+Te[Ae+A-1])/ue)),Me=0,Ve=0,Ts=Ne.length,Ye=0;Ye<Ts;Ye++)Me+=Pe*Ne[Ye],mt=Math.floor(Me/H),Ve+=Te[Ae+Ye]-(Me-mt*H),Me=mt,Ve<0?(Te[Ae+Ye]=Ve+H,Ve=-1):(Te[Ae+Ye]=Ve,Ve=0);for(;Ve!==0;){for(Pe-=1,Me=0,Ye=0;Ye<Ts;Ye++)Me+=Te[Ae+Ye]-H+Ne[Ye],Me<0?(Te[Ae+Ye]=Me+H,Me=0):(Te[Ae+Ye]=Me,Me=1);Ve+=Me}Z[Ae]=Pe}return Te=oe(Te,le)[0],[v(Z),v(Te)]}function G(j,O){for(var x=j.length,A=O.length,H=[],Z=[],ue=n,le,Te,Ne,Pe,Ae;x;){if(Z.unshift(j[--x]),T(Z),S(Z,O)<0){H.push(0);continue}Te=Z.length,Ne=Z[Te-1]*ue+Z[Te-2],Pe=O[A-1]*ue+O[A-2],Te>A&&(Ne=(Ne+1)*ue),le=Math.ceil(Ne/Pe);do{if(Ae=R(O,le),S(Ae,Z)<=0)break;le--}while(le);H.push(le),Z=D(Z,Ae)}return H.reverse(),[v(H),v(Z)]}function oe(j,O){var x=j.length,A=I(x),H=n,Z,ue,le,Te;for(le=0,Z=x-1;Z>=0;--Z)Te=le*H+j[Z],ue=_(Te/O),le=Te-ue*O,A[Z]=ue|0;return[A,le|0]}function M(j,O){var x,A=de(O);if(d)return[new h(j.value/A.value),new h(j.value%A.value)];var H=j.value,Z=A.value,ue;if(Z===0)throw new Error("Cannot divide by zero");if(j.isSmall)return A.isSmall?[new p(_(H/Z)),new p(H%Z)]:[a[0],j];if(A.isSmall){if(Z===1)return[j,a[0]];if(Z==-1)return[j.negate(),a[0]];var le=Math.abs(Z);if(le<n){x=oe(H,le),ue=v(x[0]);var Te=x[1];return j.sign&&(Te=-Te),typeof ue=="number"?(j.sign!==A.sign&&(ue=-ue),[new p(ue),new p(Te)]):[new c(ue,j.sign!==A.sign),new p(Te)]}Z=g(le)}var Ne=S(H,Z);if(Ne===-1)return[a[0],j];if(Ne===0)return[a[j.sign===A.sign?1:-1],a[0]];H.length+Z.length<=200?x=$(H,Z):x=G(H,Z),ue=x[0];var Pe=j.sign!==A.sign,Ae=x[1],Me=j.sign;return typeof ue=="number"?(Pe&&(ue=-ue),ue=new p(ue)):ue=new c(ue,Pe),typeof Ae=="number"?(Me&&(Ae=-Ae),Ae=new p(Ae)):Ae=new c(Ae,Me),[ue,Ae]}c.prototype.divmod=function(j){var O=M(this,j);return{quotient:O[0],remainder:O[1]}},h.prototype.divmod=p.prototype.divmod=c.prototype.divmod,c.prototype.divide=function(j){return M(this,j)[0]},h.prototype.over=h.prototype.divide=function(j){return new h(this.value/de(j).value)},p.prototype.over=p.prototype.divide=c.prototype.over=c.prototype.divide,c.prototype.mod=function(j){return M(this,j)[1]},h.prototype.mod=h.prototype.remainder=function(j){return new h(this.value%de(j).value)},p.prototype.remainder=p.prototype.mod=c.prototype.remainder=c.prototype.mod,c.prototype.pow=function(j){var O=de(j),x=this.value,A=O.value,H,Z,ue;if(A===0)return a[1];if(x===0)return a[0];if(x===1)return a[1];if(x===-1)return O.isEven()?a[1]:a[-1];if(O.sign)return a[0];if(!O.isSmall)throw new Error("The exponent "+O.toString()+" is too large.");if(this.isSmall&&y(H=Math.pow(x,A)))return new p(_(H));for(Z=this,ue=a[1];A&!0&&(ue=ue.times(Z),--A),A!==0;)A/=2,Z=Z.square();return ue},p.prototype.pow=c.prototype.pow,h.prototype.pow=function(j){var O=de(j),x=this.value,A=O.value,H=BigInt(0),Z=BigInt(1),ue=BigInt(2);if(A===H)return a[1];if(x===H)return a[0];if(x===Z)return a[1];if(x===BigInt(-1))return O.isEven()?a[1]:a[-1];if(O.isNegative())return new h(H);for(var le=this,Te=a[1];(A&Z)===Z&&(Te=Te.times(le),--A),A!==H;)A/=ue,le=le.square();return Te},c.prototype.modPow=function(j,O){if(j=de(j),O=de(O),O.isZero())throw new Error("Cannot take modPow with modulus 0");var x=a[1],A=this.mod(O);for(j.isNegative()&&(j=j.multiply(a[-1]),A=A.modInv(O));j.isPositive();){if(A.isZero())return a[0];j.isOdd()&&(x=x.multiply(A).mod(O)),j=j.divide(2),A=A.square().mod(O)}return x},h.prototype.modPow=p.prototype.modPow=c.prototype.modPow;function S(j,O){if(j.length!==O.length)return j.length>O.length?1:-1;for(var x=j.length-1;x>=0;x--)if(j[x]!==O[x])return j[x]>O[x]?1:-1;return 0}c.prototype.compareAbs=function(j){var O=de(j),x=this.value,A=O.value;return O.isSmall?1:S(x,A)},p.prototype.compareAbs=function(j){var O=de(j),x=Math.abs(this.value),A=O.value;return O.isSmall?(A=Math.abs(A),x===A?0:x>A?1:-1):-1},h.prototype.compareAbs=function(j){var O=this.value,x=de(j).value;return O=O>=0?O:-O,x=x>=0?x:-x,O===x?0:O>x?1:-1},c.prototype.compare=function(j){if(j===1/0)return-1;if(j===-1/0)return 1;var O=de(j),x=this.value,A=O.value;return this.sign!==O.sign?O.sign?1:-1:O.isSmall?this.sign?-1:1:S(x,A)*(this.sign?-1:1)},c.prototype.compareTo=c.prototype.compare,p.prototype.compare=function(j){if(j===1/0)return-1;if(j===-1/0)return 1;var O=de(j),x=this.value,A=O.value;return O.isSmall?x==A?0:x>A?1:-1:x<0!==O.sign?x<0?-1:1:x<0?1:-1},p.prototype.compareTo=p.prototype.compare,h.prototype.compare=function(j){if(j===1/0)return-1;if(j===-1/0)return 1;var O=this.value,x=de(j).value;return O===x?0:O>x?1:-1},h.prototype.compareTo=h.prototype.compare,c.prototype.equals=function(j){return this.compare(j)===0},h.prototype.eq=h.prototype.equals=p.prototype.eq=p.prototype.equals=c.prototype.eq=c.prototype.equals,c.prototype.notEquals=function(j){return this.compare(j)!==0},h.prototype.neq=h.prototype.notEquals=p.prototype.neq=p.prototype.notEquals=c.prototype.neq=c.prototype.notEquals,c.prototype.greater=function(j){return this.compare(j)>0},h.prototype.gt=h.prototype.greater=p.prototype.gt=p.prototype.greater=c.prototype.gt=c.prototype.greater,c.prototype.lesser=function(j){return this.compare(j)<0},h.prototype.lt=h.prototype.lesser=p.prototype.lt=p.prototype.lesser=c.prototype.lt=c.prototype.lesser,c.prototype.greaterOrEquals=function(j){return this.compare(j)>=0},h.prototype.geq=h.prototype.greaterOrEquals=p.prototype.geq=p.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals,c.prototype.lesserOrEquals=function(j){return this.compare(j)<=0},h.prototype.leq=h.prototype.lesserOrEquals=p.prototype.leq=p.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals,c.prototype.isEven=function(){return(this.value[0]&1)===0},p.prototype.isEven=function(){return(this.value&1)===0},h.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},c.prototype.isOdd=function(){return(this.value[0]&1)===1},p.prototype.isOdd=function(){return(this.value&1)===1},h.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},c.prototype.isPositive=function(){return!this.sign},p.prototype.isPositive=function(){return this.value>0},h.prototype.isPositive=p.prototype.isPositive,c.prototype.isNegative=function(){return this.sign},p.prototype.isNegative=function(){return this.value<0},h.prototype.isNegative=p.prototype.isNegative,c.prototype.isUnit=function(){return!1},p.prototype.isUnit=function(){return Math.abs(this.value)===1},h.prototype.isUnit=function(){return this.abs().value===BigInt(1)},c.prototype.isZero=function(){return!1},p.prototype.isZero=function(){return this.value===0},h.prototype.isZero=function(){return this.value===BigInt(0)},c.prototype.isDivisibleBy=function(j){var O=de(j);return O.isZero()?!1:O.isUnit()?!0:O.compareAbs(2)===0?this.isEven():this.mod(O).isZero()},h.prototype.isDivisibleBy=p.prototype.isDivisibleBy=c.prototype.isDivisibleBy;function K(j){var O=j.abs();if(O.isUnit())return!1;if(O.equals(2)||O.equals(3)||O.equals(5))return!0;if(O.isEven()||O.isDivisibleBy(3)||O.isDivisibleBy(5))return!1;if(O.lesser(49))return!0}function he(j,O){for(var x=j.prev(),A=x,H=0,Z,ue,le;A.isEven();)A=A.divide(2),H++;e:for(ue=0;ue<O.length;ue++)if(!j.lesser(O[ue])&&(le=t(O[ue]).modPow(A,j),!(le.isUnit()||le.equals(x)))){for(Z=H-1;Z!=0;Z--){if(le=le.square().mod(j),le.isUnit())return!1;if(le.equals(x))continue e}return!1}return!0}c.prototype.isPrime=function(j){var O=K(this);if(O!==r)return O;var x=this.abs(),A=x.bitLength();if(A<=64)return he(x,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var H=Math.log(2)*A.toJSNumber(),Z=Math.ceil(j===!0?2*Math.pow(H,2):H),ue=[],le=0;le<Z;le++)ue.push(t(le+2));return he(x,ue)},h.prototype.isPrime=p.prototype.isPrime=c.prototype.isPrime,c.prototype.isProbablePrime=function(j,O){var x=K(this);if(x!==r)return x;for(var A=this.abs(),H=j===r?5:j,Z=[],ue=0;ue<H;ue++)Z.push(t.randBetween(2,A.minus(2),O));return he(A,Z)},h.prototype.isProbablePrime=p.prototype.isProbablePrime=c.prototype.isProbablePrime,c.prototype.modInv=function(j){for(var O=t.zero,x=t.one,A=de(j),H=this.abs(),Z,ue,le;!H.isZero();)Z=A.divide(H),ue=O,le=A,O=x,A=H,x=ue.subtract(Z.multiply(x)),H=le.subtract(Z.multiply(H));if(!A.isUnit())throw new Error(this.toString()+" and "+j.toString()+" are not co-prime");return O.compare(0)===-1&&(O=O.add(j)),this.isNegative()?O.negate():O},h.prototype.modInv=p.prototype.modInv=c.prototype.modInv,c.prototype.next=function(){var j=this.value;return this.sign?l(j,1,this.sign):new c(P(j,1),this.sign)},p.prototype.next=function(){var j=this.value;return j+1<o?new p(j+1):new c(s,!1)},h.prototype.next=function(){return new h(this.value+BigInt(1))},c.prototype.prev=function(){var j=this.value;return this.sign?new c(P(j,1),!0):l(j,1,this.sign)},p.prototype.prev=function(){var j=this.value;return j-1>-o?new p(j-1):new c(s,!0)},h.prototype.prev=function(){return new h(this.value-BigInt(1))};for(var ie=[1];2*ie[ie.length-1]<=n;)ie.push(2*ie[ie.length-1]);var fe=ie.length,pe=ie[fe-1];function se(j){return Math.abs(j)<=n}c.prototype.shiftLeft=function(j){var O=de(j).toJSNumber();if(!se(O))throw new Error(String(O)+" is too large for shifting.");if(O<0)return this.shiftRight(-O);var x=this;if(x.isZero())return x;for(;O>=fe;)x=x.multiply(pe),O-=fe-1;return x.multiply(ie[O])},h.prototype.shiftLeft=p.prototype.shiftLeft=c.prototype.shiftLeft,c.prototype.shiftRight=function(j){var O,x=de(j).toJSNumber();if(!se(x))throw new Error(String(x)+" is too large for shifting.");if(x<0)return this.shiftLeft(-x);for(var A=this;x>=fe;){if(A.isZero()||A.isNegative()&&A.isUnit())return A;O=M(A,pe),A=O[1].isNegative()?O[0].prev():O[0],x-=fe-1}return O=M(A,ie[x]),O[1].isNegative()?O[0].prev():O[0]},h.prototype.shiftRight=p.prototype.shiftRight=c.prototype.shiftRight;function ee(j,O,x){O=de(O);for(var A=j.isNegative(),H=O.isNegative(),Z=A?j.not():j,ue=H?O.not():O,le=0,Te=0,Ne=null,Pe=null,Ae=[];!Z.isZero()||!ue.isZero();)Ne=M(Z,pe),le=Ne[1].toJSNumber(),A&&(le=pe-1-le),Pe=M(ue,pe),Te=Pe[1].toJSNumber(),H&&(Te=pe-1-Te),Z=Ne[0],ue=Pe[0],Ae.push(x(le,Te));for(var Me=x(A?1:0,H?1:0)!==0?t(-1):t(0),Ve=Ae.length-1;Ve>=0;Ve-=1)Me=Me.multiply(pe).add(t(Ae[Ve]));return Me}c.prototype.not=function(){return this.negate().prev()},h.prototype.not=p.prototype.not=c.prototype.not,c.prototype.and=function(j){return ee(this,j,function(O,x){return O&x})},h.prototype.and=p.prototype.and=c.prototype.and,c.prototype.or=function(j){return ee(this,j,function(O,x){return O|x})},h.prototype.or=p.prototype.or=c.prototype.or,c.prototype.xor=function(j){return ee(this,j,function(O,x){return O^x})},h.prototype.xor=p.prototype.xor=c.prototype.xor;var te=1<<30,ae=(n&-n)*(n&-n)|te;function X(j){var O=j.value,x=typeof O=="number"?O|te:typeof O=="bigint"?O|BigInt(te):O[0]+O[1]*n|ae;return x&-x}function V(j,O){if(O.compareTo(j)<=0){var x=V(j,O.square(O)),A=x.p,H=x.e,Z=A.multiply(O);return Z.compareTo(j)<=0?{p:Z,e:H*2+1}:{p:A,e:H*2}}return{p:t(1),e:0}}c.prototype.bitLength=function(){var j=this;return j.compareTo(t(0))<0&&(j=j.negate().subtract(t(1))),j.compareTo(t(0))===0?t(0):t(V(j,t(2)).e).add(t(1))},h.prototype.bitLength=p.prototype.bitLength=c.prototype.bitLength;function Y(j,O){return j=de(j),O=de(O),j.greater(O)?j:O}function ce(j,O){return j=de(j),O=de(O),j.lesser(O)?j:O}function _e(j,O){if(j=de(j).abs(),O=de(O).abs(),j.equals(O))return j;if(j.isZero())return O;if(O.isZero())return j;for(var x=a[1],A,H;j.isEven()&&O.isEven();)A=ce(X(j),X(O)),j=j.divide(A),O=O.divide(A),x=x.multiply(A);for(;j.isEven();)j=j.divide(X(j));do{for(;O.isEven();)O=O.divide(X(O));j.greater(O)&&(H=O,O=j,j=H),O=O.subtract(j)}while(!O.isZero());return x.isUnit()?j:j.multiply(x)}function Ce(j,O){return j=de(j).abs(),O=de(O).abs(),j.divide(_e(j,O)).multiply(O)}function Q(j,O,x){j=de(j),O=de(O);var A=x||Math.random,H=ce(j,O),Z=Y(j,O),ue=Z.subtract(H).add(1);if(ue.isSmall)return H.add(Math.floor(A()*ue));for(var le=be(ue,n).value,Te=[],Ne=!0,Pe=0;Pe<le.length;Pe++){var Ae=Ne?le[Pe]+(Pe+1<le.length?le[Pe+1]/n:0):n,Me=_(A()*Ae);Te.push(Me),Me<le[Pe]&&(Ne=!1)}return H.add(a.fromArray(Te,n,!1))}var U=function(j,O,x,A){x=x||f,j=String(j),A||(j=j.toLowerCase(),x=x.toLowerCase());var H=j.length,Z,ue=Math.abs(O),le={};for(Z=0;Z<x.length;Z++)le[x[Z]]=Z;for(Z=0;Z<H;Z++){var Te=j[Z];if(Te!=="-"&&Te in le&&le[Te]>=ue){if(Te==="1"&&ue===1)continue;throw new Error(Te+" is not a valid digit in base "+O+".")}}O=de(O);var Ne=[],Pe=j[0]==="-";for(Z=Pe?1:0;Z<j.length;Z++){var Te=j[Z];if(Te in le)Ne.push(de(le[Te]));else if(Te==="<"){var Ae=Z;do Z++;while(j[Z]!==">"&&Z<j.length);Ne.push(de(j.slice(Ae+1,Z)))}else throw new Error(Te+" is not a valid character")}return F(Ne,O,Pe)};function F(j,O,x){var A=a[0],H=a[1],Z;for(Z=j.length-1;Z>=0;Z--)A=A.add(j[Z].times(H)),H=H.times(O);return x?A.negate():A}function W(j,O){return O=O||f,j<O.length?O[j]:"<"+j+">"}function be(j,O){if(O=t(O),O.isZero()){if(j.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(O.equals(-1)){if(j.isZero())return{value:[0],isNegative:!1};if(j.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-j.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var x=Array.apply(null,Array(j.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return x.unshift([1]),{value:[].concat.apply([],x),isNegative:!1}}var A=!1;if(j.isNegative()&&O.isPositive()&&(A=!0,j=j.abs()),O.isUnit())return j.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(j.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:A};for(var H=[],Z=j,ue;Z.isNegative()||Z.compareAbs(O)>=0;){ue=Z.divmod(O),Z=ue.quotient;var le=ue.remainder;le.isNegative()&&(le=O.minus(le).abs(),Z=Z.next()),H.push(le.toJSNumber())}return H.push(Z.toJSNumber()),{value:H.reverse(),isNegative:A}}function Ee(j,O,x){var A=be(j,O);return(A.isNegative?"-":"")+A.value.map(function(H){return W(H,x)}).join("")}c.prototype.toArray=function(j){return be(this,j)},p.prototype.toArray=function(j){return be(this,j)},h.prototype.toArray=function(j){return be(this,j)},c.prototype.toString=function(j,O){if(j===r&&(j=10),j!==10||O)return Ee(this,j,O);for(var x=this.value,A=x.length,H=String(x[--A]),Z="0000000",ue;--A>=0;)ue=String(x[A]),H+=Z.slice(ue.length)+ue;var le=this.sign?"-":"";return le+H},p.prototype.toString=function(j,O){return j===r&&(j=10),j!=10||O?Ee(this,j,O):String(this.value)},h.prototype.toString=p.prototype.toString,h.prototype.toJSON=c.prototype.toJSON=p.prototype.toJSON=function(){return this.toString()},c.prototype.valueOf=function(){return parseInt(this.toString(),10)},c.prototype.toJSNumber=c.prototype.valueOf,p.prototype.valueOf=function(){return this.value},p.prototype.toJSNumber=p.prototype.valueOf,h.prototype.valueOf=h.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function xe(j){if(y(+j)){var O=+j;if(O===_(O))return d?new h(BigInt(O)):new p(O);throw new Error("Invalid integer: "+j)}var x=j[0]==="-";x&&(j=j.slice(1));var A=j.split(/e/i);if(A.length>2)throw new Error("Invalid integer: "+A.join("e"));if(A.length===2){var H=A[1];if(H[0]==="+"&&(H=H.slice(1)),H=+H,H!==_(H)||!y(H))throw new Error("Invalid integer: "+H+" is not a valid exponent.");var Z=A[0],ue=Z.indexOf(".");if(ue>=0&&(H-=Z.length-ue-1,Z=Z.slice(0,ue)+Z.slice(ue+1)),H<0)throw new Error("Cannot include negative exponent part for integers");Z+=new Array(H+1).join("0"),j=Z}var le=/^([0-9][0-9]*)$/.test(j);if(!le)throw new Error("Invalid integer: "+j);if(d)return new h(BigInt(x?"-"+j:j));for(var Te=[],Ne=j.length,Pe=i,Ae=Ne-Pe;Ne>0;)Te.push(+j.slice(Ae,Ne)),Ae-=Pe,Ae<0&&(Ae=0),Ne-=Pe;return T(Te),new c(Te,x)}function Ue(j){if(d)return new h(BigInt(j));if(y(j)){if(j!==_(j))throw new Error(j+" is not an integer.");return new p(j)}return xe(j.toString())}function de(j){return typeof j=="number"?Ue(j):typeof j=="string"?xe(j):typeof j=="bigint"?new h(j):j}for(var ge=0;ge<1e3;ge++)a[ge]=de(ge),ge>0&&(a[-ge]=de(-ge));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=Y,a.min=ce,a.gcd=_e,a.lcm=Ce,a.isInstance=function(j){return j instanceof c||j instanceof p||j instanceof h},a.randBetween=Q,a.fromArray=function(j,O,x){return F(j.map(de),de(O||10),x)},a}();e.hasOwnProperty("exports")&&(e.exports=t)})(hR);var Vd=hR.exports;Object.defineProperty(Jm,"__esModule",{value:!0});Jm.Amount=void 0;const ou=lR,jQ=ho,oE=Nf,sE=zu,KQ=Nn,M0=Vd,Cs=ze,pR=-96,yR=80,Z3=16,HQ=new ou.Decimal("1e17"),qQ=new ou.Decimal("1e-6"),aE=M0(4294967295);ou.Decimal.config({toExpPos:yR+Z3,toExpNeg:pR-Z3});function VQ(e){const t=Object.keys(e).sort();return t.length===3&&t[0]==="currency"&&t[1]==="issuer"&&t[2]==="value"}class mi extends KQ.SerializedType{constructor(t){super(t??mi.defaultAmount.bytes)}static from(t){if(t instanceof mi)return t;let r=Cs.Buffer.alloc(8);if(typeof t=="string"){mi.assertXrpIsValid(t);const n=M0(t),i=[Cs.Buffer.alloc(4),Cs.Buffer.alloc(4)];return i[0].writeUInt32BE(Number(n.shiftRight(32)),0),i[1].writeUInt32BE(Number(n.and(aE)),0),r=Cs.Buffer.concat(i),r[0]|=64,new mi(r)}if(VQ(t)){const n=new ou.Decimal(t.value);if(mi.assertIouIsValid(n),n.isZero())r[0]|=128;else{const s=n.times(`1e${-(n.e-15)}`).abs().toString(),f=M0(s),d=[Cs.Buffer.alloc(4),Cs.Buffer.alloc(4)];d[0].writeUInt32BE(Number(f.shiftRight(32)),0),d[1].writeUInt32BE(Number(f.and(aE)),0),r=Cs.Buffer.concat(d),r[0]|=128,n.gt(new ou.Decimal(0))&&(r[0]|=64);const c=97+(n.e-15);r[0]|=c>>>2,r[1]|=(c&3)<<6}const i=sE.Currency.from(t.currency).toBytes(),o=oE.AccountID.from(t.issuer).toBytes();return new mi(Cs.Buffer.concat([r,i,o]))}throw new Error("Invalid type to construct an Amount")}static fromParser(t){const n=t.peek()&128?48:8;return new mi(t.read(n))}toJSON(){if(this.isNative()){const t=this.bytes,n=t[0]&64?"":"-";t[0]&=63;const i=M0(t.slice(0,4).readUInt32BE(0)),o=M0(t.slice(4).readUInt32BE(0)),s=i.shiftLeft(32).or(o);return`${n}${s.toString()}`}else{const t=new jQ.BinaryParser(this.toString()),r=t.read(8),n=sE.Currency.fromParser(t),i=oE.AccountID.fromParser(t),o=r[0],s=r[1],d=o&64?"":"-",a=((o&63)<<2)+((s&255)>>6)-97;r[0]=0,r[1]&=63;const c=new ou.Decimal(`${d}0x${r.toString("hex")}`).times(`1e${a}`);return mi.assertIouIsValid(c),{value:c.toString(),currency:n.toJSON(),issuer:i.toJSON()}}}static assertXrpIsValid(t){if(t.indexOf(".")!==-1)throw new Error(`${t.toString()} is an illegal amount`);const r=new ou.Decimal(t);if(!r.isZero()&&(r.lt(qQ)||r.gt(HQ)))throw new Error(`${t.toString()} is an illegal amount`)}static assertIouIsValid(t){if(!t.isZero()){const r=t.precision(),n=t.e-15;if(r>Z3||n>yR||n<pR)throw new Error("Decimal precision out of range");this.verifyNoDecimal(t)}}static verifyNoDecimal(t){if(t.times(`1e${-(t.e-15)}`).abs().toString().indexOf(".")!==-1)throw new Error("Decimal place found in integerNumberString")}isNative(){return(this.bytes[0]&128)===0}}Jm.Amount=mi;mi.defaultAmount=new mi(Cs.Buffer.from("4000000000000000","hex"));var Xm={};Object.defineProperty(Xm,"__esModule",{value:!0});Xm.Blob=void 0;const zQ=Nn,YQ=ze;class J0 extends zQ.SerializedType{constructor(t){super(t)}static fromParser(t,r){return new J0(t.read(r))}static from(t){if(t instanceof J0)return t;if(typeof t=="string")return new J0(YQ.Buffer.from(t,"hex"));throw new Error("Cannot construct Blob from value given")}}Xm.Blob=J0;var Zm={};Object.defineProperty(Zm,"__esModule",{value:!0});Zm.Hash128=void 0;const GQ=qd,JQ=ze;class yf extends GQ.Hash{constructor(t){t&&t.byteLength===0&&(t=yf.ZERO_128.bytes),super(t??yf.ZERO_128.bytes)}toHex(){const t=this.toBytes().toString("hex").toUpperCase();return/^0+$/.exec(t)?"":t}}Zm.Hash128=yf;yf.width=16;yf.ZERO_128=new yf(JQ.Buffer.alloc(yf.width));var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.Hash256=void 0;const WQ=qd,XQ=ze;class uu extends WQ.Hash{constructor(t){super(t??uu.ZERO_256.bytes)}}Yu.Hash256=uu;uu.width=32;uu.ZERO_256=new uu(XQ.Buffer.alloc(uu.width));var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});Ep.Issue=void 0;const ZQ=ho,fE=Nf,x_=zu,QQ=Nn,Q3=ze;function eee(e){const t=Object.keys(e).sort();return t.length===1?t[0]==="currency":t.length===2&&t[0]==="currency"&&t[1]==="issuer"}class wo extends QQ.SerializedType{constructor(t){super(t??wo.ZERO_ISSUED_CURRENCY.bytes)}static from(t){if(t instanceof wo)return t;if(eee(t)){const r=x_.Currency.from(t.currency).toBytes();if(t.issuer==null)return new wo(r);const n=fE.AccountID.from(t.issuer).toBytes();return new wo(Q3.Buffer.concat([r,n]))}throw new Error("Invalid type to construct an Amount")}static fromParser(t){const r=t.read(20);if(new x_.Currency(r).toJSON()==="XRP")return new wo(r);const n=[r,t.read(20)];return new wo(Q3.Buffer.concat(n))}toJSON(){const t=new ZQ.BinaryParser(this.toString()),r=x_.Currency.fromParser(t);if(r.toJSON()==="XRP")return{currency:r.toJSON()};const n=fE.AccountID.fromParser(t);return{currency:r.toJSON(),issuer:n.toJSON()}}}Ep.Issue=wo;wo.ZERO_ISSUED_CURRENCY=new wo(Q3.Buffer.alloc(20));var Qm={};Object.defineProperty(Qm,"__esModule",{value:!0});Qm.PathSet=void 0;const fc=Nf,S_=zu,_w=ho,ww=Nn,ls=ze,e6=0,gR=255,B_=1,C_=16,D_=32;function tee(e){return e.issuer!==void 0||e.account!==void 0||e.currency!==void 0}function ree(e){return Array.isArray(e)&&e.length===0||Array.isArray(e)&&Array.isArray(e[0])&&e[0].length===0||Array.isArray(e)&&Array.isArray(e[0])&&tee(e[0][0])}class cu extends ww.SerializedType{static from(t){if(t instanceof cu)return t;const r=[ls.Buffer.from([0])];return t.account&&(r.push(fc.AccountID.from(t.account).toBytes()),r[0][0]|=B_),t.currency&&(r.push(S_.Currency.from(t.currency).toBytes()),r[0][0]|=C_),t.issuer&&(r.push(fc.AccountID.from(t.issuer).toBytes()),r[0][0]|=D_),new cu(ls.Buffer.concat(r))}static fromParser(t){const r=t.readUInt8(),n=[ls.Buffer.from([r])];return r&B_&&n.push(t.read(fc.AccountID.width)),r&C_&&n.push(t.read(S_.Currency.width)),r&D_&&n.push(t.read(fc.AccountID.width)),new cu(ls.Buffer.concat(n))}toJSON(){const t=new _w.BinaryParser(this.bytes.toString("hex")),r=t.readUInt8();let n,i,o;r&B_&&(n=fc.AccountID.fromParser(t).toJSON()),r&C_&&(i=S_.Currency.fromParser(t).toJSON()),r&D_&&(o=fc.AccountID.fromParser(t).toJSON());const s={};return n&&(s.account=n),o&&(s.issuer=o),i&&(s.currency=i),s}type(){return this.bytes[0]}}class du extends ww.SerializedType{static from(t){if(t instanceof du)return t;const r=[];return t.forEach(n=>{r.push(cu.from(n).toBytes())}),new du(ls.Buffer.concat(r))}static fromParser(t){const r=[];for(;!t.end()&&(r.push(cu.fromParser(t).toBytes()),!(t.peek()===e6||t.peek()===gR)););return new du(ls.Buffer.concat(r))}toJSON(){const t=[],r=new _w.BinaryParser(this.toString());for(;!r.end();)t.push(cu.fromParser(r).toJSON());return t}}class W0 extends ww.SerializedType{static from(t){if(t instanceof W0)return t;if(ree(t)){const r=[];return t.forEach(n=>{r.push(du.from(n).toBytes()),r.push(ls.Buffer.from([gR]))}),r[r.length-1]=ls.Buffer.from([e6]),new W0(ls.Buffer.concat(r))}throw new Error("Cannot construct PathSet from given value")}static fromParser(t){const r=[];for(;!t.end()&&(r.push(du.fromParser(t).toBytes()),r.push(t.read(1)),r[r.length-1][0]!=e6););return new W0(ls.Buffer.concat(r))}toJSON(){const t=[],r=new _w.BinaryParser(this.toString());for(;!r.end();)t.push(du.fromParser(r).toJSON()),r.skip(1);return t}}Qm.PathSet=W0;var x0={},S0={},uE;function Tw(){if(uE)return S0;uE=1,Object.defineProperty(S0,"__esModule",{value:!0}),S0.STObject=void 0;const e=Pf,t=Nn,r=bw,n=ho,i=vs,o=ze,s=mR(),f=o.Buffer.from([225]),d="ObjectEndMarker",a="STObject",c="Destination",p="Account",h="SourceTag",y="DestinationTag";function g(I,_){const C=(0,r.xAddressToClassicAddress)(_);let w;if(I===c)w=y;else if(I===p)w=h;else if(C.tag!==!1)throw new Error(`${I} cannot have an associated tag`);return C.tag!==!1?{[I]:C.classicAddress,[w]:C.tag}:{[I]:C.classicAddress}}function v(I,_){if(!(I[h]===void 0||_[h]===void 0))throw new Error("Cannot have Account X-Address and SourceTag");if(!(I[y]===void 0||_[y]===void 0))throw new Error("Cannot have Destination X-Address and DestinationTag")}class T extends t.SerializedType{static fromParser(_){const C=new i.BytesList,w=new i.BinarySerializer(C);for(;!_.end();){const P=_.readField();if(P.name===d)break;const D=_.readFieldValue(P);w.writeFieldAndValue(P,D),P.type.name===a&&w.put(f)}return new T(C.toBytes())}static from(_,C,w=e.DEFAULT_DEFINITIONS){if(_ instanceof T)return _;const P=new i.BytesList,D=new i.BinarySerializer(P);let u=!1;const l=Object.entries(_).reduce((R,[B,b])=>{let E;return b&&(0,r.isValidXAddress)(b.toString())&&(E=g(B,b.toString()),v(E,_)),Object.assign(R,E??{[B]:b})},{});let m=Object.keys(l).map(R=>w.field[R]).filter(R=>R!==void 0&&l[R.name]!==void 0&&R.isSerialized).sort((R,B)=>R.ordinal-B.ordinal);return C!==void 0&&(m=m.filter(C)),m.forEach(R=>{const B=R.type.name===a?this.from(l[R.name],void 0,w):R.type.name==="STArray"?s.STArray.from(l[R.name],w):R.associatedType.from(l[R.name]);if(B==null)throw new TypeError(`Unable to interpret "${R.name}: ${l[R.name]}".`);B.name==="UNLModify"&&(u=!0);const b=R.name=="Account"&&u;D.writeFieldAndValue(R,B,b),R.type.name===a&&D.put(f)}),new T(P.toBytes())}toJSON(_){const C=new n.BinaryParser(this.toString(),_),w={};for(;!C.end();){const P=C.readField();if(P.name===d)break;w[P.name]=C.readFieldValue(P).toJSON(_)}return w}}return S0.STObject=T,S0}var cE;function mR(){if(cE)return x0;cE=1,Object.defineProperty(x0,"__esModule",{value:!0}),x0.STArray=void 0;const e=Pf,t=Nn,r=Tw(),n=ho,i=ze,o=i.Buffer.from([241]),s="ArrayEndMarker",f=i.Buffer.from([225]);function d(c){return Array.isArray(c)&&(c.length===0||typeof c[0]=="object")}class a extends t.SerializedType{static fromParser(p){const h=[];for(;!p.end();){const y=p.readField();if(y.name===s)break;h.push(y.header,p.readFieldValue(y).toBytes(),f)}return h.push(o),new a(i.Buffer.concat(h))}static from(p,h=e.DEFAULT_DEFINITIONS){if(p instanceof a)return p;if(d(p)){const y=[];return p.forEach(g=>{y.push(r.STObject.from(g,void 0,h).toBytes())}),y.push(o),new a(i.Buffer.concat(y))}throw new Error("Cannot construct STArray from value given")}toJSON(p=e.DEFAULT_DEFINITIONS){const h=[],y=new n.BinaryParser(this.toString(),p);for(;!y.end();){const g=y.readField();if(g.name===s)break;const v={};v[g.name]=r.STObject.fromParser(y).toJSON(p),h.push(v)}return h}}return x0.STArray=a,x0}var eb={},Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.UInt=void 0;const nee=Nn;function iee(e,t){return e<t?-1:e==t?0:1}class oee extends nee.Comparable{constructor(t){super(t)}compareTo(t){return iee(this.valueOf(),t.valueOf())}toJSON(){const t=this.valueOf();return typeof t=="number"?t:t.toString()}}Gu.UInt=oee;Object.defineProperty(eb,"__esModule",{value:!0});eb.UInt16=void 0;const see=Gu,bR=ze;class bi extends see.UInt{constructor(t){super(t??bi.defaultUInt16.bytes)}static fromParser(t){return new bi(t.read(bi.width))}static from(t){if(t instanceof bi)return t;if(typeof t=="number"){const r=bR.Buffer.alloc(bi.width);return r.writeUInt16BE(t,0),new bi(r)}throw new Error("Can not construct UInt16 with given value")}valueOf(){return this.bytes.readUInt16BE(0)}}eb.UInt16=bi;bi.width=16/8;bi.defaultUInt16=new bi(bR.Buffer.alloc(bi.width));var xp={};Object.defineProperty(xp,"__esModule",{value:!0});xp.UInt32=void 0;const aee=Gu,vR=ze;class ai extends aee.UInt{constructor(t){super(t??ai.defaultUInt32.bytes)}static fromParser(t){return new ai(t.read(ai.width))}static from(t){if(t instanceof ai)return t;const r=vR.Buffer.alloc(ai.width);if(typeof t=="string"){const n=Number.parseInt(t);return r.writeUInt32BE(n,0),new ai(r)}if(typeof t=="number")return r.writeUInt32BE(t,0),new ai(r);throw new Error("Cannot construct UInt32 from given value")}valueOf(){return this.bytes.readUInt32BE(0)}}xp.UInt32=ai;ai.width=32/8;ai.defaultUInt32=new ai(vR.Buffer.alloc(ai.width));var Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});Sp.UInt64=void 0;const fee=Gu,cc=Vd,uee=Vd,Ds=ze,cee=/^[a-fA-F0-9]{1,16}$/,dE=cc(4294967295);class Gn extends fee.UInt{constructor(t){super(t??Gn.defaultUInt64.bytes)}static fromParser(t){return new Gn(t.read(Gn.width))}static from(t){if(t instanceof Gn)return t;let r=Ds.Buffer.alloc(Gn.width);if(typeof t=="number"){if(t<0)throw new Error("value must be an unsigned integer");const n=cc(t),i=[Ds.Buffer.alloc(4),Ds.Buffer.alloc(4)];return i[0].writeUInt32BE(Number(n.shiftRight(32)),0),i[1].writeUInt32BE(Number(n.and(dE)),0),new Gn(Ds.Buffer.concat(i))}if(typeof t=="string"){if(!cee.test(t))throw new Error(`${t} is not a valid hex-string`);const n=t.padStart(16,"0");return r=Ds.Buffer.from(n,"hex"),new Gn(r)}if((0,uee.isInstance)(t)){const n=[Ds.Buffer.alloc(4),Ds.Buffer.alloc(4)];return n[0].writeUInt32BE(Number(t.shiftRight(cc(32))),0),n[1].writeUInt32BE(Number(t.and(dE)),0),new Gn(Ds.Buffer.concat(n))}throw new Error("Cannot construct UInt64 from given value")}toJSON(){return this.bytes.toString("hex").toUpperCase()}valueOf(){const t=cc(this.bytes.slice(0,4).readUInt32BE(0)),r=cc(this.bytes.slice(4).readUInt32BE(0));return t.shiftLeft(cc(32)).or(r)}toBytes(){return this.bytes}}Sp.UInt64=Gn;Gn.width=64/8;Gn.defaultUInt64=new Gn(Ds.Buffer.alloc(Gn.width));var Bp={};Object.defineProperty(Bp,"__esModule",{value:!0});Bp.UInt8=void 0;const dee=Gu,_R=ze;class vi extends dee.UInt{constructor(t){super(t??vi.defaultUInt8.bytes)}static fromParser(t){return new vi(t.read(vi.width))}static from(t){if(t instanceof vi)return t;if(typeof t=="number"){const r=_R.Buffer.alloc(vi.width);return r.writeUInt8(t,0),new vi(r)}throw new Error("Cannot construct UInt8 from given value")}valueOf(){return this.bytes.readUInt8(0)}}Bp.UInt8=vi;vi.width=8/8;vi.defaultUInt8=new vi(_R.Buffer.alloc(vi.width));var tb={};Object.defineProperty(tb,"__esModule",{value:!0});tb.Vector256=void 0;const lee=Nn,lE=Yu,hE=vs;function hee(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="string")}class X0 extends lee.SerializedType{constructor(t){super(t)}static fromParser(t,r){const n=new hE.BytesList,o=(r??t.size())/32;for(let s=0;s<o;s++)lE.Hash256.fromParser(t).toBytesSink(n);return new X0(n.toBytes())}static from(t){if(t instanceof X0)return t;if(hee(t)){const r=new hE.BytesList;return t.forEach(n=>{lE.Hash256.from(n).toBytesSink(r)}),new X0(r.toBytes())}throw new Error("Cannot construct Vector256 from given value")}toJSON(){if(this.bytes.byteLength%32!==0)throw new Error("Invalid bytes for Vector256");const t=[];for(let r=0;r<this.bytes.byteLength;r+=32)t.push(this.bytes.slice(r,r+32).toString("hex").toUpperCase());return t}}tb.Vector256=X0;var rb={};Object.defineProperty(rb,"__esModule",{value:!0});rb.XChainBridge=void 0;const pee=ho,Z0=Nf,yee=Nn,Ms=ze,pE=Ep;function gee(e){const t=Object.keys(e).sort();return t.length===4&&t[0]==="IssuingChainDoor"&&t[1]==="IssuingChainIssue"&&t[2]==="LockingChainDoor"&&t[3]==="LockingChainIssue"}class So extends yee.SerializedType{constructor(t){super(t??So.ZERO_XCHAIN_BRIDGE.bytes)}static from(t){if(t instanceof So)return t;if(!gee(t))throw new Error("Invalid type to construct an XChainBridge");const r=[];return this.TYPE_ORDER.forEach(n=>{const{name:i,type:o}=n;o===Z0.AccountID&&r.push(Ms.Buffer.from([20]));const s=o.from(t[i]);r.push(s.toBytes())}),new So(Ms.Buffer.concat(r))}static fromParser(t){const r=[];return this.TYPE_ORDER.forEach(n=>{const{type:i}=n;i===Z0.AccountID&&(t.skip(1),r.push(Ms.Buffer.from([20])));const o=i.fromParser(t);r.push(o.toBytes())}),new So(Ms.Buffer.concat(r))}toJSON(){const t=new pee.BinaryParser(this.toString()),r={};return So.TYPE_ORDER.forEach(n=>{const{name:i,type:o}=n;o===Z0.AccountID&&t.skip(1);const s=o.fromParser(t).toJSON();r[i]=s}),r}}rb.XChainBridge=So;So.ZERO_XCHAIN_BRIDGE=new So(Ms.Buffer.concat([Ms.Buffer.from([20]),Ms.Buffer.alloc(40),Ms.Buffer.from([20]),Ms.Buffer.alloc(40)]));So.TYPE_ORDER=[{name:"LockingChainDoor",type:Z0.AccountID},{name:"LockingChainIssue",type:pE.Issue},{name:"IssuingChainDoor",type:Z0.AccountID},{name:"IssuingChainIssue",type:pE.Issue}];(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Vector256=e.UInt64=e.UInt32=e.UInt16=e.UInt8=e.STObject=e.STArray=e.PathSet=e.Hash256=e.Hash160=e.Hash128=e.Currency=e.Blob=e.Amount=e.AccountID=e.coreTypes=void 0;const t=Nf;Object.defineProperty(e,"AccountID",{enumerable:!0,get:function(){return t.AccountID}});const r=Jm;Object.defineProperty(e,"Amount",{enumerable:!0,get:function(){return r.Amount}});const n=Xm;Object.defineProperty(e,"Blob",{enumerable:!0,get:function(){return n.Blob}});const i=zu;Object.defineProperty(e,"Currency",{enumerable:!0,get:function(){return i.Currency}});const o=Zm;Object.defineProperty(e,"Hash128",{enumerable:!0,get:function(){return o.Hash128}});const s=Hd;Object.defineProperty(e,"Hash160",{enumerable:!0,get:function(){return s.Hash160}});const f=Yu;Object.defineProperty(e,"Hash256",{enumerable:!0,get:function(){return f.Hash256}});const d=Ep,a=Qm;Object.defineProperty(e,"PathSet",{enumerable:!0,get:function(){return a.PathSet}});const c=mR();Object.defineProperty(e,"STArray",{enumerable:!0,get:function(){return c.STArray}});const p=Tw();Object.defineProperty(e,"STObject",{enumerable:!0,get:function(){return p.STObject}});const h=eb;Object.defineProperty(e,"UInt16",{enumerable:!0,get:function(){return h.UInt16}});const y=xp;Object.defineProperty(e,"UInt32",{enumerable:!0,get:function(){return y.UInt32}});const g=Sp;Object.defineProperty(e,"UInt64",{enumerable:!0,get:function(){return g.UInt64}});const v=Bp;Object.defineProperty(e,"UInt8",{enumerable:!0,get:function(){return v.UInt8}});const T=tb;Object.defineProperty(e,"Vector256",{enumerable:!0,get:function(){return T.Vector256}});const I=rb,_=Pf,C={AccountID:t.AccountID,Amount:r.Amount,Blob:n.Blob,Currency:i.Currency,Hash128:o.Hash128,Hash160:s.Hash160,Hash256:f.Hash256,Issue:d.Issue,PathSet:a.PathSet,STArray:c.STArray,STObject:p.STObject,UInt8:v.UInt8,UInt16:h.UInt16,UInt32:y.UInt32,UInt64:g.UInt64,Vector256:T.Vector256,XChainBridge:I.XChainBridge};e.coreTypes=C,_.DEFAULT_DEFINITIONS.associateTypes(C)})(Vu);var Iw={},Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});Mf.HashPrefix=void 0;const mee=ze;function bo(e){const t=mee.Buffer.alloc(4);return t.writeUInt32BE(e,0),t}const bee={transactionID:bo(1415073280),transaction:bo(1397638144),accountStateEntry:bo(1296846336),innerNode:bo(1296649728),ledgerHeader:bo(1280791040),transactionSig:bo(1398036480),transactionMultiSig:bo(1397576704),validation:bo(1447119872),proposal:bo(1347571712),paymentChannelClaim:bo(1129073920)};Mf.HashPrefix=bee;var no={};Object.defineProperty(no,"__esModule",{value:!0});no.transactionID=no.sha512Half=no.Sha512Half=void 0;const vee=Mf,_ee=Wg,wR=Yu,wee=vs,Tee=ze;class nb extends wee.BytesList{constructor(){super(...arguments),this.hash=_ee("sha512")}static put(t){return new nb().put(t)}put(t){return this.hash.update(t),this}finish256(){return Tee.Buffer.from(this.hash.digest().slice(0,32))}finish(){return new wR.Hash256(this.finish256())}}no.Sha512Half=nb;function TR(...e){const t=new nb;return e.forEach(r=>t.put(r)),t.finish256()}no.sha512Half=TR;function Iee(e){return new wR.Hash256(TR(vee.HashPrefix.transactionID,e))}no.transactionID=Iee;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.transactionID=e.sha512Half=e.binaryToJSON=e.signingClaimData=e.signingData=e.multiSigningData=e.readJSON=e.serializeObject=e.makeParser=e.BytesList=e.BinarySerializer=e.BinaryParser=void 0;const t=Vu,r=ho;Object.defineProperty(e,"BinaryParser",{enumerable:!0,get:function(){return r.BinaryParser}});const n=Mf,i=vs;Object.defineProperty(e,"BinarySerializer",{enumerable:!0,get:function(){return i.BinarySerializer}}),Object.defineProperty(e,"BytesList",{enumerable:!0,get:function(){return i.BytesList}});const o=no;Object.defineProperty(e,"sha512Half",{enumerable:!0,get:function(){return o.sha512Half}}),Object.defineProperty(e,"transactionID",{enumerable:!0,get:function(){return o.transactionID}});const s=Pf,f=Vd,d=(v,T)=>new r.BinaryParser(v,T);e.makeParser=d;const a=(v,T=s.DEFAULT_DEFINITIONS)=>v.readType(t.coreTypes.STObject).toJSON(T);e.readJSON=a;const c=(v,T)=>a(d(v,T),T);e.binaryToJSON=c;function p(v,T={}){const{prefix:I,suffix:_,signingFieldsOnly:C=!1,definitions:w}=T,P=new i.BytesList;I&&P.put(I);const D=C?u=>u.isSigningField:void 0;return t.coreTypes.STObject.from(v,D,w).toBytesSink(P),_&&P.put(_),P.toBytes()}e.serializeObject=p;function h(v,T=n.HashPrefix.transactionSig,I={}){return p(v,{prefix:T,signingFieldsOnly:!0,definitions:I.definitions})}e.signingData=h;function y(v){const T=f(String(v.amount)),I=n.HashPrefix.paymentChannelClaim,_=t.coreTypes.Hash256.from(v.channel).toBytes(),C=t.coreTypes.UInt64.from(T).toBytes(),w=new i.BytesList;return w.put(I),w.put(_),w.put(C),w.toBytes()}e.signingClaimData=y;function g(v,T,I={definitions:s.DEFAULT_DEFINITIONS}){const _=n.HashPrefix.transactionMultiSig,C=t.coreTypes.AccountID.from(T).toBytes();return p(v,{prefix:_,suffix:C,signingFieldsOnly:!0,definitions:I.definitions})}e.multiSigningData=g})(Iw);var sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.ShaMapLeaf=sa.ShaMapNode=sa.ShaMap=void 0;const Eee=Di(),yE=Vu,xee=Mf,IR=no,See=ze;class Ew{}sa.ShaMapNode=Ew;class t6 extends Ew{constructor(t,r){super(),this.index=t,this.item=r}isLeaf(){return!0}isInner(){return!1}hashPrefix(){return this.item===void 0?See.Buffer.alloc(0):this.item.hashPrefix()}hash(){const t=IR.Sha512Half.put(this.hashPrefix());return this.toBytesSink(t),t.finish()}toBytesSink(t){this.item!==void 0&&this.item.toBytesSink(t),this.index.toBytesSink(t)}}sa.ShaMapLeaf=t6;class Ag extends Ew{constructor(t=0){super(),this.depth=t,this.slotBits=0,this.branches=Array(16)}isInner(){return!0}isLeaf(){return!1}hashPrefix(){return xee.HashPrefix.innerNode}setBranch(t,r){this.slotBits=this.slotBits|1<<t,this.branches[t]=r}empty(){return this.slotBits===0}hash(){if(this.empty())return yE.coreTypes.Hash256.ZERO_256;const t=IR.Sha512Half.put(this.hashPrefix());return this.toBytesSink(t),t.finish()}toBytesSink(t){for(let r=0;r<this.branches.length;r++){const n=this.branches[r];(n?n.hash():yE.coreTypes.Hash256.ZERO_256).toBytesSink(t)}}addItem(t,r,n){if(Eee.strict.ok(t!==void 0),t!==void 0){const i=t.nibblet(this.depth),o=this.branches[i];if(o===void 0)this.setBranch(i,n||new t6(t,r));else if(o instanceof t6){const s=new Ag(this.depth+1);s.addItem(o.index,void 0,o),s.addItem(t,r,n),this.setBranch(i,s)}else if(o instanceof Ag)o.addItem(t,r,n);else throw new Error("invalid ShaMap.addItem call")}}}class Bee extends Ag{}sa.ShaMap=Bee;var ro={},Cee=Be&&Be.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Dee=Be&&Be.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ree=Be&&Be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Cee(t,e,r);return Dee(t,e),t};Object.defineProperty(ro,"__esModule",{value:!0});ro.decodeLedgerData=ro.ledgerHash=ro.transactionTreeHash=ro.accountStateHash=void 0;const Pg=Ree(Di()),Oee=sa,xw=Mf,Aee=no,ER=Iw,gf=Yu,gE=Tw(),xR=Sp,R_=xp,mE=Bp,Pee=ho,Nee=Vd;function SR(e,t){const r=new Oee.ShaMap;return t.forEach(n=>r.addItem(...e(n))),r.hash()}function Mee(e){return Pg.ok(e.hash),[gf.Hash256.from(e.hash),{hashPrefix(){return xw.HashPrefix.transaction},toBytesSink(n){const i=new ER.BinarySerializer(n);i.writeLengthEncoded(gE.STObject.from(e)),i.writeLengthEncoded(gE.STObject.from(e.metaData))}},void 0]}function Uee(e){const t=gf.Hash256.from(e.index),r=(0,ER.serializeObject)(e);return[t,{hashPrefix(){return xw.HashPrefix.accountStateEntry},toBytesSink(i){i.put(r)}},void 0]}function kee(e){return SR(Mee,e)}ro.transactionTreeHash=kee;function $ee(e){return SR(Uee,e)}ro.accountStateHash=$ee;function Fee(e){const t=new Aee.Sha512Half;return t.put(xw.HashPrefix.ledgerHeader),Pg.ok(e.parent_close_time!==void 0),Pg.ok(e.close_flags!==void 0),R_.UInt32.from(e.ledger_index).toBytesSink(t),xR.UInt64.from(Nee(String(e.total_coins))).toBytesSink(t),gf.Hash256.from(e.parent_hash).toBytesSink(t),gf.Hash256.from(e.transaction_hash).toBytesSink(t),gf.Hash256.from(e.account_hash).toBytesSink(t),R_.UInt32.from(e.parent_close_time).toBytesSink(t),R_.UInt32.from(e.close_time).toBytesSink(t),mE.UInt8.from(e.close_time_resolution).toBytesSink(t),mE.UInt8.from(e.close_flags).toBytesSink(t),t.finish()}ro.ledgerHash=Fee;function Lee(e,t){Pg.ok(typeof e=="string","binary must be a hex string");const r=new Pee.BinaryParser(e,t);return{ledger_index:r.readUInt32(),total_coins:r.readType(xR.UInt64).valueOf().toString(),parent_hash:r.readType(gf.Hash256).toHex(),transaction_hash:r.readType(gf.Hash256).toHex(),account_hash:r.readType(gf.Hash256).toHex(),parent_close_time:r.readUInt32(),close_time:r.readUInt32(),close_time_resolution:r.readUInt8(),close_flags:r.readUInt8()}}ro.decodeLedgerData=Lee;var ib={};Object.defineProperty(ib,"__esModule",{value:!0});ib.quality=void 0;const jee=Vu,bE=lR,Kee=Vd,Hee=ze;class qee{static encode(t){const r=new bE.Decimal(t),n=r.e-15,i=r.times(`1e${-n}`).abs().toString(),o=jee.coreTypes.UInt64.from(Kee(i)).toBytes();return o[0]=n+100,o}static decode(t){const r=Hee.Buffer.from(t,"hex").slice(-8),n=r[0]-100;return new bE.Decimal(`0x${r.slice(1).toString("hex")}`).times(`1e${n}`)}}ib.quality=qee;(function(e){var t=Be&&Be.__createBinding||(Object.create?function(h,y,g,v){v===void 0&&(v=g);var T=Object.getOwnPropertyDescriptor(y,g);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(h,v,T)}:function(h,y,g,v){v===void 0&&(v=g),h[v]=y[g]}),r=Be&&Be.__setModuleDefault||(Object.create?function(h,y){Object.defineProperty(h,"default",{enumerable:!0,value:y})}:function(h,y){h.default=y}),n=Be&&Be.__importStar||function(h){if(h&&h.__esModule)return h;var y={};if(h!=null)for(var g in h)g!=="default"&&Object.prototype.hasOwnProperty.call(h,g)&&t(y,h,g);return r(y,h),y};Object.defineProperty(e,"__esModule",{value:!0}),e.types=e.ShaMap=e.HashPrefix=e.quality=e.TransactionResult=e.Type=e.LedgerEntryType=e.TransactionType=e.Field=e.DEFAULT_DEFINITIONS=e.ledgerHashes=e.binary=e.hashes=void 0;const i=Pf;Object.defineProperty(e,"DEFAULT_DEFINITIONS",{enumerable:!0,get:function(){return i.DEFAULT_DEFINITIONS}}),Object.defineProperty(e,"Field",{enumerable:!0,get:function(){return i.Field}}),Object.defineProperty(e,"TransactionType",{enumerable:!0,get:function(){return i.TransactionType}}),Object.defineProperty(e,"LedgerEntryType",{enumerable:!0,get:function(){return i.LedgerEntryType}}),Object.defineProperty(e,"Type",{enumerable:!0,get:function(){return i.Type}}),Object.defineProperty(e,"TransactionResult",{enumerable:!0,get:function(){return i.TransactionResult}});const o=n(Vu);e.types=o;const s=n(Iw);e.binary=s;const f=sa;Object.defineProperty(e,"ShaMap",{enumerable:!0,get:function(){return f.ShaMap}});const d=n(ro);e.ledgerHashes=d;const a=n(no);e.hashes=a;const c=ib;Object.defineProperty(e,"quality",{enumerable:!0,get:function(){return c.quality}});const p=Mf;Object.defineProperty(e,"HashPrefix",{enumerable:!0,get:function(){return p.HashPrefix}})})(nR);var ob={};Object.defineProperty(ob,"__esModule",{value:!0});ob.XrplDefinitions=void 0;const Vee=mw,zee=Vu;class Yee extends Vee.XrplDefinitionsBase{constructor(t,r){const n=Object.assign({},zee.coreTypes,r);super(t,n)}}ob.XrplDefinitions=Yee;(function(e){var t=Be&&Be.__createBinding||(Object.create?function(D,u,l,m){m===void 0&&(m=l);var R=Object.getOwnPropertyDescriptor(u,l);(!R||("get"in R?!u.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(D,m,R)}:function(D,u,l,m){m===void 0&&(m=l),D[m]=u[l]}),r=Be&&Be.__setModuleDefault||(Object.create?function(D,u){Object.defineProperty(D,"default",{enumerable:!0,value:u})}:function(D,u){D.default=u}),n=Be&&Be.__importStar||function(D){if(D&&D.__esModule)return D;var u={};if(D!=null)for(var l in D)l!=="default"&&Object.prototype.hasOwnProperty.call(D,l)&&t(u,D,l);return r(u,D),u};Object.defineProperty(e,"__esModule",{value:!0}),e.coreTypes=e.DEFAULT_DEFINITIONS=e.XrplDefinitionsBase=e.XrplDefinitions=e.TRANSACTION_TYPES=e.decodeLedgerData=e.decodeQuality=e.encodeQuality=e.encodeForMultisigning=e.encodeForSigningClaim=e.encodeForSigning=e.encode=e.decode=void 0;const i=n(Di()),o=nR,s=ro;Object.defineProperty(e,"decodeLedgerData",{enumerable:!0,get:function(){return s.decodeLedgerData}});const f=Pf;Object.defineProperty(e,"XrplDefinitionsBase",{enumerable:!0,get:function(){return f.XrplDefinitionsBase}}),Object.defineProperty(e,"TRANSACTION_TYPES",{enumerable:!0,get:function(){return f.TRANSACTION_TYPES}}),Object.defineProperty(e,"DEFAULT_DEFINITIONS",{enumerable:!0,get:function(){return f.DEFAULT_DEFINITIONS}});const d=ob;Object.defineProperty(e,"XrplDefinitions",{enumerable:!0,get:function(){return d.XrplDefinitions}});const a=Vu;Object.defineProperty(e,"coreTypes",{enumerable:!0,get:function(){return a.coreTypes}});const{signingData:c,signingClaimData:p,multiSigningData:h,binaryToJSON:y,serializeObject:g}=o.binary;function v(D,u){return i.ok(typeof D=="string","binary must be a hex string"),y(D,u)}e.decode=v;function T(D,u){return i.ok(typeof D=="object"),g(D,{definitions:u}).toString("hex").toUpperCase()}e.encode=T;function I(D,u){return i.ok(typeof D=="object"),c(D,o.HashPrefix.transactionSig,{definitions:u}).toString("hex").toUpperCase()}e.encodeForSigning=I;function _(D){return i.ok(typeof D=="object"),p(D).toString("hex").toUpperCase()}e.encodeForSigningClaim=_;function C(D,u,l){return i.ok(typeof D=="object"),i.equal(D.SigningPubKey,""),h(D,u,l?{definitions:l}:void 0).toString("hex").toUpperCase()}e.encodeForMultisigning=C;function w(D){return i.ok(typeof D=="string"),o.quality.encode(D).toString("hex").toUpperCase()}e.encodeQuality=w;function P(D){return i.ok(typeof D=="string"),o.quality.decode(D).toString()}e.decodeQuality=P})(rR);Object.defineProperty(Ym,"__esModule",{value:!0});Ym.KeystoneXrpSDK=void 0;const Gee=Tt,Jee=rR;class Wee{parseAccount(t){const r=t.decodeCBOR().toString();return JSON.parse(r)}parseSignature(t){if(t.type!=="bytes")throw new Error("type not match");try{const r=t.decodeCBOR().toString("hex");return(0,Jee.decode)(r).TxnSignature}catch{throw new Error("signature is invalid")}}generateSignRequest(t){const r=JSON.stringify(t);return Gee.UR.fromBuffer(Buffer.from(r))}}Ym.KeystoneXrpSDK=Wee;(function(e){var t=Be&&Be.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var f=Object.getOwnPropertyDescriptor(i,o);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,f)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=Be&&Be.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ym,e)})(tR);Object.defineProperty(a1,"__esModule",{value:!0});a1.KeystoneSDK=void 0;const Un=E6,Ba=GD,Xee=tR;let sb=class{constructor(t){this.parseMultiAccounts=Ba.parseMultiAccounts,this.parseTonAccount=Ba.parseTonAccount,this.parseHDKey=Ba.parseHDKey,this.parseAccount=Ba.parseAccount,this.generateKeyDerivationCall=Ba.generateKeyDerivationCall,this.config=t}get btc(){return this._btc===void 0&&(this._btc=new Un.KeystoneBitcoinSDK),this._btc}get eth(){return this._eth===void 0&&(this._eth=new Un.KeystoneEthereumSDK(this.config)),this._eth}get sol(){return this._sol===void 0&&(this._sol=new Un.KeystoneSolanaSDK),this._sol}get cosmos(){return this._cosmos===void 0&&(this._cosmos=new Un.KeystoneCosmosSDK(this.config)),this._cosmos}get evm(){return this._evm===void 0&&(this._evm=new Un.KeystoneEvmSDK(this.config)),this._evm}get tron(){return this._tron===void 0&&(this._tron=new Un.KeystoneTronSDK),this._tron}get ltc(){return this._ltc===void 0&&(this._ltc=new Un.KeystoneLitecoinSDK),this._ltc}get bch(){return this._bch===void 0&&(this._bch=new Un.KeystoneBitcoinCashSDK),this._bch}get dash(){return this._dash===void 0&&(this._dash=new Un.KeystoneDashSDK),this._dash}get aptos(){return this._aptos===void 0&&(this._aptos=new Un.KeystoneAptosSDK),this._aptos}get near(){return this._near===void 0&&(this._near=new Un.KeystoneNearSDK),this._near}get arweave(){return this._arweave===void 0&&(this._arweave=new Un.KeystoneArweaveSDK),this._arweave}get sui(){return this._sui===void 0&&(this._sui=new Un.KeystoneSuiSDK),this._sui}get cardano(){return this._cardano===void 0&&(this._cardano=new Un.KeystoneCardanoSDK),this._cardano}get xrp(){return this._xrp===void 0&&(this._xrp=new Xee.KeystoneXrpSDK),this._xrp}get ton(){return this._ton===void 0&&(this._ton=new Un.KeystoneTonSDK(this.config)),this._ton}};sb.parseMultiAccounts=Ba.parseMultiAccounts;sb.parseHDKey=Ba.parseHDKey;sb.generateKeyDerivationCall=Ba.generateKeyDerivationCall;a1.KeystoneSDK=sb;(function(e){var t=Be&&Be.__createBinding||(Object.create?function(d,a,c,p){p===void 0&&(p=c);var h=Object.getOwnPropertyDescriptor(a,c);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(d,p,h)}:function(d,a,c,p){p===void 0&&(p=c),d[p]=a[c]}),r=Be&&Be.__setModuleDefault||(Object.create?function(d,a){Object.defineProperty(d,"default",{enumerable:!0,value:a})}:function(d,a){d.default=a}),n=Be&&Be.__importStar||function(d){if(d&&d.__esModule)return d;var a={};if(d!=null)for(var c in d)c!=="default"&&Object.prototype.hasOwnProperty.call(d,c)&&t(a,d,c);return r(a,d),a},i=Be&&Be.__exportStar||function(d,a){for(var c in d)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&t(a,d,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.KeystoneSDK=e.DerivationAlgorithm=e.Curve=void 0;const o=n(ir);e.utils=o;const s=a1;Object.defineProperty(e,"KeystoneSDK",{enumerable:!0,get:function(){return s.KeystoneSDK}}),i(Tt,e),i(Ip,e),i(E6,e);var f=gw;Object.defineProperty(e,"Curve",{enumerable:!0,get:function(){return f.Curve}}),Object.defineProperty(e,"DerivationAlgorithm",{enumerable:!0,get:function(){return f.DerivationAlgorithm}}),e.default=s.KeystoneSDK})(_E);const Fre=CR(_E);export{Fre as K,_E as d};
